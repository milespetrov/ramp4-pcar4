const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./request-0ne647yQ.js","./preload-helper-B76NpbEU.js","./IdentityManager-YkPe-zYW.js","./intl-DEdnDHXO.js","./jsxFactory-BD-DyXUb.js","./uuid-Cl5lrJ4c.js","./sanitizerUtils-CJlLEeXg.js","./modeUtils-1fSvrGRf.js","./substitute-DpeCRgAI.js","./QueueProcessor-BbU6wge9.js","./Queue-d7Ab3olT.js","./ReactiveMap-D_461etZ.js","./WhereClauseCache-CfRC5Qhi.js","./LRUCache-BB1cebTv.js","./MemCache-BSBM3Sy1.js","./WhereClause-Br12Fjp8.js","./TimeOnly-CccoGLFu.js","./enum-BQtzqxVr.js","./UnknownTimeZone-Dks6LTp4.js","./arcadeUtils-BvyzdGnl.js","./arcade-CCzHNEoW.js","./aiServices-D74ieCt_.js","./ImmutableArray-BPVd6ESQ.js","./shared-CgxwyNSi.js","./Field-DLGOe1__.js","./fieldType-C1kCYAVo.js","./number-yjgAf5Ke.js","./commonProperties-DHiB1uzW.js","./utils-DQDK3TNJ.js","./featureConversionUtils-ClCtDYNu.js","./OptimizedFeature-D4sQjKnE.js","./memoryEstimations-D2KGNWAc.js","./OptimizedGeometry-B7Yrb6dA.js","./OptimizedFeatureSet-BR8EEvDc.js","./FieldsIndex-D7VdtHoo.js","./timeZoneUtils-D3iIFjyz.js","./unitConversion-CsRKSzE-.js","./batchExec-3-VAIezM.js","./PortalItem-BxaiRXOp.js","./Basemap-XU7r1TCw.js","./loadAll-C3MaIeQ0.js","./asyncUtils-BfzXpQxV.js","./writeUtils-BZPLMFD8.js","./ElevationLayer-624M1Hkk.js","./MultiOriginJSONSupport-J3yyV__-.js","./HeightModelInfo-BtMfIn8Z.js","./Layer-BNGt75Fg.js","./TimeExtent-HFiHTwFl.js","./ArcGISCachedService-CSqWKcSt.js","./TileInfo-CD9BdIGt.js","./TileKey-DZd6gJy7.js","./TileInfoTilemapCache-DrJTNUbl.js","./TilemapCache-V3owZ8XJ.js","./ByteSizeUnit-BsxeN7wM.js","./ArcGISService-n3JgiaYr.js","./OperationalLayer-DyYGhPMP.js","./layerContainerType-C5CzMsLd.js","./ElevationInfo-B0ImkKsA.js","./lengthUtils-Bsiz_-ZM.js","./PortalLayer-B5ap5FSr.js","./portalItemUtils-BIls_zW7.js","./projectionUtils-DtAacSK2.js","./WorkerHandle-BUOwH4Oz.js","./workers-CoO85aHs.js","./webStyleSymbolUtils-Dg5UTHux.js","./devEnvironmentUtils-8WtPGj6h.js","./styleUtils-CJ7V3CqU.js","./Map-CaIQd1Uy.js","./CollectionFlattener-BA5PIS7I.js","./persistable-DRunqQHF.js","./MD5-MtSiOt06.js","./multiOriginJSONSupportUtils-C0wm8_Yw.js","./resourceExtension-BpWfe2cz.js","./PolygonCollection-Dq1fqG_M.js","./editableLayers-D6gjl4wC.js","./mat4f32-Djp3mnm5.js","./mat4-DT64fCZI.js","./common-DQOJ18NT.js","./TablesMixin-DKvIwWjo.js","./MapView-D98WogXk.js","./Cyclical-CPumsxPT.js","./UpdatingHandles-CdljVe37.js","./utils-C0dXIp4I.js","./Version-BaQGYAkl.js","./GraphicsCollection-CY3rzuN3.js","./Query-fq6LNV_8.js","./IViewEvents-Bci6PjlS.js","./mat2df64-CH-gvrN5.js","./a11yUtils-Cx9K9tA6.js","./projectionUtils-BxDkmR9r.js","./ViewingMode-Chk7YAAL.js","./vec2-ChnYg_BJ.js","./vec2f64-Cgb6qxNH.js","./mat2d-D9DBP-jx.js","./normalizeUtils-DXSFt8jd.js","./normalizeUtilsCommon-CfLxuyaG.js","./utils-nWZ25Bb_.js","./mat2df32-Dpt2CT5P.js","./mat3-CruJiiUv.js","./vec2f32-CaVKkSa6.js","./Scheduler-C3dxeuHE.js","./debugFlags-C-6FBrP2.js","./vec32-aPMwLHI2.js","./unitBezier-B1N-tmtC.js","./enums-b4SZRsE2.js","./TileKey-BZqfLi-H.js","./quickselect-QQC62dOK.js","./definitions-CASyCajO.js","./enums-UBzvFP7O.js","./Texture-DUh-euJH.js","./getDataTypeBytes-D2DiHx_d.js","./imageUtils-BEDwPJG1.js","./capabilities-Bi6C4OG6.js","./ILyr3DWasmPerSceneView-CIC-HPGZ.js","./ColorBackground-nswGzTfh.js","./FeatureLayer-BWW7uCSC.js","./FeatureLayerBase-D80Kj6ae.js","./labelingInfo-BLW-zHcW.js","./SimpleRenderer-JKYgtc7E.js","./commonProperties-Blpuzn6F.js","./colorRamps-B4l0IPhE.js","./ColorStop-DGw6jpF7.js","./visualVariableUtils-Dwigctc_.js","./UniqueValueRenderer-DNeYw9Dh.js","./diffUtils-BY9jfog0.js","./RendererLegendOptions-NBmQ_COp.js","./RelationshipQuery-D6Y92Bg3.js","./NormalizationBinParametersMixin-B5NOYOvE.js","./labelUtils-B6EexNFD.js","./LayerFloorInfo-DH_DnJuj.js","./Relationship-GSs8WPQB.js","./serviceCapabilitiesUtils-BYCt9QsM.js","./infoFor3D-DhzudQro.js","./editsZScale-CepCostm.js","./queryZScale-EAkaVEBe.js","./FeatureSet-Bo1E0ZM_.js","./APIKeyMixin-C4Eu-3FP.js","./BlendLayer-DlR6fYFg.js","./jsonUtils-B4ylAUeN.js","./parser-DDMH54JX.js","./CustomParametersMixin-9zNcwHh4.js","./DisplayFilteredLayer-CRSe5K87.js","./scaleUtils-D-7Y9m_u.js","./displayFilterUtils-D_GaC2Sh.js","./EditBusLayer-8k712ihH.js","./FeatureEffectLayer-C9wyKd5r.js","./FeatureEffect-CeRu1q-l.js","./FeatureFilter-Cfur5CbU.js","./FeatureReductionLayer-BhWN_mHn.js","./FeatureReductionSelection-B6JN91u_.js","./jsonUtils-7zhlybMM.js","./typeUtils-BqtSpzM5.js","./ClassBreaksRenderer-fuhSBofV.js","./DictionaryScriptEvaluator-Cyc1p0Ov.js","./ArcadeExpression-BARPX4tv.js","./utils-BV7DBUkI.js","./defaultCIMValues-CQAn2izL.js","./enums-_AFKM9Yk.js","./heatmapUtils-T9vxSBpU.js","./vec42-CKs01hkn.js","./vec4f64-DPb6J-GU.js","./OrderedLayer-CY72my2b.js","./OrderByInfo-Bw8PiYlZ.js","./RefreshableLayer-BPUXJSIO.js","./ScaleRangeLayer--4ohcDPP.js","./TemporalLayer-BVhj6NHg.js","./TimeInfo-DGqHZlHO.js","./TrackableLayer-UV995P3V.js","./FeatureTemplate-Ci6gsJJS.js","./FeatureType-Bn2WnlNS.js","./fieldProperties-DU7_N8S9.js","./TitleCreator-BWCdkHd8.js","./versionUtils-Cc7Y_Old.js","./styleUtils-B0VMln6X.js","./popupUtils-CKeGk6Nr.js","./interfaces-CL2NbQte.js","./GraphicsLayer-ClnMV2V-.js","./ImageryLayer-p6RTr5MG.js","./datasetUtils-ClwgIpwT.js","./RasterJobHandlerMixin-2cPa5tbk.js","./RasterSymbolizer-j-j-9PbF.js","./dataUtils-CT3mgEjn.js","./pixelRangeUtils-BvOub3JO.js","./_commonjsHelpers-DCkdB7M8.js","./colorUtils-DLmvmw0w.js","./utils-DYeyA9At.js","./cimSymbolUtils-Dd1l_AYE.js","./ClassBreaksDefinition-whOwcyBf.js","./imageBitmapUtils-BV8ZLsUL.js","./RasterPresetRendererMixin-Tw6GsKDi.js","./executeForIds-R6EMP8LD.js","./query-pSfGOE37.js","./pbfQueryUtils-BUxhszg-.js","./pbf-BMM_E7GA.js","./executeQueryJSON-GkxgPMjs.js","./MapImageLayer-DcJM9gia.js","./SublayersOwner-D_WSWpEJ.js","./QueryTask-QC765M6F.js","./executeQueryPBF-BRrri1T1.js","./sublayerUtils-0krkdgjp.js","./ExportImageParameters-4gowdZha.js","./floorFilterUtils-DKzVzLpH.js","./OpenStreetMapLayer-j9olIVLF.js","./WebTileLayer-6loiuUav.js","./TileLayer-CSVqn6se.js","./WMSLayer-C7bXmTgg.js","./crsUtils-DAndLU68.js","./ExportWMSImageParameters-HxWEMn7K.js","./arcade-DfHk7Wm7.js","./query-Breou67A.js","./AttachmentInfo-5UW5jhhx.js","./executeAttributeBinsQuery-CNKRhvXF.js","./AttributeBinsFeatureSet-DCGamf7R.js","./AttributeBinsQuery-C2NLKasV.js","./queryUtils-CBKASn5P.js","./json-Wa8cmqdu.js","./FixedIntervalBinParameters-t8WCfagn.js","./executeForTopCount-Db4I6-_I.js","./queryTopFeatures-FD7KDSZ6.js","./TopFeaturesQuery-BPq414j9.js","./executeForTopExtents-Du-2bf-o.js","./executeForTopIds-3zJgimRO.js","./executeRelationshipQuery-CEw_kKsQ.js","./executeTopFeaturesQuery-BFpThqfb.js","./shp.min-BO_RUEZg.js","./_commonjs-dynamic-modules-TDtrdbi3.js","./jszip.min-nAt9AH8p.js","./index-BdOxtcka.js","./index-C0BV8b1p.css","./index-BYNIKjyp.js","./screen.vue_vue_type_script_setup_true_lang-C-V2nWJ8.js","./screen-BiLbuIF4.css","./index--dBk2eY3.js","./index-CHyfDgxb.js","./index-C3Mt9piA.css","./index-xvsYD-na.js","./hilight-defs-CqXQYtIh.js","./index-CvOuBsuz.js","./dynamic-import-helper-BheWnx7M.js","./draw-store-DETSieP_.js","./SketchViewModel-Dvo60lqu.js","./elevationInfoUtils-IzcKAPGS.js","./quantityUtils-DyskS6Na.js","./projectVectorToVector-CX6pFME9.js","./projectPointToVector-dMJlpKdJ.js","./geodesicUtils-BBakburg.js","./plane-CUkrc6Ue.js","./vectorStacks-DNvCdD4J.js","./mat3f64-B5o_lm6j.js","./mat4f64-q_b6UJoq.js","./quatf64-aQ5IuZRd.js","./sphere-C8CPLgPg.js","./geodeticLengthOperator-C_ZnjuvP.js","./geodeticCurveType-CirnHLSB.js","./earcut-D9gy186-.js","./triangle-CIfoB4XU.js","./lineSegment-DwCtyuoD.js","./spatialReferenceEllipsoidUtils-DzWNBwdr.js","./layerViewUtils-CdqTXqi8.js","./drapedUtils-fEHbFonk.js","./utils-BQBvadb7.js","./widget-CML716BE.js","./index-D2wV9tod.js","./fabric-CebYZx6T.js","./index-Br233tc5.js","./index-U4WoVwy8.js","./index-0CxU63bV.js","./index-BFkMP85a.js","./index-C9EU3viV.js","./index-DYJ9pV2J.js","./index-DjcGiGKU.js","./screen.vue_vue_type_script_setup_true_lang-COid8k_0.js","./index-C9S6voQy.js","./index-3RPxBEh3.js","./index-Ccn1jrR-.js","./index-D9dxqUzs.js","./table-state-manager-BeyhKYxv.js","./index-2RTw_oJL.js","./index-4kk-mF3g.js","./index-0TfoxAak.js","./index-LAXjKPRp.js","./index-BWcwIDrT.js","./index-BAiBYshK.css","./index-DToUlLp-.js","./index-VlLnGj-H.js","./index-CJbEt27Y.js","./index-BeQ3kStJ.css","./index-C1MjuL2s.js","./index-D-3-S-HY.css","./index-CU1EEOJR.js","./index-Dti23dwS.css","./index-DvhZiQuz.js","./index-BBcsyJAm.js","./index-BUv1ir5S.js","./index-DdKtuvUV.css","./index-uhDFhGjF.js","./screen-2eex3RCT.js","./screen-Cbgg5iYQ.js","./screen-G8lp0Bdf.css","./screen-Bjz-8b7G.js","./screen-W9yj9eny.js","./screen-CwbtZ41W.css","./screen-FxJ5hA_J.js","./screen-CjrmR6AG.css","./screen-ClDJ6OZP.js","./marked.esm-DmSrlTiT.js","./screen-DcX-wckC.css","./screen-DnyLi4IJ.js","./vue.esm-bundler-JKF8elAt.js","./screen-ClE_JYXg.css","./screen-CwuJAjaw.js","./screen-BfBm4nLt.js","./screen-CkXxljnt.css","./screen-DI-jLgRf.js","./toggle-switch-control-BUD_85PB.js","./toggle-switch-control-TJXJxWh9.css","./screen-DMJifmlo.css","./screen-BBtoQqyO.js","./screen-BusTg7z-.css"])))=>i.map(i=>d[i]);
import{_ as ve}from"./preload-helper-B76NpbEU.js";var ra=(t=>(t.BLOB="blob",t.DATE="date",t.DOUBLE="double",t.GEOMETRY="geometry",t.GLOBAL_ID="global-id",t.GUID="guid",t.INTEGER="integer",t.LONG="long",t.OID="oid",t.RASTER="raster",t.SINGLE="single",t.SMALL_INTEGER="small-integer",t.STRING="string",t.XML="xml",t))(ra||{}),Go=(t=>(t.CIRCLE="circle",t.CROSS="cross",t.DIAMOND="diamond",t.ICON="icon",t.PATH="path",t.SQUARE="square",t.TRIANGLE="triangle",t.X="x",t))(Go||{}),ss=(t=>(t.DASH="dash",t.DASHDOT="dash-dot",t.DASHDOTDOT="short-dash-dot-dot",t.DOT="dot",t.LONGDASH="long-dash",t.LONGDASHDOT="long-dash-dot",t.LONGDASHDOTDOT="long-dash-dot-dot",t.NONE="none",t.NULL="none",t.SHORTDASH="short-dash",t.SHORTDASHDOT="short-dash-dot",t.SHORTDASHDOTDOT="short-dash-dot-dot",t.SHORTDOT="short-dot",t.SOLID="solid",t))(ss||{}),TI=(t=>(t.BEVEL="bevel",t.MITER="miter",t.ROUND="round",t))(TI||{}),MI=(t=>(t.ROUND="round",t.BUTT="butt",t.SQUARE="square",t))(MI||{}),$I=(t=>(t.BDIAG="backward-diagonal",t.CROSS="cross",t.DIAG_CROSS="diagonal-cross",t.FDIAG="forward-diagonal",t.HORIZONTAL="horizontal",t.NONE="none",t.NULL="none",t.SOLID="solid",t.VERTICAL="vertical",t))($I||{}),Ke=(t=>(t.POINT="Point",t.MULTIPOINT="MultiPoint",t.LINESTRING="LineString",t.MULTILINESTRING="MultiLineString",t.POLYGON="Polygon",t.MULTIPOLYGON="MultiPolygon",t.LINEARRING="LinearRing",t.EXTENT="Extent",t.NONE="None",t.UNKNOWN="Unknown",t))(Ke||{}),Iv=(t=>(t.Simple="simple",t.Unique="uniqueValue",t.ClassBreaks="classBreaks",t.Unknown="unknown",t))(Iv||{}),Ce=(t=>(t.FEATURE="esri-feature",t.MAPIMAGE="esri-map-image",t.TILE="esri-tile",t.IMAGERY="esri-imagery",t.GRAPHIC="esri-graphic",t.WMS="ogc-wms",t.WFS="ogc-wfs",t.GEOJSON="file-geojson",t.GEOJSONZIPPED="file-zip-geojson",t.CSV="file-csv",t.SHAPEFILE="file-shape",t.FLATGEOBUF="file-fgb",t.FLATGEOBUFZIPPED="file-zip-fgb",t.OSM="osm-tile",t.DATACSV="data-csv",t.DATAJSON="data-json",t.DATATABLE="data-esri-table",t.UNKNOWN="unknown",t.SUBLAYER="sublayer",t))(Ce||{}),js=(t=>(t.FEATURE="feature",t.GRAPHIC="graphic",t.IMAGERY="imagery",t.MAPIMAGE="map-image",t.NOLAYER="no-layer",t.OSM="osm-tile",t.TILE="tile",t.UNKNOWN="unknown",t.WMS="wms",t))(js||{}),mi=(t=>(t.ESRI_FEATURE="esriFeature",t.ESRI_RASTER="esriRaster",t.ESRI_TILE="esriTile",t.OSM_TILE="osmTile",t.OGC_RASTER="ogcRaster",t.UNKNOWN="unknown",t))(mi||{}),pr=(t=>(t.POINT="Point",t.MULTIPOINT="MultiPoint",t.LINESTRING="LineString",t.MULTILINESTRING="MultiLineString",t.POLYGON="Polygon",t.MULTIPOLYGON="MultiPolygon",t))(pr||{}),Hr=(t=>(t.GEOMETRIC="geometric",t.SYMBOLIC="symbolic",t.HYBRID="hybrid",t.NONE="none",t))(Hr||{}),Qt=(t=>(t.NEW="new",t.INITIATING="initiating",t.INITIATED="initiated",t.TERMINATING="terminating",t.TERMINATED="terminated",t))(Qt||{}),yr=(t=>(t.NEW="new",t.LOADING="loading",t.LOADED="loaded",t.ERROR="error",t))(yr||{}),fs=(t=>(t.NOT_LOADED="not-loaded",t.NOT_VISUAL="not-visual",t.REFRESH="refresh",t.UP_TO_DATE="up-to-date",t))(fs||{}),dh=(t=>(t.ESRI="esri",t.TEXT="text",t.IMAGE="image",t.HTML="html",t.XML="xml",t.JSON="json",t.UNKNOWN="unknown",t))(dh||{}),Vi=(t=>(t.SYMBOL="symbol",t.GRID="grid",t.EXTENT="extent",t.INITIAL="initial",t.API="api",t.PERMANENT="permanent",t))(Vi||{}),wr=(t=>(t.BoundaryZoom="boundaryZoom",t.Datatable="datatable",t.Identify="identify",t.Metadata="metadata",t.Opacity="opacity",t.Refresh="refresh",t.Reload="reload",t.Remove="remove",t.Settings="settings",t.Symbology="symbology",t.Visibility="visibility",t))(wr||{});class Fn{attributes;geometry;style;id;constructor(e,r,i){this.geometry=e,r?this.id=r:this.id=Ih.sharedUtils.generateUUID(),i?this.attributes=i:this.attributes={}}_hover;get hover(){return this._hover}set hover(e){e&&this._hover&&this._hover.id!==e.id&&this.removeHover(),this._hover=e}removeHover(){this._hover&&(this._hover=void 0)}}const q0={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function GD(t){return!!q0[t]||!!q0[t.toLowerCase()]}function OI(t){return q0[t]??q0[t.toLowerCase()]}function Hye(t){return[...OI(t)]}function hb(t,e,r){r<0&&++r,r>1&&--r;const i=6*r;return i<1?t+(e-t)*i:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}function zD(t,e,r,i=1){const s=(t%360+360)%360/360,n=r<=.5?r*(e+1):r+e-r*e,o=2*r-n;return[Math.round(255*hb(o,n,s+1/3)),Math.round(255*hb(o,n,s)),Math.round(255*hb(o,n,s-1/3)),i]}function Wye(t){const e=t.length>5,r=e?8:4,i=(1<<r)-1,s=e?1:17,n=e?t.length===9:t.length===5;let o=+("0x"+t.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return n&&(l=o&i,o>>=r,a[3]=s*l/255),l=o&i,o>>=r,a[2]=s*l,l=o&i,o>>=r,a[1]=s*l,l=o&i,o>>=r,a[0]=s*l,a}function II(t){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const e=parseInt(t.slice(1,2),16),r=parseInt(t.slice(2,3),16),i=parseInt(t.slice(3,4),16),s=t.length===4?15:parseInt(t.slice(4),16);return[e+16*e,r+16*r,i+16*i,(s+16*s)/255]}case 7:case 9:return[parseInt(t.slice(1,3),16),parseInt(t.slice(3,5),16),parseInt(t.slice(5,7),16),(t.length===7?255:parseInt(t.slice(7),16))/255];default:return null}}function CI(t){const e=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(e){const r=e[2].split(/\s*,\s*/),i=e[1];if(i==="rgb"&&r.length===3||i==="rgba"&&r.length===4){const s=r[0];if(s.charAt(s.length-1)==="%"){const n=r.map(o=>2.56*parseFloat(o));return r.length===4&&(n[3]=parseFloat(r[3])),XA(n)}return XA(r.map(n=>parseFloat(n)))}if(i==="hsl"&&r.length===3||i==="hsla"&&r.length===4)return zD(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100,parseFloat(r[3]??"1"))}return null}function XA(t){return t[0]=ph(t[0]),t[1]=ph(t[1]),t[2]=ph(t[2]),t[3]=t.length===4?PI(t[3]):1,t}function NI(t){let e=GD(t)?OI(t):null;return e??=CI(t),e??=II(t),e}function Yye(t){const e=NI(t);return e!=null?[e[0]/255,e[1]/255,e[2]/255,e[3]]:null}function PI(t){return LI(t,0,1)}function ph(t){return Math.round(LI(t,0,255))}function LI(t,e,r){return t=Number(t),isNaN(t)?r:t<e?e:t>r?r:t}const Jye=2.2,QA=new Float32Array(1);function Kye(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function Cv(t,e,r){return Math.min(Math.max(t,e),r)}function Zye(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function qD(t,e,r){return t+(e-t)*r}function Xye(t,e,r,i,s){return qD(i,s,(t-e)/(r-e))}function Qye(t){return t*Math.PI/180}function e0e(t){return 180*t/Math.PI}function t0e(t,e=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),e)}function r0e(t){return Math.acos(Cv(t,-1,1))}function i0e(t){return Math.asin(Cv(t,-1,1))}function mh(t,e,r=1e-6){return t===e?!0:!Number.isFinite(t)||!Number.isFinite(e)?!1:(t>e?t-e:e-t)<=r}function s0e(t,e,r=1e-6){return!mh(t,e,r)&&t>e}function n0e(t,e,r=1e-6){return!mh(t,e,r)&&t<e}function o0e(t,e,r=1e-6){return mh(t,e,r)||t>e}const H0=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function P_(t){return H0.setFloat64(0,t),H0.getBigInt64(0)}function HD(t){return H0.setBigInt64(0,t),H0.getFloat64(0)}const Yy=BigInt("1000000"),WD=kI(1);function kI(t){const e=P_(t=Math.abs(t)),r=HD(e<=Yy?Yy:e-Yy);return Math.abs(t-r)}function a0e(t,e,r=WD){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;if(r!=null&&kI(Math.min(Math.abs(t),Math.abs(e)))<r)return Math.abs(t-e)<=r;const i=P_(t),s=P_(e);return i<0!=s<0?!1:!((i<s?s-i:i-s)>Yy)}function l0e(t,e,r=1e-6){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;const i=Math.abs(t-e),s=Math.abs(t),n=Math.abs(e);if(t===0||e===0||s<1e-12&&n<1e-12){if(i>.01*r)return!1}else if(i/(s+n)>r)return!1;return!0}function c0e(t){return RI(Math.max(-eT,Math.min(t,eT)))}function RI(t){return QA[0]=t,QA[0]}function u0e(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],i=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(mh(e,1)&&mh(r,1)&&mh(i,1))}function h0e(t,e){return(t%e+e)%e}const eT=RI(34028234663852886e22);function f0e(t,e,r){if(r===void 0||+r==0)return Math[t](e);if(e=+e,r=+r,isNaN(e)||typeof r!="number"||r%1!=0)return NaN;let i=e.toString().split("e");return i=(e=Math[t](+(i[0]+"e"+(i[1]?+i[1]-r:-r)))).toString().split("e"),+(i[0]+"e"+(i[1]?+i[1]+r:r))}let al;function ee(t){return typeof al[t]=="function"?al[t]=al[t](globalThis):al[t]}al=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},ee.add=(t,e,r,i)=>{(i||al[t]===void 0)&&(al[t]=e),r&&ee(t)},ee.cache=al,ee.add("big-integer-warning-enabled",!0),ee.add("esri-deprecation-warnings",!0),ee.add("esri-tests-disable-screenshots",!1),ee.add("esri-tests-use-full-window",!1),ee.add("esri-tests-post-to-influx",!0),ee.add("esri-cim-animations-enable-status","enabled"),ee.add("esri-cim-animations-spotlight",!1),ee.add("esri-cim-animations-freeze-time",!1),(()=>{ee.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(ee.add("host-browser",t),ee.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),ee.add("dom",t),ee("host-browser")){const e=navigator,r=e.userAgent,i=e.appVersion,s=parseFloat(i);if(ee.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),ee.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),ee.add("khtml",i.includes("Konqueror")?s:void 0),ee.add("edge",parseFloat(r.split("Edge/")[1])||void 0),ee.add("opr",parseFloat(r.split("OPR/")[1])||void 0),ee.add("webkit",!ee("wp")&&!ee("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),ee.add("chrome",!ee("edge")&&!ee("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),ee.add("android",!ee("wp")&&parseFloat(r.split("Android ")[1])||void 0),ee.add("safari",!i.includes("Safari")||ee("wp")||ee("chrome")||ee("android")||ee("edge")||ee("opr")?void 0:parseFloat(i.split("Version/")[1])),ee.add("mac",i.includes("Macintosh")),!ee("wp")&&/(iPhone|iPod|iPad)/.test(r)){const n=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));ee.add(n,a),ee.add("ios",a)}ee("webkit")||(!r.includes("Gecko")||ee("wp")||ee("khtml")||ee("edge")||ee.add("mozilla",s),ee("mozilla")&&ee.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),r=/iPhone/i.test(t);e&&ee.add("esri-mobile",e),r&&ee.add("esri-iPhone",r),ee.add("esri-geolocation",!!navigator.geolocation)}ee.add("esri-wasm","WebAssembly"in globalThis),ee.add("esri-performance-mode-frames-between-render",20),ee.add("esri-force-performance-mode",!1),ee.add("esri-shared-array-buffer",()=>{const t="SharedArrayBuffer"in globalThis,e=globalThis.crossOriginIsolated===!1;return t&&!e}),ee.add("wasm-simd",()=>{const t=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(t))}),ee.add("esri-atomics","Atomics"in globalThis),ee.add("esri-workers","Worker"in globalThis),ee.add("web-feat:cache","caches"in globalThis),ee.add("esri-workers-arraybuffer-transfer",!ee("safari")||Number(ee("safari"))>=12),ee.add("workers-pool-size",8),ee.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),ee.add("featurelayer-simplify-payload-size-factors",[1,1,4]),ee.add("featurelayer-fast-triangulation-enabled",!0),ee.add("featurelayer-animation-enabled",!0),ee.add("featurelayer-snapshot-enabled",!0),ee.add("featurelayer-snapshot-initial-tolerance",0),ee.add("featurelayer-snapshot-point-min-threshold",8e4),ee.add("featurelayer-snapshot-point-max-threshold",4e5),ee.add("featurelayer-snapshot-multipoint-min-threshold",2e4),ee.add("featurelayer-snapshot-multipoint-max-threshold",1e5),ee.add("featurelayer-snapshot-polygon-min-threshold",1e3),ee.add("featurelayer-snapshot-polygon-max-threshold",2e3),ee.add("featurelayer-snapshot-polyline-min-threshold",1e3),ee.add("featurelayer-snapshot-polyline-max-threshold",2e3),ee.add("featurelayer-snapshot-max-vertex-count",25e4),ee.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!1),ee.add("featurelayer-snapshot-concurrency",4),ee.add("featurelayer-snapshot-coverage",.1),ee.add("featurelayer-query-max-depth",4),ee.add("featurelayer-query-pausing-enabled",!1),ee.add("featurelayer-query-tile-concurrency",4),ee.add("featurelayer-query-tile-max-features",6e5),ee.add("featurelayer-advanced-symbols",!1),ee.add("featurelayer-pbf",!0),ee.add("featurelayer-pbf-statistics",!1),ee.add("feature-layers-workers",!0),ee.add("feature-polyline-generalization-factor",1),ee.add("mapview-transitions-duration",200),ee.add("mapview-essential-goto-duration",200),ee.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),ee.add("mapserver-pbf-version-support",10.81),ee.add("mapservice-popup-identify-max-tolerance",20),ee.add("request-queue-concurrency-hosted",16),ee.add("request-queue-concurrency-non-hosted",4),ee.add("curve-densification-coarse-segments",128),ee.add("curve-densification-max-segments",2e3),ee.add("curve-densification-min-segments",3),ee.add("curve-densification-pixel-deviation",.5),ee.add("view-readyState-waiting-delay",1e3),ee.add("gradient-depth-bias",.01),ee.add("gradient-depth-epsilon",1e-8),ee.add("enable-feature:esri-compress-textures",!0),ee("host-webworker")||ee("host-browser")&&(ee.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),ee.add("esri-image-decode",()=>{if("decode"in new Image){const t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void t.decode().then(()=>{ee.add("esri-image-decode",!0,!0,!0)}).catch(()=>{ee.add("esri-image-decode",!1,!0,!0)})}return!1}),ee.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")}))})();function d0e(t){}function p0e(t){return()=>t}function m0e(t){return t}let YD=class nc{static{this._m=2147483647}static{this._a=48271}static{this._c=0}constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*nc._m}getInt(){return this._seed=(nc._a*this._seed+nc._c)%nc._m,this._seed}getFloat(){return this.getInt()/(nc._m-1)}getIntRange(e,r){return Math.round(this.getFloatRange(e,r))}getFloatRange(e,r){const i=r-e;return e+this.getInt()/nc._m*i}};const JD=1.5,y0e=1/JD,g0e=.5;function v0e(t,e){if(!e)return t;for(const r of e)t.push(r);return t}function b0e(t,e){return e?t.filter((r,i,s)=>s.findIndex(e.bind(null,r))===i):Array.from(new Set(t))}function KD(t,e,r,i,s,n,o){if(t==null&&i==null)return!0;e=Math.max(0,e),s=Math.max(0,s),r=Math.max(0,r<0?(t?.length??0)+r:r),n=Math.max(0,n<0?(i?.length??0)+n:n);const a=r-e;if(t==null||i==null||a!==n-s)return!1;if(o){for(let l=0;l<a;l++)if(!o(t[e+l],i[s+l]))return!1}else for(let l=0;l<a;l++)if(t[e+l]!==i[s+l])return!1;return!0}function Nv(t,e,r){return KD(t,0,t?.length??0,e,0,e?.length??0,r)}function _0e(t,e,r){let i,s;return r?(i=e.filter(n=>!t.some(o=>r(o,n))),s=t.filter(n=>!e.some(o=>r(o,n)))):(i=e.filter(n=>!t.includes(n)),s=t.filter(n=>!e.includes(n))),{added:i,removed:s}}function w0e(t){return t&&typeof t.length=="number"}let DI=class{constructor(){this.last=0}};const FI=new DI;function L_(t,e,r,i){i=i||FI;const s=Math.max(0,i.last-10);for(let o=s;o<r;++o)if(t[o]===e)return i.last=o,o;const n=Math.min(s,r);for(let o=0;o<n;++o)if(t[o]===e)return i.last=o,o;return-1}function E0e(t,e,r,i){const s=t.length,n=L_(t,e,s,i);if(n!==-1)return t[n]=t[s-1],t.pop(),e}const fn=new Set;function ZD(t,e,r=t.length,i=e.length,s,n){if(i===0||r===0)return r;fn.clear();for(let a=0;a<i;++a)fn.add(e[a]);s=s||FI;const o=Math.max(0,s.last-10);for(let a=o;a<r;++a)if(fn.has(t[a])&&(n?.push(t[a]),fn.delete(t[a]),t[a]=t[r-1],--r,--a,fn.size===0||r===0))return fn.clear(),r;for(let a=0;a<o;++a)if(fn.has(t[a])&&(n?.push(t[a]),fn.delete(t[a]),t[a]=t[r-1],--r,--a,fn.size===0||r===0))return fn.clear(),r;return fn.clear(),r}function S0e(t,e,r){const i=t.length;if(e>=i)return t.slice();const s=UI(r),n=new Set,o=[];for(;o.length<e;){const a=Math.floor(s()*i);n.has(a)||(n.add(a),o.push(t[a]))}return o}function UI(t){return t?(tT.seed=t,()=>tT.getFloat()):Math.random}const tT=new YD;function A0e(t,e){if(!t)return t;const r=UI(e);for(let i=t.length-1;i>0;i--){const s=Math.floor(r()*(i+1)),n=t[i];t[i]=t[s],t[s]=n}return t}function XD(t,e){const r=t.indexOf(e);return r!==-1?(t.splice(r,1),e):null}function QD(t,e){return t!=null}const T0e=[];function M0e(t){return t instanceof ArrayBuffer}function nE(t){return t?.constructor?.name==="Int8Array"}function jI(t){return t?.constructor?.name==="Uint8Array"}function BI(t){return t?.constructor?.name==="Uint8ClampedArray"}function oE(t){return t?.constructor?.name==="Int16Array"}function VI(t){return t?.constructor?.name==="Uint16Array"}function aE(t){return t?.constructor?.name==="Int32Array"}function GI(t){return t?.constructor?.name==="Uint32Array"}function eF(t){return t?.constructor?.name==="Float16Array"}function Pv(t){return t?.constructor?.name==="Float32Array"}function Lv(t){return t?.constructor?.name==="Float64Array"}function tF(t){return"buffer"in t}const zI=1024;function $0e(t){return Lv(t)||Pv(t)||aE(t)||oE(t)||nE(t)}function O0e(t){return Lv(t)||Pv(t)}function I0e(t){return Lv(t)?179769e303:eF(t)?65504:Pv(t)?3402823e32:GI(t)?4294967295:VI(t)?65535:jI(t)||BI(t)?255:aE(t)?2147483647:oE(t)?32767:nE(t)?127:256}const C0e=-32768,N0e=-2147483648;function P0e(t,e){let r;for(r in t)t.hasOwnProperty(r)&&t[r]===void 0&&delete t[r];return t}function ge(t){if(!t||typeof t!="object"||typeof t=="function")return t;const e=YI(t);if(e!=null)return e;if(qI(t))return t.clone();if(HI(t))return t.map(ge);if(WI(t))throw new Error("Trying to clone an unclonable Accessor instance");const r={};for(const i of Object.getOwnPropertyNames(t))r[i]=ge(t[i]);return r}function k_(t){if(!t||typeof t!="object"||typeof t=="function"||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const e=YI(t);if(e!=null)return e;if(HI(t)){let i=!0;const s=t.map(n=>{const o=k_(n);return n!=null&&o==null&&(i=!1),o});return i?s:null}if(qI(t))return t.clone();if(t instanceof File||t instanceof Blob)return t;if(WI(t))return null;const r=new(Object.getPrototypeOf(t)).constructor;for(const i of Object.getOwnPropertyNames(t)){const s=t[i],n=k_(s);if(s!=null&&n==null)return null;r[i]=n}return r}function qI(t){return typeof t.clone=="function"}function HI(t){return typeof t.map=="function"&&typeof t.forEach=="function"}function WI(t){return typeof t.notifyChange=="function"&&typeof t.watch=="function"}function rT(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function YI(t){if(nE(t)||jI(t)||BI(t)||oE(t)||VI(t)||aE(t)||GI(t)||Pv(t)||Lv(t))return t.slice();if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;for(const[r,i]of t)e.set(r,ge(i));return e}if(t instanceof Set){const e=new Set;for(const r of t)e.add(ge(r));return e}return null}function lE(t,e){return t===e||typeof t=="number"&&isNaN(t)&&typeof e=="number"&&isNaN(e)||typeof t?.getTime=="function"&&typeof e?.getTime=="function"&&t.getTime()===e.getTime()||!1}function JI(t,e){return t===e||(t==null||typeof t=="string"?t===e:typeof t=="number"?t===e||typeof e=="number"&&isNaN(t)&&isNaN(e):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():Array.isArray(t)?Array.isArray(e)&&Nv(t,e):t instanceof Set?e instanceof Set&&iF(t,e):t instanceof Map?e instanceof Map&&sF(t,e):!!rT(t)&&rT(e)&&rF(t,e))}function rF(t,e){if(t===null||e===null)return!1;const r=Object.keys(t);if(e===null||Object.keys(e).length!==r.length)return!1;for(const i of r)if(t[i]!==e[i]||!Object.prototype.hasOwnProperty.call(e,i))return!1;return!0}function iF(t,e){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}function sF(t,e){if(t.size!==e.size)return!1;for(const[r,i]of t){const s=e.get(r);if(s!==i||s===void 0&&!e.has(r))return!1}return!0}function nF(t,e,r=!1){return ZI(t,e,r)}function cE(t,e){if(e!=null)return e[t]||KI(t.split("."),!1,e)}function ou(t,e,r){const i=t.split("."),s=i.pop(),n=KI(i,!0,r);n&&s&&(n[s]=e)}function iT(t,e){if(t==null&&e==null)return!1;if(t==null||e==null)return!0;if(typeof t=="object"){if(Array.isArray(t)){const r=e;if(t.length!==r.length)return!0;for(let i=0;i<t.length;i++)if(iT(t[i],r[i]))return!0;return!1}if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const r in t)if(iT(t[r],e[r]))return!0;return!1}return t!==e}function KI(t,e,r){let i=r;for(const s of t){if(i==null)return;if(!(s in i)){if(!e)return;i[s]={}}i=i[s]}return i}function ZI(t,e,r){return e?Object.keys(e).reduce((i,s)=>{if(s==="__proto__")return i;let n=i[s],o=e[s];return n===o?i:n===void 0?(i[s]=ge(o),i):(Array.isArray(o)||Array.isArray(i)?(n=n?Array.isArray(n)?i[s]=n.slice():i[s]=[n]:i[s]=[],o&&(Array.isArray(o)||(o=[o]),r?o.forEach(a=>{n.includes(a)||n.push(a)}):i[s]=o.slice())):o&&typeof o=="object"?i[s]=ZI(n,o,r):i.hasOwnProperty(s)&&!e.hasOwnProperty(s)||(i[s]=o),i)},t||{}):t}const _t={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(nF(_t,globalThis.esriConfig,!0),delete _t.has),!_t.assetsPath){{const t="4.33";_t.assetsPath=`https://js.arcgis.com/${t}/@arcgis/core/assets`}_t.defaultAssetsPath=_t.assetsPath}const oF=/\{([^}]+)\}/g;function sT(t){return t??""}function XI(t,e){return e?t.replaceAll(oF,typeof e=="object"?(r,i)=>sT(cE(i,e)):(r,i)=>sT(e(i))):t}function L0e(t,e){return t.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,r=>e?.includes(r)?r:`\\${r}`)}function QI(t){let e=0;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e|=0;return e}let nT;function k0e(t){return nT??=new DOMParser,nT.parseFromString(t||"","text/html").body.innerText||""}function R0e(t,e){return new RegExp(`{${e}}`,"ig").test(t)}function D0e(t,...e){let r=t[0];for(let i=0;i<e.length;++i)r+=e[i]+t[i+1];return r}const oT={info:0,warn:1,error:2,none:3};let rr=class Ts{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},e.level!=null&&(this.level=e.level),e.writer!=null&&(this.writer=e.writer),this._module=e.module,Ts._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=Ts.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e=typeof e!="string"?e.declaredClass:e,Ts._loggers.get(e)||new Ts({module:e})}static{this._loggers=new Map}static{this._tickCounter=0}static{this._tickCounterScheduled=!1}static{this._throttlingDisabled=!1}_log(e,r,...i){if(this._matchLevel(e)){if(r!=="always"&&!Ts._throttlingDisabled){const s=lF(i),n=this._loggedMessages[e].get(s);if(r==="once"&&n!=null||r==="oncePerTick"&&n&&n>=Ts._tickCounter)return;this._loggedMessages[e].set(s,Ts._tickCounter),Ts._scheduleTickCounterIncrement()}for(const s of _t.log.interceptors)if(s(e,this.module,...i))return;this._inheritedWriter()(e,this.module,...i)}}_parentWithMember(e,r){let i=this;for(;i!=null;){const s=i[e];if(s!=null)return s;i=i.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",aF)}_matchLevel(e){const r=_t.log.level||"warn";return oT[this._parentWithMember("level",r)]<=oT[e]}static _scheduleTickCounterIncrement(){Ts._tickCounterScheduled||(Ts._tickCounterScheduled=!0,Promise.resolve().then(()=>{Ts._tickCounter++,Ts._tickCounterScheduled=!1}))}};function aF(t,e,...r){console[t](`[${e}]`,...r)}function lF(...t){return QI(JSON.stringify(t,(r,i)=>typeof i!="object"||Array.isArray(i)?i:"[Object]"))}function F0e(t,e){for(const r of t.values())if(e(r))return!0;return!1}function U0e(t,e){for(const r of t.values())if(e(r))return r;return null}function eC(t,e,r){const i=t.get(e);if(i!==void 0)return i;const s=r();return t.set(e,s),s}function j0e(t){const e=new Map;return r=>(e.has(r)||e.set(r,t(r)),e.get(r))}const Ic=()=>rr.getLogger("esri.core.accessorSupport.ensureTypes");function cF(t){if(t==null)return t;const e=new Date(t);return isNaN(e.getTime())?(Ic().error("Accessor#set",`Invalid date value: '${t}', falling back to current date`),new Date):e}function uF(t){return t==null?t:!!t}function hF(t){return t==null?t:t.toString()}function kv(t,e=0){return t==null?t:(t=parseFloat(t),isNaN(t)?e:t)}function uE(t){return t==null?t:Math.round(parseFloat(t))}function fF(t){return null}function dF(t,e){return r=>{let i=t(r);return e.step!=null&&(i=Math.round(i/e.step)*e.step),e.min!=null&&(i=Math.max(e.min,i)),e.max!=null&&(i=Math.min(e.max,i)),i}}function tC(t){return t?.constructor&&t.constructor.__accessorMetadata__!==void 0}function W0(t,e){return e!=null&&t&&!(e instanceof t)}function rC(t){return t&&"isCollection"in t}function aT(t){return t?.Type?typeof t.Type=="function"?t.Type:t.Type.base:null}function pF(t,e){if(!e?.constructor||!rC(e.constructor))return R_(t,e)?e:new t(e);const r=aT(t.prototype.itemType),i=aT(e.constructor.prototype.itemType);return r?i?r===i?e:r.prototype.isPrototypeOf(i.prototype)?new t(e):(R_(t,e),e):new t(e):e}function R_(t,e){return!!tC(e)&&(Ic().error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+Rv(t)+"'"),!0)}function mF(t,e){return e==null?e:rC(t)?pF(t,e):W0(t,e)?R_(t,e)?e:new t(e):e}function Rv(t){return t?.prototype?.declaredClass||"unknown"}const yF=new WeakMap;function gF(t){switch(t){case Number:return e=>kv(e);case Rr:return uE;case Boolean:return uF;case String:return hF;case Date:return cF;case hE:return fF;default:return eC(yF,t,()=>mF.bind(null,t))}}function Un(t,e){const r=gF(t);return arguments.length===1?r:r(e)}function dp(t,e,r){return arguments.length===1?dp.bind(null,t):e&&(Array.isArray(e)?e.map(i=>t(i,r)):[t(e,r)])}function vF(t,e){return arguments.length===1?dp(r=>Un(t,r)):dp(r=>Un(t,r),e)}function iC(t,e,r){return e!==0&&Array.isArray(r)?r.map(i=>iC(t,e-1,i)):t(r)}function Y0(t,e,r){if(arguments.length===2)return n=>Y0(t,e,n);if(!r)return r;r=iC(t,e,r);let i=e,s=r;for(;i>0&&Array.isArray(s);)i--,s=s[0];if(s!==void 0)for(let n=0;n<i;n++)r=[r];return r}function bF(t,e,r){return arguments.length===2?Y0(i=>Un(t,i),e):Y0(i=>Un(t,i),e,r)}function sC(t){return!!Array.isArray(t)&&!t.some(e=>{const r=typeof e;return!(r==="string"||r==="number"||r==="function"&&t.length>1)})}function D_(t,e){if(arguments.length===2)return D_(t).call(null,e);const r=new Set,i=t.filter(a=>typeof a!="function"),s=t.filter(a=>typeof a=="function");for(const a of t)typeof a!="string"&&typeof a!="number"||r.add(a);let n=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,f=c==="string"||c==="number";return f&&(r.has(a)||s.some(d=>c==="string"&&d===String||c==="number"&&d===Number))||c==="object"&&s.some(d=>!W0(a,d))?a:(f&&i.length?(n||(n=i.map(d=>typeof d=="string"?`'${d}'`:`${d}`).join(", ")),Ic().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${n}`)):typeof a=="object"&&s.length?(o||(o=s.map(d=>Rv(d)).join(", ")),Ic().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):Ic().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Ch(t,e){if(arguments.length===2)return Ch(t).call(null,e);const r={},i=[],s=[];for(const l in t.typeMap){const c=t.typeMap[l];r[l]=Un(c),i.push(Rv(c)),s.push(l)}const n=()=>`'${i.join("', '")}'`,o=()=>`'${s.join("', '")}'`,a=typeof t.key=="string"?l=>l[t.key]:t.key;return l=>{if(t.base&&!W0(t.base,l)||l==null)return l;const c=a(l)||t.defaultKeyValue,f=r[c];if(!f)return Ic().error("Accessor#set",`Invalid property value, value needs to be one of ${n()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!W0(t.typeMap[c],l))return l;if(typeof t.key=="string"&&!tC(l)){const d={};for(const p in l)p!==t.key&&(d[p]=l[p]);return f(d)}return f(l)}}let Rr=class{},hE=class{};const G0e={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function _F(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function nC(t){switch(t.type){case"native":return Un(t.value);case"array":return dp(nC(t.value));case"one-of":return wF(t);default:return null}}function wF(t){let e=null;return(r,i)=>U_(r,t)?r:(e==null&&(e=F_(t)),Ic().error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),i&&(i.valid=!1),null)}function F_(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Rr:return"integer";case Date:return"date";case hE:return"null";default:return Rv(t.value)}case"array":return`array of ${F_(t.value)}`;case"one-of":{const e=t.values.map(r=>F_(r));return`one of ${e.slice(0,-1)} or ${e[e.length-1]}`}}return"unknown"}function U_(t,e){if(t==null)return!0;switch(e.type){case"native":switch(e.value){case Number:case Rr:return typeof t=="number";case Boolean:return typeof t=="boolean";case String:return typeof t=="string";case hE:return t===null}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some(r=>!U_(r,e.value));case"one-of":return e.values.some(r=>U_(t,r))}}function ey(t){return Cv(uE(t),0,255)}function ty(t,e){const r=t.toString(16).padStart(2,"0");return e?r.slice(0,1):r}let Jy=class es{static blendColors(e,r,i,s=new es){return s.r=Math.round(e.r+(r.r-e.r)*i),s.g=Math.round(e.g+(r.g-e.g)*i),s.b=Math.round(e.b+(r.b-e.b)*i),s.a=e.a+(r.a-e.a)*i,s._sanitize()}static fromRgb(e,r){const i=CI(e);return i?es.fromArray(i,r):null}static fromHex(e,r=new es){const i=II(e);return i?es.fromArray(i,r):null}static fromArray(e,r=new es){return r._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(e,r){const i=NI(e);return i?es.fromArray(i,r):null}static fromJSON(e){return e!=null?new es([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return e!=null?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return e!=null?[e.r/255,e.g/255,e.b/255,e.a!=null?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return typeof e=="string"?es.fromString(e,this):Array.isArray(e)?es.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof es||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const r=e?.capitalize??!1,i=e?.digits??6,s=i===3||i===4,n=i===4||i===8,o=`#${ty(this.r,s)}${ty(this.g,s)}${ty(this.b,s)}${n?ty(Math.round(255*this.a),s):""}`;return r?o.toUpperCase():o}toCss(e=!1){const r=this.r+", "+this.g+", "+this.b;return e?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=es.AlphaMode.ALWAYS){const r=ey(this.r),i=ey(this.g),s=ey(this.b);return e===es.AlphaMode.ALWAYS||this.a!==1?[r,i,s,ey(255*this.a)]:[r,i,s]}clone(){return new es(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return e!=null&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=ph(this.r),this.g=ph(this.g),this.b=ph(this.b),this.a=PI(this.a),this}_set(e,r,i,s){this.r=e,this.g=r,this.b=i,this.a=s}};Jy.prototype.declaredClass="esri.Color",function(t){var e;(e=t.AlphaMode||(t.AlphaMode={}))[e.ALWAYS=0]="ALWAYS",e[e.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(Jy||(Jy={}));const wt=Jy,xF={remove:()=>{}};function Cr(t){return t?{remove(){t&&(t(),t=void 0)}}:xF}function oC(t){t.forEach(e=>e?.remove())}function z0e(t){oC(t),t.length=0}function fE(t){return Cr(()=>oC(t))}function q0e(t){return Cr(()=>t()?.remove())}function H0e(t){return Cr(()=>t?.abort())}function W0e(t){return Cr(t!=null?()=>t.destroy():void 0)}function EF(t){return typeof t=="object"&&!!t&&"remove"in t&&typeof t.remove=="function"}function Y0e(t){EF(t)&&t.remove()}function J0e(t){return{[Symbol.dispose](){t.remove()}}}function dE(t){return SF(t)||aC(t)}function SF(t){return t!=null&&typeof t=="object"&&"on"in t&&typeof t.on=="function"}function aC(t){return t!=null&&typeof t=="object"&&"addEventListener"in t&&typeof t.addEventListener=="function"}function lC(t,e,r){if(!dE(t))throw new TypeError("target is not a Evented or EventTarget object");return aC(t)?AF(t,e,r):t.on(e,r)}function AF(t,e,r,i){if(Array.isArray(e)){const s=e.slice();for(const n of s)t.addEventListener(n,r,i);return Cr(()=>{for(const n of s)t.removeEventListener(n,r,i)})}return t.addEventListener(e,r,i),Cr(()=>t.removeEventListener(e,r,i))}function cC(t,e,r){if(!dE(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,r);const i=lC(t,e,s=>{i.remove(),r.call(t,s)});return i}function TF(t,e){if(t==null)throw new Error(e??"value is None")}function Ky(t){return t?.destroy(),null}function K0e(t){return t?.dispose(),null}function hm(t){return t?.remove(),null}function MF(t){return t?.abort(),null}function Z0e(t){return t?.release(),null}function X0e(t,e,r){return t!=null&&e!=null?r!=null?r(t,e):t.equals(e):t===e}function $F(t,e){let r;return t.some((i,s)=>(r=e(i,s),r!=null)),r??void 0}function OF(t){return{setTimeout:(e,r)=>{const i=t.setTimeout(e,r);return Cr(()=>t.clearTimeout(i))}}}const IF=OF(globalThis);function CF(t,e){return t.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(r,i)=>i===""?"$":(cE(i,e)??"").toString())}let uC=class{constructor(e,r,i=void 0){this.name=e,this.details=i,this.message=(r&&CF(r,i))??""}toString(){return"["+this.name+"]: "+this.message}},mt=class hC extends uC{constructor(e,r,i){super(e,r,i)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return ge(r)}catch{return"[object]"}}))}}catch(e){throw rr.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new hC(e.name,e.message,e.details)}};mt.prototype.type="error";function Es(t="Aborted"){return new mt("AbortError",t)}function pp(t,e="Aborted"){if(_l(t))throw Es(e)}function Dv(t){return t instanceof AbortSignal?t:t?.signal??void 0}function _l(t){const e=Dv(t);return e!=null&&e.aborted}function NF(t){if(fm(t))throw t}function ege(t){if(!fm(t))throw t}function Nh(t,e){const r=Dv(t);if(r!=null){if(!r.aborted)return cC(r,"abort",()=>e());e()}}function PF(t,e){const r=Dv(t);if(r!=null)return pp(r),cC(r,"abort",()=>e(Es()))}function tge(t,e){return Dv(e)==null?t:new Promise((r,i)=>{let s=Nh(e,()=>i(Es()));const n=()=>{s=hm(s)};t.then(n,n),t.then(r,i)})}function fm(t){return t?.name==="AbortError"}async function rge(t){try{return await t}catch(e){if(!fm(e))throw e;return}}async function LF(t){if(!t)return;if(typeof t.forEach!="function"){const r=Object.keys(t),i=r.map(o=>t[o]),s=await LF(i),n={};return r.map((o,a)=>n[o]=s[a]),n}const e=t;return Promise.allSettled(e).then(r=>Array.from(e,(i,s)=>{const n=r[s];return n.status==="fulfilled"?{promise:i,value:n.value}:{promise:i,error:n.reason}}))}async function ige(t){return(await Promise.allSettled(t)).filter(e=>e.status==="fulfilled").map(e=>e.value)}async function sge(t){return(await Promise.allSettled(t)).filter(e=>e.status==="rejected").map(e=>e.reason)}function kF(t,e=void 0,r){const i=new AbortController;return Nh(r,()=>i.abort()),new Promise((s,n)=>{let o=setTimeout(()=>{o=0,s(e)},t);Nh(i,()=>{o&&(clearTimeout(o),n(Es()))})})}function nge(t,e,r,i){const s=r&&"abort"in r?r:null;i!=null||s||(i=r);let n=setTimeout(()=>{n=0,s?.abort()},e);const o=()=>i||new mt("promiseUtils:timeout","The wrapped promise did not resolve within "+e+" ms");return t.then(a=>{if(n===0)throw o();return clearTimeout(n),a},a=>{throw clearTimeout(n),n===0?o():a})}function oge(t,e){const r=new AbortController,i=setTimeout(()=>r.abort(),e);return Nh(t,()=>{r.abort(),clearTimeout(i)}),{...t,signal:r.signal}}function fC(t){return t&&typeof t.then=="function"}function lT(t){return fC(t)?t:Promise.resolve(t)}function age(t,e=-1){let r,i,s,n,o=null;const a=(...l)=>{if(r){i=l,n&&n.reject(Es()),n=mp();const p=n.promise;if(o){const y=o;o=null,y.abort()}return p}if(s=n||mp(),n=null,e>0){const p=new AbortController;r=lT(t(...l,p.signal));const y=r;kF(e).then(()=>{r===y&&(n?p.abort():o=p)})}else r=1,r=lT(t(...l));const c=()=>{const p=i;i=s=r=o=null,p!=null&&a(...p)},f=r,d=s;return f.then(c,c),f.then(d.resolve,d.reject),d.promise};return a}function mp(){let t,e;const r=new Promise((s,n)=>{t=s,e=n}),i=s=>{t(s)};return i.resolve=s=>t(s),i.reject=s=>e(s),i.timeout=(s,n)=>IF.setTimeout(()=>i.reject(n),s),i.promise=r,i}function lge(t,e){e.then(t.resolve,t.reject)}async function cge(t){await Promise.resolve(),pp(t)}function RF(t){return t?.release&&typeof t.release=="function"}function DF(t){return t?.acquire&&typeof t.acquire=="function"}let Fv=class j_{constructor(e,r,i,s=1,n=0){this._ctor=e,this._acquireFunction=r,this._releaseFunction=i,this.allocationSize=s,this._pool=new Array(n),this._initialSize=n;for(let o=0;o<n;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...e){let r;if(j_.test.disabled)r=new this._ctor;else{if(this._pool.length===0){const i=this.allocationSize;for(let s=0;s<i;s++)this._pool[s]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...e):DF(r)&&r.acquire(...e),r}release(e){e&&!j_.test.disabled&&(this._releaseFunction?this._releaseFunction(e):RF(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let r=e;r<this._pool.length;++r){const i=this._pool[r];this._dispose(i)}this._pool.length=e}}_dispose(e){e.dispose&&typeof e.dispose=="function"&&e.dispose()}static{this.test={disabled:!1}}};function FF(t){t.length=0}let za=class{constructor(e=50,r=50){this._pool=new Fv(Array,void 0,FF,r,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return fb.acquire()}static release(e){return fb.release(e)}static prune(){fb.prune()}};const fb=new za(100);let UF=class extends Fv{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){const r=super.acquire(...e);return this._set.delete(r),r}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}};const ry=[];function dC(t){ry.push(t),ry.length===1&&queueMicrotask(()=>{const e=ry.slice();ry.length=0;for(const r of e)r()})}let pC=class{constructor(e,r=30){this.name=e,this._counter=0,this._samples=new Array(r)}push(e){e!=null&&(this._samples[++this._counter%this._samples.length]=e)}set(e){e!=null&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort((e,r)=>e-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((e,r)=>e+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var B_;(function(t){const e=(n,o,a,l)=>{let c=o,f=o;const d=a>>>1,p=n[c-1];for(;f<=d;){f=c<<1,f<a&&l(n[f-1],n[f])<0&&++f;const y=n[f-1];if(l(y,p)<=0)break;n[c-1]=y,c=f}n[c-1]=p},r=(n,o)=>n<o?-1:n>o?1:0;function i(n,o,a,l){o===void 0&&(o=0),a===void 0&&(a=n.length),l===void 0&&(l=r);for(let f=a>>>1;f>o;f--)e(n,f,a,l);const c=o+1;for(let f=a-1;f>o;f--){const d=n[o];n[o]=n[f],n[f]=d,e(n,c,f,l)}}function*s(n,o,a,l){o===void 0&&(o=0),a===void 0&&(a=n.length),l===void 0&&(l=r);for(let f=a>>>1;f>o;f--)e(n,f,a,l),yield;const c=o+1;for(let f=a-1;f>o;f--){const d=n[o];n[o]=n[f],n[f]=d,e(n,c,f,l),yield}}t.sort=i,t.iterableSort=s})(B_||(B_={}));const cT=B_,jF=1.5,BF=1.1;let mC=class{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new DI,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),e.deallocator!==void 0&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>uT(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const r=new Array;for(let i=0;i<this._length;i++){const s=this.data[i];e(s)&&r.push(s)}return r}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,r){const i=this.data.indexOf(e,r);return i!==-1&&i<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let r=e;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,r=e.length){for(let i=0;i<r;i++)this.data[this._length++]=e[i]}fill(e,r){for(let i=0;i<r;i++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,uT(this)}pop(){if(this.length===0)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const r=L_(this.data,e,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex(L_(this.data,e,this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,r=e.length,i){this.length=ZD(this.data,e,this.length,r,this._hint,i),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(e,r){if(e>=this.length||r>=this.length||e===r)return;const i=this.data[e];this.data[e]=this.data[r],this.data[r]=i}sort(e){cT.sort(this.data,0,this.length,e)}iterableSort(e){return cT.iterableSort(this.data,0,this.length,e)}some(e,r){for(let i=0;i<this.length;++i)if(e.call(r,this.data[i],i,this.data))return!0;return!1}find(e,r){const{data:i,length:s}=this;for(let n=0;n<s;++n)if(e.call(r,i[n]))return i[n]}filterInPlace(e,r){let i=0;for(let s=0;s<this._length;++s){const n=this.data[s];e.call(r,n,s,this.data)&&(this.data[s]=this.data[i],this.data[i]=n,i++)}if(this._deallocator)for(let s=i;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=i,this._shrink(),this}forAll(e,r){const{data:i,length:s}=this;for(let n=0;n<s;++n)e.call(r,i[n],n,i)}forEach(e,r){this.data.slice(0,this.length).forEach(e,r)}map(e,r){const i=new Array(this.length);for(let s=0;s<this.length;++s)i[s]=e.call(r,this.data[s],s,this.data);return i}reduce(e,r){let i=r;for(let s=0;s<this.length;++s)i=e(i,this.data[s],s,this.data);return i}has(e){const r=this.length,i=this.data;for(let s=0;s<r;++s)if(i[s]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}};function uT(t){t.data.length>jF*t.length&&(t.data.length=Math.floor(t.length*BF))}function pge(t){return t}function mge(t){return 1e3*t}function yge(t){return t}function gge(t){return .001*t}let VF=class{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}},GF=class{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}},V_=0;const Lf={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},G_=["prepare","preRender","render","postRender","update","finish"],z_=[],Vc=new mC;let zF=class{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,yC()}};function qF(){Cc!=null&&(cancelAnimationFrame(Cc),Cc=requestAnimationFrame(pE))}function yC(){Cc==null&&(V_=performance.now(),Cc=requestAnimationFrame(pE))}const J0={frameTasks:Vc,willDispatch:!1,clearFrameTasks:HF,dispatch:bC,executeFrameTasks:WF,reschedule:qF};function gC(t){const e=new GF(t);return z_.push(e),J0.willDispatch||(J0.willDispatch=!0,dC(bC)),e}function wge(t){const e=new VF(t);return Vc.push(e),yC(),new zF(e)}let Cc=null;function HF(t=!1){Vc.forAll(e=>{e.removed=!0}),t&&vC()}function pE(){const t=performance.now();Cc=null,Cc=Vc.some(r=>!r.paused&&!r.removed)?requestAnimationFrame(pE):null,J0.executeFrameTasks(t)}function WF(t){const e=t-V_;V_=t;const r=1e3/60,i=Math.max(0,e-r);Lf.time=t,Lf.frameDuration=r-i;for(let s=0;s<G_.length;s++){const n=performance.now(),o=G_[s];Vc.forAll(a=>{a.paused||a.removed||(s===0&&a.ticks++,a.phases[o]&&(Lf.elapsedFrameTime=performance.now()-t,Lf.deltaTime=a.ticks===0?0:e,a.phases[o]?.call(a,Lf)))}),KF[s].push(performance.now()-n)}vC(),ZF.push(performance.now()-t)}const iy=new mC;function vC(){Vc.forAll(t=>{t.removed&&iy.push(t)}),Vc.removeUnorderedMany(iy.data,iy.length),iy.clear()}function bC(){for(;z_.length;){const t=z_.shift();t.isActive&&t.callback()}J0.willDispatch=!1}function YF(t=1,e){const r=mp(),i=()=>{_l(e)?r.reject(Es()):t===0?r():(--t,dC(()=>i()))};return i(),r.promise}function JF(t){return YF(1,t)}async function xge(t){await JF(t),await new Promise(e=>requestAnimationFrame(()=>{t?.aborted||e()}))}const KF=G_.map(t=>new pC(t)),ZF=new pC("total");function XF(t,e){for(const r of t.values())if(e(r))return!0;return!1}function hT(t,e){if(!e)return t;for(const r of e)r!=null&&t.add(r);return t}function Ege(t,e){return e!=null&&t.add(e),t}function mE(t,e){const r=new Set;return hT(r,t),hT(r,e),r}function QF(t,e){const r=new Set;for(const i of e)t.has(i)&&r.add(i);return r}function Sge(t,e){if(!t||!e)return!1;if(t===e)return!0;for(const r of t)if(!e.has(r))return!1;return!0}function Age(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}function eU(t,e){const r=new Set(t);for(const i of e)r.delete(i);return r}function Tge(t,e){return eU(mE(t,e),QF(t,e))}let tU=0;function Zy(){return++tU}function wl(t){return t.__accessor__??null}function rU(t,e){return t?.metadata?.[e]!=null}function Xy(t,e,r){return r?K0(t,e,{policy:r,path:""}):K0(t,e,null)}function K0(t,e,r){return e?Object.keys(e).reduce((i,s)=>{const n=s;if(n==="__proto__")return i;let o=null,a="merge";if(r&&(o=r.path?`${r.path}.${s}`:s,a=r.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(i[n]))return i[n]=e[n],i;if(i[n]===void 0)return i[n]=ge(e[n]),i;let l=i[n],c=e[n];if(l===c)return i;if(Array.isArray(c)||Array.isArray(i))l=l?Array.isArray(l)?i[n]=l.slice():i[n]=[l]:i[n]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(f=>{l.includes(f)||l.push(f)}));else if(c&&typeof c=="object")if(r){const f=r.path;r.path=o,i[n]=K0(l,c,r),r.path=f}else i[n]=K0(l,c,null);else i.hasOwnProperty(s)&&!e.hasOwnProperty(s)||(i[n]=c);return i},t||{}):t}function _C(t){return Array.isArray(t)?t:t.split(".")}function fT(t){return t.includes(",")?t.split(",").map(e=>e.trim()):[t.trim()]}function iU(t){if(Array.isArray(t)){const e=[];for(const r of t)e.push(...fT(r));return e}return fT(t)}function wC(t,e,r,i){const s=iU(e);if(s.length!==1){const n=s.map(o=>i(t,o,r));return fE(n)}return i(t,s[0],r)}function xC(t,e){const r=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(r,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const i=wl(e);return rU(i,r)?i.get(r):e[r]}function EC(t,e,r){if(t==null)return t;const i=xC(e[r],t);return!i&&r<e.length-1?void 0:r===e.length-1?i:EC(i,e,r+1)}function dm(t,e,r=0){return typeof e!="string"||e.includes(".")?EC(t,_C(e),r):xC(e,t)}function Ph(t,e){return dm(t,e)}function dT(t,e){return dm(e,t)!==void 0}const Os={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4},Ht={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let Uv=class{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){this.accessed?.clear(),this.clear()}onAccessed(e){this._observer!=null&&e!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(e))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(e=>{this._handles.push(e.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}};const Z0=new Uv,ed=[];let Cd=Z0;function Ve(t){Cd.onAccessed(t)}let Qy=!1,e0=!1;function ma(t,e,r){if(Qy)return yE(t,e,r);let i=null;return SC(t),i=e.call(r),AC(),i}function sU(t,e){return ma(Z0,t,e)}function yE(t,e,r){const i=Qy;Qy=!0,SC(t);let s=null;try{s=e.call(r)}catch(n){e0&&rr.getLogger("esri.core.accessorSupport.tracking").error(n)}return AC(),Qy=i,s}function SC(t){Cd=t,ed.push(t)}function AC(){const t=ed.length;if(t>1){const e=ed.pop();Cd=ed[t-2],e.onTrackingEnd()}else if(t===1){const e=ed.pop();Cd=Z0,e.onTrackingEnd()}else Cd=Z0}function TC(t,e){if(e.flags&Ht.DepTrackingInitialized)return;e.flags|=Ht.DepTrackingInitialized;const r=e0;e0=!1,e.flags&Ht.AutoTracked?yE(e.trackingTarget,e.metadata.get,t):MC(t,e),e0=r}const nU=[];function MC(t,e){e.flags&Ht.ExplicitlyTracking||(e.flags|=Ht.ExplicitlyTracking,yE(e.trackingTarget,()=>{const r=e.metadata.dependsOn||nU;for(const i of r)if(typeof i!="string"||i.includes(".")){const s=_C(i);for(let n=0,o=t;n<s.length&&o!=null&&typeof o=="object";++n)o=pT(o,s[n],n!==s.length-1)}else pT(t,i,!1)}),e.flags&=-129)}function pT(t,e,r){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const n=parseInt(i,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.at(n)}const s=wl(t);if(s){const n=s.propertiesByName.get(i);n&&(Ve(n),TC(t,n))}return r?t[i]:void 0}let jv=class extends Uv{constructor(e){super(new oU(e)),this._observer&&mT.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&mT.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},oU=class{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(e===1)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=aU}};const mT=new FinalizationRegistry(t=>{t.deref()?.destroy()});function aU(){}let yh=!1;const X0=[];function $C(t,e){let r=new jv(n),i=null,s=!1;function n(){if(!r||s)return;if(yh)return void IC(n);const a=i;r.clear(),yh=!0,s=!0,i=ma(r,t),s=!1,yh=!1,e(i,a),CC()}function o(){r&&(r.destroy(),r=null,i=null)}return s=!0,i=ma(r,t),s=!1,Cr(o)}function OC(t,e){let r=new jv(s),i=null;function s(){e(i,o)}function n(){r&&(r.destroy(),r=null),i=null}function o(){return r?(r.clear(),i=ma(r,t),i):null}return o(),Cr(n)}function Ige(t,e){let r=!1,i=!1;const s=!!e?.sync;let n=new jv(()=>{r||i||(i=!0,s?o():queueMicrotask(o))});function o(){i=!1,n&&!r&&(yh?IC(o):(n.clear(),yh=!0,r=!0,ma(n,t),r=!1,yh=!1,CC()))}function a(){n&&(n.destroy(),n=null)}return r=!0,ma(n,t),r=!1,Cr(a)}function IC(t){X0.includes(t)||X0.unshift(t)}function CC(){for(;X0.length;)X0.pop()()}var Nd;(function(t){t[t.Untracked=0]="Untracked",t[t.Tracked=1]="Tracked"})(Nd||(Nd={}));let gE=class NC{constructor(){this.uid=Zy(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static{this.pool=new UF(NC)}static acquireUntracked(e,r,i,s,n){return this.pool.acquire(Nd.Untracked,e,r,i,s,n,lE)}static acquireTracked(e,r,i,s){return this.pool.acquire(Nd.Tracked,e,r,i,null,null,s)}notify(e,r){this.type===Nd.Untracked?this.callback.call(this.target,e,r,this.path,this.target):this.callback.call(null,e,r,void 0,void 0)}acquire(e,r,i,s,n,o,a){this.uid=Zy(),this.removed=!1,this.type=e,this.oldValue=r,this.callback=i,this.getValue=s,this.target=n,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Zy(),this.removed=!0}};const t0=new za,fa=new Set;let Q0;function eg(t){fa.delete(t),fa.add(t),Q0||(Q0=gC(uU))}function lU(t){if(t.removed)return;const e=t.oldValue,r=t.getValue();t.equals(e,r)||(t.oldValue=r,t.notify(r,e))}function cU(t){for(const e of fa.values())e.target===t&&(e.removed=!0)}function uU(){let t=10;for(;Q0&&t--;){Q0=null;const e=hU(),r=t0.acquire();for(const i of e){const s=i.uid;lU(i),s===i.uid&&i.removed&&r.push(i)}for(const i of fa)i.removed&&(r.push(i),fa.delete(i));for(const i of r)gE.pool.release(i);t0.release(r),t0.release(e),q_.forEach(i=>i())}}function hU(){const t=t0.acquire();t.length=fa.size;let e=0;for(const r of fa)t[e]=r,++e;return fa.clear(),t}const q_=new Set;function Cge(t){return q_.add(t),Cr(()=>q_.delete(t))}function fU(t,e,r){let i=wC(t,e,r,(s,n,o)=>{let a,l,c=OC(()=>dm(s,n),(f,d)=>{s.__accessor__?.lifecycle===Os.DESTROYED||a&&a.uid!==l?i.remove():(a||(a=gE.acquireUntracked(f,o,d,s,n),l=a.uid),eg(a))});return Cr(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,eg(a)),a=null),i=c=null})});return i}function dU(t,e,r){const i=wC(t,e,r,(s,n,o)=>{let a=!1;return $C(()=>dm(s,n),(l,c)=>{s.__accessor__.lifecycle!==Os.DESTROYED?a||(a=!0,lE(c,l)||o.call(s,l,c,n,s),a=!1):i.remove()})});return i}function pU(t,e,r,i=!1){return t.__accessor__&&t.__accessor__.lifecycle!==Os.DESTROYED?i?dU(t,e,r):fU(t,e,r):Cr()}function mU(t,e,r){let i,s,n=OC(t,(o,a)=>{i&&i.uid!==s?n.remove():(i||(i=gE.acquireTracked(o,e,a,r),s=i.uid),eg(i))});return Cr(()=>{n.remove(),i&&(i.uid!==s||i.removed||(i.removed=!0,eg(i)),i=null),n=null})}function yU(t,e,r){let i=!1;return $C(t,(s,n)=>{i||(i=!0,r(n,s)||e(s,n),i=!1)})}function gU(t,e,r=!1,i=JI){return r?yU(t,e,i):mU(t,e,i)}function Nge(t){return XF(fa,e=>e.oldValue===t)}function Jr(t,e,r={}){return vE(t,e,r,LC)}function H_(t,e,r={}){return vE(t,e,r,kC)}function vE(t,e,r={},i){let s=null;const n=r.once?(o,a)=>{i(o)&&(hm(s),e(o,a))}:(o,a)=>{i(o)&&e(o,a)};if(s=gU(t,n,r.sync,r.equals),r.initial){const o=t();n(o,o)}return s}function PC(t,e,r,i={}){let s=null,n=null,o=null;function a(){s&&n&&(n.remove(),i.onListenerRemove?.(s),s=null,n=null)}function l(f){i.once&&i.once&&hm(o),r(f)}const c=Jr(t,(f,d)=>{a(),dE(f)&&(s=f,n=lC(f,e,l),i.onListenerAdd?.(f))},{sync:i.sync,initial:!0});return o=Cr(()=>{c.remove(),a()}),o}function Pge(t,e){return vU(t,kC,e)}function vU(t,e,r){if(_l(r))return Promise.reject(Es());const i=t();if(e?.(i))return Promise.resolve(i);let s=null;function n(){s=hm(s)}return new Promise((o,a)=>{s=fE([Nh(r,()=>{n(),a(Es())}),vE(t,l=>{n(),o(l)},{sync:!1,once:!0},e??LC)])})}function LC(t){return!0}function kC(t){return!!t}function Lge(t,e,r={}){let i=!1;const s=Jr(t,(n,o)=>{i||e(n,o)},r);return{remove(){s.remove()},pause(){i=!0},resume(){i=!1}}}const bU={sync:!0},db={initial:!0},kge={sync:!0,initial:!0};function g(t,e,r,i){var s,n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(n<3?s(o):n>3?s(e,r,o):s(e,r))||o);return n>3&&o&&Object.defineProperty(e,r,o),o}function Rge(t,e){return function(r,i){e(r,i,t)}}function Dge(t,e,r,i){function s(n){return n instanceof r?n:new r(function(o){o(n)})}return new(r||(r=Promise))(function(n,o){function a(f){try{c(i.next(f))}catch(d){o(d)}}function l(f){try{c(i.throw(f))}catch(d){o(d)}}function c(f){f.done?n(f.value):s(f.value).then(a,l)}c((i=i.apply(t,[])).next())})}function Fge(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,s;if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");s&&(i=function(){try{s.call(this)}catch(n){return Promise.reject(n)}}),t.stack.push({value:e,dispose:i,async:r})}return e}var _U=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var i=new Error(r);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function Uge(t){function e(n){t.error=t.hasError?new _U(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}var r,i=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&i===1)return i=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var n=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(n).then(s,function(o){return e(o),s()})}else i|=1}catch(o){e(o)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function pm(t){let e=t.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!r){e=Object.create(e);for(const i in e)e[i]=ge(e[i]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function Bv(t,e){const r=pm(t);let i=r[e];return i||(i=r[e]={}),i}function wU(t,e){return Xy(t,e,EU)}const xU=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function EU(t){return xU.test(t)?"replace":"merge"}function tg(t,e,r){if(t&&e)if(typeof e=="object")for(const i of Object.getOwnPropertyNames(e))tg(t,i,e[i]);else{if(e.includes(".")){const s=e.split("."),n=s.splice(-1,1)[0];return void tg(Ph(t,s),n,r)}const i=t.__accessor__;i!=null&&SU(e,i),t[e]=r}}function SU(t,e){if(ee("esri-unknown-property-errors")&&!AU(t,e))throw new mt("set:unknown-property",TU(t,e))}function AU(t,e){return e.metadata[t]!=null}function TU(t,e){return"setting unknown property '"+t+"' on instance of "+e.host.declaredClass}function A(t={}){return(e,r)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${r}. Accessor does not support static properties.`);const i=Object.getOwnPropertyDescriptor(e,r),s=Bv(e,r);i&&(i.get||i.set?(s.get=i.get||s.get,s.set=i.set||s.set):"value"in i&&("value"in t&&rr.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${e.constructor.name}" already defined in the metadata`,t),s.value=t.value=i.value)),t.readOnly!=null&&(s.readOnly=t.readOnly);const n=t.aliasOf;if(n){const l=typeof n=="string"?n:n.source,c=typeof n=="string"?null:n.overridable===!0;let f;s.dependsOn=[l],s.get=function(){let d=Ph(this,l);if(typeof d=="function"){f||(f=l.split(".").slice(0,-1).join("."));const p=Ph(this,f);p&&(d=d.bind(p))}return d},s.readOnly||(s.set=c?function(d){this._override(r,d)}:function(d){tg(this,l,d)})}const o=t.type,a=t.types;if(!s.cast){let l;o?l=MU(o):a&&(l=Array.isArray(a)?dp(Ch(a[0])):Ch(a)),t.cast=$U(t.cast,l)}wU(s,t),t.range&&(s.cast=dF(s.cast,t.range))}}function RC(t,e,r){const i=Bv(t,r);i.json||(i.json={});let s=i.json;return e!==void 0&&(s.origins||(s.origins={}),s.origins[e]||(s.origins[e]={}),s=s.origins[e]),s}function MU(t){let e=0,r=t;if(_F(t))return nC(t);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],e++;const i=r;if(sC(i))return e===0?D_(i):Y0(D_(i),e);if(e===1)return vF(i);if(e>1)return bF(i,e);const s=t;return s.from?s.from:Un(s)}function $U(t,e){if(t||e)return t?e?(r,i)=>e(t(r,i),i):t:e}const DC=Symbol("Accessor-beforeDestroy");function OU(t){if(t.json&&t.json.origins){const e=t.json.origins,r={"web-document":["web-scene","web-map"]};for(const i in r)if(e[i]){const s=e[i];r[i].forEach(n=>{e[n]=s}),delete e[i]}}}let yp=class extends uC{constructor(e,r,i){super(e,r,i)}};yp.prototype.type="warning";function FC(t){return!!t&&t.prototype?.declaredClass&&t.prototype.declaredClass.indexOf("esri.core.Collection")===0}const W_=()=>rr.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function yT(t,e,r){t&&(!r&&!e.read||e.read?.reader||e.read?.enabled===!1||NU(t)&&ou("read.reader",UC(t),e))}function UC(t){const e=t.ndimArray??0;if(e>1)return CU(t);if(e===1)return gT(t);if("type"in t&&BC(t.type)){const r=t.type.prototype?.itemType?.Type,i=gT(typeof r=="function"?{type:r}:{types:r});return(s,n,o)=>{const a=i(s,n,o);return a&&new t.type(a)}}return bE(t)}function bE(t){return"type"in t?IU(t.type):PU(t.types)}function IU(t){return t.prototype.read?(e,r,i)=>{if(e==null)return e;const s=typeof e;if(s!=="object")return void W_().error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${s}'`);const n=new t;return n.read(e,i),n}:t.fromJSON}function jC(t,e,r,i){return i!==0&&Array.isArray(e)?e.map(s=>jC(t,s,r,i-1)):t(e,void 0,r)}function CU(t){const e=bE(t),r=jC.bind(null,e),i=t.ndimArray??0;return(s,n,o)=>{if(s==null)return s;s=r(s,o,i);let a=i,l=s;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)s=[s];return s}}function gT(t){const e=bE(t);return(r,i,s)=>{if(r==null)return r;if(Array.isArray(r)){const o=[];for(const a of r){const l=e(a,void 0,s);l!==void 0&&o.push(l)}return o}const n=e(r,void 0,s);return n!==void 0?[n]:void 0}}function BC(t){if(!FC(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&(typeof e.Type=="function"?_E(e.Type):VC(e.Type))}function NU(t){return"types"in t?VC(t.types):_E(t.type)}function _E(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||BC(t))}function VC(t){for(const e in t.typeMap)if(!_E(t.typeMap[e]))return!1;return!0}function PU(t){let e=null;const r=t.errorContext??"type",i=t.validate;return(s,n,o)=>{if(s==null)return s;const a=typeof s;if(a!=="object")return void W_().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);e||(e=LU(t));const l=t.key;if(typeof l!="string")return;const c=s[l],f=c?e[c]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!f){const p=`Type '${c||"unknown"}' is not supported`;return o?.messages&&s&&o.messages.push(new yp(`${r}:unsupported`,p,{definition:s,context:o})),void W_().error(p)}const d=new f;return d.read(s,o),i?i(d):d}}function LU(t){const e={};for(const r in t.typeMap){const i=t.typeMap[r],s=pm(i.prototype);if(typeof t.key=="function")continue;const n=s[t.key];if(!n)continue;if(n.json?.type&&Array.isArray(n.json.type)&&n.json.type.length===1&&typeof n.json.type[0]=="string"){e[n.json.type[0]]=i;continue}const o=n.json?.write;if(!o?.writer){e[r]=i;continue}const a=o.target,l=typeof a=="string"?a:t.key,c={};o.writer(r,c,l),c[l]&&(e[c[l]]=i)}return e}function kU(t){if(t.json||(t.json={}),bT(t.json),_T(t.json),vT(t.json),t.json.origins)for(const e in t.json.origins)bT(t.json.origins[e]),_T(t.json.origins[e]),vT(t.json.origins[e]);return!0}function vT(t){t.name&&(t.read&&typeof t.read=="object"?t.read.source===void 0&&(t.read.source=t.name):t.read={source:t.name},t.write&&typeof t.write=="object"?t.write.target===void 0&&(t.write.target=t.name):t.write={target:t.name})}function bT(t){typeof t.read=="boolean"?t.read={enabled:t.read}:typeof t.read=="function"?t.read={enabled:!0,reader:t.read}:t.read&&typeof t.read=="object"&&t.read.enabled===void 0&&(t.read.enabled=!0)}function _T(t){typeof t.write=="boolean"?t.write={enabled:t.write}:typeof t.write=="function"?t.write={enabled:!0,writer:t.write}:t.write&&typeof t.write=="object"&&t.write.enabled===void 0&&(t.write.enabled=!0)}function wT(t,e){if(!e.write||e.write.writer||e.write.enabled===!1&&!e.write.overridePolicy)return;const r=t?.ndimArray??0;t&&(r===1||"type"in t&&FC(t.type))?e.write.writer=UU:r>1?e.write.writer=jU(r):e.types?Array.isArray(e.types)?e.write.writer=DU(e.types[0]):e.write.writer=RU(e.types):e.write.writer=gp}function RU(t){return(e,r,i,s)=>e?GC(e,t,s)?gp(e,r,i,s):void 0:gp(e,r,i,s)}function GC(t,e,r){for(const i in e.typeMap)if(t instanceof e.typeMap[i])return!0;if(r?.messages){const i=e.errorContext??"type",s=`Values of type '${(typeof e.key!="function"?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&t&&r.messages.push(new mt(`${i}:unsupported`,s,{definition:t,context:r})),rr.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function DU(t){return(e,r,i,s)=>!e||!Array.isArray(e)?gp(e,r,i,s):gp(e.filter(n=>GC(n,t,s)),r,i,s)}function gp(t,e,r,i){ou(r,rg(t,i),e)}function rg(t,e){return t&&typeof t.write=="function"?t.write({},e):t&&typeof t.toJSON=="function"?t.toJSON():typeof t=="number"?FU(t):t}function FU(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function UU(t,e,r,i){let s;t===null?s=null:t&&typeof t.map=="function"?(s=t.map(n=>rg(n,i)),typeof s.toArray=="function"&&(s=s.toArray())):s=[rg(t,i)],ou(r,s,e)}function zC(t,e,r){return r!==0&&Array.isArray(t)?t.map(i=>zC(i,e,r-1)):rg(t,e)}function jU(t){return(e,r,i,s)=>{let n;if(e===null)n=null;else{n=zC(e,s,t);let o=t,a=n;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)n=[n]}ou(i,n,r)}}function BU(t,e){return wE(t,"any",e?.origin)}function Y_(t,e){return wE(t,"read",e?.origin)}function qC(t,e){return wE(t,"write",e?.origin)}function wE(t,e,r){let i=t?.json;if(i?.origins&&r){let s;s=r==="link-chart"?i.origins[r]&&(e==="any"||e in i.origins[r])?i.origins[r]:i.origins["web-map"]:i.origins[r],s&&(e==="any"||e in s)&&(i=s)}return i}function VU(t){const e=GU(t);if(t.json.origins)for(const r in t.json.origins){const i=t.json.origins[r],s=i.types?zU(i):e;yT(s,i,!1),i.types&&!i.write&&t.json.write?.enabled&&(i.write={...t.json.write}),wT(s,i)}yT(e,t.json,!0),wT(e,t.json)}function GU(t){return t.json.types?J_(t.json):t.type?HC(t):J_(t)}function zU(t){return t.type?HC(t):J_(t)}function HC(t){if(!t.type)return;let e=0,r=t.type;for(;Array.isArray(r)&&!sC(r);)r=r[0],e++;return{type:r,ndimArray:e}}function J_(t){if(!t.types)return;let e=0,r=t.types;for(;Array.isArray(r);)r=r[0],e++;return{types:r,ndimArray:e}}function qU(t){kU(t)&&(OU(t),VU(t))}const pb=new Set,mb=new Set;function ie(t){return e=>{t??="esri.core.Accessor",e.prototype.declaredClass=t,WU(e);const r=[],i=[];let s=e.prototype;for(;s;)s.hasOwnProperty("initialize")&&!pb.has(s.initialize)&&(pb.add(s.initialize),r.push(s.initialize)),s.hasOwnProperty("destroy")&&!mb.has(s.destroy)&&(mb.add(s.destroy),i.push(s.destroy)),s=Object.getPrototypeOf(s);pb.clear(),mb.clear();const n=class extends e{constructor(...a){if(super(...a),this.constructor===n&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=r.length-1;l>=0;l--)r[l].call(this)}}),i.length){let l=!1;const c=this[DC];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){this.__accessor__.lifecycle=Os.DESTROYING,l=!0,c.call(this);for(let f=0;f<i.length;f++)i[f].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};n.__accessorMetadata__=pm(e.prototype),n.prototype.declaredClass=t;const o=(t||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(n,"name",{value:o,configurable:!0}),n}}function HU(t,e){return e.get==null?function(){const r=this.__accessor__,i=r.propertiesByName.get(t);if(i===void 0)return;r.mutable&&Ve(i);const s=r.store;return s.has(t)?s.get(t):i.metadata.value}:function(){const r=this.__accessor__,i=r.propertiesByName.get(t);if(i!==void 0)return i.getComputed(r)}}function WU(t){const e=t.prototype,r=pm(e),i={};for(const s of Object.getOwnPropertyNames(r)){const n=r[s];qU(n),i[s]={enumerable:!0,configurable:!0,get:HU(s,n),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&n.readOnly?xT("read-only",s):a.lifecycle===Os.CONSTRUCTED&&n.constructOnly?xT("construct-only",s):void a.set(s,o)}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(t.prototype,i)}const xT=(t,e)=>{rr.getLogger("esri.core.Accessor").error(`cannot assign to ${t} property '${e}'`)},ET=new WeakMap;function YU(t,e,r=!1){const i=` DEPRECATED - ${e}`;if(!r)return void t.warn(i);let s=ET.get(t);s||(s=new Set,ET.set(t,s)),s.has(e)||(s.add(e),t.warn(i))}const ig="https://www.esriurl.com/";function Bge(t,e,r,i={}){ee("esri-deprecation-warnings")&&xl(t,`This widget is deprecated. Use the ${e} component instead.`,{see:[`${e} component reference: ${ig}${r}/`,`Esri's move to web components: ${ig}components-transition-plan/`],replacement:`<${r}></${r}>`,warnOnce:!0,...i})}function Vge(t,e,r,i={}){ee("esri-deprecation-warnings")&&xl(t,`This view model is deprecated. Use the ${e} component directly instead.`,{see:[`${e} component reference: ${ig}${r}/`,`Esri's move to web components: ${ig}components-transition-plan/`],replacement:`<${r}></${r}>`,warnOnce:!0,...i})}function Gge(t,e,r={}){ee("esri-deprecation-warnings")&&xl(t,`Module: ${e}`,r)}function WC(t,e,r={}){if(ee("esri-deprecation-warnings")){const{moduleName:i}=r;xl(t,`Function: ${(i?i+"::":"")+e+"()"}`,r)}}function JU(t,e,r={}){if(ee("esri-deprecation-warnings")){const{moduleName:i}=r;xl(t,`Property: ${(i?i+"::":"")+e}`,r)}}function KU(t,e,r={}){ee("esri-deprecation-warnings")&&xl(t,`Multiple argument constructor: ${e}`,{warnOnce:!0,replacement:`new ${e}({ <your properties here> })`,...r})}function xl(t,e,r={}){if(ee("esri-deprecation-warnings")){const{replacement:i,version:s,see:n,warnOnce:o}=r;let a=e;if(i&&(a+=`
	 Replacement: ${i}`),s&&(a+=`
	 Version: ${s}`),n)if(Array.isArray(n)){a+=`
	 See for more details:`;for(const l of n)a+=`
		${l}`}else a+=`
	 See ${n} for more details.`;YU(t,a,o)}}function zge(t){const e=[];return function*(){yield*e;for(const r of t)e.push(r),yield r}}function qge(t,e){for(const r of t)if(r!=null&&e(r))return r}function ST(t){return t!=null&&typeof t[Symbol.iterator]=="function"}let xE=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(r=>{e+=r.length}),e}add(e,r){if(ST(e)){const i=this._getOrCreateGroup(r);for(const s of e)TT(s)&&i.push(s)}else TT(e)&&this._getOrCreateGroup(r).push(e);return this}forEach(e,r){if(typeof e=="function")this._groups.forEach(i=>i.forEach(e));else{const i=this._getGroup(e);i&&r&&i.forEach(r)}}has(e){return this._groups.has(sy(e))}remove(e){if(typeof e!="string"&&ST(e)){for(const r of e)this.remove(r);return this}return this.has(e)?(AT(this._getGroup(e)),this._groups.delete(sy(e)),this):this}removeAll(){return this._groups.forEach(AT),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const r=[];return this._groups.set(sy(e),r),r}_getGroup(e){return this._groups.get(sy(e))}};function sy(t){return t||"_default_"}function AT(t){for(const e of t)e instanceof xE?e.removeAll():e.remove()}function TT(t){return t!=null&&(!!t.remove||t instanceof xE)}let ZU=class{constructor(e,r){this._observers=e,this._observer=r}remove(){XD(this._observers,this._observer)}},YC=class{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return XU;this._observers==null&&(this._observers=[]);const r=this._observers;let i=!1,s=!1;const n=r.length;for(let o=0;o<n;++o){const a=r[o];if(a.destroyed)s=!0;else if(a===e){i=!0;break}}return i||(r.push(e),s&&this._removeDestroyedObservers()),new ZU(r,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||e.length===0)return;const r=e.length;let i=0;for(let s=0;s<r;++s){for(;s+i<r&&e[s+i].destroyed;)++i;if(i>0){if(!(s+i<r))break;e[s]=e[s+i]}}e.length=r-i}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(e!=null){for(const r of e)r.onCommitted();this._observers=null}}};const XU=Cr();var ht;(function(t){t[t.DEFAULTS=0]="DEFAULTS",t[t.COMPUTED=1]="COMPUTED",t[t.SERVICE=2]="SERVICE",t[t.PORTAL_ITEM=3]="PORTAL_ITEM",t[t.WEB_SCENE=4]="WEB_SCENE",t[t.WEB_MAP=5]="WEB_MAP",t[t.LINK_CHART=6]="LINK_CHART",t[t.USER=7]="USER"})(ht||(ht={}));const Jge=ht.USER+1;function JC(t){switch(t){case"defaults":return ht.DEFAULTS;case"service":return ht.SERVICE;case"portal-item":return ht.PORTAL_ITEM;case"web-scene":return ht.WEB_SCENE;case"web-map":return ht.WEB_MAP;case"link-chart":return ht.LINK_CHART;case"user":return ht.USER;default:return null}}function K_(t){switch(t){case ht.DEFAULTS:return"defaults";case ht.SERVICE:return"service";case ht.PORTAL_ITEM:return"portal-item";case ht.WEB_SCENE:return"web-scene";case ht.WEB_MAP:return"web-map";case ht.LINK_CHART:return"link-chart";case ht.USER:return"user"}}function QU(t){return K_(t)}let MT=class extends YC{constructor(e,r){super(),this.propertyName=e,this.metadata=r,this.trackingTarget=new Uv(this),this.flags=0,this.flags=Ht.Dirty|(r.nonNullable?Ht.NonNullable:0)|(r.hasOwnProperty("value")?Ht.HasDefaultValue:0)|(r.get===void 0?Ht.DepTrackingInitialized:0)|(r.dependsOn===void 0?Ht.AutoTracked:0)}destroy(){this.flags&Ht.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&Ve(this);const r=e.store,i=this.propertyName,s=this.flags,n=r.get(i);if(s&Ht.Computing||~s&Ht.Dirty&&r.has(i))return n;this.flags|=Ht.Computing;const o=e.host;let a;s&Ht.AutoTracked?a=ma(this.trackingTarget,this.metadata.get,o):(MC(o,this),a=this.metadata.get.call(o)),this.flags|=Ht.DepTrackingInitialized,r.set(i,a,ht.COMPUTED);const l=r.get(i);return l===n?this.flags&=-2:sU(this.commit,this),this.flags&=-5,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onInvalidated(){~this.flags&Ht.Overridden&&(this.flags|=Ht.Dirty);const e=this._observers;if(e&&e.length>0)for(const r of e)r.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const r=e.slice();for(const i of r)i.onCommitted()}}},ej=class KC{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const r=new KC;return this._values.forEach((i,s)=>{e&&e.has(s)||r.set(s,ge(i))}),r}get(e){return this._values.get(e)}originOf(){return ht.USER}keys(){return[...this._values.keys()]}set(e,r){this._values.set(e,r)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}isAtOrigin(e,r){return this.has(e)}isBelowOrigin(e,r){return!this.has(e)}forEach(e){this._values.forEach(e)}};function xu(t,e,r){return t!==void 0}function $T(t,e,r,i){return t!==void 0&&(!(r==null&&t.flags&Ht.NonNullable)||(i.lifecycle,!1))}let tj=class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Os.INITIALIZING,this.store=new ej,this.mutable=!0,this._origin=ht.USER;const r=this.host.constructor.__accessorMetadata__;for(const i in r){const s=new MT(i,r[i]);this.propertiesByName.set(i,s)}this.metadata=r}initialize(){this.lifecycle=Os.CONSTRUCTING}constructed(){this.lifecycle=Os.CONSTRUCTED}destroy(){this.lifecycle=Os.DESTROYED,this.propertiesByName.forEach(e=>e.destroy())}get initialized(){return this.lifecycle!==Os.INITIALIZING}get(e){const r=this.propertiesByName.get(e);if(!xu(r))return;if(r.metadata.get)return r.getComputed(this);this.mutable&&Ve(r);const i=this.store;return i.has(e)?i.get(e):r.metadata.value}originOf(e){const r=this.store.originOf(e);if(r===void 0){const i=this.propertiesByName.get(e);if(i!==void 0&&i.flags&Ht.HasDefaultValue)return"defaults"}return K_(r)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const r=this.propertiesByName.get(e);if(xu(r))return this.store.has(e)?this.store.get(e):r.metadata.value}internalSet(e,r){const i=this.propertiesByName.get(e);xu(i)&&this._internalSet(i,r)}getDependsInfo(e,r,i){const s=this.propertiesByName.get(r);if(!xu(s))return"";const n=new Uv,o=ma(n,()=>s.metadata.get?.call(e));let a=`${i}${e.declaredClass.split(".").pop()}.${r}: ${o}
`;const l=n.accessed??new Set;if(l.size===0)return a;i+="  ";for(const c of l)c instanceof MT&&(a+=`${i}${c.propertyName}: undefined
`);return a}setAtOrigin(e,r,i){const s=this.propertiesByName.get(e);if(xu(s))return this._setAtOrigin(s,r,i)}isOverridden(e){const r=this.propertiesByName.get(e);return r!==void 0&&!!(r.flags&Ht.Overridden)}clearOrigin(e,r){const i=this.store,s=this.propertiesByName.get(e);if(!xu(s))return;const n=i.isAtOrigin(e,r)&&!(s.flags&Ht.Overridden);i.delete(e,r),n&&s.notifyChange()}clearOverride(e){const r=this.propertiesByName.get(e);r&&r.flags&Ht.Overridden&&(r.flags&=-3,r.notifyChange())}override(e,r){const i=this.propertiesByName.get(e);if(!$T(i,e,r,this))return;const s=i.metadata.cast;if(s){const n=this._cast(s,r),{valid:o,value:a}=n;if(yb.release(n),!o)return;r=a}i.flags|=Ht.Overridden,this._internalSet(i,r)}set(e,r){const i=this.propertiesByName.get(e);if(!$T(i,e,r,this))return;const s=i.metadata.cast;if(s){const o=this._cast(s,r),{valid:a,value:l}=o;if(yb.release(o),!a)return;r=l}const n=i.metadata.set;n?n.call(this.host,r):this._internalSet(i,r)}setDefaultOrigin(e){this._origin=JC(e)}getDefaultOrigin(){return K_(this._origin)}notifyChange(e){const r=this.propertiesByName.get(e);r!==void 0&&r.notifyChange()}invalidate(e){const r=this.propertiesByName.get(e);r!==void 0&&r.invalidate()}commit(e){const r=this.propertiesByName.get(e);r!==void 0&&r.commit()}_internalSet(e,r){const i=this.lifecycle!==Os.INITIALIZING?this._origin:ht.DEFAULTS;this._setAtOrigin(e,r,i)}_setAtOrigin(e,r,i){const s=this.store,n=e.propertyName;if(s.isAtOrigin(n,i)&&lE(r,s.get(n))&&~e.flags&Ht.Overridden)return;const o=s.isBelowOrigin(n,i)||s.isAtOrigin(n,i);o&&e.invalidate(),s.set(n,r,i),o&&e.commit(),TC(this.host,e)}_cast(e,r){const i=yb.acquire();return i.valid=!0,i.value=r,e&&(i.value=e.call(this.host,r,i)),i}},rj=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const yb=new Fv(rj);let ij;function sj(){return ij}var OT;(function(t){t[t.Ignore=0]="Ignore",t[t.Destroy=1]="Destroy",t[t.ThrowError=2]="ThrowError"})(OT||(OT={}));var IT,CT;function nj(t){if(t==null)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return t.constructor?.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}const Ta=Symbol("Accessor-Handles"),gb=Symbol("Accessor-Initialized");let oi=class r0{static{IT=Ta,CT=gb}static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:i,constructor:s}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const n=this;class o extends n{constructor(...l){super(...l),this.inherited=null,s&&s.apply(this,l)}}pm(o.prototype);for(const a in e){const l=e[a];o.prototype[a]=typeof l=="function"?function(...c){const f=this.inherited;let d;this.inherited=function(...p){if(n.prototype[a])return n.prototype[a].apply(this,p)};try{d=l.apply(this,c)}catch(p){throw this.inherited=f,p}return this.inherited=f,d}:e[a]}for(const a in r){const l=nj(r[a]);A(l)(o.prototype,a)}return ie(i)(o)}static freeze(e){return e instanceof r0?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof r0?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){if(this[IT]=null,this[CT]=!1,this.constructor===r0)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new tj(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),e.length>0&&(r.ctorArgs=this.normalizeCtorArgs?.apply(this,e)??e[0])}postscript(){const e=this.__accessor__,r=e.ctorArgs;e.initialize(),r&&(this.set(r),e.ctorArgs=null),e.constructed(),this.initialize(),this[gb]=!0}initialize(){}[DC](){this[Ta]=Ky(this[Ta])}destroy(){this.destroyed||(cU(this),this.__accessor__.destroy(),sj()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[gb]}get destroyed(){return this.__accessor__?.lifecycle===Os.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===Os.DESTROYING||!1}commitProperty(e){Ph(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,r){return tg(this,e,r),this}watch(e,r,i){return WC(rr.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),pU(this,e,r,i)}addHandles(e,r){if(this.destroyed){const i=Array.isArray(e)?e:[e];for(const s of i)s.remove();return}(this[Ta]??=new xE).add(e,r)}removeHandles(e){this[Ta]?.remove(e)}removeAllHandles(){this[Ta]?.removeAll()}removeHandlesReference(e){this[Ta]?.removeReference(e)}hasHandles(e){return this[Ta]?.has(e)===!0}_override(e,r){r===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,r)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,r){r==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,r)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,r){return this.__accessor__.internalSet(e,r),this}},oj=class ZC{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const r=new ZC;return this._values.forEach((i,s)=>{e&&e.has(s)||r.set(s,ge(i.value),i.origin)}),r}get(e,r){r=this._normalizeOrigin(r);const i=this._values.get(e);return r==null||i?.origin===r?i?.value:void 0}originOf(e){return this._values.get(e)?.origin??ht.USER}keys(e){e=this._normalizeOrigin(e);const r=[...this._values.keys()];return e==null?r:r.filter(i=>this._values.get(i)?.origin===e)}set(e,r,i){if((i=this._normalizeOrigin(i))===ht.DEFAULTS){const s=this._values.get(e);if(s?.origin!=null&&s.origin>i)return}this._values.set(e,new aj(r,i))}delete(e,r){(r=this._normalizeOrigin(r))!=null&&this._values.get(e)?.origin!==r||this._values.delete(e)}has(e,r){return(r=this._normalizeOrigin(r))!=null?this._values.get(e)?.origin===r:this._values.has(e)}isAtOrigin(e,r){return r=this._normalizeOrigin(r),this.has(e,r)&&this.originOf(e)===r}isBelowOrigin(e,r){return r=this._normalizeOrigin(r),!this.has(e)||this.originOf(e)<r}forEach(e){this._values.forEach(({value:r},i)=>e(r,i))}_normalizeOrigin(e){if(e!=null)return e===ht.DEFAULTS?e:ht.USER}},aj=class{constructor(e,r){this.value=e,this.origin=r}};function lj(t,e,r){e.keys().forEach(s=>{r.set(s,e.get(s),ht.DEFAULTS)});const i=t.metadata;Object.keys(i).forEach(s=>{t.internalGet(s)&&r.set(s,t.internalGet(s),ht.DEFAULTS)})}function cj(t,e,r){if(!t?.read||t.read.enabled===!1||!t.read.source)return!1;const i=t.read.source;if(typeof i=="string"){if(i===e||i.includes(".")&&i.indexOf(e)===0&&dT(i,r))return!0}else for(const s of i)if(s===e||s.includes(".")&&s.indexOf(e)===0&&dT(s,r))return!0;return!1}function uj(t){return t&&(!t.read||t.read.enabled!==!1&&!t.read.source)}function hj(t,e,r,i,s){let n=Y_(e[r],s);uj(n)&&(t[r]=!0);for(const o of Object.getOwnPropertyNames(e))n=Y_(e[o],s),cj(n,r,i)&&(t[o]=!0)}function fj(t,e,r,i){const s=r.metadata,n=BU(s[e],i),o=n?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(t,e,i):o;a!==void 0&&r.set(e,a)}const XC={origin:"service"};function dj(t,e,r=XC){if(!e||typeof e!="object")return;const i=wl(t),s=i.metadata,n={};for(const o of Object.getOwnPropertyNames(e))hj(n,s,o,e,r);i.setDefaultOrigin(r.origin);for(const o of Object.getOwnPropertyNames(n)){const a=Y_(s[o],r).read,l=a?.source;let c;c=l&&typeof l=="string"?dm(e,l):e[o],a?.reader&&(c=a.reader.call(t,c,e,r)),c!==void 0&&i.set(o,c)}if(!r||!r.ignoreDefaults){i.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(s))n[o]||fj(t,o,i,r)}i.setDefaultOrigin("user")}function eve(t,e,r,i=XC){const s={...i,messages:[]};r(s),s.messages?.forEach(n=>{n.type!=="warning"||t.loaded?i?.messages&&i.messages.push(n):t.loadWarnings.push(n)})}function pj(t,e,r,i,s){const n={};return e.write?.writer?.call(t,i,n,r,s),n}function QC(t,e,r,i,s,n){if(!i?.write)return!1;const o=Ph(t,r);if(!s&&i.write.overridePolicy){const a=i.write.overridePolicy.call(t,o,r,n??void 0);a!==void 0&&(s=a)}if(s||(s=i.write),!s||s.enabled===!1||s.layerContainerTypes&&n?.layerContainerType&&!s.layerContainerTypes.includes(n.layerContainerType))return!1;if((o===null&&!s.allowNull&&!s.writerEnsuresNonNull||o===void 0)&&s.isRequired){const a=new mt("web-document-write:property-required",`Missing value for required property '${r}' on '${t.declaredClass}'`,{propertyName:r,target:t});return a&&n?.messages?n.messages.push(a):a&&!n&&rr.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(r)===ht.DEFAULTS)&&mj(t,r,n,i,o)||!s.ignoreOrigin&&n?.origin&&e.store.multipleOriginsSupported&&e.store.originOf(r)<JC(n.origin))}function mj(t,e,r,i,s){const n=i.default;if(n===void 0)return!1;if(i.defaultEquals!=null)return i.defaultEquals(s);if(typeof n=="function"){if(Array.isArray(s)){const o=n.call(t,e,r??void 0);return Nv(o,s)}return!1}return n===s}function tve(t,e,r,i){const s=wl(t),n=s.metadata,o=qC(n[e],i);return!!o&&QC(t,s,e,o,r,i)}function yj(t,e,r){if(t&&typeof t.toJSON=="function"&&(!t.toJSON.isDefaultToJSON||!t.write))return Xy(e,t.toJSON(r));const i=wl(t),s=i.metadata;for(const n in s){const o=qC(s[n],r);if(!QC(t,i,n,o,void 0,r))continue;const a=Ph(t,n),l=pj(t,o,o.write&&typeof o.write.target=="string"?o.write.target:n,a,r);Object.keys(l).length>0&&(e=Xy(e,l),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>Xy(e,l,()=>"replace-arrays"))),r?.writtenProperties&&r.writtenProperties.push({target:t,propName:n,oldOrigin:QU(i.store.originOf(n)),newOrigin:r.origin}))}return e}const e5=t=>{let e=class extends t{constructor(...r){super(...r);const i=wl(this),s=i.store,n=new oj;i.store=n,lj(i,s,n)}read(r,i){dj(this,r,i)}write(r,i){return yj(this,r??{},i)}toJSON(r){return this.write({},r)}static fromJSON(r,i){return gj.call(this,r,i)}};return e=g([ie("esri.core.JSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function gj(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(t,e),r}let td=class extends e5(oi){};td=g([ie("esri.core.JSONSupport")],td),function(t){t.JSONSupportMixin=e5}(td||(td={}));const rt=td;function ni(t,e,r){let i,s;return e===void 0||Array.isArray(e)?(s=t,r=e,i=[void 0]):(s=e,i=Array.isArray(t)?t:[t]),(n,o)=>{const a=n.constructor.prototype;i.forEach(l=>{const c=RC(n,l,s);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],r&&(c.read.source=(c.read.source||[]).concat(r))})}}let Ao=class{constructor(e,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=vj(e),this.apiValues=NT(this._apiToJSON),this.jsonValues=NT(this._jsonToAPI),this.read=i=>this.fromJSON(i),this.write=(i,s,n)=>{const o=this.toJSON(i);o!==void 0&&ou(n,o,s)},this.write.isJSONMapWriter=!0}toJSON(e){if(e==null)return null;if(this._apiToJSON.hasOwnProperty(e)){const r=this._apiToJSON[e];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?null:e}fromJSON(e){return e!=null&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}};function vj(t){const e={};for(const r in t)e[t[r]]=r;return e}function NT(t){const e=[];for(const r in t)e.push(r);return e.sort(),e}function Hn(){return function(t,e){return new Ao(t,{ignoreUnknown:!0,...e})}}let EE=class{constructor(e,r,i,s,n,o){this.semiMajorAxis=e,this.flattening=r,this.outerAtmosphereRimWidth=i,this.atmosphereHeight=s,this.scaleHeight=n;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const jn=new EE(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),vp=new EE(3396190,1/169.8944472236118,23e4,6e4,.111),Vv=new EE(1737400,0,0,0,0);function sg(t){return t&&typeof t=="object"&&"toJSON"in t&&typeof t.toJSON=="function"}const bj=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,_j={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function PT(t){const e=t?.match(bj);if(!e)return null;const[,r,i,s]=e;if(!r)return null;let n=null,o=null,a=null;const{devext:l,qaext:c,www:f}=_j;if(i)if(n=r,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=f);else switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=f);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:n}}function t5(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}function r5(t){const e=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,r=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,i=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return e.test(t)?t=t.replace(e,"https://www.arcgis.com"):r.test(t)?t=t.replace(r,"https://devext.arcgis.com"):i.test(t)&&(t=t.replace(i,"https://qaext.arcgis.com")),t}function wj(t){const e=atob(t),r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r.buffer}function xj(t){const e=new Uint8Array(t);let r="";for(let i=0;i<e.length;i++)r+=String.fromCharCode(e[i]);return btoa(r)}const Ej=()=>rr.getLogger("esri.core.urlUtils"),gf=_t.request,LT="esri/config: esriConfig.request.proxyUrl is not set.",i5=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,s5=/^\s*http:/i,Sj=/^\s*https:/i,Aj=/^\s*file:/i,n5=/:\d+$/,Tj=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Mj=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),$j=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let gh=class{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(Mj);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match($j),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const ny={},Oj=new gh(_t.applicationUrl);let Ci=Oj;const Ij=Cj();let SE=Ij;const AE=()=>Ci,ove=()=>SE;function Cj(){const t=Ci.path,e=t.slice(0,t.lastIndexOf("/")+1);return`${`${Ci.scheme}://${Ci.host}${Ci.port!=null?`:${Ci.port}`:""}`}${e}`}function Po(t){if(!t)return null;const e={path:null,query:null},r=new gh(t),i=t.indexOf("?");return r.query===null?e.path=t:(e.path=t.slice(0,i),e.query=TE(r.query)),r.fragment&&(e.hash=r.fragment,r.query===null&&(e.path=e.path.slice(0,e.path.length-(r.fragment.length+1)))),e}function TE(t){const e=t.split("&"),r={};for(const i of e){if(!i)continue;const s=i.indexOf("=");let n,o;s<0?(n=decodeURIComponent(i),o=""):(n=decodeURIComponent(i.slice(0,s)),o=decodeURIComponent(i.slice(s+1)));let a=r[n];typeof a=="string"&&(a=r[n]=[a]),Array.isArray(a)?a.push(o):r[n]=o}return r}function bp(t,e){return t?Object.keys(t).map(r=>{const i=t[r];if(i==null)return"";const s=encodeURIComponent(r)+"=",n=e?.[r];return n?s+encodeURIComponent(n(i)):Array.isArray(i)?i.map(o=>sg(o)?s+encodeURIComponent(JSON.stringify(o)):s+encodeURIComponent(o)).join("&"):sg(i)?s+encodeURIComponent(JSON.stringify(i)):s+encodeURIComponent(i)}).filter(r=>r).join("&"):""}function o5(t=!1){let e,r=gf.proxyUrl;if(typeof t=="string"){e=Dj(t);const i=Gv(t);i&&(r=i.proxyUrl)}else e=!!t;if(!r)throw Ej().warn(LT),new mt("urlUtils:proxy-not-set",LT);return e&&Z_()&&(r=CE(r)),Po(r)}function ave(t,e=!1){const r=Gv(t);let i,s;if(r){const n=ME(r.proxyUrl);i=n.path,s=n.query?TE(n.query):null}else if(e){const n=o5(t);i=n.path,s=n.query}if(i){const n=Po(t);t=i+"?"+n.path;const o=bp({...s,...n.query});o&&(t=`${t}?${o}`)}return t}const kf={path:"",query:""};function ME(t){const e=t.indexOf("?");return e!==-1?(kf.path=t.slice(0,e),kf.query=t.slice(e+1)):(kf.path=t,kf.query=null),kf}function a5(t){return t=(t=og(t=Vj(t=ME(t).path),!0)).toLowerCase()}function Nj(t){const e={proxyUrl:t.proxyUrl,urlPrefix:a5(t.urlPrefix)},r=gf.proxyRules,i=e.urlPrefix;let s=r.length;for(let n=0;n<r.length;n++){const o=r[n].urlPrefix;if(i.indexOf(o)===0){if(i.length===o.length)return-1;s=n;break}o.indexOf(i)===0&&(s=n+1)}return r.splice(s,0,e),s}function Gv(t){const e=gf.proxyRules,r=a5(t);for(let i=0;i<e.length;i++)if(r.indexOf(e[i].urlPrefix)===0)return e[i]}function lve(t,e){if(!t||!e)return!1;t=ng(t),e=ng(e);const r=PT(t),i=PT(e);return r!=null&&i!=null?r.portalHostname===i.portalHostname:r==null&&i==null&&Gc(t,e,!0)}function Pj(t,e){return t=ng(t),e=ng(e),og(t)===og(e)}function ng(t){const e=(t=fl(t)).indexOf("/sharing");return e>0?t.slice(0,e):t.replace(/\/+$/,"")}function kT(t,e=gf.interceptors){const r=i=>i instanceof RegExp?i.test(t):typeof i=="string"?t.startsWith(i):i==null;if(e){for(const i of e)if(Array.isArray(i.urls)){if(i.urls.some(r))return i}else if(r(i.urls))return i}return null}function Gc(t,e,r=!1){if(!t||!e)return!1;const i=Q_(t),s=Q_(e);return!(!r&&i.scheme!==s.scheme)&&i.host!=null&&s.host!=null&&i.host.toLowerCase()===s.host.toLowerCase()&&i.port===s.port}function $E(t){if(typeof t=="string"){if(!Pn(t))return!0;t=Q_(t)}if(Gc(t,Ci))return!0;const e=gf.trustedServers||[];for(let r=0;r<e.length;r++){const i=Lj(e[r]);for(let s=0;s<i.length;s++)if(Gc(t,i[s]))return!0}return!1}function Lj(t){return ny[t]||(IE(t)||Il(t)?ny[t]=[new gh(mm(t))]:ny[t]=[new gh(`http://${t}`),new gh(`https://${t}`)]),ny[t]}function mm(t,e=SE,r){return Il(t)?r?.preserveProtocolRelative?t:Ci.scheme==="http"&&Ci.authority===Ls(t).slice(2)?`http:${t}`:`https:${t}`:IE(t)?t:zv(t[0]==="/"?Bj(e):e,t)}function l5(t,e=SE,r){if(t==null||!Pn(t))return t;const i=fl(t),s=i.toLowerCase(),n=fl(e).toLowerCase().replace(/\/+$/,""),o=r?fl(r).toLowerCase().replace(/\/+$/,""):null;if(o&&n.indexOf(o)!==0)return t;const a=(d,p,y)=>(y=d.indexOf(p,y))===-1?d.length:y;let l=a(s,"/",s.indexOf("//")+2),c=-1;for(;s.slice(0,l+1)===n.slice(0,l)+"/"&&(c=l+1,l!==s.length);)l=a(s,"/",l+1);if(c===-1||o&&c<o.length)return t;t=i.slice(c);const f=n.slice(c-1).replaceAll(/[^/]+/g,"").length;if(f>0)for(let d=0;d<f;d++)t=`../${t}`;else t=`./${t}`;return t}function fl(t){return t=qj(t=zj(t=Gj(t=mm(t=t.trim()))))}function zv(...t){const e=t.filter(QD);if(!e?.length)return;const r=[];if(Pn(e[0])){const s=e[0],n=s.indexOf("//");n!==-1&&(r.push(s.slice(0,n+1)),Uj(e[0])&&(r[0]+="/"),e[0]=s.slice(n+2))}else e[0][0]==="/"&&r.push("");const i=e.reduce((s,n)=>n?s.concat(n.split("/")):s,[]);for(let s=0;s<i.length;s++){const n=i[s];n===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!n&&s===i.length-1||n&&(n!=="."||r.length===0))&&r.push(n)}return r.join("/")}function Ls(t,e=!1){if(t==null||OE(t)||vf(t))return null;let r=t.indexOf("://");if(r===-1&&Il(t))r=2;else{if(r===-1)return null;r+=3}const i=t.indexOf("/",r);return i!==-1&&(t=t.slice(0,i)),e&&(t=og(t,!0)),t}function Pn(t){return Il(t)||IE(t)}function OE(t){return t!=null&&t.slice(0,5)==="blob:"}function vf(t){return t!=null&&t.slice(0,5)==="data:"}function kj(t){const e=_p(t);return e?.isBase64?wj(e.data):null}function cve(t){return xj(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const Rj=/^data:(.*?)(;base64)?,(.*)$/;function _p(t){const e=t.match(Rj);if(!e)return null;const[,r,i,s]=e;return{mediaType:r,isBase64:!!i,data:s}}function c5(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}async function uve(t){return(await fetch(t)).blob()}function hve(t){const e=kj(t);if(!e)return null;const r=_p(t);return new Blob([e],{type:r.mediaType})}function Il(t){return t!=null&&t[0]==="/"&&t[1]==="/"}function IE(t){return t!=null&&i5.test(t)}function Dj(t){return t!=null&&Sj.test(t)||Ci.scheme==="https"&&Il(t)}function Fj(t){return t!=null&&s5.test(t)||Ci.scheme==="http"&&Il(t)}function Uj(t){return t!=null&&Aj.test(t)}function CE(t){return Il(t)?`https:${t}`:t.replace(s5,"https:")}function jj(){return Ci.scheme==="http"}function Z_(){return Ci.scheme==="https"}function og(t,e=!1){return Il(t)?t.slice(2):(t=t.replace(i5,""),e&&t.length>1&&t[0]==="/"&&t[1]==="/"&&(t=t.slice(2)),t)}function Bj(t){const e=t.indexOf("//"),r=t.indexOf("/",e+2);return r===-1?t:t.slice(0,r)}function fve(t){let e=0;if(Pn(t)){const i=t.indexOf("//");i!==-1&&(e=i+2)}const r=t.lastIndexOf("/");return r<e?t:t.slice(0,r+1)}function dve(t,e){if(!t)return"";const r=Po(t).path.replace(/\/+$/,""),i=r.slice(r.lastIndexOf("/")+1);if(!e?.length)return i;const s=new RegExp(`\\.(${e.join("|")})$`,"i");return i.replace(s,"")}function Vj(t){return t.endsWith("/")?t:`${t}/`}function u5(t){return t.replace(/\/+$/,"")}function Gj(t){if(/^https?:\/\//i.test(t)){const e=ME(t);t=(t=e.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),e.query&&(t+=`?${e.query}`)}return t}function zj(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function qj(t){const e=gf.httpsDomains;if(!Fj(t))return t;const r=t.indexOf("/",7);let i;if(i=r===-1?t:t.slice(0,r),i=i.toLowerCase().slice(7),n5.test(i)){if(!i.endsWith(":80"))return t;i=i.slice(0,-3),t=t.replace(":80","")}return jj()&&i===Ci.authority&&!Tj.test(t)||(Z_()&&i===Ci.authority||e&&e.some(s=>i===s||i.endsWith(`.${s}`))||Z_()&&!Gv(t))&&(t=CE(t)),t}function X_(t,e,r){if(!(e&&r&&t&&Pn(t)))return t;const i=t.indexOf("//"),s=t.indexOf("/",i+2),n=t.indexOf(":",i+2),o=Math.min(s<0?t.length:s,n<0?t.length:n);return t.slice(i+2,o).toLowerCase()!==e.toLowerCase()?t:`${t.slice(0,i+2)}${r}${t.slice(o)}`}function Hj(t,e){const r=new URL(t);return r.host=e,r.port&&!n5.test(e)&&(r.port=""),r.toString()}function pve(t){return new URL(t).host}function Q_(t){return typeof t=="string"?new gh(mm(t)):(t.scheme||(t.scheme=Ci.scheme),t)}function mve(t){return Yj.test(t)}function h5(t,e){const r=Po(t),i=Object.keys(r.query||{});return i.length>0&&e&&e.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${i.join(", ")}.`),r.path}function Wj(t,e,r){const i=Po(t),s=i.query||{};return s[e]=String(r),`${i.path}?${bp(s)}`}function vb(t,e){if(!e)return t;const r=Po(t),i=r.query||{};for(const[n,o]of Object.entries(e))o!=null&&(i[n]=o);const s=bp(i);return s?`${r.path}?${s}`:r.path}function yve(t){if(t==null)return null;const e=t.match(f5);return e?e[2]:null}function RT(t){if(t==null)return null;const e=t.match(f5);return e?{path:e[1],extension:e[2]}:{path:t,extension:null}}async function gve(t){return typeof t=="string"?_p(t)??{data:t}:new Promise((e,r)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>e(_p(i.result)),i.onerror=s=>r(s)})}const f5=/([^.]*)\.([^/]*)$/,Yj=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const Jj="4.33";let Jt,Kj=Jj;Kj="4.33.9";function vve(t){Jt=t}function bve(t){const e=Jt?.findCredential(t);return e?.token?Wj(t,"token",e.token):t}ee("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),ee("host-webworker");function ym(t,e){const r=e?.url?.path;if(t&&r&&(t=mm(t,r,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const i=l5(t,e.portalItem.itemUrl);i!=null&&Zj.test(i)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(i).path)}return(t=e2(t,e?.portal))&&Hv.test(t)?p5(t):t}function qv(t,e,r=wp.YES){if((t=t&&Hv.test(t)?m5(t):t)==null)return t;!Pn(t)&&e?.blockedRelativeUrls&&e.blockedRelativeUrls.push(t);let i=mm(t);if(e){const s=e.verifyItemRelativeUrls?.rootPath||e.url?.path;if(s){const n=e2(s,e.portal),o=e2(i,e.portal);i=l5(o,n,n),i!=null&&i!==o&&i!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=d5(i,e?.portal),Pn(i)&&(i=fl(i)),e?.resources&&e?.portalItem&&!Pn(i)&&!vf(i)&&r===wp.YES&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(i),compress:!1}),i}function NE(t,e,r){return ym(t,r)}function Lh(t,e,r,i){const s=qv(t,i);s!==void 0&&(e[r]=s)}const Hv=/\/items\/([^/]+)\/resources\/(.*)/,Zj=/^\.\/resources\//;function Xj(t){return(t?.match(Hv)??null)?.[1]??null}function Qj(t){const e=t?.match(Hv)??null;if(e==null)return null;const r=e[2],i=r.lastIndexOf("/");if(i===-1){const{path:o,extension:a}=RT(r);return{prefix:null,filename:o,extension:a}}const{path:s,extension:n}=RT(r.slice(i+1));return{prefix:r.slice(0,i),filename:s,extension:n}}function d5(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?X_(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}function e2(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const r=`${e.urlKey}.${e.customBaseUrl}`,i=AE();return Gc(i,`${i.scheme}://${r}`)?X_(t,e.portalHostname,r):X_(t,r,e.portalHostname)}function p5(t){if(!t)return t||null;let e=t;return e&&Jt&&!Jt.findCredential(e)&&(e=r5(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}function m5(t){if(!t)return t||null;let e=t;return e=e.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),e=e.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),e=e.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),e&&Jt&&!Jt.findCredential(e)&&(e=r5(e)),e}var wp;(function(t){t[t.YES=0]="YES",t[t.NO=1]="NO"})(wp||(wp={}));const _ve=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return wp},ensureMainOnlineDomain:d5,fromCDNUrl:m5,fromJSON:ym,itemIdFromResourceUrl:Xj,prefixAndFilenameFromResourceUrl:Qj,read:NE,toCDNUrl:p5,toJSON:qv,write:Lh},Symbol.toStringTag,{value:"Module"})),y5={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},g5=Object.values(y5),v5=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${g5.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),eB=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${g5.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),tB=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function wve(t){return v5.test(t)}function Wv(t){if(t==null)return null;const e=Po(t),r=e?.path.match(v5)||e?.path.match(eB);if(!r)return null;const[,i,s,n,o]=r,a=s.indexOf("/");return{title:b5(a!==-1?s.slice(a+1):s),serverType:y5[n.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:i}}}function rB(t){const e=Po(t).path.match(tB);return e?{serviceUrl:e[1],sublayerId:Number(e[2])}:null}function b5(t){return(t=t.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+t.slice(1)}function xve(t,e){const r=[];if(t){const i=Wv(t);i!=null&&i.title&&r.push(i.title)}if(e){const i=b5(e);r.push(i)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function DT(t){let e=Ls(t,!0);return!!e&&(e=e.toLowerCase(),e.endsWith(".arcgis.com")&&(e.startsWith("services")||e.startsWith("tiles")||e.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(e)))}function Eve(t,e){return t&&u5(h5(t,e))}function Sve(t){let{url:e}=t;if(!e)return{url:e};e=h5(e,t.logger);const r=Po(e),i=Wv(r.path);let s;if(i!=null)i.sublayer!=null&&t.layer.layerId==null&&(s=i.sublayer),e=i.url.path;else if(t.nonStandardUrlAllowed){const n=rB(r.path);n!=null&&(e=n.serviceUrl,s=n.sublayerId)}return{url:u5(e),layerId:s}}function Ave(t,e,r,i,s){Lh(e,i,"url",s),i.url&&t.layerId!=null&&(i.url=zv(i.url,r,t.layerId.toString()))}function Tve(t){if(!t)return!1;const e=t.toLowerCase(),r=e.includes("/services/"),i=e.includes("/mapserver/wmsserver"),s=e.includes("/imageserver/wmsserver"),n=e.includes("/wmsserver");return r&&(i||s||n)}const iB=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function _5(t){if(!w5(t))return null;const e=i=>i instanceof RegExp?i.test(t):typeof i=="string"&&t.startsWith(i),r=_t.apiKeys;if(Array.isArray(r.scopes)){for(const i of r.scopes)if(Array.isArray(i.urls)){if(i.urls.some(e))return i.token}else if(e(i.urls))return i.token}return r.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(t)?r.basemapStyles:_t.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(t)?_t.apiKey:null}function FT(){return _t.apiKey!=null||_t.apiKeys.basemapStyles!=null}function sB(t,e){return e?w5(t):_5(t)!=null}function w5(t){const e=Ls(t,!0);return!!e&&!iB.has(e)&&!t.endsWith("/sharing/rest/generateToken")}function nB(t,e,r=!1,i){return new Promise((s,n)=>{if(_l(i))return void n(UT());let o=()=>{c(),n(new Error(`Unable to load ${e}`))},a=()=>{const f=t;c(),s(f)},l=()=>{if(!t)return;const f=t;c(),f.src="",n(UT())};const c=()=>{ee("esri-image-decode")||(t.removeEventListener("error",o),t.removeEventListener("load",a)),o=null,a=null,t=null,i?.removeEventListener("abort",l),l=null,r&&URL.revokeObjectURL(e)};i?.addEventListener("abort",l),ee("esri-image-decode")?t.decode().then(a,o):(t.addEventListener("error",o),t.addEventListener("load",a))})}function UT(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const x5="Timeout exceeded";function oB(){return new Error(x5)}function Mve(t){return typeof t=="object"&&!!t&&"message"in t&&t.message===x5}function aB(t){_t.request.crossOriginNoCorsDomains||(_t.request.crossOriginNoCorsDomains={});const e=_t.request.crossOriginNoCorsDomains;for(let r of t)r=r.toLowerCase(),/^https?:\/\//.test(r)?e[Ls(r)??""]=0:(e[Ls("http://"+r)??""]=0,e[Ls("https://"+r)??""]=0)}function lB(t){const e=_t.request.crossOriginNoCorsDomains;if(e){let r=Ls(t);if(r)return r=r.toLowerCase(),!Gc(r,AE())&&e[r]<Date.now()-36e5}return!1}async function cB(t){const e=Po(t);t=e.path,e.query?.f==="json"&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}const r=_t.request.crossOriginNoCorsDomains,i=Ls(t);r&&i&&(r[i.toLowerCase()]=Date.now())}const t2=new Map;function uB(t,e){const r=e?.preferredHost;if(!r||Gc(t,`https://${r}`,!0))return;const i=Wv(t);if(!i||i.serverType!=="FeatureServer"||t5(t))return;const s=i.url.path.toLowerCase();t2.has(s)||t2.set(s,r)}function jT(t){const e=Wv(t)?.url.path.toLowerCase();if(!e)return t;const r=t2.get(e);return r?Hj(t,r):t}async function Dr(t,e){t instanceof URL&&(t=t.toString()),e?.query instanceof URLSearchParams&&(e.query=TE(e.query.toString().replaceAll("+"," ")));const r=vf(t),i=OE(t);i||r||(t=fl(t));const s={url:t,requestOptions:{...e}},n=y=>({data:y,getAllHeaders:kh,getHeader:kh,httpStatus:200,requestOptions:s.requestOptions,url:s.url}),o=kT(t,Zs.internalInterceptors);if(o){const y=await VT(o,s);if(y!=null)return n(y)}let a=kT(t);if(a){const y=await VT(a,s);if(y!=null)return n(y);a.after||a.error||(a=null)}if(t=s.url,(e=s.requestOptions).responseType==="image"&&(ee("host-webworker")||ee("host-node")))throw Ln("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(e.method==="head"){if(e.body)throw Ln("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(r||i)throw Ln("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await mB(),ag)return ag.execute(t,e);const l=new AbortController,c=Nh(e,()=>l.abort()),f={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:s,redoRequest:!1,useIdentity:Zs.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},d=e.useRequestQueue?_B(f):i2(f),p=await d.finally(()=>c?.remove());return a?.after?.(p),p}let ag,E5=!1;const Zs=_t.request,S5="FormData"in globalThis,hB=new Set([499,498,403,401]),fB=new Set(["COM_0056","COM_0057","SB_0008"]),dB=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],kh=()=>null,lg=Symbol();function pB(t){const e=Ls(t);e&&!Dr._corsServers.includes(e)&&Dr._corsServers.push(e)}function BT(t){const e=Ls(t);return!e||e.endsWith(".arcgis.com")||Dr._corsServers.includes(e)||$E(e)}function Ln(t,e,r,i){let s;const n={url:r.url,requestOptions:r.requestOptions,getAllHeaders:kh,getHeader:kh,ssl:!1};if(e instanceof mt)return e.details?(e.details=ge(e.details),e.details.url=r.url,e.details.requestOptions=r.requestOptions):e.details=n,e;if(e){const o=i&&(()=>Array.from(i.headers)),a=i&&(f=>i.headers.get(f)),l=i?.status,c=e.message;c&&(s=c),o&&a&&(n.getAllHeaders=o,n.getHeader=a),n.httpStatus=(e.httpCode!=null?e.httpCode:e.code)||l||0,n.subCode=e.subcode,n.messageCode=e.messageCode,typeof e.details=="string"?(n.messages=[e.details],s??=e.details):(n.messages=e.details,s??=n.messages?.[0]),n.raw=lg in e?e[lg]:e}return s??="Error",fm(e)?Es():new mt(t,s,n)}async function mB(){ee("host-webworker")&&(!ag&&globalThis.invokeStaticMessage?ag=await ve(()=>import("./request-0ne647yQ.js"),__vite__mapDeps([0,1]),import.meta.url):E5=!0)}async function r2(){Jt||await ve(()=>import("./IdentityManager-YkPe-zYW.js"),__vite__mapDeps([2,1,3,4,5,6,7,8]),import.meta.url)}async function yB(t){const e=t.params.url,r=t.params.requestOptions,i=t.controller.signal,s=r.body;let n=null,o=null;if(S5&&"HTMLFormElement"in globalThis&&(s instanceof FormData?n=s:s instanceof HTMLFormElement&&(n=new FormData(s))),typeof s=="string"&&(o=s),t.fetchOptions={cache:r.cacheBust?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:Zs.priority,redirect:"follow",signal:i},(n||o)&&(t.fetchOptions.body=n||o),(E5||r.authMode==="anonymous")&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||r.query?.token||n?.get("token")),!t.hasToken){const a=_5(e);a&&(r.query??={},r.query.token=a,t.hasToken=!0)}if(t.useIdentity&&!t.hasToken&&!t.credential&&!t.credentialToken&&!A5(e)&&!_l(i)){let a;r.authMode==="immediate"?(await r2(),a=await Jt.getCredential(e,{signal:i})):r.authMode==="no-prompt"?(await r2(),a=await Jt.getCredential(e,{prompt:!1,signal:i}).catch(()=>{})):Jt&&(a=Jt.findCredential(e)),a&&(t.credential=a,t.credentialToken=a.token,t.useSSL=!!a.ssl)}}function A5(t){return dB.some(e=>e.test(t))}async function gB(t){let e=t.params.url,r=jT(e);const i=t.params.requestOptions,s=t.fetchOptions??{},n=OE(e)||vf(e),o=i.responseType||"json",a=n?0:i.timeout!=null?i.timeout:Zs.timeout;let l=!1;if(!n){t.useSSL&&(e=CE(e));let y={...i.query};t.credentialToken&&(y.token=t.credentialToken);let v=bp(y);ee("esri-url-encodes-apostrophe")&&(v=v.replaceAll("'","%27"));const b=r.length+1+v.length;let S;l=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||b>Zs.maxUrlLength;const E=i.useProxy||!!Gv(e);if(E){const T=o5(e);S=T.path,!l&&S.length+1+b>Zs.maxUrlLength&&(l=!0),T.query&&(y={...T.query,...y})}if(s.method==="HEAD"&&(l||E)){if(l)throw b>Zs.maxUrlLength?Ln("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params):Ln("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);if(E)throw Ln("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}l?(s.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?e=vb(e,y):(s.body=bp(y),s.headers||(s.headers={}),s.headers["Content-Type"]="application/x-www-form-urlencoded")):e=vb(e,y),E&&(t.useProxy=!0,e=`${S}?${e}`),y.token&&S5&&s.body instanceof FormData&&!t5(e)&&s.body.set("token",y.token),i.hasOwnProperty("withCredentials")?t.withCredentials=i.withCredentials:Gc(e,AE())||($E(e)||Jt&&Jt.findServerInfo(e)?.webTierAuth)&&(t.withCredentials=!0),t.withCredentials&&(s.credentials="include",lB(e)&&await cB(l?vb(e,y):e)),r=jT(e)}let c,f,d=0,p=!1;a>0&&(d=setTimeout(()=>{p=!0,t.controller.abort()},a));try{if(i.responseType==="native-request-init")f=s,f.url=r,i.signal?f.signal=i.signal:delete f.signal;else if(i.responseType!=="image"||s.cache!=="default"||s.method!=="GET"||l||vB(i.headers)||!n&&!t.useProxy&&Zs.proxyUrl&&!BT(e)){if(Dr._beforeFetch&&await Dr._beforeFetch(e,s),c=await fetch(r,s),Dr._afterFetch&&await Dr._afterFetch(c),t.useProxy||pB(e),i.responseType==="native")f=c;else if(s.method!=="HEAD")if(c.ok){switch(o){case"array-buffer":f=await c.arrayBuffer();break;case"blob":case"image":f=await c.blob();break;default:f=await c.text()}if(d&&(clearTimeout(d),d=0),o==="json"||o==="xml"||o==="document")if(f)switch(o){case"json":f=JSON.parse(f);break;case"xml":f=GT(f,"application/xml");break;case"document":f=GT(f,"text/html")}else f=null;if(f){if(o==="array-buffer"||o==="blob"){const y=c.headers.get("Content-Type");if(y&&/application\/json|text\/plain/i.test(y)&&f[o==="blob"?"size":"byteLength"]<=750)try{const v=await new Response(f).json();v.error&&(f=v)}catch{}}o==="image"&&f instanceof Blob&&(f=await zT(URL.createObjectURL(f),t,!0))}}else{f=await c.text();try{f=JSON.parse(f)}catch{}}}else f=await zT(r,t)}catch(y){if(y.name==="AbortError")throw p?oB():Es("Request canceled");if(!(!c&&y instanceof TypeError&&Zs.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||t.useProxy||BT(e))throw y;t.redoRequest=!0,Nj({proxyUrl:Zs.proxyUrl,urlPrefix:Ls(e)??""})}finally{d&&clearTimeout(d)}return[c,f]}async function VT(t,e){if(t.responseData!=null)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let r,i;try{i=await t.before(e)}catch(s){r=Ln("request:interceptor",s,e)}if((i instanceof Error||i instanceof mt)&&(r=Ln("request:interceptor",i,e)),r)throw t.error&&t.error(r),r;return i}}function vB(t){if(t){for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0}return!1}function GT(t,e){let r;try{r=new DOMParser().parseFromString(t,e)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}Dr._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Dr._beforeFetch=void 0,Dr._afterFetch=void 0;const bB=new Map;async function _B(t){const e=xB(t.params.url);if(!e)return i2(t);const{QueueProcessor:r}=await ve(()=>import("./QueueProcessor-BbU6wge9.js"),__vite__mapDeps([9,10,11,1]),import.meta.url);return eC(bB,e.origin,()=>{const s=e.isHosted?ee("request-queue-concurrency-hosted"):ee("request-queue-concurrency-non-hosted");return new r({concurrency:s,process:n=>{if(_l(n.params.requestOptions))throw Ln("",Es("Request canceled"),n.params);return i2(n)}})}).push(t)}async function i2(t){let e,r;await yB(t);try{do[e,r]=await gB(t);while(!await wB(t,e,r))}catch(n){const o=Ln("request:server",n,t.params,e);throw o.details.ssl=t.useSSL,t.interceptor?.error&&t.interceptor.error(o),o}const i=t.params.url;if(r)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!t.hasToken&&!t.credentialToken&&r.user?.username&&!$E(i)){const n=Ls(i,!0);n&&Zs.trustedServers.push(n)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&aB(r.authorizedCrossOriginNoCorsDomains)}else(t.params.requestOptions.responseType||"json")==="json"&&uB(i,r);const s=t.credential;if(s&&Jt){let o=Jt.findServerInfo(s.server)?.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const a=Jt.findCredential(o,s.userId);a&&Jt._getIdenticalSvcIdx(o,a)===-1&&a.resources.unshift(o)}}return{data:r,getAllHeaders:e?()=>Array.from(e.headers):kh,getHeader:e?n=>e.headers.get(n):kh,httpStatus:e?.status??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function wB(t,e,r){if(t.redoRequest)return t.redoRequest=!1,!1;const i=t.params.requestOptions;if(!e||i.responseType==="native"||i.responseType==="native-request-init")return!0;let s,n;if(r&&(r.error&&typeof r.error=="object"?s=r.error:r.status==="error"&&Array.isArray(r.messages)&&(s={...r},s[lg]=r,s.details=r.messages)),!s&&!e.ok)throw s=new Error(`Unable to load ${e.url} status: ${e.status}`),s[lg]=r,s;let o,a=null;s&&(n=Number(s.code),a=s.hasOwnProperty("subcode")?Number(s.subcode):null,o=s.messageCode,o=o?.toUpperCase());const l=i.authMode;if(n===403&&(a===4||s.message?.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&(l!=="no-prompt"||n===498)&&n!==void 0&&hB.has(n)&&!A5(t.params.url)&&(n!==403||(!o||!fB.has(o))&&(a==null||a===2&&t.credentialToken))){await r2();try{const c=await Jt.getCredential(t.params.url,{error:Ln("request:server",s,t.params),credential:t.credential,prompt:l!=="no-prompt",signal:t.controller.signal,token:t.credentialToken});return t.credential=c,t.credentialToken=c.token,t.useSSL=t.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return t.credential=void 0,t.credentialToken=void 0,!1;s=c}}if(s)throw s;return!0}function zT(t,e,r=!1){const i=e.controller.signal,s=new Image;return e.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=Zs.priority,s.src=t,nB(s,t,r,i)}function xB(t){let e,r;return typeof t=="string"?(e=Ls(t,!0),r=DT(t)):(e=t.origin,r=DT(t.toString())),e==null?null:{origin:e,isHosted:r}}function EB(t){if(!_t.assetsPath)throw rr.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new mt("assets:path-not-set","config.assetsPath is not set");return zv(_t.assetsPath,t)}let bb,z=null;function SB(){return!!z}function AB(){return!!ee("esri-wasm")}function TB(){return bb||(bb=ve(()=>import("./pe-wasm-B87Q3u4k.js"),[],import.meta.url).then(({default:t})=>t({locateFile:e=>EB(`esri/geometry/support/${e}`)})).then(t=>{$5(t)}),bb)}var s2,Yt;(function(t){function e(n,o,a){z.ensureCache.prepare();const l=bc(a),c=a===l,f=z.ensureFloat64(l),d=z._pe_geog_to_proj(z.getPointer(n),o,f);return d&&tl(a,o,f,c),d}function r(n,o,a,l){switch(l){case Yt.PE_TRANSFORM_P_TO_G:return i(n,o,a);case Yt.PE_TRANSFORM_G_TO_P:return e(n,o,a)}return 0}function i(n,o,a){return s(n,o,a,0)}function s(n,o,a,l){z.ensureCache.prepare();const c=bc(a),f=a===c,d=z.ensureFloat64(c),p=z._pe_proj_to_geog_center(z.getPointer(n),o,d,l);return p&&tl(a,o,d,f),p}t.geogToProj=e,t.projGeog=r,t.projToGeog=i,t.projToGeogCenter=s})(s2||(s2={})),function(t){function e(){t.PE_BUFFER_MAX=z.PeDefs.prototype.PE_BUFFER_MAX,t.PE_NAME_MAX=z.PeDefs.prototype.PE_NAME_MAX,t.PE_MGRS_MAX=z.PeDefs.prototype.PE_MGRS_MAX,t.PE_USNG_MAX=z.PeDefs.prototype.PE_USNG_MAX,t.PE_DD_MAX=z.PeDefs.prototype.PE_DD_MAX,t.PE_DDM_MAX=z.PeDefs.prototype.PE_DDM_MAX,t.PE_DMS_MAX=z.PeDefs.prototype.PE_DMS_MAX,t.PE_UTM_MAX=z.PeDefs.prototype.PE_UTM_MAX,t.PE_PARM_MAX=z.PeDefs.prototype.PE_PARM_MAX,t.PE_TYPE_NONE=z.PeDefs.prototype.PE_TYPE_NONE,t.PE_TYPE_GEOGCS=z.PeDefs.prototype.PE_TYPE_GEOGCS,t.PE_TYPE_PROJCS=z.PeDefs.prototype.PE_TYPE_PROJCS,t.PE_TYPE_GEOGTRAN=z.PeDefs.prototype.PE_TYPE_GEOGTRAN,t.PE_TYPE_COORDSYS=z.PeDefs.prototype.PE_TYPE_COORDSYS,t.PE_TYPE_UNIT=z.PeDefs.prototype.PE_TYPE_UNIT,t.PE_TYPE_LINUNIT=z.PeDefs.prototype.PE_TYPE_LINUNIT,t.PE_STR_OPTS_NONE=z.PeDefs.prototype.PE_STR_OPTS_NONE,t.PE_STR_AUTH_NONE=z.PeDefs.prototype.PE_STR_AUTH_NONE,t.PE_STR_AUTH_TOP=z.PeDefs.prototype.PE_STR_AUTH_TOP,t.PE_STR_NAME_CANON=z.PeDefs.prototype.PE_STR_NAME_CANON,t.PE_STR_FMT_WKT=z.PeDefs.prototype.PE_STR_FMT_WKT,t.PE_STR_FMT_WKT2=z.PeDefs.prototype.PE_STR_FMT_WKT2,t.PE_PARM_X0=z.PeDefs.prototype.PE_PARM_X0,t.PE_PARM_ND=z.PeDefs.prototype.PE_PARM_ND,t.PE_TRANSFORM_1_TO_2=z.PeDefs.prototype.PE_TRANSFORM_1_TO_2,t.PE_TRANSFORM_2_TO_1=z.PeDefs.prototype.PE_TRANSFORM_2_TO_1,t.PE_TRANSFORM_P_TO_G=z.PeDefs.prototype.PE_TRANSFORM_P_TO_G,t.PE_TRANSFORM_G_TO_P=z.PeDefs.prototype.PE_TRANSFORM_G_TO_P,t.PE_HORIZON_RECT=z.PeDefs.prototype.PE_HORIZON_RECT,t.PE_HORIZON_POLY=z.PeDefs.prototype.PE_HORIZON_POLY,t.PE_HORIZON_LINE=z.PeDefs.prototype.PE_HORIZON_LINE,t.PE_HORIZON_DELTA=z.PeDefs.prototype.PE_HORIZON_DELTA}t.init=e}(Yt||(Yt={}));let T5=null;var n2;(function(t){const e={},r={},i=y=>{const v=y.getType();switch(v){case Yt.PE_TYPE_GEOGCS:y=z.castObject(y,z.PeGeogcs);break;case Yt.PE_TYPE_PROJCS:y=z.castObject(y,z.PeProjcs);break;case Yt.PE_TYPE_GEOGTRAN:y=z.castObject(y,z.PeGeogtran);break;default:v&Yt.PE_TYPE_UNIT&&(y=z.castObject(y,z.PeUnit))}return y};function s(){z.PeFactory.prototype.initialize(null)}function n(y){return o(Yt.PE_TYPE_COORDSYS,y)}function o(y,v){let b=null,S=e[y];if(S||(S={},e[y]=S),S.hasOwnProperty(String(v))&&(b=S[v],z.compare(b,z.NULL)&&(b=null)),!b){const E=z.PeFactory.prototype.factoryByType(y,v);z.compare(E,z.NULL)||(b=i(E),S[v]=b)}return b}function a(y,v){let b=null,S=r[y];if(S||(S={},r[y]=S),S.hasOwnProperty(v)&&(b=S[v],z.compare(b,z.NULL)&&(b=null)),!b){const E=z.PeFactory.prototype.fromString(y,v);z.compare(E,z.NULL)||(b=i(E),S[v]=b)}return b}function l(y){return o(Yt.PE_TYPE_GEOGCS,y)}function c(y){return o(Yt.PE_TYPE_GEOGTRAN,y)}function f(y){return z.PeFactory.prototype.getCode(y)}function d(y){return o(Yt.PE_TYPE_PROJCS,y)}function p(y){return o(Yt.PE_TYPE_UNIT,y)}t.initialize=s,t.coordsys=n,t.factoryByType=o,t.fromString=a,t.geogcs=l,t.geogtran=c,t.getCode=f,t.projcs=d,t.unit=p})(n2||(n2={}));let M5=null;var cg,o2,a2,l2,c2,u2,ug,h2,hg,fg,f2;function $5(t){function e(n,o,a){n[o]=a(n[o])}z=t,Yt.init(),cg.init(),ug.init(),hg.init(),fg.init(),T5=class extends z.PeDouble{constructor(n=NaN){super(n)}destroy(){z.destroy(this)}[Symbol.dispose](){this.destroy()}},M5=class extends z.PeGCSExtent{destroy(){z.destroy(this)}[Symbol.dispose](){this.destroy()}};const r=[z.PeAngunit,z.PeDatum,z.PeGeogcs,z.PeGeogtran,z.PeObject,z.PeParameter,z.PePrimem,z.PeProjcs,z.PeSpheroid,z.PeUnit];for(const n of r)e(n.prototype,"getName",o=>function(){return o.call(this,new Array(Yt.PE_NAME_MAX))});for(const n of[z.PeGeogtran,z.PeProjcs])e(n.prototype,"getParameters",o=>function(){const a=new Array(Yt.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const f=z.getValue(l,"*");a[c]=f?z.wrapPointer(f,z.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});e(z.PeHorizon.prototype,"getCoord",n=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return tl(l,a,n.call(this),o),l}),e(z.PeGTlistExtendedEntry.prototype,"getEntries",n=>{const o=z._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=n.call(this);if(!z.compare(l,z.NULL)){a=[l];const c=this.getSteps();if(c>1){const f=z.getPointer(l);for(let d=1;d<c;d++)a.push(z.wrapPointer(f+o*d,z.PeGTlistExtendedGTs))}}return a}});const i=z._pe_getPeHorizonSize(),s=n=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(n))return o.get(n);let a=null;const l=n.call(this);if(!z.compare(l,z.NULL)){a=[l];const c=l.getNump();if(c>1){const f=z.getPointer(l);for(let d=1;d<c;d++)a.push(z.wrapPointer(f+i*d,z.PeHorizon))}}return o.set(n,a),a};e(z.PeProjcs.prototype,"horizonGcsGenerate",s),e(z.PeProjcs.prototype,"horizonPcsGenerate",s),z.PeObject.prototype.toString=function(n=Yt.PE_STR_OPTS_NONE){z.ensureCache.prepare();const o=z.getPointer(this),a=z.ensureInt8(new Array(Yt.PE_BUFFER_MAX));return z.UTF8ToString(z._pe_object_to_string_ext(o,n,a))},z.PeGeogcs.prototype.destroy=function(){this.Delete(),_n(this),this.ptr=0},z.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},z.PeProjcs.prototype.destroy=function(){this.Delete(),_n(this),this.ptr=0},z.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function _n(t){if(!t)return;const e=z.getClass(t);if(!e)return;const r=z.getCache(e);if(!r)return;const i=z.getPointer(t);i&&delete r[i]}function oy(t,e){const r=[],i=new Array(e);for(let s=0;s<t;s++)r.push(z.ensureInt8(i));return r}function bc(t){return ArrayBuffer.isView(t)?t:Array.isArray(t[0])?t.flat():t}function tl(t,e,r,i=!1){if(i)for(let s=0;s<2*e;s++)t[s]=z.getValue(r+s*Float64Array.BYTES_PER_ELEMENT,"double");else{const s=t.length===0;for(let n=0;n<e;n++)s&&(t[n]=new Array(2)),t[n][0]=z.getValue(r,"double"),t[n][1]=z.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(t){let e;function r(){t.PE_GTLIST_OPTS_COMMON=z.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,e=z._pe_getPeGTlistExtendedEntrySize()}function i(s,n,o,a,l,c){let f=null;const d=new z.PeInteger(c);try{const p=z.PeGTlistExtended.prototype.getGTlist(s,n,o,a,l,d);if((c=d.val)&&(f=[p],c>1)){const y=z.getPointer(p);for(let v=1;v<c;v++)f.push(z.wrapPointer(y+e*v,z.PeGTlistExtendedEntry))}}finally{z.destroy(d)}return f}t.init=r,t.getGTlist=i})(cg||(cg={})),function(t){function e(r){if(r?.length){for(const i of r)_n(i),i.getEntries().forEach(s=>{_n(s);const n=s.getGeogtran();_n(n),n.getParameters().forEach(_n),[n.getGeogcs1(),n.getGeogcs2()].forEach(o=>{_n(o);const a=o.getDatum();_n(a),_n(a.getSpheroid()),_n(o.getPrimem()),_n(o.getUnit())})});z.PeGTlistExtendedEntry.prototype.Delete(r[0])}}t.destroy=e}(o2||(o2={})),function(t){function e(r,i,s,n,o){z.ensureCache.prepare();const a=bc(s),l=s===a,c=z.ensureFloat64(a);let f=0;n&&(f=z.ensureFloat64(n));const d=z._pe_geog_to_geog(z.getPointer(r),i,c,f,o);return d&&tl(s,i,c,l),d}t.geogToGeog=e}(a2||(a2={})),function(t){function e(n,o,a,l,c,f,d,p){z.PeLineType.prototype.geodesic_coordinate(n,o,a,l,c,f,d,p)}function r(n,o,a,l,c,f,d,p,y){z.PeLineType.prototype.geodetic_coordinate(n,o,a,l,c,f,d,p,y)}function i(n,o,a,l,c,f,d,p,y,v){z.PeLineType.prototype.geodetic_distance(n,o,a,l,c,f,d,p,y,v)}function s(n,o,a,l,c,f,d,p,y){z.PeLineType.prototype.great_elliptic_distance(n,o,a,l,c,f,d,p,y)}t.geodesicCoordinate=e,t.geodeticCoordinate=r,t.geodeticDistance=i,t.greatEllipticDistance=s}(l2||(l2={})),function(t){function e(o,a){return z.PeMath.prototype.phi_to_eta(o,a)}function r(o,a){return z.PeMath.prototype.eta_to_phi(o,a)}function i(o,a){return z.PeMath.prototype.phi_to_phig(o,a)}function s(o,a,l){return z.PeMath.prototype.q(o,a,l)}function n(o,a){return z.PeMath.prototype.q90(o,a)}t.phiToEta=e,t.etaToPhi=r,t.phiToPhig=i,t.q=s,t.q90=n}(c2||(c2={})),function(t){const e=(c,f,d,p,y,v)=>{let b,S;switch(z.ensureCache.prepare(),c){case"dd":b=z._pe_geog_to_dd,S=Yt.PE_DD_MAX;break;case"ddm":b=z._pe_geog_to_ddm,S=Yt.PE_DDM_MAX;break;case"dms":b=z._pe_geog_to_dms,S=Yt.PE_DMS_MAX}let E=0;f&&(E=z.getPointer(f));const T=bc(p),w=z.ensureFloat64(T),_=oy(d,S),M=b(E,d,w,y,z.ensureInt32(_));if(M)for(let $=0;$<d;$++)v[$]=z.UTF8ToString(_[$]);return M},r=(c,f,d,p,y)=>{let v;switch(z.ensureCache.prepare(),c){case"dd":v=z._pe_dd_to_geog;break;case"ddm":v=z._pe_ddm_to_geog;break;case"dms":v=z._pe_dms_to_geog}let b=0;f&&(b=z.getPointer(f));const S=p.map(_=>z.ensureString(_)),E=z.ensureInt32(S),T=z.ensureFloat64(new Array(2*d)),w=v(b,d,E,T);return w&&tl(y,d,T),w};function i(c,f,d,p,y){return e("dms",c,f,d,p,y)}function s(c,f,d,p){return r("dms",c,f,d,p)}function n(c,f,d,p,y){return e("ddm",c,f,d,p,y)}function o(c,f,d,p){return r("ddm",c,f,d,p)}function a(c,f,d,p,y){return e("dd",c,f,d,p,y)}function l(c,f,d,p){return r("dd",c,f,d,p)}t.geogToDms=i,t.dmsToGeog=s,t.geogToDdm=n,t.ddmToGeog=o,t.geogToDd=a,t.ddToGeog=l}(u2||(u2={})),function(t){function e(){t.PE_MGRS_STYLE_NEW=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,t.PE_MGRS_STYLE_OLD=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,t.PE_MGRS_STYLE_AUTO=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,t.PE_MGRS_180_ZONE_1_PLUS=z.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,t.PE_MGRS_ADD_SPACES=z.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(s,n,o,a,l,c,f){z.ensureCache.prepare();let d=0;s&&(d=z.getPointer(s));const p=bc(o),y=z.ensureFloat64(p),v=oy(n,Yt.PE_MGRS_MAX),b=z.ensureInt32(v),S=z._pe_geog_to_mgrs_extended(d,n,y,a,l,c,b);if(S)for(let E=0;E<n;E++)f[E]=z.UTF8ToString(v[E]);return S}function i(s,n,o,a,l){z.ensureCache.prepare();let c=0;s&&(c=z.getPointer(s));const f=o.map(v=>z.ensureString(v)),d=z.ensureInt32(f),p=z.ensureFloat64(new Array(2*n)),y=z._pe_mgrs_to_geog_extended(c,n,d,a,p);return y&&tl(l,n,p),y}t.init=e,t.geogToMgrsExtended=r,t.mgrsToGeogExtended=i}(ug||(ug={})),function(t){function e(i,s,n,o,a,l,c){z.ensureCache.prepare();let f=0;i&&(f=z.getPointer(i));const d=bc(n),p=z.ensureFloat64(d),y=oy(s,Yt.PE_MGRS_MAX),v=z.ensureInt32(y),b=z._pe_geog_to_usng(f,s,p,o,a,l,v);if(b)for(let S=0;S<s;S++)c[S]=z.UTF8ToString(y[S]);return b}function r(i,s,n,o){z.ensureCache.prepare();let a=0;i&&(a=z.getPointer(i));const l=n.map(p=>z.ensureString(p)),c=z.ensureInt32(l),f=z.ensureFloat64(new Array(2*s)),d=z._pe_usng_to_geog(a,s,c,f);return d&&tl(o,s,f),d}t.geogToUsng=e,t.usngToGeog=r}(h2||(h2={})),function(t){function e(){t.PE_UTM_OPTS_NONE=z.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,t.PE_UTM_OPTS_ADD_SPACES=z.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,t.PE_UTM_OPTS_NS=z.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(s,n,o,a,l){z.ensureCache.prepare();let c=0;s&&(c=z.getPointer(s));const f=bc(o),d=z.ensureFloat64(f),p=oy(n,Yt.PE_UTM_MAX),y=z.ensureInt32(p),v=z._pe_geog_to_utm(c,n,d,a,y);if(v)for(let b=0;b<n;b++)l[b]=z.UTF8ToString(p[b]);return v}function i(s,n,o,a,l){z.ensureCache.prepare();let c=0;s&&(c=z.getPointer(s));const f=o.map(v=>z.ensureString(v)),d=z.ensureInt32(f),p=z.ensureFloat64(new Array(2*n)),y=z._pe_utm_to_geog(c,n,d,a,p);return y&&tl(l,n,p),y}t.init=e,t.geogToUtm=r,t.utmToGeog=i}(hg||(hg={})),function(t){const e=new Map;function r(){t.PE_PCSINFO_OPTION_NONE=z.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,t.PE_PCSINFO_OPTION_DOMAIN=z.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,t.PE_POLE_OUTSIDE_BOUNDARY=z.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,t.PE_POLE_POINT=z.PePCSInfo.prototype.PE_POLE_POINT}function i(s,n=t.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return e.has(s)&&(a=e.get(s),a[n]&&(o=a[n])),o||(o=z.PePCSInfo.prototype.generate(s,n),a||(a=[],e.set(s,a)),a[n]=o),o}t.init=r,t.generate=i}(fg||(fg={})),function(t){function e(){return z.PeVersion.prototype.version_string()}t.versionString=e}(f2||(f2={}));const $ve=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return s2},get PeDefs(){return Yt},get PeDouble(){return T5},get PeFactory(){return n2},get PeGCSExtent(){return M5},get PeGTTransformations(){return a2},get PeGTlistExtended(){return cg},get PeGTlistExtendedEntry(){return o2},get PeLineType(){return l2},get PeMath(){return c2},get PeNotationDms(){return u2},get PeNotationMgrs(){return ug},get PeNotationUsng(){return h2},get PeNotationUtm(){return hg},get PePCSInfo(){return fg},get PeVersion(){return f2},_init:$5,get _pe(){return z},isLoaded:SB,isSupported:AB,load:TB},Symbol.toStringTag,{value:"Module"}));var Rh;(function(t){t[t.CGCS2000=4490]="CGCS2000",t[t.GCSMARS2000=104971]="GCSMARS2000",t[t.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",t[t.GCSMOON2000=104903]="GCSMOON2000"})(Rh||(Rh={}));let u;const O={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(u=2e3;u<=2045;u++)O[u]=0;for(u=2056;u<=2065;u++)O[u]=0;for(u=2067;u<=2135;u++)O[u]=0;for(u=2137;u<=2154;u++)O[u]=0;for(u=2161;u<=2170;u++)O[u]=0;for(u=2172;u<=2193;u++)O[u]=0;for(u=2195;u<=2198;u++)O[u]=0;for(u=2200;u<=2203;u++)O[u]=0;for(u=2205;u<=2217;u++)O[u]=0;for(u=2222;u<=2224;u++)O[u]=1;for(u=2225;u<=2250;u++)O[u]=2;for(u=2251;u<=2253;u++)O[u]=1;for(u=2257;u<=2264;u++)O[u]=2;for(u=2274;u<=2279;u++)O[u]=2;for(u=2280;u<=2282;u++)O[u]=1;for(u=2283;u<=2289;u++)O[u]=2;for(u=2290;u<=2292;u++)O[u]=0;for(u=2308;u<=2313;u++)O[u]=0;for(u=2315;u<=2491;u++)O[u]=0;for(u=2494;u<=2866;u++)O[u]=0;for(u=2867;u<=2869;u++)O[u]=1;for(u=2870;u<=2888;u++)O[u]=2;for(u=2891;u<=2895;u++)O[u]=2;for(u=2896;u<=2898;u++)O[u]=1;for(u=2902;u<=2908;u++)O[u]=2;for(u=2915;u<=2920;u++)O[u]=2;for(u=2921;u<=2923;u++)O[u]=1;for(u=2924;u<=2930;u++)O[u]=2;for(u=2931;u<=2962;u++)O[u]=0;for(u=2964;u<=2968;u++)O[u]=2;for(u=2969;u<=2973;u++)O[u]=0;for(u=2975;u<=2991;u++)O[u]=0;for(u=2995;u<=3051;u++)O[u]=0;for(u=3054;u<=3079;u++)O[u]=0;for(u=3081;u<=3088;u++)O[u]=0;for(u=3092;u<=3101;u++)O[u]=0;for(u=3106;u<=3138;u++)O[u]=0;for(u=3146;u<=3151;u++)O[u]=0;for(u=3153;u<=3166;u++)O[u]=0;for(u=3168;u<=3172;u++)O[u]=0;for(u=3174;u<=3203;u++)O[u]=0;for(u=3294;u<=3358;u++)O[u]=0;for(u=3367;u<=3403;u++)O[u]=0;for(u=3408;u<=3416;u++)O[u]=0;for(u=3417;u<=3438;u++)O[u]=2;for(u=3441;u<=3446;u++)O[u]=2;for(u=3447;u<=3450;u++)O[u]=0;for(u=3451;u<=3459;u++)O[u]=2;for(u=3460;u<=3478;u++)O[u]=0;for(u=3554;u<=3559;u++)O[u]=0;for(u=3560;u<=3570;u++)O[u]=2;for(u=3571;u<=3581;u++)O[u]=0;for(u=3594;u<=3597;u++)O[u]=0;for(u=3601;u<=3604;u++)O[u]=0;for(u=3637;u<=3639;u++)O[u]=0;for(u=3665;u<=3667;u++)O[u]=0;for(u=3693;u<=3695;u++)O[u]=0;for(u=3701;u<=3727;u++)O[u]=0;for(u=3728;u<=3739;u++)O[u]=2;for(u=3740;u<=3751;u++)O[u]=0;for(u=3753;u<=3760;u++)O[u]=2;for(u=3761;u<=3773;u++)O[u]=0;for(u=3775;u<=3777;u++)O[u]=0;for(u=3779;u<=3781;u++)O[u]=0;for(u=3783;u<=3785;u++)O[u]=0;for(u=3788;u<=3791;u++)O[u]=0;for(u=3797;u<=3802;u++)O[u]=0;for(u=3814;u<=3816;u++)O[u]=0;for(u=3825;u<=3829;u++)O[u]=0;for(u=3832;u<=3841;u++)O[u]=0;for(u=3844;u<=3852;u++)O[u]=0;for(u=3873;u<=3885;u++)O[u]=0;for(u=3890;u<=3893;u++)O[u]=0;for(u=3907;u<=3912;u++)O[u]=0;for(u=3942;u<=3950;u++)O[u]=0;for(u=3968;u<=3970;u++)O[u]=0;for(u=3973;u<=3976;u++)O[u]=0;for(u=3986;u<=3989;u++)O[u]=0;for(u=3994;u<=3997;u++)O[u]=0;for(u=4048;u<=4051;u++)O[u]=0;for(u=4056;u<=4063;u++)O[u]=0;for(u=4093;u<=4096;u++)O[u]=0;for(u=4390;u<=4398;u++)O[u]=0;for(u=4399;u<=4413;u++)O[u]=2;for(u=4418;u<=4433;u++)O[u]=2;for(u=4455;u<=4457;u++)O[u]=2;for(u=4484;u<=4489;u++)O[u]=0;for(u=4491;u<=4554;u++)O[u]=0;for(u=4568;u<=4589;u++)O[u]=0;for(u=4652;u<=4656;u++)O[u]=0;for(u=4766;u<=4800;u++)O[u]=0;for(u=5014;u<=5016;u++)O[u]=0;for(u=5069;u<=5072;u++)O[u]=0;for(u=5105;u<=5130;u++)O[u]=0;for(u=5167;u<=5188;u++)O[u]=0;for(u=5253;u<=5259;u++)O[u]=0;for(u=5269;u<=5275;u++)O[u]=0;for(u=5292;u<=5311;u++)O[u]=0;for(u=5329;u<=5331;u++)O[u]=0;for(u=5343;u<=5349;u++)O[u]=0;for(u=5355;u<=5357;u++)O[u]=0;for(u=5387;u<=5389;u++)O[u]=0;for(u=5459;u<=5463;u++)O[u]=0;for(u=5479;u<=5482;u++)O[u]=0;for(u=5518;u<=5520;u++)O[u]=0;for(u=5530;u<=5539;u++)O[u]=0;for(u=5550;u<=5552;u++)O[u]=0;for(u=5562;u<=5583;u++)O[u]=0;for(u=5623;u<=5625;u++)O[u]=2;for(u=5631;u<=5639;u++)O[u]=0;for(u=5649;u<=5653;u++)O[u]=0;for(u=5663;u<=5680;u++)O[u]=0;for(u=5682;u<=5685;u++)O[u]=0;for(u=5875;u<=5877;u++)O[u]=0;for(u=5896;u<=5899;u++)O[u]=0;for(u=5921;u<=5940;u++)O[u]=0;for(u=6050;u<=6125;u++)O[u]=0;for(u=6244;u<=6275;u++)O[u]=0;for(u=6328;u<=6348;u++)O[u]=0;for(u=6350;u<=6356;u++)O[u]=0;for(u=6366;u<=6372;u++)O[u]=0;for(u=6381;u<=6387;u++)O[u]=0;for(u=6393;u<=6404;u++)O[u]=0;for(u=6480;u<=6483;u++)O[u]=0;for(u=6511;u<=6514;u++)O[u]=0;for(u=6579;u<=6581;u++)O[u]=0;for(u=6619;u<=6624;u++)O[u]=0;for(u=6625;u<=6627;u++)O[u]=2;for(u=6628;u<=6632;u++)O[u]=0;for(u=6634;u<=6637;u++)O[u]=0;for(u=6669;u<=6692;u++)O[u]=0;for(u=6707;u<=6709;u++)O[u]=0;for(u=6720;u<=6723;u++)O[u]=0;for(u=6732;u<=6738;u++)O[u]=0;for(u=6931;u<=6933;u++)O[u]=0;for(u=6956;u<=6959;u++)O[u]=0;for(u=7005;u<=7007;u++)O[u]=0;for(u=7057;u<=7070;u++)O[u]=2;for(u=7074;u<=7082;u++)O[u]=0;for(u=7109;u<=7118;u++)O[u]=0;for(u=7119;u<=7127;u++)O[u]=1;for(u=7374;u<=7376;u++)O[u]=0;for(u=7528;u<=7586;u++)O[u]=0;for(u=7587;u<=7645;u++)O[u]=2;for(u=7692;u<=7696;u++)O[u]=0;for(u=7755;u<=7787;u++)O[u]=0;for(u=7791;u<=7795;u++)O[u]=0;for(u=7799;u<=7801;u++)O[u]=0;for(u=7803;u<=7805;u++)O[u]=0;for(u=7825;u<=7831;u++)O[u]=0;for(u=7845;u<=7859;u++)O[u]=0;for(u=8013;u<=8032;u++)O[u]=0;for(u=8065;u<=8068;u++)O[u]=1;for(u=8518;u<=8529;u++)O[u]=2;for(u=8533;u<=8536;u++)O[u]=2;for(u=8538;u<=8540;u++)O[u]=2;for(u=8677;u<=8679;u++)O[u]=0;for(u=8836;u<=8840;u++)O[u]=0;for(u=8857;u<=8859;u++)O[u]=0;for(u=8908;u<=8910;u++)O[u]=0;for(u=9154;u<=9159;u++)O[u]=0;for(u=9205;u<=9218;u++)O[u]=0;for(u=9271;u<=9273;u++)O[u]=0;for(u=9295;u<=9297;u++)O[u]=0;for(u=9356;u<=9360;u++)O[u]=0;for(u=9404;u<=9407;u++)O[u]=0;for(u=9476;u<=9482;u++)O[u]=0;for(u=9487;u<=9494;u++)O[u]=0;for(u=9697;u<=9699;u++)O[u]=0;for(u=9821;u<=9865;u++)O[u]=0;for(u=10285;u<=10291;u++)O[u]=0;for(u=10314;u<=10317;u++)O[u]=0;for(u=10448;u<=10465;u++)O[u]=0;for(u=10726;u<=10729;u++)O[u]=0;for(u=10731;u<=10733;u++)O[u]=0;for(u=11114;u<=11118;u++)O[u]=0;for(u=20004;u<=20032;u++)O[u]=0;for(u=20047;u<=20049;u++)O[u]=0;for(u=20062;u<=20092;u++)O[u]=0;for(u=20135;u<=20138;u++)O[u]=0;for(u=20248;u<=20258;u++)O[u]=0;for(u=20348;u<=20358;u++)O[u]=0;for(u=20436;u<=20440;u++)O[u]=0;for(u=20822;u<=20824;u++)O[u]=0;for(u=20904;u<=20932;u++)O[u]=0;for(u=20934;u<=20936;u++)O[u]=0;for(u=21004;u<=21032;u++)O[u]=0;for(u=21035;u<=21037;u++)O[u]=0;for(u=21095;u<=21097;u++)O[u]=0;for(u=21148;u<=21150;u++)O[u]=0;for(u=21207;u<=21264;u++)O[u]=0;for(u=21307;u<=21364;u++)O[u]=0;for(u=21413;u<=21423;u++)O[u]=0;for(u=21453;u<=21463;u++)O[u]=0;for(u=21473;u<=21483;u++)O[u]=0;for(u=21780;u<=21782;u++)O[u]=0;for(u=21891;u<=21894;u++)O[u]=0;for(u=21896;u<=21899;u++)O[u]=0;for(u=22171;u<=22177;u++)O[u]=0;for(u=22181;u<=22187;u++)O[u]=0;for(u=22191;u<=22197;u++)O[u]=0;for(u=22207;u<=22222;u++)O[u]=0;for(u=22229;u<=22232;u++)O[u]=0;for(u=22234;u<=22236;u++)O[u]=0;for(u=22243;u<=22250;u++)O[u]=0;for(u=22262;u<=22265;u++)O[u]=0;for(u=22307;u<=22322;u++)O[u]=0;for(u=22348;u<=22357;u++)O[u]=0;for(u=22407;u<=22422;u++)O[u]=0;for(u=22462;u<=22465;u++)O[u]=0;for(u=22521;u<=22525;u++)O[u]=0;for(u=22607;u<=22622;u++)O[u]=0;for(u=22641;u<=22646;u++)O[u]=0;for(u=22648;u<=22657;u++)O[u]=0;for(u=22707;u<=22722;u++)O[u]=0;for(u=22762;u<=22765;u++)O[u]=0;for(u=22807;u<=22822;u++)O[u]=0;for(u=22991;u<=22994;u++)O[u]=0;for(u=23028;u<=23038;u++)O[u]=0;for(u=23301;u<=23333;u++)O[u]=2;for(u=23830;u<=23853;u++)O[u]=0;for(u=23866;u<=23872;u++)O[u]=0;for(u=23877;u<=23884;u++)O[u]=0;for(u=23886;u<=23894;u++)O[u]=0;for(u=23946;u<=23948;u++)O[u]=0;for(u=24311;u<=24313;u++)O[u]=0;for(u=24342;u<=24347;u++)O[u]=0;for(u=24370;u<=24374;u++)O[u]=10;for(u=24375;u<=24381;u++)O[u]=0;for(u=24718;u<=24721;u++)O[u]=0;for(u=24817;u<=24821;u++)O[u]=0;for(u=24877;u<=24882;u++)O[u]=0;for(u=24891;u<=24893;u++)O[u]=0;for(u=25391;u<=25395;u++)O[u]=0;for(u=25828;u<=25838;u++)O[u]=0;for(u=26191;u<=26195;u++)O[u]=0;for(u=26391;u<=26393;u++)O[u]=0;for(u=26701;u<=26722;u++)O[u]=0;for(u=26729;u<=26799;u++)O[u]=2;for(u=26801;u<=26803;u++)O[u]=2;for(u=26811;u<=26813;u++)O[u]=2;for(u=26847;u<=26870;u++)O[u]=2;for(u=26891;u<=26899;u++)O[u]=0;for(u=26901;u<=26923;u++)O[u]=0;for(u=26929;u<=26946;u++)O[u]=0;for(u=26948;u<=26998;u++)O[u]=0;for(u=27037;u<=27040;u++)O[u]=0;for(u=27205;u<=27232;u++)O[u]=0;for(u=27258;u<=27260;u++)O[u]=0;for(u=27391;u<=27398;u++)O[u]=0;for(u=27561;u<=27564;u++)O[u]=0;for(u=27571;u<=27574;u++)O[u]=0;for(u=27581;u<=27584;u++)O[u]=0;for(u=27591;u<=27594;u++)O[u]=0;for(u=27700;u<=27707;u++)O[u]=0;for(u=28191;u<=28193;u++)O[u]=0;for(u=28348;u<=28358;u++)O[u]=0;for(u=28402;u<=28432;u++)O[u]=0;for(u=28462;u<=28492;u++)O[u]=0;for(u=29118;u<=29122;u++)O[u]=0;for(u=29168;u<=29172;u++)O[u]=0;for(u=29177;u<=29185;u++)O[u]=0;for(u=29187;u<=29195;u++)O[u]=0;for(u=29900;u<=29903;u++)O[u]=0;for(u=30161;u<=30179;u++)O[u]=0;for(u=30491;u<=30494;u++)O[u]=0;for(u=30729;u<=30732;u++)O[u]=0;for(u=31251;u<=31259;u++)O[u]=0;for(u=31265;u<=31268;u++)O[u]=0;for(u=31275;u<=31279;u++)O[u]=0;for(u=31281;u<=31297;u++)O[u]=0;for(u=31461;u<=31469;u++)O[u]=0;for(u=31491;u<=31495;u++)O[u]=0;for(u=31917;u<=31922;u++)O[u]=0;for(u=31965;u<=32e3;u++)O[u]=0;for(u=32001;u<=32003;u++)O[u]=2;for(u=32005;u<=32031;u++)O[u]=2;for(u=32033;u<=32060;u++)O[u]=2;for(u=32064;u<=32067;u++)O[u]=2;for(u=32074;u<=32077;u++)O[u]=2;for(u=32081;u<=32086;u++)O[u]=0;for(u=32107;u<=32130;u++)O[u]=0;for(u=32133;u<=32159;u++)O[u]=0;for(u=32164;u<=32167;u++)O[u]=2;for(u=32180;u<=32199;u++)O[u]=0;for(u=32201;u<=32260;u++)O[u]=0;for(u=32301;u<=32360;u++)O[u]=0;for(u=32401;u<=32460;u++)O[u]=0;for(u=32501;u<=32560;u++)O[u]=0;for(u=32601;u<=32662;u++)O[u]=0;for(u=32664;u<=32667;u++)O[u]=2;for(u=32701;u<=32761;u++)O[u]=0;for(u=53001;u<=53004;u++)O[u]=0;for(u=53008;u<=53019;u++)O[u]=0;for(u=53021;u<=53032;u++)O[u]=0;for(u=53034;u<=53037;u++)O[u]=0;for(u=53042;u<=53046;u++)O[u]=0;for(u=53074;u<=53080;u++)O[u]=0;for(u=54001;u<=54004;u++)O[u]=0;for(u=54008;u<=54019;u++)O[u]=0;for(u=54021;u<=54032;u++)O[u]=0;for(u=54034;u<=54037;u++)O[u]=0;for(u=54042;u<=54046;u++)O[u]=0;for(u=54048;u<=54053;u++)O[u]=0;for(u=54074;u<=54080;u++)O[u]=0;for(u=54090;u<=54096;u++)O[u]=0;for(u=54098;u<=54101;u++)O[u]=0;for(u=65161;u<=65163;u++)O[u]=0;for(u=102001;u<=102040;u++)O[u]=0;for(u=102042;u<=102063;u++)O[u]=0;for(u=102065;u<=102067;u++)O[u]=0;for(u=102070;u<=102117;u++)O[u]=0;for(u=102122;u<=102216;u++)O[u]=0;for(u=102221;u<=102377;u++)O[u]=0;for(u=102382;u<=102388;u++)O[u]=0;for(u=102389;u<=102398;u++)O[u]=2;for(u=102399;u<=102444;u++)O[u]=0;for(u=102445;u<=102447;u++)O[u]=2;for(u=102448;u<=102458;u++)O[u]=0;for(u=102459;u<=102468;u++)O[u]=2;for(u=102469;u<=102499;u++)O[u]=0;for(u=102500;u<=102519;u++)O[u]=1;for(u=102520;u<=102524;u++)O[u]=0;for(u=102525;u<=102529;u++)O[u]=2;for(u=102530;u<=102588;u++)O[u]=0;for(u=102590;u<=102598;u++)O[u]=0;for(u=102601;u<=102603;u++)O[u]=0;for(u=102605;u<=102628;u++)O[u]=0;for(u=102629;u<=102646;u++)O[u]=2;for(u=102648;u<=102700;u++)O[u]=2;for(u=102701;u<=102703;u++)O[u]=0;for(u=102707;u<=102730;u++)O[u]=2;for(u=102733;u<=102758;u++)O[u]=2;for(u=102767;u<=102900;u++)O[u]=0;for(u=102901;u<=102933;u++)O[u]=2;for(u=102934;u<=102950;u++)O[u]=13;for(u=102951;u<=102963;u++)O[u]=0;for(u=102965;u<=102969;u++)O[u]=0;for(u=102971;u<=102973;u++)O[u]=0;for(u=102975;u<=102989;u++)O[u]=0;for(u=102990;u<=102992;u++)O[u]=1;for(u=102997;u<=103002;u++)O[u]=0;for(u=103003;u<=103008;u++)O[u]=2;for(u=103009;u<=103011;u++)O[u]=0;for(u=103012;u<=103014;u++)O[u]=2;for(u=103019;u<=103021;u++)O[u]=0;for(u=103022;u<=103024;u++)O[u]=2;for(u=103029;u<=103031;u++)O[u]=0;for(u=103032;u<=103034;u++)O[u]=2;for(u=103065;u<=103068;u++)O[u]=0;for(u=103074;u<=103076;u++)O[u]=0;for(u=103077;u<=103079;u++)O[u]=1;for(u=103080;u<=103082;u++)O[u]=0;for(u=103083;u<=103085;u++)O[u]=2;for(u=103090;u<=103093;u++)O[u]=0;for(u=103097;u<=103099;u++)O[u]=0;for(u=103100;u<=103102;u++)O[u]=2;for(u=103107;u<=103109;u++)O[u]=0;for(u=103110;u<=103112;u++)O[u]=2;for(u=103113;u<=103116;u++)O[u]=0;for(u=103117;u<=103120;u++)O[u]=2;for(u=103153;u<=103157;u++)O[u]=0;for(u=103158;u<=103162;u++)O[u]=2;for(u=103163;u<=103165;u++)O[u]=0;for(u=103166;u<=103168;u++)O[u]=1;for(u=103169;u<=103171;u++)O[u]=2;for(u=103186;u<=103188;u++)O[u]=0;for(u=103189;u<=103191;u++)O[u]=2;for(u=103192;u<=103195;u++)O[u]=0;for(u=103196;u<=103199;u++)O[u]=2;for(u=103200;u<=103224;u++)O[u]=0;for(u=103225;u<=103227;u++)O[u]=1;for(u=103232;u<=103237;u++)O[u]=0;for(u=103238;u<=103243;u++)O[u]=2;for(u=103244;u<=103246;u++)O[u]=0;for(u=103247;u<=103249;u++)O[u]=2;for(u=103254;u<=103256;u++)O[u]=0;for(u=103257;u<=103259;u++)O[u]=2;for(u=103264;u<=103266;u++)O[u]=0;for(u=103267;u<=103269;u++)O[u]=2;for(u=103300;u<=103375;u++)O[u]=0;for(u=103381;u<=103383;u++)O[u]=0;for(u=103384;u<=103386;u++)O[u]=1;for(u=103387;u<=103389;u++)O[u]=0;for(u=103390;u<=103392;u++)O[u]=2;for(u=103397;u<=103399;u++)O[u]=0;for(u=103400;u<=103471;u++)O[u]=2;for(u=103476;u<=103478;u++)O[u]=0;for(u=103479;u<=103481;u++)O[u]=2;for(u=103486;u<=103488;u++)O[u]=0;for(u=103489;u<=103491;u++)O[u]=2;for(u=103492;u<=103495;u++)O[u]=0;for(u=103496;u<=103499;u++)O[u]=2;for(u=103528;u<=103543;u++)O[u]=0;for(u=103544;u<=103548;u++)O[u]=2;for(u=103549;u<=103551;u++)O[u]=0;for(u=103552;u<=103554;u++)O[u]=1;for(u=103555;u<=103557;u++)O[u]=2;for(u=103558;u<=103560;u++)O[u]=0;for(u=103571;u<=103573;u++)O[u]=0;for(u=103574;u<=103576;u++)O[u]=2;for(u=103577;u<=103580;u++)O[u]=0;for(u=103581;u<=103583;u++)O[u]=2;for(u=103595;u<=103694;u++)O[u]=0;for(u=103696;u<=103699;u++)O[u]=0;for(u=103700;u<=103793;u++)O[u]=2;for(u=103794;u<=103890;u++)O[u]=0;for(u=103891;u<=103896;u++)O[u]=2;for(u=103900;u<=103971;u++)O[u]=2;for(u=103972;u<=103977;u++)O[u]=0;for(u=112e3;u<=112101;u++)O[u]=0;const O5=[102100,102113,3857,3785,900913],MB=[104905,104971],$B=[4326,...O5,...MB],xp=[-20037508342788905e-9,20037508342788905e-9],d2=[-20037508342787e-6,20037508342787e-6],_b={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:xp,origin:d2,dx:1e-5},I5={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:xp,origin:d2,dx:1e-5},102100:_b,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:xp,origin:d2,dx:1e-5},3857:_b,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:_b};function zc(t,e){if(t===e)return!0;if(t==null||e==null)return!1;const r=t.wkid,i=e.wkid;if(r!=null||i!=null){if(r===i||qc(t)&&qc(e))return!0;const o=t.latestWkid;if(o!=null&&i===o)return!0;const a=e.latestWkid;return a!=null&&r===a}let s,n;return t.wkt2&&e.wkt2?(s=t.wkt2,n=e.wkt2):t.wkt&&e.wkt&&(s=t.wkt,n=e.wkt),!(!s||!n)&&s.toUpperCase()===n.toUpperCase()}function Pd(t){const e=t?.wkid;return e!=null&&e>=2e3&&I5[e]||null}function Ove(t){if(!t)return;const{wkid:e,vcsWkid:r}=t;if(e)return r?JSON.stringify({wkid:e,vcsWkid:r}):String(e);const i=t.wkt||t.wkt2;return JSON.stringify(i?r?{wkt:i,vcsWkid:r}:{wkt:i}:{})}function gm(t){if(!C5(t))return!1;const{wkid:e}=t;if(e)return O[e]==null;const r=t.wkt2||t.wkt;return!!r&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(r)}function OB(t){return!(IB(t)||CB(t))}function dg(t){return t?.wkid===4326}function Ive(t){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(t)}function Cve(t){return t?.wkid===Rh.CGCS2000}function qc(t){const e=t?.wkid;return e!=null&&e>=2e3&&O5.includes(e)}function Nve(t){return t?.wkid===32662}function Yv(t){return t===Rh.GCSMARS2000||t===Rh.GCSMARS2000_SPHERE}function IB(t){return Yv(t?.wkid)}function Jv(t){return t===Rh.GCSMOON2000}function CB(t){return Jv(t?.wkid)}function NB(t){const e=t?.wkid;return e!=null&&e>=2e3&&$B.includes(e)}function C5(t){if(t==null)return!1;const e=t.wkid;return e!=null&&e>=2e3||t.wkt2!=null||t.wkt!=null}const N5={wkid:4326,wkt:XI(I5[4326].wkTemplate,{Central_Meridian:"0.0"})},P5={wkid:102100,latestWkid:3857},PB={wkid:32662};function PE(t){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const LB=PE(jn),L5=PE(vp),k5=PE(Vv),Pve={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${jn.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},kB=L5.wkt.toUpperCase(),RB=k5.wkt.toUpperCase();function DB(t){if(t!=null&&C5(t)){const e=t.wkid,r=t.wkt2??t.wkt;if(Yv(e))return vp;const i=r?.toUpperCase();if(r&&i===kB)return vp;if(Jv(e)||i&&i===RB)return Vv}return jn}function Lve(t){return Yv(t)?vp:Jv(t)?Vv:jn}function FB(t){return zc(t,LB)}function kve(t){return FB(t)||zc(t,L5)||zc(t,k5)}const Rve=39.37,UB=jn.radius*Math.PI/200,R5=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Dh=O,D5=/UNIT\[([^\]]+)]/i,jB=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),BB=Hn()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),dn=t=>t*t,Ma=t=>t*t*t,Ep={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:dn(.001)},"square-centimeters":{inBaseUnits:dn(.01)},"square-decimeters":{inBaseUnits:dn(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:dn(1e3)},"square-inches":{inBaseUnits:dn(.0254)},"square-feet":{inBaseUnits:dn(.3048)},"square-yards":{inBaseUnits:dn(.9144)},"square-miles":{inBaseUnits:dn(1609.344)},"square-nautical-miles":{inBaseUnits:dn(1852)},"square-us-feet":{inBaseUnits:dn(1200/3937)},acres:{inBaseUnits:.0015625*dn(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Ma(.001)},"cubic-centimeters":{inBaseUnits:1e3*Ma(.01)},"cubic-decimeters":{inBaseUnits:1e3*Ma(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Ma(1e3)},"cubic-inches":{inBaseUnits:1e3*Ma(.0254)},"cubic-feet":{inBaseUnits:1e3*Ma(.3048)},"cubic-yards":{inBaseUnits:1e3*Ma(.9144)},"cubic-miles":{inBaseUnits:1e3*Ma(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},VB=(()=>{const t={};for(const e in Ep)for(const r in Ep[e].units)t[r]=e;return t})();function GB(t,e,r){return t*Ep[r].units[e].inBaseUnits}function zB(t,e,r){return t/Ep[r].units[e].inBaseUnits}const qB=["inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],HB=["metric","imperial"],F5=[...HB,...qB],WB=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function p2(t){const e=VB[t];if(!e)throw new Error("unknown type");return e}function qT(t,e=null){return e=e||p2(t),Ep[e].baseUnit===t}function Bn(t,e,r){if(e===r)return t;const i=p2(e);if(i!==p2(r))throw new Error("incompatible units");const s=qT(e,i)?t:GB(t,e,i);return qT(r,i)?s:zB(s,r,i)}function Dve(t,e,r,i=!1){if(!i&&gm(e))throw new Error("Unable to convert from an angular unit to a linear unit.");const s=au(e);return s!==r&&(t=s?Bn(t,s,r):Bn(t*=bf(e),"meters",r)),t}function Fve(t,e,r,i=!1){if(!i&&gm(r))throw new Error("Unable to convert from a linear unit to an angular unit.");const s=au(r);return e!==s&&(t=s?Bn(t,e,s):Bn(t,e,"meters")/bf(r)),t}function YB(t){switch(t){case"metric":return"meters";case"imperial":return"feet";default:return t}}function Uve(t){return YB(t)}function jve(t){switch(t){case"metric":return"square-meters";case"imperial":return"square-feet";default:return t}}function Bve(t,e){const r=Bn(t,e,"meters");return Math.abs(r)<3e3?"meters":"kilometers"}function Vve(t,e){const r=Bn(t,e,"meters");return Math.abs(r)<1e5?"meters":"kilometers"}function Gve(t,e){const r=Bn(t,e,"feet");return Math.abs(r)<1e3?"feet":"miles"}function zve(t,e){const r=Bn(t,e,"feet");return Math.abs(r)<1e5?"feet":"miles"}function qve(t,e){const r=Bn(t,e,"square-meters");return Math.abs(r)<3e6?"square-meters":"square-kilometers"}function Hve(t,e){const r=Bn(t,e,"square-feet");return Math.abs(r)<1e6?"square-feet":"square-miles"}function Wve(t,e,r){return Bn(t,e,"meters")/(r*Math.PI/180)}function U5(t){return BB.fromJSON(t.toLowerCase())||null}function Yve(t){if(t!=null&&!OB(t))return 1;const e=bf(t);return e>1e5?1:e}function JB(t){return bf(t)>=DB(t).metersPerDegree?"meters":au(t)}function bf(t,e=jn.metersPerDegree){return KB(t,!0)??e}function KB(t,e=!1){const r=t?.wkid??null,i=t?.wkt2??t?.wkt??null;let s=null;if(r){if(Yv(r))return vp.metersPerDegree;if(Jv(r))return Vv.metersPerDegree;s=Dh.values[Dh[r]],!s&&e&&jB.has(r)&&(s=UB)}else i&&(V5(i)?s=HT(R5.exec(i),s):B5(i)&&(s=HT(D5.exec(i),s)));return s}function Jve(t){return gm(t)?1:bf(t)}function HT(t,e){return t?.[1]?j5(t[1]):e}function j5(t){return parseFloat(t.split(",")[1])}function au(t){const e=t?.wkid??null,r=t?.wkt2??t?.wkt??null;let i=null;if(e)i=Dh.units[Dh[e]];else if(r){const s=V5(r)?R5:B5(r)?D5:null;if(s){const n=s.exec(r);n?.[1]&&(i=XB(n[1]))}}return i!=null?U5(i):null}function Kve(t){const e=au(t);return e!=null&&F5.includes(e)?e:null}function Zve(t){const e=JB(t);return e!=null&&F5.includes(e)?e:null}function Xve(t){const e=au(t);return e==null?null:WB.get(e)}function B5(t){return/^GEOCCS/i.test(t)}function V5(t){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(t)}const ZB=1e-7;function XB(t){let r=/[\\"']{1}([^\\"']+)/.exec(t)?.[1];if(!r||!U5(r)){const i=j5(t);r=null;const s=Dh.values;for(let n=0;n<s.length;++n)if(Math.abs(i-s[n])<ZB){r=Dh.units[n];break}}return r}function Qve(t){const e=au(t);if(e==null)return null;switch(e){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const QB={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},eV={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},tV={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},e1e=Hn()(QB),t1e=Hn()(eV),r1e=Hn()(tV);function Kt(t,e,r){let i,s;return e===void 0?(s=t,i=[void 0]):typeof e!="string"?(s=t,i=[void 0],r=e):(s=e,i=Array.isArray(t)?t:[t]),(n,o)=>{const a=n.constructor.prototype;for(const l of i){const c=RC(n,l,s);c.write&&typeof c.write=="object"||(c.write={}),r&&(c.write.target=r),c.write.writer=a[o]}}}var to;let Qe=class extends rt{static{to=this}static{this.GCS_NAD_1927=null}static{this.WGS84=null}static{this.WebMercator=null}static{this.PlateCarree=null}static fromJSON(e){if(!e)return null;if(e?.wkid===102100)return to.WebMercator;if(e?.wkid===4326)return to.WGS84;const r=new to;return r.read(e),r}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return dg(this)}get isWebMercator(){return qc(this)}get isGeographic(){return gm(this)}get isWrappable(){return NB(this)}get metersPerUnit(){return bf(this)}get unit(){return au(this)||(this.isGeographic?"degrees":null)}writeWkt(e,r){this.wkid||(r.wkt=e)}clone(){if(this===to.WGS84)return new to(N5);if(this===to.WebMercator)return new to(P5);const e=new to;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=ge(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:r,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:s}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return r==null||s?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):i?n.id===r&&n.referenceServiceName===i:n.id===r}return zc(this,e)}toJSON(e){return this.write(void 0,e)}};g([A({readOnly:!0})],Qe.prototype,"isWGS84",null),g([A({readOnly:!0})],Qe.prototype,"isWebMercator",null),g([A({readOnly:!0})],Qe.prototype,"isGeographic",null),g([A({readOnly:!0})],Qe.prototype,"isWrappable",null),g([A({type:Rr,json:{write:!0}})],Qe.prototype,"latestWkid",void 0),g([A({readOnly:!0})],Qe.prototype,"metersPerUnit",null),g([A({readOnly:!0})],Qe.prototype,"unit",null),g([A({type:Rr,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Qe.prototype,"wkid",void 0),g([A({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Qe.prototype,"wkt",void 0),g([Kt("wkt"),Kt("web-scene","wkt")],Qe.prototype,"writeWkt",null),g([A({type:String,json:{write:!1}})],Qe.prototype,"wkt2",void 0),g([A({type:Rr,json:{write:!0}})],Qe.prototype,"vcsWkid",void 0),g([A({type:Rr,json:{write:!0}})],Qe.prototype,"latestVcsWkid",void 0),g([A()],Qe.prototype,"imageCoordinateSystem",void 0),Qe=to=g([ie("esri.geometry.SpatialReference")],Qe),Qe.prototype.toJSON.isDefaultToJSON=!0,Qe.GCS_NAD_1927=oi.freeze(new Qe({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Qe.WGS84=oi.freeze(new Qe(N5)),Qe.WebMercator=oi.freeze(new Qe(P5)),Qe.PlateCarree=oi.freeze(new Qe(PB));let Si=class extends rt{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Qe.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,r){if(e instanceof Qe)return e;if(e!=null){const i=new Qe;return i.read(e,r),i}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,r){this.cache[e]=r}};g([A()],Si.prototype,"type",void 0),g([A({readOnly:!0})],Si.prototype,"cache",null),g([A({readOnly:!0})],Si.prototype,"extent",null),g([A({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Si.prototype,"hasM",void 0),g([A({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Si.prototype,"hasZ",void 0),g([A({type:Qe,json:{write:!0},value:Qe.WGS84})],Si.prototype,"spatialReference",void 0),g([ni("spatialReference")],Si.prototype,"readSpatialReference",null),Si=g([ie("esri.geometry.Geometry")],Si);const rV=Object.prototype.toString;function iV(t){const e="__accessorMetadata__"in t?Un(t):t;return function(...r){if(r.push(e),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return sV.apply(this,r)}}function sV(t,e,r,i){Bv(t,e).cast=i}function nV(t){return(e,r)=>{Bv(e,t).cast=e[r]}}function vm(...t){if(t.length!==3||typeof t[1]!="string")return t.length===1&&rV.call(t[0])==="[object Function]"?iV(t[0]):t.length===1&&typeof t[0]=="string"?nV(t[0]):void 0}function Sp(t){if(t&&typeof t=="object"&&"type"in t&&t.type==="mesh")throw new mt("internal:mesh","Mesh geometries are not supported for this operation")}function n1e(t){t.forEach(Sp)}const oV=57.29577951308232,aV=.017453292519943;function WT(t){return t*oV}function YT(t){return t*aV}function o1e(t){return Math.PI/2-2*Math.atan(Math.exp(-t/jn.radius))}function m2(t){return t.wkid!=null||t.wkt!=null}const wb=[0,0];function pg(t,e,r,i,s){const n=t,o=s;if(o.spatialReference=r,"x"in n&&"x"in o)[o.x,o.y]=e(n.x,n.y,wb,i);else if("xmin"in n&&"xmin"in o)[o.xmin,o.ymin]=e(n.xmin,n.ymin,wb,i),[o.xmax,o.ymax]=e(n.xmax,n.ymax,wb,i);else if("paths"in n&&"paths"in o||"rings"in n&&"rings"in o){const a="paths"in n?n.paths:n.rings,l=[];let c;for(let f=0;f<a.length;f++){const d=a[f];c=[],l.push(c);for(let p=0;p<d.length;p++)c.push(e(d[p][0],d[p][1],[0,0],i)),d[p].length>2&&c[p].push(d[p][2]),d[p].length>3&&c[p].push(d[p][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in n&&"points"in o){const a=n.points,l=[];for(let c=0;c<a.length;c++)l[c]=e(a[c][0],a[c][1],[0,0],i),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return s}function i0(t,e){const r=t&&(m2(t)?t:t.spatialReference),i=e&&(m2(e)?e:e.spatialReference);return!(t&&"type"in t&&t.type==="mesh"||e&&"type"in e&&e.type==="mesh"||!r||!i)&&(!!zc(i,r)||qc(i)&&dg(r)||qc(r)&&dg(i))}function G5(t,e){if(t==null)return null;const r=t.spatialReference,i=e&&(m2(e)?e:e.spatialReference);return i0(r,i)?zc(r,i)?ge(t):qc(i)?pg(t,Hu,Qe.WebMercator,!1,ge(t)):dg(i)?pg(t,Kv,Qe.WGS84,!1,ge(t)):null:null}function Hu(t,e,r=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const i=YT(e);return r[0]=YT(t)*jn.radius,r[1]=jn.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),r}function Kv(t,e,r=[0,0],i=!1){if(t===xp[0])r[0]=-180;else if(t===xp[1])r[0]=180;else{const s=WT(t/jn.radius);r[0]=i?s:s-360*Math.floor((s+180)/360)}return r[1]=WT(Math.PI/2-2*Math.atan(Math.exp(-e/jn.radius))),r}function xb(t,e=!1,r=ge(t)){return Sp(t),Sp(r),pg(t,Hu,Qe.WebMercator,e,r)}function ay(t,e=!1,r=ge(t)){return Sp(t),Sp(r),pg(t,Kv,Qe.WGS84,e,r)}function lV(t,e){const r=t.x-e.x,i=t.y-e.y,s=t.z!=null&&e.z!=null?t.z-e.z:0;return Math.sqrt(r*r+i*i+s*s)}function cV(t){return z5(t,q5)?.[0]??null}function uV(t){return z5(t,q5)?.[1]??null}function z5({x:t,y:e,spatialReference:r},i=[0,0]){if(r){if(qc(r))return Kv(t,e,i);if(gm(r))return i[0]=t,i[1]=e,i}return null}const q5=[0,0];var s0;const Eb=[0,0];function JT(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let ut=s0=class extends Si{static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const r=t._get("spatialReference");e._set("spatialReference",oi.isFrozen(r)?r:r.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,e,r,i,s){let n;if(Array.isArray(t))n=t,s=e,t=n[0],e=n[1],r=n[2],i=n[3];else if(t&&typeof t=="object"){if(n=t,t=n.x!=null?n.x:n.longitude,e=n.y!=null?n.y:n.latitude,r=n.z,i=n.m,(s=n.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new Qe(s)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)rr.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)rr.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&s?.isWebMercator){const a=Hu(n.longitude,n.latitude,Eb);t=a[0],e=a[1]}}}else JT(r)?(s=r,r=null):JT(i)&&(s=i,i=null);const o={x:t,y:e};return o.x==null&&o.y!=null?rr.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&rr.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(o.spatialReference=s),r!=null&&(o.z=r),i!=null&&(o.m=i),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(t){t!==(this._get("m")!==void 0)&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return this.z!==void 0}set hasZ(t){t!==(this._get("z")!==void 0)&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){return uV(this)}set latitude(t){const{spatialReference:e,x:r}=this;t!=null&&e&&(e.isWebMercator?this._set("y",Hu(r,t,Eb)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){return cV(this)}set longitude(t){const{y:e,spatialReference:r}=this;t!=null&&r&&(r.isWebMercator?this._set("x",Hu(t,e,Eb)[0]):r.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,r){e[r]=isNaN(t)?"NaN":t}readX(t){return typeof t=="string"?NaN:t}clone(){const t=new s0;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return s0.copy(t,this),this}equals(t){if(t==null)return!1;const{x:e,y:r,z:i,m:s,spatialReference:n}=this,{z:o,m:a}=t;let{x:l,y:c,spatialReference:f}=t;if(!n.equals(f))if(n.isWebMercator&&f.isWGS84)[l,c]=Hu(l,c),f=n;else{if(!n.isWGS84||!f.isWebMercator)return!1;[l,c]=Kv(l,c),f=n}return e===l&&r===c&&i===o&&s===a&&n.wkid===f.wkid}offset(t,e,r){return this.x+=t,this.y+=e,r!=null&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const t=Pd(this.spatialReference);if(!t)return this;let e=this.x;const[r,i]=t.valid,s=2*i;let n;return e>i?(n=Math.ceil(Math.abs(e-i)/s),e-=n*s):e<r&&(n=Math.ceil(Math.abs(e-r)/s),e+=n*s),this._set("x",e),this}distance(t){return lV(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};g([A({readOnly:!0})],ut.prototype,"cache",null),g([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ut.prototype,"hasM",null),g([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ut.prototype,"hasZ",null),g([A({type:Number})],ut.prototype,"latitude",null),g([A({type:Number})],ut.prototype,"longitude",null),g([A({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),vm(t=>isNaN(t)?t:kv(t))],ut.prototype,"x",void 0),g([Kt("x")],ut.prototype,"writeX",null),g([ni("x")],ut.prototype,"readX",null),g([A({type:Number,json:{write:!0}})],ut.prototype,"y",void 0),g([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ut.prototype,"z",void 0),g([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],ut.prototype,"m",void 0),ut=s0=g([ie("esri.geometry.Point")],ut),ut.prototype.toJSON.isDefaultToJSON=!0;const Sb=[0,0];function H5(t,e){return e!=null&&Ri(t,e.x,e.y,e.z)}function a1e(t,e){if(!e.points?.length)return!1;for(const r of e.points)if(!Fh(t,r))return!1;return!0}function hV(t,e){const{xmin:r,ymin:i,zmin:s,xmax:n,ymax:o,zmax:a}=e;return t.hasZ&&e.hasZ?Ri(t,r,i,s)&&Ri(t,r,o,s)&&Ri(t,n,o,s)&&Ri(t,n,i,s)&&Ri(t,r,i,a)&&Ri(t,r,o,a)&&Ri(t,n,o,a)&&Ri(t,n,i,a):Ri(t,r,i)&&Ri(t,r,o)&&Ri(t,n,o)&&Ri(t,n,i)}function Fh(t,e){return Ri(t,e[0],e[1])}function fV(t,e){return Ri(t,e[0],e[1],e[2])}function Ri(t,e,r,i){return e>=t.xmin&&e<=t.xmax&&r>=t.ymin&&r<=t.ymax&&(i==null||!t.hasZ||i>=t.zmin&&i<=t.zmax)}function dV(t,e){return Sb[1]=e.y,Sb[0]=e.x,pV(t,Sb)}function pV(t,e){return W5(t.rings,e)}function W5(t,e){if(!t)return!1;if(mV(t))return KT(!1,t,e);let r=!1;for(let i=0,s=t.length;i<s;i++)r=KT(r,t[i],e);return r}function mV(t){return!Array.isArray(t[0][0])}function KT(t,e,r){const[i,s]=r;let n=t,o=0;for(let a=0,l=e.length;a<l;a++){o++,o===l&&(o=0);const[c,f]=e[a],[d,p]=e[o];(f<s&&p>=s||p<s&&f>=s)&&c+(s-f)/(p-f)*(d-c)<i&&(n=!n)}return n}function yV(t,e){return H5(t,e)}function gV(t,e){const r=t.hasZ&&e.hasZ;let i,s,n;if(t.xmin<=e.xmin){if(i=e.xmin,t.xmax<i)return!1}else if(i=t.xmin,e.xmax<i)return!1;if(t.ymin<=e.ymin){if(s=e.ymin,t.ymax<s)return!1}else if(s=t.ymin,e.ymax<s)return!1;if(r&&e.hasZ){if(t.zmin<=e.zmin){if(n=e.zmin,t.zmax<n)return!1}else if(n=t.zmin,e.zmax<n)return!1}return!0}function vV(t,e){const{points:r,hasZ:i}=e,s=i?fV:Fh;for(const n of r)if(s(t,n))return!0;return!1}const Hc=[0,0],Wc=[0,0],Yc=[0,0],Jc=[0,0],bV=[Hc,Wc,Yc,Jc],Y5=[[Yc,Hc],[Hc,Wc],[Wc,Jc],[Jc,Yc]];function _V(t,e){return wV(t,e.rings)}function wV(t,e){Hc[0]=t.xmin,Hc[1]=t.ymax,Wc[0]=t.xmax,Wc[1]=t.ymax,Yc[0]=t.xmin,Yc[1]=t.ymin,Jc[0]=t.xmax,Jc[1]=t.ymin;for(const r of bV)if(W5(e,r))return!0;for(const r of e){if(!r.length)continue;let i=r[0];if(Fh(t,i))return!0;for(let s=1;s<r.length;s++){const n=r[s];if(Fh(t,n)||J5(i,n,Y5))return!0;i=n}}return!1}function xV(t,e){Hc[0]=t.xmin,Hc[1]=t.ymax,Wc[0]=t.xmax,Wc[1]=t.ymax,Yc[0]=t.xmin,Yc[1]=t.ymin,Jc[0]=t.xmax,Jc[1]=t.ymin;const r=e.paths;for(const i of r){if(!r.length)continue;let s=i[0];if(Fh(t,s))return!0;for(let n=1;n<i.length;n++){const o=i[n];if(Fh(t,o)||J5(s,o,Y5))return!0;s=o}}return!1}const ti=[0,0];function EV(t){for(let e=0;e<t.length;e++){const r=t[e];for(let s=0;s<r.length-1;s++){const n=r[s],o=r[s+1];for(let a=e+1;a<t.length;a++)for(let l=0;l<t[a].length-1;l++){const c=t[a][l],f=t[a][l+1];if(y2(n,o,c,f,ti)&&!(ti[0]===n[0]&&ti[1]===n[1]||ti[0]===c[0]&&ti[1]===c[1]||ti[0]===o[0]&&ti[1]===o[1]||ti[0]===f[0]&&ti[1]===f[1]))return!0}}const i=r.length;if(!(i<=4))for(let s=0;s<i-3;s++){let n=i-1;s===0&&(n=i-2);const o=r[s],a=r[s+1];for(let l=s+2;l<n;l++){const c=r[l],f=r[l+1];if(y2(o,a,c,f,ti)&&!(ti[0]===o[0]&&ti[1]===o[1]||ti[0]===c[0]&&ti[1]===c[1]||ti[0]===a[0]&&ti[1]===a[1]||ti[0]===f[0]&&ti[1]===f[1]))return!0}}}return!1}function J5(t,e,r){for(let i=0;i<r.length;i++)if(y2(t,e,r[i][0],r[i][1]))return!0;return!1}function y2(t,e,r,i,s){const[n,o]=t,[a,l]=e,[c,f]=r,[d,p]=i,y=d-c,v=n-c,b=a-n,S=p-f,E=o-f,T=l-o,w=S*b-y*T;if(w===0)return!1;const _=(y*E-S*v)/w,M=(b*E-T*v)/w;return _>=0&&_<=1&&M>=0&&M<=1&&(s&&(s[0]=n+_*(a-n),s[1]=o+_*(l-o)),!0)}function SV(t){switch(t){case"esriGeometryEnvelope":case"extent":return gV;case"esriGeometryMultipoint":case"multipoint":return vV;case"esriGeometryPoint":case"point":return yV;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return _V;case"esriGeometryPolyline":case"polyline":return xV}}var gn;function AV(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}function $a(t,e,r){return e==null?r:r==null?e:t(e,r)}let Et=gn=class extends Si{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,r,i,s){return AV(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:typeof t=="object"?(t.spatialReference=t.spatialReference==null?Qe.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:r,ymax:i,spatialReference:s??Qe.WGS84}}static fromPoint(t){return new gn({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new ut({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return t.z!=null&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new gn;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,this.zmin!=null&&(t.zmin=this.zmin,t.zmax=this.zmax),this.mmin!=null&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,r=t.spatialReference;return e&&r&&!e.equals(r)&&i0(e,r)&&(t=e.isWebMercator?xb(t):ay(t,!0)),t.type==="point"?H5(this,t):t.type==="extent"&&hV(this,t)}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,r=t.spatialReference;return e&&r&&!e.equals(r)&&i0(e,r)&&(t=e.isWebMercator?xb(t):ay(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),r=this.width*e,i=this.height*e;if(this.xmin+=r,this.ymin+=i,this.xmax-=r,this.ymax-=i,this.hasZ){const s=(this.zmax-this.zmin)*e;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*e;this.mmin+=s,this.mmax-=s}return this}intersects(t){if(t==null)return!1;t.type==="mesh"&&(t=t.extent);const e=this.spatialReference,r=t.spatialReference;return e&&r&&!zc(e,r)&&i0(e,r)&&(t=e.isWebMercator?xb(t):ay(t,!0)),SV(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,r){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=$a(Math.min,this.zmin,t.zmin),this.zmax=$a(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=$a(Math.min,this.mmin,t.mmin),this.mmax=$a(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:t!=null&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=$a(Math.max,this.zmin,t.zmin),this.zmax=$a(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=$a(Math.max,this.mmin,t.mmin),this.mmax=$a(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=Pd(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,r=this._getCM(t);if(r){const i=e.isWebMercator?ay(r):r;this.xmin-=r.x,this.xmax-=r.x,e.isWebMercator||(i.x=Ab(i.x,t).x),this.spatialReference=new Qe(XI((e.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(t){let e=null;const[r,i]=t.valid,s=this.xmin,n=this.xmax;return s>=r&&s<=i&&n>=r&&n<=i||(e=this.center),e}_normalize(t,e,r){const i=this.spatialReference;if(!i)return this;const s=r??Pd(i);if(s==null)return this;const n=this._getParts(s).map(l=>l.extent);if(n.length<2)return n[0]||this;if(n.length>2)return t?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(t)return this._shiftCM(s);if(e)return n;let o=!0,a=!0;return n.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:n.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const f=(l.zmax-l.zmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}if(a){const f=(l.mmax-l.mmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}return c}),hasZ:o,hasM:a,spatialReference:i}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:s,ymax:n,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let f;t=t||Pd(o);const[d,p]=t.valid;f=Ab(this.xmin,t);const y=f.x,v=f.frameId;f=Ab(this.xmax,t);const b=f.x,S=f.frameId,E=y===b&&a>0;if(a>2*p){const T=new gn(l<c?y:b,s,p,n,o),w=new gn(d,s,l<c?b:y,n,o),_=new gn(0,s,p,n,o),M=new gn(d,s,0,n,o),$=[],C=[];T.contains(_)&&$.push(v),T.contains(M)&&C.push(v),w.contains(_)&&$.push(S),w.contains(M)&&C.push(S);for(let P=v+1;P<S;P++)$.push(P),C.push(P);e.push({extent:T,frameIds:[v]},{extent:w,frameIds:[S]},{extent:_,frameIds:$},{extent:M,frameIds:C})}else y>b||E?e.push({extent:new gn(y,s,p,n,o),frameIds:[v]},{extent:new gn(d,s,b,n,o),frameIds:[S]}):e.push({extent:new gn(y,s,b,n,o),frameIds:[v]});this.cache._parts=e}const r=this.hasZ,i=this.hasM;if(r||i){const s={};r&&(s.zmin=this.zmin,s.zmax=this.zmax),i&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let n=0;n<e.length;n++)e[n].extent.set(s)}return e}};function Ab(t,e){const[r,i]=e.valid,s=2*i;let n,o=0;return t>i?(n=Math.ceil(Math.abs(t-i)/s),t-=n*s,o=n):t<r&&(n=Math.ceil(Math.abs(t-r)/s),t+=n*s,o=-n),{x:t,frameId:o}}g([A({readOnly:!0})],Et.prototype,"cache",null),g([A({readOnly:!0})],Et.prototype,"center",null),g([A({readOnly:!0})],Et.prototype,"extent",null),g([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Et.prototype,"hasM",null),g([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Et.prototype,"hasZ",null),g([A({readOnly:!0})],Et.prototype,"height",null),g([A({readOnly:!0})],Et.prototype,"width",null),g([A({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Et.prototype,"xmin",void 0),g([A({type:Number,json:{write:!0}})],Et.prototype,"ymin",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Et.prototype,"mmin",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Et.prototype,"zmin",void 0),g([A({type:Number,json:{write:!0}})],Et.prototype,"xmax",void 0),g([A({type:Number,json:{write:!0}})],Et.prototype,"ymax",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Et.prototype,"mmax",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Et.prototype,"zmax",void 0),Et=gn=g([ie("esri.geometry.Extent")],Et),Et.prototype.toJSON.isDefaultToJSON=!0;function Uh(t,e,r=!1){let{hasM:i,hasZ:s}=t;Array.isArray(e)?e.length!==4||i||s?e.length===3&&r&&!i?(s=!0,i=!1):e.length===3&&i&&s&&(i=!1,s=!1):(i=!0,s=!0):(s=!s&&e.hasZ&&(!i||e.hasM),i=!i&&e.hasM&&(!s||e.hasZ)),t.hasZ=s,t.hasM=i}var g2;function ZT(t){return(e,r)=>e==null?r:r==null?e:t(e,r)}function TV(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let wn=g2=class extends Si{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){if(!t&&!e)return{};const r={};Array.isArray(t)?(r.points=t,r.spatialReference=e):TV(t)?r.spatialReference=t:(t.points&&(r.points=t.points),t.spatialReference&&(r.spatialReference=t.spatialReference),t.hasZ&&(r.hasZ=t.hasZ),t.hasM&&(r.hasM=t.hasM));const i=r.points?.[0];return i&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=i.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=i.length>3:r.hasM===void 0&&(r.hasM=i.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const e=new Et,r=this.hasZ,i=this.hasM,s=r?3:2,n=t[0],o=ZT(Math.min),a=ZT(Math.max);let l,c,f,d,[p,y]=n,[v,b]=n;for(let S=0,E=t.length;S<E;S++){const T=t[S],[w,_]=T;if(p=o(p,w),y=o(y,_),v=a(v,w),b=a(b,_),r&&T.length>2){const M=T[2];l=o(l,M),f=a(f,M)}if(i&&T.length>s){const M=T[s];c=o(c,M),d=a(d,M)}}return e.xmin=p,e.ymin=y,e.xmax=v,e.ymax=b,e.spatialReference=this.spatialReference,r?(e.zmin=l,e.zmax=f):(e.zmin=void 0,e.zmax=void 0),i?(e.mmin=c,e.mmax=d):(e.mmin=void 0,e.mmax=void 0),e}writePoints(t,e){e.points=ge(this.points)}addPoint(t){return Uh(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:ge(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new g2(t)}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],r={x:e[0],y:e[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(r.z=e[2],i=3),this.hasM&&(r.m=e[i]),new ut(r)}removePoint(t){if(!this._validateInputs(t))return null;const e=new ut(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(Uh(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};g([A({readOnly:!0})],wn.prototype,"cache",null),g([A()],wn.prototype,"extent",null),g([A({type:[[Number]],json:{write:{isRequired:!0}}})],wn.prototype,"points",void 0),g([Kt("points")],wn.prototype,"writePoints",null),wn=g2=g([ie("esri.geometry.Multipoint")],wn),wn.prototype.toJSON.isDefaultToJSON=!0;function l1e(t){const e=[];for(t.reset();t.nextPath();){const r=[];for(;t.nextPoint();)r.push([t.x,t.y]);e.push(r)}return t.reset(),e}function MV(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}var mg;(function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"})(mg||(mg={}));function c1e(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,r=t.hasM;if(t.type==="point")return r&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:r?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice();if(t.type==="polyline")return t.paths.slice();if(t.type==="multipoint")return t.points.slice();if(t.type==="extent"){const i=t.clone().normalize();if(!i)return null;let s=!1,n=!1;return i.forEach(o=>{o.hasZ&&(s=!0),o.hasM&&(n=!0)}),i.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(s&&o.hasZ){const l=.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(n&&o.hasM){const l=.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a})}return null}function Zv(t,e){const r=e[0]-t[0],i=e[1]-t[1];if(t.length>2&&e.length>2){const s=t[2]-e[2];return Math.sqrt(r*r+i*i+s*s)}return Math.sqrt(r*r+i*i)}function K5(t,e,r){const i=t[0]+r*(e[0]-t[0]),s=t[1]+r*(e[1]-t[1]);return t.length>2&&e.length>2?[i,s,t[2]+r*(e[2]-t[2])]:[i,s]}function u1e(t,e,r,i){return $V(t,e,r[i],r[i+1])}function $V(t,e,r,i){const[s,n]=e,[o,a]=r,[l,c]=i,f=l-o,d=c-a,p=f*f+d*d,y=(s-o)*f+(n-a)*d,v=Math.min(1,Math.max(0,y/p));return t[0]=o+f*v,t[1]=a+d*v,t}function h1e(t,e,r,i,s,n){let o=r,a=i,l=s-o,c=n-a;if(l!==0||c!==0){const f=((t-o)*l+(e-a)*c)/(l*l+c*c);f>1?(o=s,a=n):f>0&&(o+=l*f,a+=c*f)}return l=t-o,c=e-a,l*l+c*c}function Z5(t,e){return K5(t,e,.5)}function f1e(t){const e=t.length;let r=0;for(let i=0;i<e-1;++i)r+=Zv(t[i],t[i+1]);return r}function d1e(t,e){if(e<=0)return t[0];const r=t.length;let i=0;for(let s=0;s<r-1;++s){const n=Zv(t[s],t[s+1]);if(e-i<n){const o=(e-i)/n;return K5(t[s],t[s+1],o)}i+=n}return t[r-1]}function X5(t,e=mg.X,r=mg.Y){let i=0;const s=t.length;let n=t[0];for(let o=1;o<s;o++){const a=t[o];i+=(a[e]-n[e])*(a[r]+n[r]),n=a}if(Q5(t)){const o=t[0];i+=(o[e]-n[e])*(o[r]+n[r])}return i>=0}function Q5(t){const e=t.length;return e>0&&!Nv(t[0],t[e-1])}function p1e(t){"rings"in t&&(OV(t),IV(t))}function OV(t){if("rings"in t)for(const e of t.rings)Q5(e)&&e.push(e[0].slice())}function IV(t){if(!("rings"in t)||t.rings.length===0||X5(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function m1e(t){return t.type!=="polygon"&&t.type!=="polyline"||CV(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function CV(t,e){const r=Pd(e);if(!r)return;const i=r.valid[0],s=r.valid[1],n=s-i;for(const o of t){let a=1/0,l=-1/0;for(const f of o){const d=NV(f[0],i,s);a=Math.min(a,d),l=Math.max(l,d),f[0]=d}const c=l-a;n-c<c&&o.forEach(f=>{f[0]<0&&(f[0]+=n)})}}function NV(t,e,r){const i=r-e;return t<e?r-(e-t)%i:t>r?e+(t-e)%i:t}function y1e(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[r,i]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return r.length===i.length&&r.every((s,n)=>s.length===i[n].length)}function g1e(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function PV(t){return t?LV(t.rings,t.hasZ??!1):null}function LV(t,e){if(!t?.length)return null;const r=[],i=[],s=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,o=t.length;n<o;n++){const a=e6(t[n],e,s);a&&i.push(a)}if(i.sort((n,o)=>{let a=n[2]-o[2];return a===0&&e&&(a=n[4]-o[4]),a}),i.length&&(r[0]=i[0][0],r[1]=i[0][1],e&&(r[2]=i[0][3]),(r[0]<s[0]||r[0]>s[1]||r[1]<s[2]||r[1]>s[3]||e&&(r[2]<s[4]||r[2]>s[5]))&&(r.length=0)),!r.length){const n=t[0]&&t[0].length?kV(t[0],e):null;if(!n)return null;r[0]=n[0],r[1]=n[1],e&&n.length>2&&(r[2]=n[2])}return r}function e6(t,e,r){let i=0,s=0,n=0,o=0,a=0;const l=t.length?t[0][0]:0,c=t.length?t[0][1]:0,f=t.length&&e?t[0][2]:0;for(let p=0;p<t.length;p++){const y=t[p],v=t[(p+1)%t.length],[b,S,E]=y,T=b-l,w=S-c,[_,M,$]=v,C=_-l,P=M-c,N=T*P-C*w;if(o+=N,i+=(T+C)*N,s+=(w+P)*N,e&&y.length>2&&v.length>2){const F=E-f,q=$-f,U=T*q-C*F;n+=(F+q)*U,a+=U}b<r[0]&&(r[0]=b),b>r[1]&&(r[1]=b),S<r[2]&&(r[2]=S),S>r[3]&&(r[3]=S),e&&(E<r[4]&&(r[4]=E),E>r[5]&&(r[5]=E))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const d=[i/(6*o)+l,s/(6*o)+c,o];return e&&(r[4]===r[5]||a===0?(d[3]=(r[4]+r[5])/2,d[4]=0):(d[3]=n/(6*a)+f,d[4]=a)),d}function v1e(t,e){let r=0,i=0,s=0;t.nextPoint();const n=t.pathSize?t.x:0,o=t.pathSize?t.y:0;for(let a=0;a<t.pathSize;a++){t.seekInPath(a);const l=[t.x,t.y];t.seekInPath((a+1)%t.pathSize);const c=[t.x,t.y],[f,d]=l,p=f-n,y=d-o,[v,b]=c,S=v-n,E=b-o,T=p*E-S*y;s+=T,r+=(p+S)*T,i+=(y+E)*T,f<e[0]&&(e[0]=f),f>e[1]&&(e[1]=f),d<e[2]&&(e[2]=d),d>e[3]&&(e[3]=d)}return s>0&&(s*=-1),s?(s*=.5,[r/(6*s)+n,i/(6*s)+o,s]):null}function kV(t,e){const r=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0];let s=0,n=0,o=0,a=0;for(let l=0,c=t.length;l<c-1;l++){const f=t[l],d=t[l+1];if(f&&d){r[0]=f[0],r[1]=f[1],i[0]=d[0],i[1]=d[1],e&&f.length>2&&d.length>2&&(r[2]=f[2],i[2]=d[2]);const p=Zv(r,i);if(p){s+=p;const y=Z5(f,d);n+=p*y[0],o+=p*y[1],e&&y.length>2&&(a+=p*y[2])}}}return s>0?e?[n/s,o/s,a/s]:[n/s,o/s]:t.length?t[0]:null}function RV(t){const{hasZ:e,totalSize:r}=t;if(r===0)return null;const i=[],s=[],n=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const o=e6(MV(t),t.hasZ,n);o&&s.push(o)}if(s.sort((o,a)=>{let l=o[2]-a[2];return l===0&&e&&(l=o[4]-a[4]),l}),s.length&&(i[0]=s[0][0],i[1]=s[0][1],e&&(i[2]=s[0][3]),(i[0]<n[0]||i[0]>n[1]||i[1]<n[2]||i[1]>n[3]||e&&(i[2]<n[4]||i[2]>n[5]))&&(i.length=0)),!i.length){t.reset(),t.nextPath();const o=t.pathSize?DV(t):null;if(!o)return null;i[0]=o[0],i[1]=o[1],e&&o.length>2&&(i[2]=o[2])}return i}function DV(t){const{hasZ:e}=t,r=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0];let s=0,n=0,o=0,a=0;if(t.nextPoint()){let l=t.x,c=t.y,f=t.z;for(;t.nextPoint();){const d=t.x,p=t.y,y=t.z;r[0]=l,r[1]=c,i[0]=d,i[1]=p,e&&(r[2]=f,i[2]=y);const v=Zv(r,i);if(v){s+=v;const b=Z5(r,i);n+=v*b[0],o+=v*b[1],e&&b.length>2&&(a+=v*b[2])}l=d,c=p,f=y}}return s>0?e?[n/s,o/s,a/s]:[n/s,o/s]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const FV=1e-6;function b1e(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<FV){const s=RV(t);return s?[s[0],s[1]]:null}const r=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const i=[t.x,t.y];for(t.reset();t.nextPath();)jV(r,i,t);return r[0]*=1/e,r[1]*=1/e,r[0]+=i[0],r[1]+=i[1],r}const UV=1/3;function jV(t,e,r){if(!t||!r||r.pathSize<3)return null;r.nextPoint();const i=r.x,s=r.y;r.nextPoint();let n,o=r.x-i,a=r.y-s,l=0,c=0;for(;r.nextPoint();)l=r.x-i,c=r.y-s,n=.5*UV*(l*a-c*o),t[0]+=n*(o+l),t[1]+=n*(a+c),o=l,a=c;const f=r.getCurrentRingArea(),d=[i,s];return d[0]-=e[0],d[1]-=e[1],d[0]*=f,d[1]*=f,t[0]+=d[0],t[1]+=d[1],t}function _f(t=VV){return[t[0],t[1],t[2],t[3]]}function t6(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function _1e(t,e,r,i,s=_f()){return s[0]=t,s[1]=e,s[2]=r,s[3]=i,s}function w1e(t,e=_f()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function x1e(t,e,r=new Et){return r.xmin=t[0],r.ymin=t[1],r.xmax=t[2],r.ymax=t[3],r.spatialReference=e,r}function E1e(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function S1e(t,e,r){if(e!=null)if("length"in e)v2(e)?(r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r[2]=Math.max(t[2],e[2]),r[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r[2]=Math.max(t[2],e[0]),r[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":r[0]=Math.min(t[0],e.xmin),r[1]=Math.min(t[1],e.ymin),r[2]=Math.max(t[2],e.xmax),r[3]=Math.max(t[3],e.ymax);break;case"point":r[0]=Math.min(t[0],e.x),r[1]=Math.min(t[1],e.y),r[2]=Math.max(t[2],e.x),r[3]=Math.max(t[3],e.y)}else t6(r,t)}function A1e(t,e,r=t){const i=e.length;let s=t[0],n=t[1],o=t[2],a=t[3];for(let l=0;l<i;l++){const c=e[l];s=Math.min(s,c[0]),n=Math.min(n,c[1]),o=Math.max(o,c[0]),a=Math.max(a,c[1])}return r[0]=s,r[1]=n,r[2]=o,r[3]=a,r}function T1e(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function r6(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function i6(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function M1e(t){return r6(t)*i6(t)}function $1e(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function O1e(t){const e=r6(t),r=i6(t);return Math.sqrt(e*e+r*r)}function I1e(t,e){return BV(t,e.x,e.y)}function BV(t,e,r){return e>=t[0]&&r>=t[1]&&e<=t[2]&&r<=t[3]}function C1e(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function N1e(t,e,r){return Math.max(e[0],t[0])-r<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])-r<=Math.min(e[3],t[3])}function P1e(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function L1e(t,e,r,i=t){return i[0]=t[0]+e,i[1]=t[1]+r,i[2]=t[2]+e,i[3]=t[3]+r,i}function k1e(t,e,r=t){return r[0]=t[0]-e,r[1]=t[1]-e,r[2]=t[2]+e,r[3]=t[3]+e,r}function R1e(t){return t?t6(t,XT):_f(XT)}function v2(t){return t!=null&&t.length===4}function D1e(t,e){return v2(t)&&v2(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const XT=[1/0,1/0,-1/0,-1/0],VV=[0,0,0,0];function s6(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function n6(t){return t.points!==void 0}function o6(t){return t.x!==void 0&&t.y!==void 0}function a6(t){return t.paths!==void 0}function l6(t){return t.rings!==void 0}function c6(t){function e(r,i){return r==null?i:i==null?r:t(r,i)}return e}const ll=c6(Math.min),cl=c6(Math.max);function F1e(t,e){return a6(e)?jh(t,e.paths,!1,!1):l6(e)?jh(t,e.rings,!1,!1):n6(e)?LE(t,e.points,!1,!1,!1,!1):s6(e)?u6(t,e):(o6(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function U1e(t){let e,r,i,s;for(t.reset(),e=i=1/0,r=s=-1/0;t.nextPath();){const n=GV(t);e=Math.min(n[0],e),i=Math.min(n[1],i),r=Math.max(n[2],r),s=Math.max(n[3],s)}return _f([e,i,r,s])}function GV(t){let e,r,i,s;for(e=i=1/0,r=s=-1/0;t.nextPoint();)e=Math.min(t.x,e),i=Math.min(t.y,i),r=Math.max(t.x,r),s=Math.max(t.y,s);return _f([e,i,r,s])}function j1e(t,e){return a6(e)?jh(t,e.paths,!0,!1):l6(e)?jh(t,e.rings,!0,!1):n6(e)?LE(t,e.points,!0,!1,!0,!1):s6(e)?u6(t,e,!0,!1,!0,!1):(o6(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function jh(t,e,r,i){const s=r?3:2;if(!e.length||!e[0].length)return null;let n,o,a,l,[c,f]=e[0][0],[d,p]=e[0][0];for(let y=0;y<e.length;y++){const v=e[y];for(let b=0;b<v.length;b++){const S=v[b],[E,T]=S;if(c=ll(c,E),f=ll(f,T),d=cl(d,E),p=cl(p,T),r&&S.length>2){const w=S[2];n=ll(n,w),o=cl(o,w)}if(i&&S.length>s){const w=S[s];a=ll(n,w),l=cl(o,w)}}}return r?i?(t[0]=c,t[1]=f,t[2]=n,t[3]=a,t[4]=d,t[5]=p,t[6]=o,t[7]=l,t.length=8,t):(t[0]=c,t[1]=f,t[2]=n,t[3]=d,t[4]=p,t[5]=o,t.length=6,t):i?(t[0]=c,t[1]=f,t[2]=a,t[3]=d,t[4]=p,t[5]=l,t.length=6,t):(t[0]=c,t[1]=f,t[2]=d,t[3]=p,t.length=4,t)}function u6(t,e,r,i,s,n){const o=e.xmin,a=e.xmax,l=e.ymin,c=e.ymax;let f=e.zmin,d=e.zmax,p=e.mmin,y=e.mmax;return s?(f=f||0,d=d||0,n?(p=p||0,y=y||0,t[0]=o,t[1]=l,t[2]=f,t[3]=p,t[4]=a,t[5]=c,t[6]=d,t[7]=y,t):(t[0]=o,t[1]=l,t[2]=f,t[3]=a,t[4]=c,t[5]=d,t)):n?(p=p||0,y=y||0,t[0]=o,t[1]=l,t[2]=p,t[3]=a,t[4]=c,t[5]=y,t):(t[0]=o,t[1]=l,t[2]=a,t[3]=c,t)}function LE(t,e,r,i,s,n){const o=r?3:2,a=i&&n,l=r&&s;if(!e.length||!e[0].length)return null;let c,f,d,p,[y,v]=e[0],[b,S]=e[0];for(let E=0;E<e.length;E++){const T=e[E],[w,_]=T;if(y=ll(y,w),v=ll(v,_),b=cl(b,w),S=cl(S,_),l&&T.length>2){const M=T[2];c=ll(c,M),f=cl(f,M)}if(a&&T.length>o){const M=T[o];d=ll(c,M),p=cl(f,M)}}return s?(c=c||0,f=f||0,n?(d=d||0,p=p||0,t[0]=y,t[1]=v,t[2]=c,t[3]=d,t[4]=b,t[5]=S,t[6]=f,t[7]=p,t):(t[0]=y,t[1]=v,t[2]=c,t[3]=b,t[4]=S,t[5]=f,t)):n?(d=d||0,p=p||0,t[0]=y,t[1]=v,t[2]=d,t[3]=b,t[4]=S,t[5]=p,t):(t[0]=y,t[1]=v,t[2]=b,t[3]=S,t)}function zV(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function qV(t){return t.points!==void 0}function HV(t){return t.x!==void 0&&t.y!==void 0}function WV(t){return t.paths!==void 0}function YV(t){return t.rings!==void 0}const kE=[];function h6(t,e,r,i){return{xmin:t,ymin:e,xmax:r,ymax:i}}function f6(t,e,r,i,s,n){return{xmin:t,ymin:e,zmin:r,xmax:i,ymax:s,zmax:n}}function d6(t,e,r,i,s,n){return{xmin:t,ymin:e,mmin:r,xmax:i,ymax:s,mmax:n}}function p6(t,e,r,i,s,n,o,a){return{xmin:t,ymin:e,zmin:r,mmin:i,xmax:s,ymax:n,zmax:o,mmax:a}}function RE(t,e=!1,r=!1){return e?r?p6(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):f6(t[0],t[1],t[2],t[3],t[4],t[5]):r?d6(t[0],t[1],t[2],t[3],t[4],t[5]):h6(t[0],t[1],t[2],t[3])}function B1e(t){return t?zV(t)?t:HV(t)?KV(t):YV(t)?m6(t):WV(t)?y6(t):qV(t)?JV(t):null:null}function JV(t){const{hasZ:e,hasM:r,points:i}=t;return RE(LE(kE,i,e??!1,r??!1),e,r)}function KV(t){const{x:e,y:r,z:i,m:s}=t,n=s!=null;return i!=null?n?p6(e,r,i,s,e,r,i,s):f6(e,r,i,e,r,i):n?d6(e,r,s,e,r,s):h6(e,r,e,r)}function m6(t){const{hasZ:e,hasM:r,rings:i}=t,s=jh(kE,i,e??!1,r??!1);return s?RE(s,e,r):null}function y6(t){const{hasZ:e,hasM:r,paths:i}=t,s=jh(kE,i,e??!1,r??!1);return s?RE(s,e,r):null}var n0;function QT(t){return!Array.isArray(t[0])}function ZV(t){return typeof t[0]?.[0]=="number"}function XV(t){if(!t)return;let{rings:e,hasM:r,hasZ:i,spatialReference:s}=t;switch(e??=[],ZV(e)&&(e=[e]),e[0]?.[0]?.length){case 4:i??=!0,r??=!0;break;case 3:i??=r!==!0,r??=!i;break;default:i??=!1,r??=!1}return s??=Qe.WGS84,{...t,hasM:r,hasZ:i,rings:e,spatialReference:s}}let si=n0=class extends Si{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:r}=t;let i=!1,s=!1;for(const o of e)o.hasZ&&(i=!0),o.hasM&&(s=!0);const n={rings:e.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(i&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(s&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:r};return i&&(n.hasZ=!0),s&&(n.hasM=!0),new n0(n)}constructor(t){super(XV(t)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const t=PV(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new ut;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}writeCurveRings(t,e){e.curveRings=ge(t)}get extent(){const t=m6(this),{spatialReference:e}=this;return t?new Et({...t,spatialReference:e}):null}get isSelfIntersecting(){return JU(rr.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),EV(this.rings)}writeRings(t,e){e.rings=ge(this.rings)}addRing(t){if(!t)return;const e=this.rings,r=e.length;if(QT(t)){const i=[];for(let s=0,n=t.length;s<n;s++)i[s]=t[s].toArray();e[r]=i}else e[r]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new n0;return t.spatialReference=this.spatialReference,t.rings=ge(this.rings),t.curveRings=ge(this.curveRings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,r=t.spatialReference;if(e!=null!=(r!=null)||e!=null&&r!=null&&!e.equals(r)||this.rings.length!==t.rings.length)return!1;const i=([s,n,o,a],[l,c,f,d])=>s===l&&n===c&&(o==null&&f==null||o===f)&&(a==null&&d==null||a===d);for(let s=0;s<this.rings.length;s++){const n=this.rings[s],o=t.rings[s];if(!Nv(n,o,i))return!1}return!0}contains(t){if(!t)return!1;const e=G5(t,this.spatialReference);return dV(this,e??t)}isClockwise(t){const e=QT(t)?t.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):t;return X5(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.rings[t][e],i=this.hasZ,s=this.hasM;return i&&!s?new ut(r[0],r[1],r[2],void 0,this.spatialReference):s&&!i?new ut(r[0],r[1],void 0,r[2],this.spatialReference):i&&s?new ut(r[0],r[1],r[2],r[3],this.spatialReference):new ut(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(Uh(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t].splice(e,0,r),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new ut(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],r=this.spatialReference,i=e.map(s=>new ut(s,r));return this.notifyChange("rings"),i}setPoint(t,e,r){return this._validateInputs(t,e)?(Uh(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t][e]=r,this.notifyChange("rings"),this):this}_validateInputs(t,e,r=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const i=this.rings[t];if(r&&(e<0||e>i.length)||!r&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};g([A({readOnly:!0})],si.prototype,"cache",null),g([A({readOnly:!0})],si.prototype,"centroid",null),g([A({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],si.prototype,"curveRings",void 0),g([Kt("curveRings")],si.prototype,"writeCurveRings",null),g([A({readOnly:!0})],si.prototype,"extent",null),g([A({readOnly:!0})],si.prototype,"isSelfIntersecting",null),g([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],si.prototype,"rings",void 0),g([Kt("rings")],si.prototype,"writeRings",null),si=n0=g([ie("esri.geometry.Polygon")],si),si.prototype.toJSON.isDefaultToJSON=!0;var b2;function QV(t){return!Array.isArray(t[0])}function eG(t){return typeof t[0]?.[0]=="number"}function tG(t){if(!t)return;let{paths:e,hasM:r,hasZ:i,spatialReference:s}=t;switch(e??=[],eG(e)&&(e=[e]),e[0]?.[0]?.length){case 4:i??=!0,r??=!0;break;case 3:i??=r!==!0,r??=!i;break;default:i??=!1,r??=!1}return s??=Qe.WGS84,{...t,hasM:r,hasZ:i,paths:e,spatialReference:s}}let ls=b2=class extends Si{constructor(t){super(tG(t)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(t,e){e.curvePaths=ge(t)}get extent(){const t=y6(this),{spatialReference:e}=this;return t?new Et({...t,spatialReference:e}):null}writePaths(t,e){e.paths=ge(this.paths)}addPath(t){if(!t)return;const e=this.paths,r=e.length;if(QV(t)){const i=[];for(let s=0,n=t.length;s<n;s++)i[s]=t[s].toArray();e[r]=i}else e[r]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new b2;return t.spatialReference=this.spatialReference,t.paths=ge(this.paths),t.curvePaths=ge(this.curvePaths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.paths[t][e],i=this.hasZ,s=this.hasM;return i&&!s?new ut(r[0],r[1],r[2],void 0,this.spatialReference):s&&!i?new ut(r[0],r[1],void 0,r[2],this.spatialReference):i&&s?new ut(r[0],r[1],r[2],r[3],this.spatialReference):new ut(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(Uh(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[t].splice(e,0,r),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],r=this.spatialReference,i=e.map(s=>new ut(s,r));return this.notifyChange("paths"),i}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new ut(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(t,e,r){return this._validateInputs(t,e)?(Uh(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[t][e]=r,this.notifyChange("paths"),this):this}_validateInputs(t,e,r=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const i=this.paths[t];if(r&&(e<0||e>i.length)||!r&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};g([A({readOnly:!0})],ls.prototype,"cache",null),g([A({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],ls.prototype,"curvePaths",void 0),g([Kt("curvePaths")],ls.prototype,"writeCurvePaths",null),g([A({readOnly:!0})],ls.prototype,"extent",null),g([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],ls.prototype,"paths",void 0),g([Kt("paths")],ls.prototype,"writePaths",null),ls=b2=g([ie("esri.geometry.Polyline")],ls),ls.prototype.toJSON.isDefaultToJSON=!0;function g6(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function v6(t){return t.points!==void 0}function b6(t){return t.x!==void 0&&t.y!==void 0}function _6(t){return t.paths!==void 0||t.curvePaths!==void 0}function w6(t){return t.rings!==void 0||t.curveRings!==void 0}function DE(t){return t==null?null:t instanceof Si?t:b6(t)?ut.fromJSON(t):_6(t)?ls.fromJSON(t):w6(t)?si.fromJSON(t):v6(t)?wn.fromJSON(t):g6(t)?Et.fromJSON(t):null}function V1e(t){return t?b6(t)?"esriGeometryPoint":_6(t)?"esriGeometryPolyline":w6(t)?"esriGeometryPolygon":g6(t)?"esriGeometryEnvelope":v6(t)?"esriGeometryMultipoint":null:null}const rG={esriGeometryPoint:ut,esriGeometryPolyline:ls,esriGeometryPolygon:si,esriGeometryEnvelope:Et,esriGeometryMultipoint:wn,esriGeometryMultiPatch:si};function G1e(t){return t&&rG[t]||null}const x6=t=>{let e=class extends t{clone(){const r=wl(this);TF(r,"unable to clone instance of non-accessor class");const i=r.metadata,s=r.store,n={},o=new Map;for(const l in i){const c=i[l],f=s?.originOf(l),d=c.clonable;if(c.readOnly||d===!1||f!==ht.USER&&f!==ht.DEFAULTS&&f!==ht.WEB_MAP&&f!==ht.WEB_SCENE)continue;const p=this[l];let y=null;y=typeof d=="function"?d(p):d==="reference"?p:k_(p),p!=null&&y==null||(f===ht.DEFAULTS?o.set(l,y):n[l]=y)}const a=new(Object.getPrototypeOf(this)).constructor(n);if(o.size){const l=wl(a)?.store;if(l)for(const[c,f]of o)l.set(c,f,ht.DEFAULTS)}return a}};return e=g([ie("esri.core.Clonable")],e),e};let rd=class extends x6(oi){};rd=g([ie("esri.core.Clonable")],rd),function(t){t.ClonableMixin=x6}(rd||(rd={}));const Lo=rd;let o0=class E6{constructor(){this._emitter=new E6.EventEmitter(this)}emit(e,r){return this._emitter.emit(e,r)}on(e,r){return this._emitter.on(e,r)}once(e,r){return this._emitter.once(e,r)}hasEventListener(e){return this._emitter.hasEventListener(e)}};(function(t){class e{constructor(s=null){this._target=s,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(s,n){let o=this._listenersMap?.get(s);if(!o)return!1;const a=this._target||this;let l=!1;for(const c of o.slice()){const f="deref"in c?c.deref():c;f?f?.call(a,n):l=!0}return l&&(o=o.filter(c=>!("deref"in c)||c.deref()!=null),this._listenersMap.set(s,o)),o.length>0}on(s,n){if(Array.isArray(s)){const a=s.map(l=>this.on(l,n));return fE(a)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(s)||[];return o.push(n),this._listenersMap.set(s,o),Cr(()=>{const a=this._listenersMap?.get(s),l=a?.indexOf(n)??-1;l>=0&&a.splice(l,1)})}once(s,n){const o=this.on(s,a=>{o.remove(),("deref"in n?n.deref():n)?.call(null,a)});return o}hasEventListener(s){const n=this._listenersMap?.get(s);return n!=null&&n.length>0}}t.EventEmitter=e,t.EventedMixin=i=>{let s=class extends i{constructor(){super(...arguments),this._emitter=new e}destroy(){this._emitter.clear()}emit(n,o){return this._emitter.emit(n,o)}on(n,o){return this._emitter.on(n,o)}once(n,o){return this._emitter.once(n,o)}hasEventListener(n){return this._emitter.hasEventListener(n)}};return s=g([ie("esri.core.Evented")],s),s};let r=class extends oi{constructor(){super(...arguments),this._emitter=new o0.EventEmitter(this)}destroy(){this._emitter.clear()}emit(i,s){return this._emitter.emit(i,s)}on(i,s){return this._emitter.on(i,s)}once(i,s){return this._emitter.once(i,s)}hasEventListener(i){return this._emitter.hasEventListener(i)}};r=g([ie("esri.core.Evented.EventedAccessor")],r),t.EventedAccessor=r})(o0||(o0={}));const iG=o0;var pt;(function(t){t[t.ADD=1]="ADD",t[t.REMOVE=2]="REMOVE",t[t.MOVE=4]="MOVE"})(pt||(pt={}));function sG(t){return(e,r)=>{e[r]=t}}let FE=class extends YC{notify(){const e=this._observers;if(e&&e.length>0){const r=e.slice();for(const i of r)i.onInvalidated(),i.onCommitted()}}};var zo;let nG=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},oG=class{constructor(e,r,i,s,n){this.target=e,this.added=r,this.removed=i,this.start=s,this.deleteCount=n}};const Gs=new Fv(nG,void 0,t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1});function e4(t){t&&typeof t=="object"&&"destroy"in t&&typeof t.destroy=="function"&&t.destroy()}function Tb(t){return t?t instanceof qa?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function Mb(t){if(t?.length)return t[0]}function aG(t,e,r,i){const s=Math.min(t.length-r,e.length-i);let n=0;for(;n<s&&t[r+n]===e[i+n];)n++;return n}function S6(t,e,r,i){e&&e.forEach((s,n,o)=>{t.push(s),S6(t,r.call(i,s,n,o),r,i)})}const Oa=new Set,Ia=new Set,Ca=new Set,$b=new Map;let lG=0,qa=class extends iG.EventedAccessor{static{zo=this}static{this.ofType=e=>{if(!e)return zo;if($b.has(e))return $b.get(e);let r=null;if(typeof e=="function")r=e.prototype.declaredClass;else if(e.base)r=e.base.prototype.declaredClass;else for(const s in e.typeMap){const n=e.typeMap[s].prototype.declaredClass;r?r+=` | ${n}`:r=n}let i=class extends zo{};return g([sG({Type:e,ensureType:typeof e=="function"?Un(e):Ch(e)})],i.prototype,"itemType",void 0),i=g([ie(`esri.core.Collection<${r}>`)],i),$b.set(e,i),i}}static isCollection(e){return e!=null&&e instanceof zo}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new FE,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:lG++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof zo?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Ve(this._observable),this._items}set items(e){this._emitBeforeChanges(pt.ADD)||(this._splice(0,this.length,Tb(e)),this._emitAfterChanges(pt.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,r){if(this.destroyed)return Cr();if(e==="change"){const i=this._chgListeners,s={removed:!1,callback:r};return i.push(s),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),Cr(()=>{s.removed=!0,i.splice(i.indexOf(s),1)})}return this._emitter.on(e,r)}once(e,r){const i="deref"in r?()=>r.deref():()=>r,s=this.on(e,n=>{i()?.call(null,n),s.remove()});return s}add(e,r){if(Ve(this._observable),this._emitBeforeChanges(pt.ADD))return this;const i=this.getNextIndex(r??null);return this._splice(i,0,[e]),this._emitAfterChanges(pt.ADD),this}addMany(e,r=this._items.length){if(Ve(this._observable),!e?.length)return this;if(this._emitBeforeChanges(pt.ADD))return this;const i=this.getNextIndex(r);return this._splice(i,0,Tb(e)),this._emitAfterChanges(pt.ADD),this}at(e){if(Ve(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Ve(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(pt.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Ve(this._observable),this._createNewInstance({items:this._items.map(ge)})}concat(...e){Ve(this._observable);const r=e.map(Tb);return this._createNewInstance({items:this._items.concat(...r)})}drain(e,r){if(Ve(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const i=this._splice(0,this.length),s=i.length;for(let n=0;n<s;n++)e.call(r,i[n],n,i);this._emitAfterChanges(pt.REMOVE)}destroyAll(){this.drain(e4)}destroyMany(e){const r=this.removeMany(e);return r.forEach(e4),r}every(e,r){return Ve(this._observable),this._items.every(e,r)}filter(e,r){Ve(this._observable);const i=arguments.length===2?this._items.filter(e,r):this._items.filter(e);return this._createNewInstance({items:i})}find(e,r){return Ve(this._observable),this._items.find(e,r)}findIndex(e,r){return Ve(this._observable),this._items.findIndex(e,r)}flatten(e,r){Ve(this._observable);const i=[];return S6(i,this,e,r),new zo(i)}forEach(e,r){return Ve(this._observable),this._items.forEach(e,r)}getItemAt(e){return Ve(this._observable),this._items[e]}getNextIndex(e){Ve(this._observable);const r=this.length;return(e=e??r)<0?e=0:e>r&&(e=r),e}includes(e,r=0){return Ve(this._observable),this._items.includes(e,r)}indexOf(e,r=0){return Ve(this._observable),this._items.indexOf(e,r)}join(e=","){return Ve(this._observable),this._items.join(e)}lastIndexOf(e,r=this.length-1){return Ve(this._observable),this._items.lastIndexOf(e,r)}map(e,r){Ve(this._observable);const i=this._items.map(e,r);return new zo({items:i})}reorder(e,r=this.length-1){Ve(this._observable);const i=this.indexOf(e);if(i!==-1){if(r<0?r=0:r>=this.length&&(r=this.length-1),i!==r){if(this._emitBeforeChanges(pt.MOVE))return e;this._splice(i,1),this._splice(r,0,[e]),this._emitAfterChanges(pt.MOVE)}return e}}pop(){if(Ve(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const e=Mb(this._splice(this.length-1,1));return this._emitAfterChanges(pt.REMOVE),e}push(...e){return Ve(this._observable),this._emitBeforeChanges(pt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(pt.ADD)),this.length}reduce(e,r){Ve(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,r):i.reduce(e)}reduceRight(e,r){Ve(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,r):i.reduceRight(e)}remove(e){return Ve(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Ve(this._observable),e<0||e>=this.length||this._emitBeforeChanges(pt.REMOVE))return;const r=Mb(this._splice(e,1));return this._emitAfterChanges(pt.REMOVE),r}removeMany(e){if(Ve(this._observable),!e?.length||this._emitBeforeChanges(pt.REMOVE))return[];const r=e instanceof zo?e.toArray():e,i=this._items,s=[],n=r.length;for(let o=0;o<n;o++){const a=r[o],l=i.indexOf(a);if(l>-1){const c=1+aG(r,i,o+1,l+1),f=this._splice(l,c);f&&f.length>0&&s.push.apply(s,f),o+=c-1}}return this._emitAfterChanges(pt.REMOVE),s}reverse(){if(Ve(this._observable),this._emitBeforeChanges(pt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(pt.MOVE),this}shift(){if(Ve(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const e=Mb(this._splice(0,1));return this._emitAfterChanges(pt.REMOVE),e}slice(e=0,r=this.length){return Ve(this._observable),this._createNewInstance({items:this._items.slice(e,r)})}some(e,r){return Ve(this._observable),this._items.some(e,r)}sort(e){if(Ve(this._observable),!this.length||this._emitBeforeChanges(pt.MOVE)||!this._requiresSort(e))return this;const r=this._splice(0,this.length);return arguments.length?r.sort(e):r.sort(),this._splice(0,0,r),this._emitAfterChanges(pt.MOVE),this}_requiresSort(e=(r,i)=>r===i?0:r<i?-1:1){const r=this.length-1;for(let i=0;i<r;i++)if(e(this.items[i],this.items[i+1])>0)return!0;return!1}splice(e,r,...i){Ve(this._observable),arguments.length===1&&(r=this.length),r??=0;const s=(r?pt.REMOVE:0)|(i.length?pt.ADD:0);if(this._emitBeforeChanges(s))return[];const n=this._splice(e,r,i)||[];return this._emitAfterChanges(s),n}toArray(){return Ve(this._observable),this._items.slice()}toJSON(e){return Ve(this._observable),this.toArray().map(r=>sg(r)?r.toJSON(e):r)}toLocaleString(){return Ve(this._observable),this._items.toLocaleString()}toString(){return Ve(this._observable),this._items.toString()}unshift(...e){return Ve(this._observable),!e.length||this._emitBeforeChanges(pt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(pt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,r,i){const s=this._items,n=this.itemType;let o,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=gC(()=>this._dispatchChange())),e<0&&(e+=this.length),r){if(a=s.splice(e,r),this.hasEventListener("before-remove")){const l=Gs.acquire();l.target=this,l.cancellable=!0;for(let c=0,f=a.length;c<f;c++)o=a[c],l.reset(o),this.emit("before-remove",l),l.defaultPrevented&&(a.splice(c,1),s.splice(e,0,o),e+=1,c-=1,f-=1);Gs.release(l)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const l=Gs.acquire();l.target=this,l.cancellable=!1;const c=a.length;for(let f=0;f<c;f++)l.reset(a[f]),this.emit("after-remove",l);Gs.release(l)}}if(i?.length){if(n){const d=[];for(const p of i){const y=n.ensureType(p);y==null&&p!=null||d.push(y)}i=d}const l=this.hasEventListener("before-add"),c=this.hasEventListener("after-add"),f=e===this.length;if(l||c){const d=Gs.acquire();d.target=this,d.cancellable=!0;const p=Gs.acquire();p.target=this,p.cancellable=!1;for(const y of i)l?(d.reset(y),this.emit("before-add",d),d.defaultPrevented||(f?s.push(y):s.splice(e++,0,y),this._set("length",s.length),c&&(p.reset(y),this.emit("after-add",p)))):(f?s.push(y):s.splice(e++,0,y),this._set("length",s.length),p.reset(y),this.emit("after-add",p));Gs.release(p),Gs.release(d)}else{if(f)for(const d of i)s.push(d);else s.splice(e,0,...i);this._set("length",s.length)}}if((i?.length||a?.length)&&this._notifyChangeEvent(i,a),this.hasEventListener("after-splice")){const l=new oG(this,i,a,e,r);this.emit("after-splice",l)}return a}_emitBeforeChanges(e){let r=!1;if(this.hasEventListener("before-changes")){const i=Gs.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),r=i.defaultPrevented,Gs.release(i)}return r}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const r=Gs.acquire();r.target=this,r.cancellable=!1,r.type=e,this.emit("after-changes",r),Gs.release(r)}this._observable.notify()}_notifyChangeEvent(e,r){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:r})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const r of e){const i=r.changes;Oa.clear(),Ia.clear(),Ca.clear();for(const{added:c,removed:f}of i){if(c)if(Ca.size===0&&Ia.size===0)for(const d of c)Oa.add(d);else for(const d of c)Ia.has(d)?(Ca.add(d),Ia.delete(d)):Ca.has(d)||Oa.add(d);if(f)if(Ca.size===0&&Oa.size===0)for(const d of f)Ia.add(d);else for(const d of f)Oa.has(d)?Oa.delete(d):(Ca.delete(d),Ia.add(d))}const s=za.acquire();Oa.forEach(c=>{s.push(c)});const n=za.acquire();Ia.forEach(c=>{n.push(c)});const o=this._items,a=r.items,l=za.acquire();if(Ca.forEach(c=>{a.indexOf(c)!==o.indexOf(c)&&l.push(c)}),r.listeners&&(s.length||n.length||l.length)){const c={target:this,added:s,removed:n,moved:l},f=r.listeners.length;for(let d=0;d<f;d++){const p=r.listeners[d];p.removed||p.callback.call(this,c)}}za.release(s),za.release(n),za.release(l)}Oa.clear(),Ia.clear(),Ca.clear()}};g([A()],qa.prototype,"_updating",void 0),g([A()],qa.prototype,"length",void 0),g([A()],qa.prototype,"items",null),g([A({readOnly:!0})],qa.prototype,"updating",null),qa=zo=g([ie("esri.core.Collection")],qa);const Mt=qa;let Ob;async function cG(){return Ob==null&&(Ob=ve(()=>import("./WhereClauseCache-CfRC5Qhi.js"),__vite__mapDeps([12,13,14,15,16,17,18,1]),import.meta.url).then(t=>new t.WhereClauseCache(500,500))),Ob}async function uG(t,e){const r=await cG(),i=r.get(t,e);if(i==null)throw r.getError(t,e);return i}function J1e(t,e){return t||=null,e||=null,t==="1=1"?e??t:e==="1=1"?t??e:t&&e?`(${t}) AND (${e})`:t??e}function K1e(t,e){return t||=null,e||=null,t==="1=1"||e==="1=1"||t===e?t==="1=1"?t:e:t&&e?`(${t}) OR (${e})`:t??e}function Z1e(t,e){return e.length===0?null:`${t} IN (${hG(e)})`}function hG(t){return t.map(e=>typeof e=="string"?fG(e):e).join(",")}function fG(t){return`'${t.replaceAll("'","''")}'`}function X1e(t){return typeof t=="number"}function Q1e(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function ebe(t){return typeof t=="boolean"}function bm(t){return typeof t=="string"||t instanceof String}function dG(t){return t==null||bm(t)}function tbe(t){return Array.isArray(t)}function rbe(t){return t?.declaredClass==="esri.Graphic"}function ibe(t){return t instanceof Date}class lu extends Error{}class pG extends lu{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class mG extends lu{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class yG extends lu{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Wu extends lu{}class A6 extends lu{constructor(e){super(`Invalid unit ${e}`)}}class Ti extends lu{}class Na extends lu{constructor(){super("Zone is an abstract class")}}const be="numeric",Vn="short",ks="long",yg={year:be,month:be,day:be},T6={year:be,month:Vn,day:be},gG={year:be,month:Vn,day:be,weekday:Vn},M6={year:be,month:ks,day:be},$6={year:be,month:ks,day:be,weekday:ks},O6={hour:be,minute:be},I6={hour:be,minute:be,second:be},C6={hour:be,minute:be,second:be,timeZoneName:Vn},N6={hour:be,minute:be,second:be,timeZoneName:ks},P6={hour:be,minute:be,hourCycle:"h23"},L6={hour:be,minute:be,second:be,hourCycle:"h23"},k6={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:Vn},R6={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:ks},D6={year:be,month:be,day:be,hour:be,minute:be},F6={year:be,month:be,day:be,hour:be,minute:be,second:be},U6={year:be,month:Vn,day:be,hour:be,minute:be},j6={year:be,month:Vn,day:be,hour:be,minute:be,second:be},vG={year:be,month:Vn,day:be,weekday:Vn,hour:be,minute:be},B6={year:be,month:ks,day:be,hour:be,minute:be,timeZoneName:Vn},V6={year:be,month:ks,day:be,hour:be,minute:be,second:be,timeZoneName:Vn},G6={year:be,month:ks,day:be,weekday:ks,hour:be,minute:be,timeZoneName:ks},z6={year:be,month:ks,day:be,weekday:ks,hour:be,minute:be,second:be,timeZoneName:ks};class _m{get type(){throw new Na}get name(){throw new Na}get ianaName(){return this.name}get isUniversal(){throw new Na}offsetName(e,r){throw new Na}formatOffset(e,r){throw new Na}offset(e){throw new Na}equals(e){throw new Na}get isValid(){throw new Na}}let Ib=null;class Xv extends _m{static get instance(){return Ib===null&&(Ib=new Xv),Ib}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:i}){return tN(e,r,i)}formatOffset(e,r){return Ld(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const _2=new Map;function bG(t){let e=_2.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),_2.set(t,e)),e}const _G={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function wG(t,e){const r=t.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,s,n,o,a,l,c,f]=i;return[o,s,n,a,l,c,f]}function xG(t,e){const r=t.formatToParts(e),i=[];for(let s=0;s<r.length;s++){const{type:n,value:o}=r[s],a=_G[n];n==="era"?i[a]=o:Ge(a)||(i[a]=parseInt(o,10))}return i}const Cb=new Map;class ya extends _m{static create(e){let r=Cb.get(e);return r===void 0&&Cb.set(e,r=new ya(e)),r}static resetCache(){Cb.clear(),_2.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=ya.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:i}){return tN(e,r,i,this.name)}formatOffset(e,r){return Ld(this.offset(e),r)}offset(e){if(!this.valid)return NaN;const r=new Date(e);if(isNaN(r))return NaN;const i=bG(this.name);let[s,n,o,a,l,c,f]=i.formatToParts?xG(i,r):wG(i,r);a==="BC"&&(s=-Math.abs(s)+1);const p=e1({year:s,month:n,day:o,hour:l===24?0:l,minute:c,second:f,millisecond:0});let y=+r;const v=y%1e3;return y-=v>=0?v:1e3+v,(p-y)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let t4={};function EG(t,e={}){const r=JSON.stringify([t,e]);let i=t4[r];return i||(i=new Intl.ListFormat(t,e),t4[r]=i),i}const w2=new Map;function x2(t,e={}){const r=JSON.stringify([t,e]);let i=w2.get(r);return i===void 0&&(i=new Intl.DateTimeFormat(t,e),w2.set(r,i)),i}const E2=new Map;function SG(t,e={}){const r=JSON.stringify([t,e]);let i=E2.get(r);return i===void 0&&(i=new Intl.NumberFormat(t,e),E2.set(r,i)),i}const S2=new Map;function AG(t,e={}){const{base:r,...i}=e,s=JSON.stringify([t,i]);let n=S2.get(s);return n===void 0&&(n=new Intl.RelativeTimeFormat(t,e),S2.set(s,n)),n}let id=null;function TG(){return id||(id=new Intl.DateTimeFormat().resolvedOptions().locale,id)}const A2=new Map;function q6(t){let e=A2.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),A2.set(t,e)),e}const T2=new Map;function MG(t){let e=T2.get(t);if(!e){const r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in e||(e={...H6,...e}),T2.set(t,e)}return e}function $G(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const r=t.indexOf("-u-");if(r===-1)return[t];{let i,s;try{i=x2(t).resolvedOptions(),s=t}catch{const l=t.substring(0,r);i=x2(l).resolvedOptions(),s=l}const{numberingSystem:n,calendar:o}=i;return[s,n,o]}}function OG(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function IG(t){const e=[];for(let r=1;r<=12;r++){const i=Fe.utc(2009,r,1);e.push(t(i))}return e}function CG(t){const e=[];for(let r=1;r<=7;r++){const i=Fe.utc(2016,11,13+r);e.push(t(i))}return e}function ly(t,e,r,i){const s=t.listingMode();return s==="error"?null:s==="en"?r(e):i(e)}function NG(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||q6(t.locale).numberingSystem==="latn"}class PG{constructor(e,r,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:s,floor:n,...o}=i;if(!r||Object.keys(o).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=SG(e,a)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):GE(e,3);return kr(r,this.padTo)}}}class LG{constructor(e,r,i){this.opts=i,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&ya.create(a).valid?(s=a,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const n={...this.opts};n.timeZone=n.timeZone||s,this.dtf=x2(r,n)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:i}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class kG{constructor(e,r,i){this.opts={style:"long",...i},!r&&Q6()&&(this.rtf=AG(e,i))}format(e,r){return this.rtf?this.rtf.format(e,r):iz(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}const H6={firstDay:1,minimalDays:4,weekend:[6,7]};class Tt{static fromOpts(e){return Tt.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,i,s,n=!1){const o=e||mr.defaultLocale,a=o||(n?"en-US":TG()),l=r||mr.defaultNumberingSystem,c=i||mr.defaultOutputCalendar,f=$2(s)||mr.defaultWeekSettings;return new Tt(a,l,c,f,o)}static resetCache(){id=null,w2.clear(),E2.clear(),S2.clear(),A2.clear(),T2.clear()}static fromObject({locale:e,numberingSystem:r,outputCalendar:i,weekSettings:s}={}){return Tt.create(e,r,i,s)}constructor(e,r,i,s,n){const[o,a,l]=$G(e);this.locale=o,this.numberingSystem=r||a||null,this.outputCalendar=i||l||null,this.weekSettings=s,this.intl=OG(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=NG(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Tt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,$2(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return ly(this,e,sN,()=>{const i=r?{month:e,day:"numeric"}:{month:e},s=r?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=IG(n=>this.extract(n,i,"month"))),this.monthsCache[s][e]})}weekdays(e,r=!1){return ly(this,e,aN,()=>{const i=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=r?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=CG(n=>this.extract(n,i,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return ly(this,void 0,()=>lN,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Fe.utc(2016,11,13,9),Fe.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return ly(this,e,cN,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[Fe.utc(-40,1,1),Fe.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[e]})}extract(e,r,i){const s=this.dtFormatter(e,r),n=s.formatToParts(),o=n.find(a=>a.type.toLowerCase()===i);return o?o.value:null}numberFormatter(e={}){return new PG(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new LG(e,this.intl,r)}relFormatter(e={}){return new kG(this.intl,this.isEnglish(),e)}listFormatter(e={}){return EG(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||q6(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:eN()?MG(this.locale):H6}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Nb=null;class Yi extends _m{static get utcInstance(){return Nb===null&&(Nb=new Yi(0)),Nb}static instance(e){return e===0?Yi.utcInstance:new Yi(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Yi(t1(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Ld(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Ld(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return Ld(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class RG extends _m{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function rl(t,e){if(Ge(t)||t===null)return e;if(t instanceof _m)return t;if(VG(t)){const r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?Xv.instance:r==="utc"||r==="gmt"?Yi.utcInstance:Yi.parseSpecifier(r)||ya.create(t)}else return dl(t)?Yi.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new RG(t)}const UE={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},r4={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},DG=UE.hanidec.replace(/[\[|\]]/g,"").split("");function FG(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(t[r].search(UE.hanidec)!==-1)e+=DG.indexOf(t[r]);else for(const s in r4){const[n,o]=r4[s];i>=n&&i<=o&&(e+=i-n)}}return parseInt(e,10)}else return e}const M2=new Map;function UG(){M2.clear()}function pn({numberingSystem:t},e=""){const r=t||"latn";let i=M2.get(r);i===void 0&&(i=new Map,M2.set(r,i));let s=i.get(e);return s===void 0&&(s=new RegExp(`${UE[r]}${e}`),i.set(e,s)),s}let i4=()=>Date.now(),s4="system",n4=null,o4=null,a4=null,l4=60,c4,u4=null;class mr{static get now(){return i4}static set now(e){i4=e}static set defaultZone(e){s4=e}static get defaultZone(){return rl(s4,Xv.instance)}static get defaultLocale(){return n4}static set defaultLocale(e){n4=e}static get defaultNumberingSystem(){return o4}static set defaultNumberingSystem(e){o4=e}static get defaultOutputCalendar(){return a4}static set defaultOutputCalendar(e){a4=e}static get defaultWeekSettings(){return u4}static set defaultWeekSettings(e){u4=$2(e)}static get twoDigitCutoffYear(){return l4}static set twoDigitCutoffYear(e){l4=e%100}static get throwOnInvalid(){return c4}static set throwOnInvalid(e){c4=e}static resetCaches(){Tt.resetCache(),ya.resetCache(),Fe.resetCache(),UG()}}class Tn{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const W6=[0,31,59,90,120,151,181,212,243,273,304,334],Y6=[0,31,60,91,121,152,182,213,244,274,305,335];function en(t,e){return new Tn("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function jE(t,e,r){const i=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const s=i.getUTCDay();return s===0?7:s}function J6(t,e,r){return r+(wm(t)?Y6:W6)[e-1]}function K6(t,e){const r=wm(t)?Y6:W6,i=r.findIndex(n=>n<e),s=e-r[i];return{month:i+1,day:s}}function BE(t,e){return(t-e+7)%7+1}function gg(t,e=4,r=1){const{year:i,month:s,day:n}=t,o=J6(i,s,n),a=BE(jE(i,s,n),r);let l=Math.floor((o-a+14-e)/7),c;return l<1?(c=i-1,l=Ap(c,e,r)):l>Ap(i,e,r)?(c=i+1,l=1):c=i,{weekYear:c,weekNumber:l,weekday:a,...r1(t)}}function h4(t,e=4,r=1){const{weekYear:i,weekNumber:s,weekday:n}=t,o=BE(jE(i,1,e),r),a=vh(i);let l=s*7+n-o-7+e,c;l<1?(c=i-1,l+=vh(c)):l>a?(c=i+1,l-=vh(i)):c=i;const{month:f,day:d}=K6(c,l);return{year:c,month:f,day:d,...r1(t)}}function Pb(t){const{year:e,month:r,day:i}=t,s=J6(e,r,i);return{year:e,ordinal:s,...r1(t)}}function f4(t){const{year:e,ordinal:r}=t,{month:i,day:s}=K6(e,r);return{year:e,month:i,day:s,...r1(t)}}function d4(t,e){if(!Ge(t.localWeekday)||!Ge(t.localWeekNumber)||!Ge(t.localWeekYear)){if(!Ge(t.weekday)||!Ge(t.weekNumber)||!Ge(t.weekYear))throw new Wu("Cannot mix locale-based week fields with ISO-based week fields");return Ge(t.localWeekday)||(t.weekday=t.localWeekday),Ge(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Ge(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function jG(t,e=4,r=1){const i=Qv(t.weekYear),s=tn(t.weekNumber,1,Ap(t.weekYear,e,r)),n=tn(t.weekday,1,7);return i?s?n?!1:en("weekday",t.weekday):en("week",t.weekNumber):en("weekYear",t.weekYear)}function BG(t){const e=Qv(t.year),r=tn(t.ordinal,1,vh(t.year));return e?r?!1:en("ordinal",t.ordinal):en("year",t.year)}function Z6(t){const e=Qv(t.year),r=tn(t.month,1,12),i=tn(t.day,1,vg(t.year,t.month));return e?r?i?!1:en("day",t.day):en("month",t.month):en("year",t.year)}function X6(t){const{hour:e,minute:r,second:i,millisecond:s}=t,n=tn(e,0,23)||e===24&&r===0&&i===0&&s===0,o=tn(r,0,59),a=tn(i,0,59),l=tn(s,0,999);return n?o?a?l?!1:en("millisecond",s):en("second",i):en("minute",r):en("hour",e)}function Ge(t){return typeof t>"u"}function dl(t){return typeof t=="number"}function Qv(t){return typeof t=="number"&&t%1===0}function VG(t){return typeof t=="string"}function GG(t){return Object.prototype.toString.call(t)==="[object Date]"}function Q6(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function eN(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function zG(t){return Array.isArray(t)?t:[t]}function p4(t,e,r){if(t.length!==0)return t.reduce((i,s)=>{const n=[e(s),s];return i&&r(i[0],n[0])===i[0]?i:n},null)[1]}function qG(t,e){return e.reduce((r,i)=>(r[i]=t[i],r),{})}function Bh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $2(t){if(t==null)return null;if(typeof t!="object")throw new Ti("Week settings must be an object");if(!tn(t.firstDay,1,7)||!tn(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!tn(e,1,7)))throw new Ti("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function tn(t,e,r){return Qv(t)&&t>=e&&t<=r}function HG(t,e){return t-e*Math.floor(t/e)}function kr(t,e=2){const r=t<0;let i;return r?i="-"+(""+-t).padStart(e,"0"):i=(""+t).padStart(e,"0"),i}function Ha(t){if(!(Ge(t)||t===null||t===""))return parseInt(t,10)}function Jl(t){if(!(Ge(t)||t===null||t===""))return parseFloat(t)}function VE(t){if(!(Ge(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function GE(t,e,r=!1){const i=10**e;return(r?Math.trunc:Math.round)(t*i)/i}function wm(t){return t%4===0&&(t%100!==0||t%400===0)}function vh(t){return wm(t)?366:365}function vg(t,e){const r=HG(e-1,12)+1,i=t+(e-r)/12;return r===2?wm(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function e1(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function m4(t,e,r){return-BE(jE(t,1,e),r)+e-1}function Ap(t,e=4,r=1){const i=m4(t,e,r),s=m4(t+1,e,r);return(vh(t)-i+s)/7}function O2(t){return t>99?t:t>mr.twoDigitCutoffYear?1900+t:2e3+t}function tN(t,e,r,i=null){const s=new Date(t),n={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(n.timeZone=i);const o={timeZoneName:e,...n},a=new Intl.DateTimeFormat(r,o).formatToParts(s).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function t1(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const i=parseInt(e,10)||0,s=r<0||Object.is(r,-0)?-i:i;return r*60+s}function rN(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Ti(`Invalid unit value ${t}`);return e}function bg(t,e){const r={};for(const i in t)if(Bh(t,i)){const s=t[i];if(s==null)continue;r[e(i)]=rN(s)}return r}function Ld(t,e){const r=Math.trunc(Math.abs(t/60)),i=Math.trunc(Math.abs(t%60)),s=t>=0?"+":"-";switch(e){case"short":return`${s}${kr(r,2)}:${kr(i,2)}`;case"narrow":return`${s}${r}${i>0?`:${i}`:""}`;case"techie":return`${s}${kr(r,2)}${kr(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function r1(t){return qG(t,["hour","minute","second","millisecond"])}const WG=["January","February","March","April","May","June","July","August","September","October","November","December"],iN=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],YG=["J","F","M","A","M","J","J","A","S","O","N","D"];function sN(t){switch(t){case"narrow":return[...YG];case"short":return[...iN];case"long":return[...WG];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const nN=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],oN=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],JG=["M","T","W","T","F","S","S"];function aN(t){switch(t){case"narrow":return[...JG];case"short":return[...oN];case"long":return[...nN];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const lN=["AM","PM"],KG=["Before Christ","Anno Domini"],ZG=["BC","AD"],XG=["B","A"];function cN(t){switch(t){case"narrow":return[...XG];case"short":return[...ZG];case"long":return[...KG];default:return null}}function QG(t){return lN[t.hour<12?0:1]}function ez(t,e){return aN(e)[t.weekday-1]}function tz(t,e){return sN(e)[t.month-1]}function rz(t,e){return cN(e)[t.year<0?0:1]}function iz(t,e,r="always",i=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},n=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&n){const d=t==="days";switch(e){case 1:return d?"tomorrow":`next ${s[t][0]}`;case-1:return d?"yesterday":`last ${s[t][0]}`;case 0:return d?"today":`this ${s[t][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,c=s[t],f=i?l?c[1]:c[2]||c[1]:l?s[t][0]:t;return o?`${a} ${f} ago`:`in ${a} ${f}`}function y4(t,e){let r="";for(const i of t)i.literal?r+=i.val:r+=e(i.val);return r}const sz={D:yg,DD:T6,DDD:M6,DDDD:$6,t:O6,tt:I6,ttt:C6,tttt:N6,T:P6,TT:L6,TTT:k6,TTTT:R6,f:D6,ff:U6,fff:B6,ffff:G6,F:F6,FF:j6,FFF:V6,FFFF:z6};class Ni{static create(e,r={}){return new Ni(e,r)}static parseFormat(e){let r=null,i="",s=!1;const n=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?(i.length>0&&n.push({literal:s||/^\s+$/.test(i),val:i}),r=null,i="",s=!s):s||a===r?i+=a:(i.length>0&&n.push({literal:/^\s+$/.test(i),val:i}),i=a,r=a)}return i.length>0&&n.push({literal:s||/^\s+$/.test(i),val:i}),n}static macroTokenToFormatOpts(e){return sz[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return kr(e,r);const i={...this.opts};return r>0&&(i.padTo=r),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,r){const i=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",n=(y,v)=>this.loc.extract(e,y,v),o=y=>e.isOffsetFixed&&e.offset===0&&y.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,y.format):"",a=()=>i?QG(e):n({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,v)=>i?tz(e,y):n(v?{month:y}:{month:y,day:"numeric"},"month"),c=(y,v)=>i?ez(e,y):n(v?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),f=y=>{const v=Ni.macroTokenToFormatOpts(y);return v?this.formatWithSystemDefault(e,v):y},d=y=>i?rz(e,y):n({era:y},"era"),p=y=>{switch(y){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return s?n({day:"numeric"},"day"):this.num(e.day);case"dd":return s?n({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return s?n({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?n({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?n({month:"numeric"},"month"):this.num(e.month);case"MM":return s?n({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?n({year:"numeric"},"year"):this.num(e.year);case"yy":return s?n({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?n({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?n({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(y)}};return y4(Ni.parseFormat(r),p)}formatDurationFromString(e,r){const i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=l=>c=>{const f=i(c);return f?this.num(l.get(f),c.length):c},n=Ni.parseFormat(r),o=n.reduce((l,{literal:c,val:f})=>c?l:l.concat(f),[]),a=e.shiftTo(...o.map(i).filter(l=>l));return y4(n,s(a))}}const uN=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function wf(...t){const e=t.reduce((r,i)=>r+i.source,"");return RegExp(`^${e}$`)}function xf(...t){return e=>t.reduce(([r,i,s],n)=>{const[o,a,l]=n(e,s);return[{...r,...o},a||i,l]},[{},null,1]).slice(0,2)}function Ef(t,...e){if(t==null)return[null,null];for(const[r,i]of e){const s=r.exec(t);if(s)return i(s)}return[null,null]}function hN(...t){return(e,r)=>{const i={};let s;for(s=0;s<t.length;s++)i[t[s]]=Ha(e[r+s]);return[i,null,r+s]}}const fN=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,nz=`(?:${fN.source}?(?:\\[(${uN.source})\\])?)?`,zE=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,dN=RegExp(`${zE.source}${nz}`),qE=RegExp(`(?:T${dN.source})?`),oz=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,az=/(\d{4})-?W(\d\d)(?:-?(\d))?/,lz=/(\d{4})-?(\d{3})/,cz=hN("weekYear","weekNumber","weekDay"),uz=hN("year","ordinal"),hz=/(\d{4})-(\d\d)-(\d\d)/,pN=RegExp(`${zE.source} ?(?:${fN.source}|(${uN.source}))?`),fz=RegExp(`(?: ${pN.source})?`);function bh(t,e,r){const i=t[e];return Ge(i)?r:Ha(i)}function dz(t,e){return[{year:bh(t,e),month:bh(t,e+1,1),day:bh(t,e+2,1)},null,e+3]}function Sf(t,e){return[{hours:bh(t,e,0),minutes:bh(t,e+1,0),seconds:bh(t,e+2,0),milliseconds:VE(t[e+3])},null,e+4]}function xm(t,e){const r=!t[e]&&!t[e+1],i=t1(t[e+1],t[e+2]),s=r?null:Yi.instance(i);return[{},s,e+3]}function Em(t,e){const r=t[e]?ya.create(t[e]):null;return[{},r,e+1]}const pz=RegExp(`^T?${zE.source}$`),mz=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function yz(t){const[e,r,i,s,n,o,a,l,c]=t,f=e[0]==="-",d=l&&l[0]==="-",p=(y,v=!1)=>y!==void 0&&(v||y&&f)?-y:y;return[{years:p(Jl(r)),months:p(Jl(i)),weeks:p(Jl(s)),days:p(Jl(n)),hours:p(Jl(o)),minutes:p(Jl(a)),seconds:p(Jl(l),l==="-0"),milliseconds:p(VE(c),d)}]}const gz={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function HE(t,e,r,i,s,n,o){const a={year:e.length===2?O2(Ha(e)):Ha(e),month:iN.indexOf(r)+1,day:Ha(i),hour:Ha(s),minute:Ha(n)};return o&&(a.second=Ha(o)),t&&(a.weekday=t.length>3?nN.indexOf(t)+1:oN.indexOf(t)+1),a}const vz=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function bz(t){const[,e,r,i,s,n,o,a,l,c,f,d]=t,p=HE(e,s,i,r,n,o,a);let y;return l?y=gz[l]:c?y=0:y=t1(f,d),[p,new Yi(y)]}function _z(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const wz=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,xz=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Ez=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function g4(t){const[,e,r,i,s,n,o,a]=t;return[HE(e,s,i,r,n,o,a),Yi.utcInstance]}function Sz(t){const[,e,r,i,s,n,o,a]=t;return[HE(e,a,r,i,s,n,o),Yi.utcInstance]}const Az=wf(oz,qE),Tz=wf(az,qE),Mz=wf(lz,qE),$z=wf(dN),mN=xf(dz,Sf,xm,Em),Oz=xf(cz,Sf,xm,Em),Iz=xf(uz,Sf,xm,Em),Cz=xf(Sf,xm,Em);function Nz(t){return Ef(t,[Az,mN],[Tz,Oz],[Mz,Iz],[$z,Cz])}function Pz(t){return Ef(_z(t),[vz,bz])}function Lz(t){return Ef(t,[wz,g4],[xz,g4],[Ez,Sz])}function kz(t){return Ef(t,[mz,yz])}const Rz=xf(Sf);function Dz(t){return Ef(t,[pz,Rz])}const Fz=wf(hz,fz),Uz=wf(pN),jz=xf(Sf,xm,Em);function Bz(t){return Ef(t,[Fz,mN],[Uz,jz])}const v4="Invalid Duration",yN={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Vz={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...yN},zs=146097/400,Eu=146097/4800,Gz={years:{quarters:4,months:12,weeks:zs/7,days:zs,hours:zs*24,minutes:zs*24*60,seconds:zs*24*60*60,milliseconds:zs*24*60*60*1e3},quarters:{months:3,weeks:zs/28,days:zs/4,hours:zs*24/4,minutes:zs*24*60/4,seconds:zs*24*60*60/4,milliseconds:zs*24*60*60*1e3/4},months:{weeks:Eu/7,days:Eu,hours:Eu*24,minutes:Eu*24*60,seconds:Eu*24*60*60,milliseconds:Eu*24*60*60*1e3},...yN},Sc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],zz=Sc.slice(0).reverse();function Pa(t,e,r=!1){const i={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new ft(i)}function gN(t,e){let r=e.milliseconds??0;for(const i of zz.slice(1))e[i]&&(r+=e[i]*t[i].milliseconds);return r}function b4(t,e){const r=gN(t,e)<0?-1:1;Sc.reduceRight((i,s)=>{if(Ge(e[s]))return i;if(i){const n=e[i]*r,o=t[s][i],a=Math.floor(n/o);e[s]+=a*r,e[i]-=a*o*r}return s},null),Sc.reduce((i,s)=>{if(Ge(e[s]))return i;if(i){const n=e[i]%1;e[i]-=n,e[s]+=n*t[i][s]}return s},null)}function qz(t){const e={};for(const[r,i]of Object.entries(t))i!==0&&(e[r]=i);return e}class ft{constructor(e){const r=e.conversionAccuracy==="longterm"||!1;let i=r?Gz:Vz;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||Tt.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,r){return ft.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new Ti(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new ft({values:bg(e,ft.normalizeUnit),loc:Tt.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(dl(e))return ft.fromMillis(e);if(ft.isDuration(e))return e;if(typeof e=="object")return ft.fromObject(e);throw new Ti(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[i]=kz(e);return i?ft.fromObject(i,r):ft.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[i]=Dz(e);return i?ft.fromObject(i,r):ft.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new Ti("need to specify a reason the Duration is invalid");const i=e instanceof Tn?e:new Tn(e,r);if(mr.throwOnInvalid)throw new yG(i);return new ft({invalid:i})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new A6(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const i={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Ni.create(this.loc,i).formatDurationFromString(this,e):v4}toHuman(e={}){if(!this.isValid)return v4;const r=Sc.map(i=>{const s=this.values[i];return Ge(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(s)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=GE(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Fe.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?gN(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=ft.fromDurationLike(e),i={};for(const s of Sc)(Bh(r.values,s)||Bh(this.values,s))&&(i[s]=r.get(s)+this.get(s));return Pa(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const r=ft.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const i of Object.keys(this.values))r[i]=rN(e(this.values[i],i));return Pa(this,{values:r},!0)}get(e){return this[ft.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r={...this.values,...bg(e,ft.normalizeUnit)};return Pa(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:i,matrix:s}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:s,conversionAccuracy:i};return Pa(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return b4(this.matrix,e),Pa(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=qz(this.normalize().shiftToAll().toObject());return Pa(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>ft.normalizeUnit(o));const r={},i={},s=this.toObject();let n;for(const o of Sc)if(e.indexOf(o)>=0){n=o;let a=0;for(const c in i)a+=this.matrix[c][o]*i[c],i[c]=0;dl(s[o])&&(a+=s[o]);const l=Math.trunc(a);r[o]=l,i[o]=(a*1e3-l*1e3)/1e3}else dl(s[o])&&(i[o]=s[o]);for(const o in i)i[o]!==0&&(r[n]+=o===n?i[o]:i[o]/this.matrix[n][o]);return b4(this.matrix,r),Pa(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return Pa(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(i,s){return i===void 0||i===0?s===void 0||s===0:i===s}for(const i of Sc)if(!r(this.values[i],e.values[i]))return!1;return!0}}const Su="Invalid Interval";function Hz(t,e){return!t||!t.isValid?dr.invalid("missing or invalid start"):!e||!e.isValid?dr.invalid("missing or invalid end"):e<t?dr.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class dr{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new Ti("need to specify a reason the Interval is invalid");const i=e instanceof Tn?e:new Tn(e,r);if(mr.throwOnInvalid)throw new mG(i);return new dr({invalid:i})}static fromDateTimes(e,r){const i=Rf(e),s=Rf(r),n=Hz(i,s);return n??new dr({start:i,end:s})}static after(e,r){const i=ft.fromDurationLike(r),s=Rf(e);return dr.fromDateTimes(s,s.plus(i))}static before(e,r){const i=ft.fromDurationLike(r),s=Rf(e);return dr.fromDateTimes(s.minus(i),s)}static fromISO(e,r){const[i,s]=(e||"").split("/",2);if(i&&s){let n,o;try{n=Fe.fromISO(i,r),o=n.isValid}catch{o=!1}let a,l;try{a=Fe.fromISO(s,r),l=a.isValid}catch{l=!1}if(o&&l)return dr.fromDateTimes(n,a);if(o){const c=ft.fromISO(s,r);if(c.isValid)return dr.after(n,c)}else if(l){const c=ft.fromISO(i,r);if(c.isValid)return dr.before(a,c)}}return dr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;const i=this.start.startOf(e,r);let s;return r?.useLocaleWeeks?s=this.end.reconfigure({locale:i.locale}):s=this.end,s=s.startOf(e,r),Math.floor(s.diff(i,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?dr.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(Rf).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),i=[];let{s}=this,n=0;for(;s<this.e;){const o=r[n]||this.e,a=+o>+this.e?this.e:o;i.push(dr.fromDateTimes(s,a)),s=a,n+=1}return i}splitBy(e){const r=ft.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:i}=this,s=1,n;const o=[];for(;i<this.e;){const a=this.start.plus(r.mapUnits(l=>l*s));n=+a>+this.e?this.e:a,o.push(dr.fromDateTimes(i,n)),i=n,s+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return r>=i?null:dr.fromDateTimes(r,i)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return dr.fromDateTimes(r,i)}static merge(e){const[r,i]=e.sort((s,n)=>s.s-n.s).reduce(([s,n],o)=>n?n.overlaps(o)||n.abutsStart(o)?[s,n.union(o)]:[s.concat([n]),o]:[s,o],[[],null]);return i&&r.push(i),r}static xor(e){let r=null,i=0;const s=[],n=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...n),a=o.sort((l,c)=>l.time-c.time);for(const l of a)i+=l.type==="s"?1:-1,i===1?r=l.time:(r&&+r!=+l.time&&s.push(dr.fromDateTimes(r,l.time)),r=null);return dr.merge(s)}difference(...e){return dr.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Su}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=yg,r={}){return this.isValid?Ni.create(this.s.loc.clone(r),e).formatInterval(this):Su}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Su}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Su}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Su}toFormat(e,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:Su}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):ft.invalid(this.invalidReason)}mapEndpoints(e){return dr.fromDateTimes(e(this.s),e(this.e))}}class cy{static hasDST(e=mr.defaultZone){const r=Fe.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return ya.isValidZone(e)}static normalizeZone(e){return rl(e,mr.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||Tt.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||Tt.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||Tt.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:i=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||Tt.create(r,i,n)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:i=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||Tt.create(r,i,n)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:i=null,locObj:s=null}={}){return(s||Tt.create(r,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:i=null,locObj:s=null}={}){return(s||Tt.create(r,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Tt.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Tt.create(r,null,"gregory").eras(e)}static features(){return{relative:Q6(),localeWeek:eN()}}}function _4(t,e){const r=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=r(e)-r(t);return Math.floor(ft.fromMillis(i).as("days"))}function Wz(t,e,r){const i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const f=_4(l,c);return(f-f%7)/7}],["days",_4]],s={},n=t;let o,a;for(const[l,c]of i)r.indexOf(l)>=0&&(o=l,s[l]=c(t,e),a=n.plus(s),a>e?(s[l]--,t=n.plus(s),t>e&&(a=t,s[l]--,t=n.plus(s))):t=a);return[t,s,a,o]}function Yz(t,e,r,i){let[s,n,o,a]=Wz(t,e,r);const l=e-s,c=r.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<e&&(o=s.plus({[a]:1})),o!==s&&(n[a]=(n[a]||0)+l/(o-s)));const f=ft.fromObject(n,i);return c.length>0?ft.fromMillis(l,i).shiftTo(...c).plus(f):f}const Jz="missing Intl.DateTimeFormat.formatToParts support";function gt(t,e=r=>r){return{regex:t,deser:([r])=>e(FG(r))}}const Kz="",vN=`[ ${Kz}]`,bN=new RegExp(vN,"g");function Zz(t){return t.replace(/\./g,"\\.?").replace(bN,vN)}function w4(t){return t.replace(/\./g,"").replace(bN," ").toLowerCase()}function mn(t,e){return t===null?null:{regex:RegExp(t.map(Zz).join("|")),deser:([r])=>t.findIndex(i=>w4(r)===w4(i))+e}}function x4(t,e){return{regex:t,deser:([,r,i])=>t1(r,i),groups:e}}function uy(t){return{regex:t,deser:([e])=>e}}function Xz(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Qz(t,e){const r=pn(e),i=pn(e,"{2}"),s=pn(e,"{3}"),n=pn(e,"{4}"),o=pn(e,"{6}"),a=pn(e,"{1,2}"),l=pn(e,"{1,3}"),c=pn(e,"{1,6}"),f=pn(e,"{1,9}"),d=pn(e,"{2,4}"),p=pn(e,"{4,6}"),y=S=>({regex:RegExp(Xz(S.val)),deser:([E])=>E,literal:!0}),b=(S=>{if(t.literal)return y(S);switch(S.val){case"G":return mn(e.eras("short"),0);case"GG":return mn(e.eras("long"),0);case"y":return gt(c);case"yy":return gt(d,O2);case"yyyy":return gt(n);case"yyyyy":return gt(p);case"yyyyyy":return gt(o);case"M":return gt(a);case"MM":return gt(i);case"MMM":return mn(e.months("short",!0),1);case"MMMM":return mn(e.months("long",!0),1);case"L":return gt(a);case"LL":return gt(i);case"LLL":return mn(e.months("short",!1),1);case"LLLL":return mn(e.months("long",!1),1);case"d":return gt(a);case"dd":return gt(i);case"o":return gt(l);case"ooo":return gt(s);case"HH":return gt(i);case"H":return gt(a);case"hh":return gt(i);case"h":return gt(a);case"mm":return gt(i);case"m":return gt(a);case"q":return gt(a);case"qq":return gt(i);case"s":return gt(a);case"ss":return gt(i);case"S":return gt(l);case"SSS":return gt(s);case"u":return uy(f);case"uu":return uy(a);case"uuu":return gt(r);case"a":return mn(e.meridiems(),0);case"kkkk":return gt(n);case"kk":return gt(d,O2);case"W":return gt(a);case"WW":return gt(i);case"E":case"c":return gt(r);case"EEE":return mn(e.weekdays("short",!1),1);case"EEEE":return mn(e.weekdays("long",!1),1);case"ccc":return mn(e.weekdays("short",!0),1);case"cccc":return mn(e.weekdays("long",!0),1);case"Z":case"ZZ":return x4(new RegExp(`([+-]${a.source})(?::(${i.source}))?`),2);case"ZZZ":return x4(new RegExp(`([+-]${a.source})(${i.source})?`),2);case"z":return uy(/[a-z_+-/]{1,256}?/i);case" ":return uy(/[^\S\n\r]/);default:return y(S)}})(t)||{invalidReason:Jz};return b.token=t,b}const eq={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function tq(t,e,r){const{type:i,value:s}=t;if(i==="literal"){const l=/^\s+$/.test(s);return{literal:!l,val:l?" ":s}}const n=e[i];let o=i;i==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=r.hour12?"hour12":"hour24");let a=eq[o];if(typeof a=="object"&&(a=a[n]),a)return{literal:!1,val:a}}function rq(t){return[`^${t.map(r=>r.regex).reduce((r,i)=>`${r}(${i.source})`,"")}$`,t]}function iq(t,e,r){const i=t.match(e);if(i){const s={};let n=1;for(const o in r)if(Bh(r,o)){const a=r[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(s[a.token.val[0]]=a.deser(i.slice(n,n+l))),n+=l}return[i,s]}else return[i,{}]}function sq(t){const e=n=>{switch(n){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,i;return Ge(t.z)||(r=ya.create(t.z)),Ge(t.Z)||(r||(r=new Yi(t.Z)),i=t.Z),Ge(t.q)||(t.M=(t.q-1)*3+1),Ge(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Ge(t.u)||(t.S=VE(t.u)),[Object.keys(t).reduce((n,o)=>{const a=e(o);return a&&(n[a]=t[o]),n},{}),r,i]}let Lb=null;function nq(){return Lb||(Lb=Fe.fromMillis(1555555555555)),Lb}function oq(t,e){if(t.literal)return t;const r=Ni.macroTokenToFormatOpts(t.val),i=EN(r,e);return i==null||i.includes(void 0)?t:i}function _N(t,e){return Array.prototype.concat(...t.map(r=>oq(r,e)))}class wN{constructor(e,r){if(this.locale=e,this.format=r,this.tokens=_N(Ni.parseFormat(r),e),this.units=this.tokens.map(i=>Qz(i,e)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){const[i,s]=rq(this.units);this.regex=RegExp(i,"i"),this.handlers=s}}explainFromTokens(e){if(this.isValid){const[r,i]=iq(e,this.regex,this.handlers),[s,n,o]=i?sq(i):[null,null,void 0];if(Bh(i,"a")&&Bh(i,"H"))throw new Wu("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:i,result:s,zone:n,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function xN(t,e,r){return new wN(t,r).explainFromTokens(e)}function aq(t,e,r){const{result:i,zone:s,specificOffset:n,invalidReason:o}=xN(t,e,r);return[i,s,n,o]}function EN(t,e){if(!t)return null;const i=Ni.create(e,t).dtFormatter(nq()),s=i.formatToParts(),n=i.resolvedOptions();return s.map(o=>tq(o,t,n))}const kb="Invalid DateTime",E4=864e13;function sd(t){return new Tn("unsupported zone",`the zone "${t.name}" is not supported`)}function Rb(t){return t.weekData===null&&(t.weekData=gg(t.c)),t.weekData}function Db(t){return t.localWeekData===null&&(t.localWeekData=gg(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Kl(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Fe({...r,...e,old:r})}function SN(t,e,r){let i=t-e*60*1e3;const s=r.offset(i);if(e===s)return[i,e];i-=(s-e)*60*1e3;const n=r.offset(i);return s===n?[i,s]:[t-Math.min(s,n)*60*1e3,Math.max(s,n)]}function hy(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function a0(t,e,r){return SN(e1(t),e,r)}function S4(t,e){const r=t.o,i=t.c.year+Math.trunc(e.years),s=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,n={...t.c,year:i,month:s,day:Math.min(t.c.day,vg(i,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=ft.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=e1(n);let[l,c]=SN(a,r,t.zone);return o!==0&&(l+=o,c=t.zone.offset(l)),{ts:l,o:c}}function Au(t,e,r,i,s,n){const{setZone:o,zone:a}=r;if(t&&Object.keys(t).length!==0||e){const l=e||a,c=Fe.fromObject(t,{...r,zone:l,specificOffset:n});return o?c:c.setZone(a)}else return Fe.invalid(new Tn("unparsable",`the input "${s}" can't be parsed as ${i}`))}function fy(t,e,r=!0){return t.isValid?Ni.create(Tt.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Fb(t,e){const r=t.c.year>9999||t.c.year<0;let i="";return r&&t.c.year>=0&&(i+="+"),i+=kr(t.c.year,r?6:4),e?(i+="-",i+=kr(t.c.month),i+="-",i+=kr(t.c.day)):(i+=kr(t.c.month),i+=kr(t.c.day)),i}function A4(t,e,r,i,s,n){let o=kr(t.c.hour);return e?(o+=":",o+=kr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(o+=":")):o+=kr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(o+=kr(t.c.second),(t.c.millisecond!==0||!i)&&(o+=".",o+=kr(t.c.millisecond,3))),s&&(t.isOffsetFixed&&t.offset===0&&!n?o+="Z":t.o<0?(o+="-",o+=kr(Math.trunc(-t.o/60)),o+=":",o+=kr(Math.trunc(-t.o%60))):(o+="+",o+=kr(Math.trunc(t.o/60)),o+=":",o+=kr(Math.trunc(t.o%60)))),n&&(o+="["+t.zone.ianaName+"]"),o}const AN={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},lq={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},cq={ordinal:1,hour:0,minute:0,second:0,millisecond:0},TN=["year","month","day","hour","minute","second","millisecond"],uq=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],hq=["year","ordinal","hour","minute","second","millisecond"];function fq(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new A6(t);return e}function T4(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return fq(t)}}function dq(t){if(nd===void 0&&(nd=mr.now()),t.type!=="iana")return t.offset(nd);const e=t.name;let r=I2.get(e);return r===void 0&&(r=t.offset(nd),I2.set(e,r)),r}function M4(t,e){const r=rl(e.zone,mr.defaultZone);if(!r.isValid)return Fe.invalid(sd(r));const i=Tt.fromObject(e);let s,n;if(Ge(t.year))s=mr.now();else{for(const l of TN)Ge(t[l])&&(t[l]=AN[l]);const o=Z6(t)||X6(t);if(o)return Fe.invalid(o);const a=dq(r);[s,n]=a0(t,a,r)}return new Fe({ts:s,zone:r,loc:i,o:n})}function $4(t,e,r){const i=Ge(r.round)?!0:r.round,s=(o,a)=>(o=GE(o,i||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(o,a)),n=o=>r.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(r.unit)return s(n(r.unit),r.unit);for(const o of r.units){const a=n(o);if(Math.abs(a)>=1)return s(a,o)}return s(t>e?-0:0,r.units[r.units.length-1])}function O4(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}let nd;const I2=new Map;class Fe{constructor(e){const r=e.zone||mr.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Tn("invalid input"):null)||(r.isValid?null:sd(r));this.ts=Ge(e.ts)?mr.now():e.ts;let s=null,n=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[s,n]=[e.old.c,e.old.o];else{const a=dl(e.o)&&!e.old?e.o:r.offset(this.ts);s=hy(this.ts,a),i=Number.isNaN(s.year)?new Tn("invalid input"):null,s=i?null:s,n=i?null:a}this._zone=r,this.loc=e.loc||Tt.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=s,this.o=n,this.isLuxonDateTime=!0}static now(){return new Fe({})}static local(){const[e,r]=O4(arguments),[i,s,n,o,a,l,c]=r;return M4({year:i,month:s,day:n,hour:o,minute:a,second:l,millisecond:c},e)}static utc(){const[e,r]=O4(arguments),[i,s,n,o,a,l,c]=r;return e.zone=Yi.utcInstance,M4({year:i,month:s,day:n,hour:o,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,r={}){const i=GG(e)?e.valueOf():NaN;if(Number.isNaN(i))return Fe.invalid("invalid input");const s=rl(r.zone,mr.defaultZone);return s.isValid?new Fe({ts:i,zone:s,loc:Tt.fromObject(r)}):Fe.invalid(sd(s))}static fromMillis(e,r={}){if(dl(e))return e<-E4||e>E4?Fe.invalid("Timestamp out of range"):new Fe({ts:e,zone:rl(r.zone,mr.defaultZone),loc:Tt.fromObject(r)});throw new Ti(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(dl(e))return new Fe({ts:e*1e3,zone:rl(r.zone,mr.defaultZone),loc:Tt.fromObject(r)});throw new Ti("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const i=rl(r.zone,mr.defaultZone);if(!i.isValid)return Fe.invalid(sd(i));const s=Tt.fromObject(r),n=bg(e,T4),{minDaysInFirstWeek:o,startOfWeek:a}=d4(n,s),l=mr.now(),c=Ge(r.specificOffset)?i.offset(l):r.specificOffset,f=!Ge(n.ordinal),d=!Ge(n.year),p=!Ge(n.month)||!Ge(n.day),y=d||p,v=n.weekYear||n.weekNumber;if((y||f)&&v)throw new Wu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&f)throw new Wu("Can't mix ordinal dates with month/day");const b=v||n.weekday&&!y;let S,E,T=hy(l,c);b?(S=uq,E=lq,T=gg(T,o,a)):f?(S=hq,E=cq,T=Pb(T)):(S=TN,E=AN);let w=!1;for(const F of S){const q=n[F];Ge(q)?w?n[F]=E[F]:n[F]=T[F]:w=!0}const _=b?jG(n,o,a):f?BG(n):Z6(n),M=_||X6(n);if(M)return Fe.invalid(M);const $=b?h4(n,o,a):f?f4(n):n,[C,P]=a0($,c,i),N=new Fe({ts:C,zone:i,o:P,loc:s});return n.weekday&&y&&e.weekday!==N.weekday?Fe.invalid("mismatched weekday",`you can't specify both a weekday of ${n.weekday} and a date of ${N.toISO()}`):N.isValid?N:Fe.invalid(N.invalid)}static fromISO(e,r={}){const[i,s]=Nz(e);return Au(i,s,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[i,s]=Pz(e);return Au(i,s,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[i,s]=Lz(e);return Au(i,s,r,"HTTP",r)}static fromFormat(e,r,i={}){if(Ge(e)||Ge(r))throw new Ti("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:n=null}=i,o=Tt.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0}),[a,l,c,f]=aq(o,e,r);return f?Fe.invalid(f):Au(a,l,i,`format ${r}`,e,c)}static fromString(e,r,i={}){return Fe.fromFormat(e,r,i)}static fromSQL(e,r={}){const[i,s]=Bz(e);return Au(i,s,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new Ti("need to specify a reason the DateTime is invalid");const i=e instanceof Tn?e:new Tn(e,r);if(mr.throwOnInvalid)throw new pG(i);return new Fe({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){const i=EN(e,Tt.fromObject(r));return i?i.map(s=>s?s.val:null).join(""):null}static expandFormat(e,r={}){return _N(Ni.parseFormat(e),Tt.fromObject(r)).map(s=>s.val).join("")}static resetCache(){nd=void 0,I2.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Rb(this).weekYear:NaN}get weekNumber(){return this.isValid?Rb(this).weekNumber:NaN}get weekday(){return this.isValid?Rb(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Db(this).weekday:NaN}get localWeekNumber(){return this.isValid?Db(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Db(this).weekYear:NaN}get ordinal(){return this.isValid?Pb(this.c).ordinal:NaN}get monthShort(){return this.isValid?cy.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?cy.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?cy.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?cy.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,r=6e4,i=e1(this.c),s=this.zone.offset(i-e),n=this.zone.offset(i+e),o=this.zone.offset(i-s*r),a=this.zone.offset(i-n*r);if(o===a)return[this];const l=i-o*r,c=i-a*r,f=hy(l,o),d=hy(c,a);return f.hour===d.hour&&f.minute===d.minute&&f.second===d.second&&f.millisecond===d.millisecond?[Kl(this,{ts:l}),Kl(this,{ts:c})]:[this]}get isInLeapYear(){return wm(this.year)}get daysInMonth(){return vg(this.year,this.month)}get daysInYear(){return this.isValid?vh(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ap(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ap(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:i,calendar:s}=Ni.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:i,outputCalendar:s}}toUTC(e=0,r={}){return this.setZone(Yi.instance(e),r)}toLocal(){return this.setZone(mr.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:i=!1}={}){if(e=rl(e,mr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(r||i){const n=e.offset(this.ts),o=this.toObject();[s]=a0(o,n,e)}return Kl(this,{ts:s,zone:e})}else return Fe.invalid(sd(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:i}={}){const s=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:i});return Kl(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=bg(e,T4),{minDaysInFirstWeek:i,startOfWeek:s}=d4(r,this.loc),n=!Ge(r.weekYear)||!Ge(r.weekNumber)||!Ge(r.weekday),o=!Ge(r.ordinal),a=!Ge(r.year),l=!Ge(r.month)||!Ge(r.day),c=a||l,f=r.weekYear||r.weekNumber;if((c||o)&&f)throw new Wu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Wu("Can't mix ordinal dates with month/day");let d;n?d=h4({...gg(this.c,i,s),...r},i,s):Ge(r.ordinal)?(d={...this.toObject(),...r},Ge(r.day)&&(d.day=Math.min(vg(d.year,d.month),d.day))):d=f4({...Pb(this.c),...r});const[p,y]=a0(d,this.o,this.zone);return Kl(this,{ts:p,o:y})}plus(e){if(!this.isValid)return this;const r=ft.fromDurationLike(e);return Kl(this,S4(this,r))}minus(e){if(!this.isValid)return this;const r=ft.fromDurationLike(e).negate();return Kl(this,S4(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const i={},s=ft.normalizeUnit(e);switch(s){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(s==="weeks")if(r){const n=this.loc.getStartOfWeek(),{weekday:o}=this;o<n&&(i.weekNumber=this.weekNumber-1),i.weekday=n}else i.weekday=1;if(s==="quarters"){const n=Math.ceil(this.month/3);i.month=(n-1)*3+1}return this.set(i)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?Ni.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):kb}toLocaleString(e=yg,r={}){return this.isValid?Ni.create(this.loc.clone(r),e).formatDateTime(this):kb}toLocaleParts(e={}){return this.isValid?Ni.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:i=!1,includeOffset:s=!0,extendedZone:n=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=Fb(this,o);return a+="T",a+=A4(this,o,r,i,s,n),a}toISODate({format:e="extended"}={}){return this.isValid?Fb(this,e==="extended"):null}toISOWeekDate(){return fy(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:i=!0,includePrefix:s=!1,extendedZone:n=!1,format:o="extended"}={}){return this.isValid?(s?"T":"")+A4(this,o==="extended",r,e,i,n):null}toRFC2822(){return fy(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return fy(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Fb(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:i=!0}={}){let s="HH:mm:ss.SSS";return(r||e)&&(i&&(s+=" "),r?s+="z":e&&(s+="ZZ")),fy(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():kb}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",i={}){if(!this.isValid||!e.isValid)return ft.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...i},n=zG(r).map(ft.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,c=Yz(a,l,n,s);return o?c.negate():c}diffNow(e="milliseconds",r={}){return this.diff(Fe.now(),e,r)}until(e){return this.isValid?dr.fromDateTimes(this,e):this}hasSame(e,r,i){if(!this.isValid)return!1;const s=e.valueOf(),n=this.setZone(e.zone,{keepLocalTime:!0});return n.startOf(r,i)<=s&&s<=n.endOf(r,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||Fe.fromObject({},{zone:this.zone}),i=e.padding?this<r?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],n=e.unit;return Array.isArray(e.unit)&&(s=e.unit,n=void 0),$4(r,this.plus(i),{...e,numeric:"always",units:s,unit:n})}toRelativeCalendar(e={}){return this.isValid?$4(e.base||Fe.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Fe.isDateTime))throw new Ti("min requires all arguments be DateTimes");return p4(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(Fe.isDateTime))throw new Ti("max requires all arguments be DateTimes");return p4(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,i={}){const{locale:s=null,numberingSystem:n=null}=i,o=Tt.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});return xN(o,e,r)}static fromStringExplain(e,r,i={}){return Fe.fromFormatExplain(e,r,i)}static buildFormatParser(e,r={}){const{locale:i=null,numberingSystem:s=null}=r,n=Tt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return new wN(n,e)}static fromFormatParser(e,r,i={}){if(Ge(e)||Ge(r))throw new Ti("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:n=null}=i,o=Tt.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});if(!o.equals(r.locale))throw new Ti(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${r.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:f}=r.explainFromTokens(e);return f?Fe.invalid(f):Au(a,l,i,`format ${r.format}`,e,c)}static get DATE_SHORT(){return yg}static get DATE_MED(){return T6}static get DATE_MED_WITH_WEEKDAY(){return gG}static get DATE_FULL(){return M6}static get DATE_HUGE(){return $6}static get TIME_SIMPLE(){return O6}static get TIME_WITH_SECONDS(){return I6}static get TIME_WITH_SHORT_OFFSET(){return C6}static get TIME_WITH_LONG_OFFSET(){return N6}static get TIME_24_SIMPLE(){return P6}static get TIME_24_WITH_SECONDS(){return L6}static get TIME_24_WITH_SHORT_OFFSET(){return k6}static get TIME_24_WITH_LONG_OFFSET(){return R6}static get DATETIME_SHORT(){return D6}static get DATETIME_SHORT_WITH_SECONDS(){return F6}static get DATETIME_MED(){return U6}static get DATETIME_MED_WITH_SECONDS(){return j6}static get DATETIME_MED_WITH_WEEKDAY(){return vG}static get DATETIME_FULL(){return B6}static get DATETIME_FULL_WITH_SECONDS(){return V6}static get DATETIME_HUGE(){return G6}static get DATETIME_HUGE_WITH_SECONDS(){return z6}}function Rf(t){if(Fe.isDateTime(t))return t;if(t&&t.valueOf&&dl(t.valueOf()))return Fe.fromJSDate(t);if(t&&typeof t=="object")return Fe.fromObject(t);throw new Ti(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const pq="HH:mm",mq="HH:mm:ss",yq="HH:mm:ss.SSS",gq=[yq,mq,pq,"TT"],vq="yyyy-MM-dd";function I4(t){if(!t||!bm(t))return null;const e=Fe.fromFormat(t,vq);return e.isValid?e:null}function C4(t){return t&&bm(t)?$F(gq,e=>{const r=Fe.fromFormat(t,e);return r.isValid?r:null})??null:null}function N4(t){if(!t||!bm(t))return null;const e=Fe.fromISO(t);return e.isValid?e:null}var _g;(function(t){t.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",t.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(_g||(_g={}));const MN=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function bq(t){return t!=null&&MN.has(t.type)}function $N(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function ON(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function IN(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}const _q=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);mE(MN,_q);function sbe(t,e){const r=t?.domain;if(!r||r.type!=="range")return;const i="range"in r?r.range[0]:r.minValue,s="range"in r?r.range[1]:r.maxValue,n=bq(t);return $N(t)||IN(t)||ON(t)?{...wq(t,s,i),isInteger:n}:{min:i!=null&&typeof i=="number"?i:null,max:s!=null&&typeof s=="number"?s:null,rawMin:i,rawMax:s,isInteger:n}}function wq(t,e,r){return $N(t)?{min:I4(r)?.toMillis(),max:I4(e)?.toMillis(),rawMin:r,rawMax:e}:IN(t)?{min:C4(r)?.toMillis(),max:C4(e)?.toMillis(),rawMin:r,rawMax:e}:ON(t)?{min:N4(r)?.toMillis(),max:N4(e)?.toMillis(),rawMin:r,rawMax:e}:{max:null,min:null}}function xq(t){if(!t)return;const e=t.match(Eq);return e?.groups?e.groups.doubleQuoted??e.groups.singleQuoted??e.groups.dotNotation:void 0}const Eq=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function nbe(t){return t.match(Sq)?.[1]?.replace(/\\'/g,"'")??null}const Sq=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let Ub;function Aq(){return Ub||(Ub=(async()=>{const[t,e,r]=await Promise.all([ve(()=>import("./arcadeUtils-BvyzdGnl.js"),__vite__mapDeps([19,20,1,21,17,16,18,22,23,24,25,26,27,28,29,30,31,32,33,34,35,15,36,5]),import.meta.url),ve(()=>import("./batchExec-3-VAIezM.js"),__vite__mapDeps([37,9,10,11,1]),import.meta.url),ve(()=>import("./aiServices-D74ieCt_.js").then(i=>i.ag),__vite__mapDeps([21,17,16,18,22,23,24,25,26,27,28,1]),import.meta.url)]);return{arcade:t.arcade,arcadeUtils:t,batchExec:e,aiServices:r,Dictionary:t.Dictionary,Feature:t.arcadeFeature,Voxel:t.Voxel}})()),Ub}const Tq=/^([0-9_])/,Mq=/[^a-z0-9_\u0080-\uffff]+/gi;function obe(t){return t==null?null:t.trim().replaceAll(Mq,"_").replace(Tq,"F$1")||null}const $q=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Oq=["field","normalizationField"];function abe(t,e){if(t!=null&&e!=null){for(const r of Array.isArray(t)?t:[t])if(P4($q,r,e),"visualVariables"in r&&r.visualVariables)for(const i of r.visualVariables)P4(Oq,i,e)}}function P4(t,e,r){if(t)for(const i of t){const s=cE(i,e),n=s&&typeof s!="function"&&r.get(s);n&&ou(i,n.name,e)}}function lbe(t,e){if(t!=null&&e?.fields?.length)if("startField"in t){const r=e.get(t.startField),i=e.get(t.endField);t.startField=r?.name??null,t.endField=i?.name??null}else{const r=e.get(t.startTimeField),i=e.get(t.endTimeField);t.startTimeField=r?.name??null,t.endTimeField=i?.name??null}}const jb=new Set;function WE(t,e){return t&&e?(jb.clear(),Tp(jb,t,e),Array.from(jb).sort()):[]}function Tp(t,e,r){if(r)if(e?.fields?.length)if(r.includes("*"))for(const{name:i}of e.fields)t.add(i);else for(const i of r)i1(t,e,i);else{if(r.includes("*"))return t.clear(),void t.add("*");for(const i of r)i!=null&&t.add(i)}}function i1(t,e,r){if(typeof r=="string")if(e){const i=e.get(r);i&&t.add(i.name)}else t.add(r)}function cbe(t,e){return e==null||t==null?[]:e.includes("*")?(t.fields??[]).map(r=>r.name):e}function ube(t,e,r=1){if(!e||!t)return[];if(e.includes("*"))return["*"];const i=WE(t,e);return i.length/t.fields.length>=r?["*"]:i}async function Kc(t,e,r){if(!r)return;let i;const s=xq(r);if(s)i=[s];else{const{arcadeUtils:n}=await Aq();i=n.extractFieldNames(r,e?.fields?.map(o=>o.name))}for(const n of i)i1(t,e,n)}async function YE(t,e,r){if(r&&r!=="1=1"){const i=await uG(r,e);if(!i.isStandardized)throw new mt("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});Tp(t,e,i.fieldNames)}}function hbe({displayField:t,fields:e}){return t||(e?.length?Bb(e,"name-or-title")||Bb(e,"unique-identifier")||Bb(e,"type-or-category")||Iq(e):null)}function Iq(t){for(const e of t){if(!e?.name)continue;const r=e.name.toLowerCase();if(r.includes("name")||r.includes("title"))return e.name}return null}function Bb(t,e){for(const r of t)if(r?.valueType&&r.valueType===e)return r.name;return null}async function fbe(t,e){if(!e)return;const r=e.elevationInfo?.featureExpressionInfo;return r?r.collectRequiredFields(t,e.fieldsIndex):void 0}function Cq(t,e,r){r.onStatisticExpression?Kc(t,e,r.onStatisticExpression.expression):t.add(r.onStatisticField)}async function dbe(t,e,r){if(!e||!r||!("fields"in r))return;const i=[],s=r.popupTemplate;i.push(CN(t,e,s)),r.fields&&i.push(...r.fields.map(async n=>Cq(t,e.fieldsIndex,n))),await Promise.all(i)}async function pbe(t,e){const{fieldsIndex:r,trackInfo:i}=e;if(!e||!i||!r)return;const s=[i.latestObservations.renderer?.collectRequiredFields(t,r),i.previousObservations.renderer?.collectRequiredFields(t,r),i.trackLines.renderer?.collectRequiredFields(t,r)];i.popupTemplate&&s.push(CN(t,e,i.popupTemplate));for(const n of[i.latestObservations.labelingInfo,i.previousObservations.labelingInfo,i.trackLines.labelingInfo])if(n)for(const o of n)s.push(LN(t,r,o));await Promise.all(s)}async function CN(t,e,r){const i=[];r?.expressionInfos&&i.push(...r.expressionInfos.map(n=>Kc(t,e.fieldsIndex,n.expression)));const s=r?.content;if(Array.isArray(s))for(const n of s)n.type==="expression"&&n.expressionInfo&&i.push(Kc(t,e.fieldsIndex,n.expressionInfo.expression));await Promise.all(i)}async function mbe(t,e,r){e&&(e.timeInfo&&r?.timeExtent&&Tp(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&Tp(t,e.fieldsIndex,[e.floorInfo.floorField]),r?.where!=null&&await YE(t,e.fieldsIndex,r.where))}async function ybe(t,e,r){e&&r&&await Promise.all(r.map(i=>Nq(t,e,i)))}async function Nq(t,e,r){e&&r&&(r.valueExpression?await Kc(t,e.fieldsIndex,r.valueExpression):r.field&&i1(t,e.fieldsIndex,r.field))}function gbe(t){return t?WE(t.fieldsIndex,NN(t)):[]}function Pq(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?WE(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}async function vbe(t,e,r){if(!e||!r)return;const i=e.fieldsIndex;await Promise.all(r.filters.map(s=>YE(t,i,s.where)))}const Lq=new Set(["oid","global-id","guid"]),kq=new Set(["oid","global-id"]),Rq=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function Dq(t){const e=new Set;PN(t).forEach(i=>e.add(i)),Pq(t).forEach(i=>e.add(i.toLowerCase()));const r=t&&"infoFor3D"in t?t.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach(i=>e.add(i.toLowerCase())),Object.values(r.transformFieldRoles).forEach(i=>e.add(i.toLowerCase()))),Array.from(e)}function NN(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;if(!e)return[];const{creationDateField:r,creatorField:i,editDateField:s,editorField:n}=e;return[r,i,s,n].filter(Boolean)}function PN(t){return NN(t).map(e=>e.toLowerCase())}function bbe(t,e){return t.editable&&!Lq.has(t.type)&&!PN(e).includes(t.name?.toLowerCase()??"")}function _be(t,e){const r=t.name?.toLowerCase()??"";return!(e?.objectIdField!=null&&r===e.objectIdField.toLowerCase()||e?.globalIdField!=null&&r===e.globalIdField.toLowerCase()||Dq(e).includes(r)||kq.has(t.type)||Rq.some(i=>i.test(r)))}async function wbe(t,e){const{labelingInfo:r,fieldsIndex:i}=e;r?.length&&await Promise.all(r.map(s=>LN(t,i,s)))}async function LN(t,e,r){if(!r)return;const i=r.getLabelExpression(),s=r.where;if(i.type==="arcade")await Kc(t,e,i.expression);else{const n=i.expression.match(/{[^}]*}/g);n&&n.forEach(o=>{i1(t,e,o.slice(1,-1))})}await YE(t,e,s)}function xbe(t){const e=t.defaultValue;return e!==void 0&&RN(t,e)?e:t.nullable?null:void 0}function Ebe(t){const e=typeof t=="string"?{type:t}:t;return Yq(e)?255:e.type==="esriFieldTypeDate"||e.type==="date"?8:void 0}function kN(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function Fq(t){return t===null||kN(t)}function Uq(t){return t===null||Number.isInteger(t)}function jq(){return!0}function RN(t,e){let r;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=t.nullable?Uq:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=t.nullable?Fq:kN;break;case"string":case"esriFieldTypeString":r=t.nullable?dG:bm;break;default:r=jq}return arguments.length===1?r:r(e)}const Bq=["integer","small-integer","big-integer","long"],Vq=["single","double"],Gq=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],zq=["esriFieldTypeSingle","esriFieldTypeDouble"],DN=new Set([...Bq,...Gq]),qq=new Set([...Vq,...zq]),Hq=mE(DN,qq);function Sbe(t){return t!=null&&DN.has(t.type)}function Wq(t){return t!=null&&Hq.has(t.type)}function Yq(t){return t!=null&&(t.type==="string"||t.type==="esriFieldTypeString")}function Abe(t){return t!=null&&(t.type==="date"||t.type==="esriFieldTypeDate")}function Tbe(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function Mbe(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function $be(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function Obe(t){return t!=null&&(t.type==="oid"||t.type==="esriFieldTypeOID")}function Ibe(t){return t!=null&&(t.type==="global-id"||t.type==="esriFieldTypeGlobalID")}function Cbe(t,e){return Jq(t,e)===null}var wg,xg;function Nbe(t){return t==null||typeof t=="number"&&isNaN(t)?null:t}function Jq(t,e){return t==null||t.nullable&&e===null?null:RN(t,e)?Wq(t)&&!Kq(t.type,Number(e))?wg.OUT_OF_RANGE:null:xg.INVALID_TYPE}function Kq(t,e){const r=typeof t=="string"?FN(t):t;if(!r)return!1;const i=r.min,s=r.max;return r.isInteger?Number.isInteger(e)&&e>=i&&e<=s:e>=i&&e<=s}function FN(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return Zq;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return Xq;case"esriFieldTypeBigInteger":case"big-integer":return Qq;case"esriFieldTypeSingle":case"single":return eH;case"esriFieldTypeDouble":case"double":return tH}}(function(t){t.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(wg||(wg={})),function(t){t.INVALID_TYPE="type-validation-error::invalid-type"}(xg||(xg={}));const Zq={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Xq={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},Qq={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},eH={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},tH={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Pbe(t,e,r){switch(t){case _g.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case _g.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case xg.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case wg.OUT_OF_RANGE:{const{min:i,max:s}=FN(e.type);return`Value ${r} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${i} to ${s}`}}}function Lbe(t,e){return!rH(t,e,null)}function rH(t,e,r){if(!t?.attributes||!e)return!0;const i=new Set(Object.keys(t.attributes));let s=!1;for(const n of e)if(!i.has(n)&&(s=!0,r==null))break;return s}function kbe(t){return!!t&&["raster.itempixelvalue","raster.servicepixelvalue"].some(e=>t.toLowerCase().startsWith(e))}function iH(t){const e=t?.match(/{[^}]+}/g);return e?e.map(r=>r.slice(1,-1).split(":")[0].trim()):[]}let l0=class extends rt{constructor(e){super(e),this.type=null}};g([A({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],l0.prototype,"type",void 0),l0=g([ie("esri.popup.content.Content")],l0);const _a=l0,dy=new Ao({asc:"ascending",desc:"descending"});let od=class extends Lo.ClonableMixin(rt){constructor(e){super(e),this.field=null,this.order="ascending"}};g([A({type:String,json:{write:!0}})],od.prototype,"field",void 0),g([A({type:dy.apiValues,json:{type:dy.jsonValues,read:dy.read,write:dy.write}})],od.prototype,"order",void 0),od=g([ie("esri.popup.support.AttachmentsOrderByInfo")],od);const sH=od;let Fa=class extends Lo.ClonableMixin(_a){constructor(e){super(e),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};g([A({type:String,json:{write:!0}})],Fa.prototype,"description",void 0),g([A({type:["auto","preview","list"],json:{write:!0}})],Fa.prototype,"displayType",void 0),g([A({type:[sH],json:{write:!0}})],Fa.prototype,"orderByFields",void 0),g([A({type:String,json:{write:!0}})],Fa.prototype,"title",void 0),g([A({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Fa.prototype,"type",void 0),Fa=g([ie("esri.popup.content.AttachmentsContent")],Fa);const Mp=Fa;var C2;let oc=C2=class extends _a{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new C2({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ge(this.outFields):null})}};g([A()],oc.prototype,"creator",void 0),g([A()],oc.prototype,"destroyer",void 0),g([A()],oc.prototype,"outFields",void 0),g([A({type:["custom"],readOnly:!0})],oc.prototype,"type",void 0),oc=C2=g([ie("esri.popup.content.CustomContent")],oc);const nH=oc;var N2;let Lu=N2=class extends rt{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new N2({title:this.title,expression:this.expression})}};g([A({type:String,json:{write:!0}})],Lu.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],Lu.prototype,"expression",void 0),g([A({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Lu.prototype,"returnType",void 0),Lu=N2=g([ie("esri.popup.ElementExpressionInfo")],Lu);const oH=Lu;var P2;let ad=P2=class extends _a{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){return new P2({expressionInfo:this.expressionInfo?.clone()})}};g([A({type:oH,json:{write:!0}})],ad.prototype,"expressionInfo",void 0),g([A({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],ad.prototype,"type",void 0),ad=P2=g([ie("esri.popup.content.ExpressionContent")],ad);const s1=ad;function at(t,e={}){const r=t instanceof Ao?t:new Ao(t,e),{alwaysWriteDefaults:i,default:s,ignoreUnknown:n=!0,name:o,nonNullable:a,readOnly:l=!1}=e;return A({type:n?r.apiValues:String,json:{type:r.jsonValues,default:s,name:o,read:!l&&{reader:r.read},write:{writer:r.write,alwaysWriteDefaults:i}},nonNullable:a,readOnly:l})}let kd;const aH=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,L2=globalThis.document?.documentElement;function UN(){const t=L2?.getAttribute("lang"),e=globalThis.navigator?.language;return aH??t??e??"en"}function Rd(){return kd===void 0&&(kd=UN()),kd}const lH=/^(?<language>[a-z]{2,3})(?:-[a-z]{3})?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function cH(t=Rd()){return lH.exec(t)?.groups}const c0=[];function Ube(t){return c0.push(t),Cr(()=>{c0.splice(c0.indexOf(t),1)})}const u0=[];function uH(t){return u0.push(t),Cr(()=>u0.splice(u0.indexOf(t),1))}function L4(){const t=UN();kd!==t&&([...u0].forEach(e=>e(t)),kd=t,[...c0].forEach(e=>e(t)))}globalThis.addEventListener?.("languagechange",L4),L2&&new MutationObserver(()=>{L4()}).observe(L2,{attributeFilter:["lang"]});const jN="system",hH="unknown",JE="UTC",fH=Intl.DateTimeFormat().resolvedOptions().timeZone,dH={year:void 0,month:void 0,day:void 0,weekday:void 0},pH={hour:void 0,minute:void 0,second:void 0},BN={timeZone:JE},Zn={year:"numeric",month:"numeric",day:"numeric"},Df={year:"numeric",month:"long",day:"numeric"},Ff={year:"numeric",month:"short",day:"numeric"},Uf={year:"numeric",month:"long",weekday:"long",day:"numeric"},Wa={hour:"numeric",minute:"numeric"},ac={...Wa,second:"numeric"},VN={hourCycle:"h23"},jf={...Wa,...VN},Bf={...ac,...VN},GN={"short-date":Zn,"short-date-short-time":{...Zn,...Wa},"short-date-short-time-24":{...Zn,...jf},"short-date-long-time":{...Zn,...ac},"short-date-long-time-24":{...Zn,...Bf},"short-date-le":Zn,"short-date-le-short-time":{...Zn,...Wa},"short-date-le-short-time-24":{...Zn,...jf},"short-date-le-long-time":{...Zn,...ac},"short-date-le-long-time-24":{...Zn,...Bf},"long-month-day-year":Df,"long-month-day-year-short-time":{...Df,...Wa},"long-month-day-year-short-time-24":{...Df,...jf},"long-month-day-year-long-time":{...Df,...ac},"long-month-day-year-long-time-24":{...Df,...Bf},"day-short-month-year":Ff,"day-short-month-year-short-time":{...Ff,...Wa},"day-short-month-year-short-time-24":{...Ff,...jf},"day-short-month-year-long-time":{...Ff,...ac},"day-short-month-year-long-time-24":{...Ff,...Bf},"long-date":Uf,"long-date-short-time":{...Uf,...Wa},"long-date-short-time-24":{...Uf,...jf},"long-date-long-time":{...Uf,...ac},"long-date-long-time-24":{...Uf,...Bf},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Wa,"long-time":ac},mH=Hn()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),zN={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},yH=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),gH=yH.find(({type:t})=>t==="month")?.value.toLowerCase();function qN(){const t=Rd(),e=cH(t)?.language;return(e&&zN[e])??t}gH!=="mart"&&(zN.bs="sr-Latn-CS");let k2=new WeakMap;const n1=GN["short-date-short-time"];function vH(t){let e=k2.get(t);if(!e){const r=qN(),i=bH(t.timeZone??jN),s={...t,timeZone:i};e=new Intl.DateTimeFormat(r,s),k2.set(t,e)}return e}function jbe(t){return GN[t]}function KE(t,e=n1){return vH(e).format(t)}function Bbe(t,e=n1){return KE(new Date(t),{...e,...BN,...pH})}function Vbe(t,e=n1){return KE(new Date(`1970-01-01T${t}Z`),{...e,...BN,...dH})}function Gbe(t,e=n1){if(e.timeZone)return KE(new Date(t),e);const r=Fe.fromISO(t,{setZone:!0}),i=r.offset===0?JE:e.timeZone,s={...e,timeZone:i};return r.toLocaleString(s,{locale:qN()})}function bH(t){switch(t){case jN:return fH;case hH:return JE;default:return t}}uH(()=>{k2=new WeakMap});let ku=class extends Lo.ClonableMixin(rt){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};g([at(mH)],ku.prototype,"dateFormat",void 0),g([A({type:Boolean,json:{write:!0}})],ku.prototype,"digitSeparator",void 0),g([A({type:Rr,json:{write:!0}})],ku.prototype,"places",void 0),ku=g([ie("esri.popup.support.FieldInfoFormat")],ku);const _H=ku;var R2;let vn=R2=class extends rt{constructor(t){super(t),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new R2({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};g([A({type:String,json:{write:!0}})],vn.prototype,"fieldName",void 0),g([A({type:_H,json:{write:!0}})],vn.prototype,"format",void 0),g([A({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],vn.prototype,"isEditable",void 0),g([A({type:String,json:{write:!0}})],vn.prototype,"label",void 0),g([at(new Ao({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],vn.prototype,"stringFieldOption",void 0),g([A({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],vn.prototype,"statisticType",void 0),g([A({type:String,json:{write:!0}})],vn.prototype,"tooltip",void 0),g([A({type:Boolean,json:{write:!0}})],vn.prototype,"visible",void 0),vn=R2=g([ie("esri.popup.FieldInfo")],vn);const HN=vn;var D2;let qo=D2=class extends _a{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(t,e){e.fieldInfos=t&&t.map(r=>r.toJSON())}clone(){return new D2(ge({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};g([A({type:Object,json:{write:!0}})],qo.prototype,"attributes",void 0),g([A({type:String,json:{write:!0}})],qo.prototype,"description",void 0),g([A({type:[HN]})],qo.prototype,"fieldInfos",void 0),g([Kt("fieldInfos")],qo.prototype,"writeFieldInfos",null),g([A({type:String,json:{write:!0}})],qo.prototype,"title",void 0),g([A({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],qo.prototype,"type",void 0),qo=D2=g([ie("esri.popup.content.FieldsContent")],qo);const $p=qo;let lc=class extends rt{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};g([A({type:String,json:{write:!0}})],lc.prototype,"altText",void 0),g([A({type:String,json:{write:!0}})],lc.prototype,"caption",void 0),g([A({type:String,json:{write:!0}})],lc.prototype,"title",void 0),g([A({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],lc.prototype,"type",void 0),lc=g([ie("esri.popup.content.mixins.MediaInfo")],lc);const ZE=lc;var F2;let cc=F2=class extends oi{constructor(t){super(t),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new F2({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};g([A()],cc.prototype,"color",void 0),g([A()],cc.prototype,"fieldName",void 0),g([A()],cc.prototype,"tooltip",void 0),g([A()],cc.prototype,"value",void 0),cc=F2=g([ie("esri.popup.content.support.ChartMediaInfoValueSeries")],cc);const wH=cc;var U2;let Ua=U2=class extends rt{constructor(t){super(t),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new U2({colors:ge(this.colors),fields:ge(this.fields),normalizeField:this.normalizeField,series:ge(this.series),tooltipField:this.tooltipField})}};g([A({type:[wt],json:{type:[[Rr]],write:!0}})],Ua.prototype,"colors",void 0),g([A({type:[String],json:{write:{isRequired:!0}}})],Ua.prototype,"fields",void 0),g([A({type:String,json:{write:!0}})],Ua.prototype,"normalizeField",void 0),g([A({type:[wH],json:{read:!1}})],Ua.prototype,"series",void 0),g([A({type:String,json:{write:!0}})],Ua.prototype,"tooltipField",void 0),Ua=U2=g([ie("esri.popup.content.support.ChartMediaInfoValue")],Ua);const xH=Ua;let ld=class extends ZE{constructor(e){super(e),this.type=null,this.value=void 0}};g([A({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],ld.prototype,"type",void 0),g([A({type:xH,json:{write:{isRequired:!0}}})],ld.prototype,"value",void 0),ld=g([ie("esri.popup.content.mixins.ChartMediaInfo")],ld);const o1=ld,a1=Hn()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var j2;let h0=j2=class extends o1{constructor(t){super(t),this.type="bar-chart"}clone(){return new j2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:a1.write,isRequired:!0}}})],h0.prototype,"type",void 0),h0=j2=g([ie("esri.popup.content.BarChartMediaInfo")],h0);const WN=h0;var B2;let f0=B2=class extends o1{constructor(t){super(t),this.type="column-chart"}clone(){return new B2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:a1.write,isRequired:!0}}})],f0.prototype,"type",void 0),f0=B2=g([ie("esri.popup.content.ColumnChartMediaInfo")],f0);const YN=f0;var V2;let cd=V2=class extends rt{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new V2({linkURL:this.linkURL,sourceURL:this.sourceURL})}};g([A({type:String,json:{write:!0}})],cd.prototype,"linkURL",void 0),g([A({type:String,json:{write:{isRequired:!0}}})],cd.prototype,"sourceURL",void 0),cd=V2=g([ie("esri.popup.content.support.ImageMediaInfoValue")],cd);const EH=cd;var G2;let Ru=G2=class extends ZE{constructor(t){super(t),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new G2({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};g([A({type:Number,json:{write:!0}})],Ru.prototype,"refreshInterval",void 0),g([A({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ru.prototype,"type",void 0),g([A({type:EH,json:{write:{isRequired:!0}}})],Ru.prototype,"value",void 0),Ru=G2=g([ie("esri.popup.content.ImageMediaInfo")],Ru);const JN=Ru;var z2;let d0=z2=class extends o1{constructor(t){super(t),this.type="line-chart"}clone(){return new z2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:a1.write,isRequired:!0}}})],d0.prototype,"type",void 0),d0=z2=g([ie("esri.popup.content.LineChartMediaInfo")],d0);const KN=d0;var q2;let p0=q2=class extends o1{constructor(t){super(t),this.type="pie-chart"}clone(){return new q2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:a1.write,isRequired:!0}}})],p0.prototype,"type",void 0),p0=q2=g([ie("esri.popup.content.PieChartMediaInfo")],p0);const ZN=p0,H2={base:ZE,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":WN,"column-chart":YN,"line-chart":KN,"pie-chart":ZN,image:JN}};var W2;let bn=W2=class extends _a{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(e=>e.type==="image"?JN.fromJSON(e):e.type==="barchart"?WN.fromJSON(e):e.type==="columnchart"?YN.fromJSON(e):e.type==="linechart"?KN.fromJSON(e):e.type==="piechart"?ZN.fromJSON(e):void 0).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map(r=>r.toJSON())}clone(){return new W2(ge({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};g([A()],bn.prototype,"activeMediaInfoIndex",void 0),g([A({type:Object,json:{write:!0}})],bn.prototype,"attributes",void 0),g([A({type:String,json:{write:!0}})],bn.prototype,"description",void 0),g([A({types:[H2]})],bn.prototype,"mediaInfos",void 0),g([ni("mediaInfos")],bn.prototype,"readMediaInfos",null),g([Kt("mediaInfos")],bn.prototype,"writeMediaInfos",null),g([A({type:String,json:{write:!0}})],bn.prototype,"title",void 0),g([A({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],bn.prototype,"type",void 0),bn=W2=g([ie("esri.popup.content.MediaContent")],bn);const Op=bn;var Y2;let ud=Y2=class extends rt{constructor(t){super(t),this.field=null,this.order=null}clone(){return new Y2({field:this.field,order:this.order})}};g([A({type:String,json:{write:!0}})],ud.prototype,"field",void 0),g([A({type:["asc","desc"],json:{write:!0}})],ud.prototype,"order",void 0),ud=Y2=g([ie("esri.popup.support.RelatedRecordsInfoFieldOrder")],ud);const XN=ud;let ro=class extends Lo.ClonableMixin(_a){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};g([A({type:String,json:{write:!0}})],ro.prototype,"description",void 0),g([A({type:Number,json:{type:Rr,write:!0}})],ro.prototype,"displayCount",void 0),g([A({type:["list"],json:{write:{isRequired:!0}}})],ro.prototype,"displayType",void 0),g([A({type:[XN],json:{write:!0}})],ro.prototype,"orderByFields",void 0),g([A({type:Number,json:{type:Rr,write:{isRequired:!0}}})],ro.prototype,"relationshipId",void 0),g([A({type:String,json:{write:!0}})],ro.prototype,"title",void 0),g([A({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],ro.prototype,"type",void 0),ro=g([ie("esri.popup.content.RelationshipContent")],ro);const Ip=ro;var J2;let hd=J2=class extends _a{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new J2({text:this.text})}};g([A({type:String,json:{write:!0}})],hd.prototype,"text",void 0),g([A({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],hd.prototype,"type",void 0),hd=J2=g([ie("esri.popup.content.TextContent")],hd);const Cp=hd;let Ho=class extends Lo.ClonableMixin(rt){constructor(e){super(e),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};g([A({type:String,json:{write:!0}})],Ho.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],Ho.prototype,"description",void 0),g([A({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Ho.prototype,"type",void 0),g([A({type:Number,json:{type:Rr,write:!0}})],Ho.prototype,"associatedNetworkSourceId",void 0),g([A({type:Number,json:{type:Rr,write:!0}})],Ho.prototype,"associatedAssetGroup",void 0),g([A({type:Number,json:{type:Rr,write:!0}})],Ho.prototype,"associatedAssetType",void 0),Ho=g([ie("esri.popup.support.UtilityNetworkAssociationType")],Ho);const SH=Ho;let ja=class extends Lo.ClonableMixin(_a){constructor(e){super(e),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};g([A({type:String,json:{write:!0}})],ja.prototype,"description",void 0),g([A({type:Number,json:{type:Rr,write:!0}})],ja.prototype,"displayCount",void 0),g([A({type:String,json:{write:!0}})],ja.prototype,"title",void 0),g([A({type:[SH],json:{write:!0}})],ja.prototype,"associationTypes",void 0),g([at({utilityNetworkAssociations:"utility-network-associations"})],ja.prototype,"type",void 0),ja=g([ie("esri.popup.content.UtilityNetworkAssociationsContent")],ja);const XE=ja,AH={base:null,key:"type",typeMap:{attachment:Mp,media:Op,text:Cp,expression:s1,field:$p,relationship:Ip,utilityNetworkAssociations:XE}},TH={base:null,key:"type",typeMap:{attachment:Mp,media:Op,text:Cp,expression:s1,field:$p,relationship:Ip}};var K2;let uc=K2=class extends rt{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new K2({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};g([A({type:String,json:{write:!0}})],uc.prototype,"name",void 0),g([A({type:String,json:{write:!0}})],uc.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],uc.prototype,"expression",void 0),g([A({type:["string","number"],json:{write:!0}})],uc.prototype,"returnType",void 0),uc=K2=g([ie("esri.popup.ExpressionInfo")],uc);const MH=uc;var Z2;let fd=Z2=class extends rt{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new Z2({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};g([A({type:Boolean,json:{write:!0}})],fd.prototype,"returnTopmostRaster",void 0),g([A({type:Boolean,json:{write:!0}})],fd.prototype,"showNoDataRecords",void 0),fd=Z2=g([ie("esri.popup.LayerOptions")],fd);const $H=fd;var X2;let dd=X2=class extends rt{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new X2({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ge(this.orderByFields):null})}};g([A({type:Boolean,json:{write:!0}})],dd.prototype,"showRelatedRecords",void 0),g([A({type:[XN],json:{write:!0}})],dd.prototype,"orderByFields",void 0),dd=X2=g([ie("esri.popup.RelatedRecordsInfo")],dd);const k4=dd;let QN=0;const eP=t=>{let e=class extends t{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+QN++})}};return e=g([ie("esri.core.Identifiable")],e),e},OH=t=>{let e=class extends t{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:QN++})}};return e=g([ie("esri.core.Identifiable.NumericIdentifiable")],e),e};let pd=class extends eP(class{}){};pd=g([ie("esri.core.Identifiable")],pd),function(t){t.IdentifiableMixin=eP,t.NumericIdentifiableMixin=OH}(pd||(pd={}));const IH=pd;var Q2;let Ws=Q2=class extends IH.IdentifiableMixin(oi){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Q2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};g([A()],Ws.prototype,"active",void 0),g([A()],Ws.prototype,"className",void 0),g([A()],Ws.prototype,"disabled",void 0),g([A()],Ws.prototype,"icon",void 0),g([A()],Ws.prototype,"id",void 0),g([A()],Ws.prototype,"indicator",void 0),g([A()],Ws.prototype,"title",void 0),g([A()],Ws.prototype,"type",void 0),g([A()],Ws.prototype,"visible",void 0),Ws=Q2=g([ie("esri.support.actions.ActionBase")],Ws);const QE=Ws;var ew;let m0=ew=class extends QE{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new ew({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};g([A()],m0.prototype,"image",void 0),m0=ew=g([ie("esri.support.actions.ActionButton")],m0);const CH=m0;var tw;let md=tw=class extends QE{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new tw({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};g([A()],md.prototype,"image",void 0),g([A()],md.prototype,"value",void 0),md=tw=g([ie("esri.support.actions.ActionToggle")],md);const NH=md,Vf="relationships/",R4="expression/",PH=Mt.ofType({key:"type",defaultKeyValue:"button",base:QE,typeMap:{button:CH,toggle:NH}}),LH={base:_a,key:"type",typeMap:{media:Op,custom:nH,text:Cp,attachments:Mp,fields:$p,expression:s1,relationship:Ip,utilityNetworkAssociations:XE}},tP=new Set(["attachments","fields","media","text","expression","relationship"]),kH=new Set([...tP,"utility-network-associations"]);let Lr=class extends Lo.ClonableMixin(rt){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map(r=>Ch(LH,r)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||fC(e)?e:(rr.getLogger(this).error("content error","unsupported content value",{value:e}),null)}readContent(e,r){const{popupElements:i}=r;return Array.isArray(i)&&i.length>0?this._readPopupInfoElements(r.description,r.mediaInfos,i):this._readPopupInfo(r)}writeWebSceneContent(e,r,i,s){this._writePopupTemplateContent(e,r,s)}writeWebMapContent(e,r,i,s){this._writePopupTemplateContent(e,r,s)}writeFieldInfos(e,r,i,s){const{content:n}=this,o=Array.isArray(n)?n:null;if(e){const a=o?o.filter(c=>c.type==="fields"):[],l=a.length&&a.every(c=>c.fieldInfos?.length);r.fieldInfos=e.filter(Boolean).map(c=>{const f=c.toJSON(s);return l&&(f.visible=!1),f})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,r)}writeLayerOptions(e,r,i,s){r[i]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(s)}writeTitle(e,r){r.title=e||""}async collectRequiredFields(e,r){const i=this.expressionInfos||[];await this._collectExpressionInfoFields(e,r,[...i,...this._getContentExpressionInfos(this.content,i)]),Tp(e,r,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const r=new Set;return await this.collectRequiredFields(r,e),[...r].sort()}_writePopupTemplateContent(e,r,i){typeof e!="string"?Array.isArray(e)&&(r.popupElements=e.filter(s=>i?.origin==="web-scene"?tP.has(s.type):kH.has(s.type)).map(s=>s?.toJSON(i)),r.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(r):s.type==="media"?this._writeMediaContent(s,r):s.type==="text"?this._writeTextContent(s,r):s.type==="relationship"&&this._writeRelationshipContent(s,r)})):r.description=e}_writeFieldsContent(e,r){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const i=ge(e.fieldInfos);Array.isArray(r.fieldInfos)?i.forEach(s=>{const n=r.fieldInfos.find(o=>o.fieldName?.toLowerCase()===s.fieldName?.toLowerCase());n?n.visible=!0:r.fieldInfos.push(s)}):r.fieldInfos=i}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,r){const i=e.orderByFields?.map(n=>this._toFieldOrderJSON(n,e.relationshipId))||[],s=[...r.relatedRecordsInfo?.orderByFields||[],...i];r.relatedRecordsInfo={showRelatedRecords:!0,...s?.length&&{orderByFields:s}}}_writeTextContent(e,r){!r.description&&e.text&&(r.description=e.text)}_writeMediaContent(e,r){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const i=ge(e.mediaInfos);Array.isArray(r.mediaInfos)?r.mediaInfos=[...r.mediaInfos,...i]:r.mediaInfos=i}_readPopupInfoElements(e,r,i){const s={description:!1,mediaInfos:!1};return i.map(n=>n.type==="media"?(n.mediaInfos||!r||s.mediaInfos||(n.mediaInfos=r,s.mediaInfos=!0),Op.fromJSON(n)):n.type==="text"?(n.text||!e||s.description||(n.text=e,s.description=!0),Cp.fromJSON(n)):n.type==="attachments"?Mp.fromJSON(n):n.type==="fields"?$p.fromJSON(n):n.type==="expression"?s1.fromJSON(n):n.type==="relationship"?Ip.fromJSON(n):n.type==="utilityNetworkAssociations"?XE.fromJSON(n):void 0).filter(Boolean)}_toRelationshipContent(e){const{field:r,order:i}=e;if(!r?.startsWith(Vf))return null;const s=r.replace(Vf,"").split("/");if(s.length!==2)return null;const n=parseInt(s[0],10),o=s[1];return!Number.isNaN(n)&&o?Ip.fromJSON({relationshipId:n,orderByFields:[{field:o,order:i}]}):null}_toFieldOrderJSON(e,r){const{order:i,field:s}=e;return{field:`${Vf}${r}/${s}`,order:i}}_readPopupInfo({description:e,mediaInfos:r,showAttachments:i,relatedRecordsInfo:s={showRelatedRecords:!1}}){const n=[];e?n.push(new Cp({text:e})):n.push(new $p),Array.isArray(r)&&r.length&&n.push(Op.fromJSON({mediaInfos:r})),i&&n.push(Mp.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=s;return o&&a?.length&&a.forEach(l=>{const c=this._toRelationshipContent(l);c&&n.push(c)}),n.length?n:e}_getContentElementFields(e){const r=e?.type;if(r==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(r==="custom")return e.outFields||[];if(r==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if(r==="media"){const i=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...i.reduce((s,n)=>[...s,...this._getMediaInfoFields(n)],[])]}return r==="text"?this._extractFieldNames(e.text):r==="relationship"||r==="utility-network-associations"?[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)]:[]}_getMediaInfoFields(e){const{caption:r,title:i,value:s}=e,n=s||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:c,linkURL:f}=n,d=[...this._extractFieldNames(i),...this._extractFieldNames(r),...this._extractFieldNames(c),...this._extractFieldNames(f),...o??[]];return a&&d.push(a),l&&d.push(l),d}_getContentExpressionInfos(e,r){return Array.isArray(e)?e.reduce((i,s)=>[...i,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],r):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((r,i)=>[...r,...this._getContentElementFields(i)],[]):[]}async _collectExpressionInfoFields(e,r,i){i&&await Promise.all(i.map(s=>Kc(e,r,s.expression)))}_getFieldInfoFields(e){return e?e.filter(({fieldName:r,visible:i})=>!(i!==void 0&&!i||!r||r.startsWith(Vf)||r.startsWith(R4))).map(r=>r.fieldName):[]}_getActionsFields(e){return e?e.toArray().reduce((r,i)=>[...r,...this._getActionFields(i)],[]):[]}_getActionFields(e){const{className:r,title:i,type:s}=e,n=s==="button"||s==="toggle"?e.image:"";return[...this._extractFieldNames(i),...this._extractFieldNames(r),...this._extractFieldNames(n)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){return iH(e).filter(r=>!(r.indexOf(Vf)===0||r.indexOf(R4)===0))}};g([A({type:PH})],Lr.prototype,"actions",void 0),g([A()],Lr.prototype,"content",void 0),g([vm("content")],Lr.prototype,"castContent",null),g([ni("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Lr.prototype,"readContent",null),g([Kt("web-scene","content",{popupElements:{type:Mt.ofType(TH)},showAttachments:{type:Boolean},mediaInfos:{type:Mt.ofType(H2)},description:{type:String},relatedRecordsInfo:{type:k4}})],Lr.prototype,"writeWebSceneContent",null),g([Kt("content",{popupElements:{type:Mt.ofType(AH)},showAttachments:{type:Boolean},mediaInfos:{type:Mt.ofType(H2)},description:{type:String},relatedRecordsInfo:{type:k4}})],Lr.prototype,"writeWebMapContent",null),g([A({type:[MH],json:{write:!0}})],Lr.prototype,"expressionInfos",void 0),g([A({type:[HN]})],Lr.prototype,"fieldInfos",void 0),g([Kt("fieldInfos")],Lr.prototype,"writeFieldInfos",null),g([A({type:$H})],Lr.prototype,"layerOptions",void 0),g([Kt("layerOptions")],Lr.prototype,"writeLayerOptions",null),g([A({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Lr.prototype,"lastEditInfoEnabled",void 0),g([A()],Lr.prototype,"outFields",void 0),g([A()],Lr.prototype,"overwriteActions",void 0),g([A()],Lr.prototype,"returnGeometry",void 0),g([A({json:{type:String}})],Lr.prototype,"title",void 0),g([Kt("title")],Lr.prototype,"writeTitle",null),Lr=g([ie("esri.PopupTemplate")],Lr);const RH=Lr,Xbe=Hn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),Qbe=Hn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),DH={base:Si,key:"type",typeMap:{extent:Et,multipoint:wn,point:ut,polyline:ls,polygon:si}};function e_e(t,e){switch(e.type){case"object-id":case"unique-id-simple":return t.attributes[e.fieldName];case"unique-id-composite":{const r=[];for(const i of e.fieldNames)r.push(t.attributes[i]??null);return JSON.stringify(r)}}}function FH(t,e){if("uniqueIdFields"in e&&e.uniqueIdFields?.length){if(e.uniqueIdFields.length===1)return t.attributes?.[e.uniqueIdFields[0]];const r=e.uniqueIdFields.map(i=>t.attributes?.[i]);return JSON.stringify(r)}return"objectIdField"in e&&e.objectIdField?t.attributes?.[e.objectIdField]:null}const D4=new Ao({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let UH=0,Tr=class extends rt{constructor(e){super(e),this.id="sym"+UH++,this.type=null,this.color=new wt([0,0,0,1])}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};g([A({type:D4.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:D4.write,isRequired:!0}}})],Tr.prototype,"type",void 0),g([A({type:wt,json:{write:{allowNull:!0}}})],Tr.prototype,"color",void 0),g([ni("color")],Tr.prototype,"readColor",null),Tr=g([ie("esri.symbols.Symbol")],Tr);var rw;let us=rw=class extends Tr{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){Object.assign(e,t)}async collectRequiredFields(t,e){if(this.data?.type==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const i=r.map(s=>{const n=s.valueExpressionInfo;return n?Kc(t,e,n.expression):null});await Promise.all(i)}}}clone(){return new rw({data:ge(this.data)})}hash(){return QI(JSON.stringify(this.data)).toString()}};g([A({json:{write:!1}})],us.prototype,"color",void 0),g([A({json:{write:!0}})],us.prototype,"data",void 0),g([ni("data",["symbol"])],us.prototype,"readData",null),g([Kt("data",{})],us.prototype,"writeData",null),g([at({CIMSymbolReference:"cim"},{readOnly:!0})],us.prototype,"type",void 0),us=rw=g([ie("esri.symbols.CIMSymbol")],us);function jH(t,e,r=Mt){return e||(e=new r),e===t||(e.removeAll(),VH(t)?e.addMany(t):t&&e.add(t)),e}function BH(t){return t}function VH(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}var Ya;(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(Ya||(Ya={}));let GH=class{constructor(){this._resolver=mp(),this._status=Ya.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Ya.RESOLVED,this._cleanUp()},()=>{this._status=Ya.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===Ya.RESOLVED}isRejected(){return this._status===Ya.REJECTED}isFulfilled(){return this._status!==Ya.PENDING}abort(){this._resolver.reject(Es())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const e=mp(),r=[...this._resolvingPromises,e.promise],i=this._allPromise=Promise.all(r);i.then(()=>{this.isFulfilled()||this._allPromise!==i||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==i||fm(s)||this._resolver.reject(s)}),e.resolve()}};const rP=t=>{let e=class extends t{constructor(...r){super(...r),this._promiseProps=new GH,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,i){return this._promiseProps.promise.then(()=>this).then(r,i)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return e=g([ie("esri.core.Promise")],e),e};let yd=class extends rP(oi){};yd=g([ie("esri.core.Promise")],yd),function(t){t.EsriPromiseMixin=rP}(yd||(yd={}));const zH="not-loaded",qH="loading",HH="failed",F4="loaded",iP=t=>{let e=class extends t{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(i=>{const s=this.load.bind(this);this.load=n=>{const o=new Promise((a,l)=>{const c=PF(n,l);this.destroyed&&l(new mt("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===zH){this._set("loadStatus",qH);const a=this._loadController=new AbortController;s({signal:a.signal})}return i(),o}})),this.when(()=>{this._set("loadStatus",F4),this._loadController=null},i=>{this._set("loadStatus",HH),this._set("loadError",i),this._loadController=null})}destroy(){this._loadController&&(this._loadController=MF(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===F4}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new mt("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return g([A({readOnly:!0})],e.prototype,"loaded",null),g([A({readOnly:!0})],e.prototype,"loadError",void 0),g([A({clonable:!1})],e.prototype,"loadStatus",void 0),g([A({type:[yp],readOnly:!0})],e.prototype,"loadWarnings",null),e=g([ie("esri.core.Loadable")],e),e};let gd=class extends iP(yd){};gd=g([ie("esri.core.Loadable")],gd),function(t){function e(r){return!(!r||!r.load)}t.LoadableMixin=iP,t.isLoadable=e}(gd||(gd={}));let py;function WH(t){return py&&!py.destroyed||(py=t()),py}var iw;const YH=new Ao({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Er=iw=class extends oi{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){t!=="asc"&&t!=="desc"||this._set("sortOrder",t)}clone(){return new iw({categories:this.categories?ge(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let r=[];this.categories&&(r=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let i="";if(this.extent){const o=G5(this.extent,Qe.WGS84);o!=null&&(i=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let s=this.query;!this.disableExtraQuery&&t.extraQuery&&(s="("+s+")"+t.extraQuery);const n={categories:r,bbox:i,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map(o=>YH.toJSON(o.trim())).join(","),n.sortOrder=this.sortOrder),{query:{...e,...n}}}};g([A()],Er.prototype,"categories",void 0),g([A()],Er.prototype,"disableExtraQuery",void 0),g([A({type:Et})],Er.prototype,"extent",void 0),g([A()],Er.prototype,"filter",void 0),g([A()],Er.prototype,"num",void 0),g([A()],Er.prototype,"query",void 0),g([A()],Er.prototype,"sortField",void 0),g([A()],Er.prototype,"sortOrder",null),g([A()],Er.prototype,"start",void 0),Er=iw=g([ie("esri.portal.PortalQueryParams")],Er);var sw;let fr=sw=class extends rt{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e&&this.portal?this.portal?.normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){const t=this.portal?.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal.request(this.url+"/categorySchema",t).then(e=>{const r=e.categorySchema||[];return r.some(i=>i.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):r})}fetchMembers(t){return this.portal.request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new mt("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new sw({sourceJSON:t});return e.read(t),e}queryItems(t,e){let r=Un(Er,t);const i=this.portal;return parseFloat(i.currentVersion)>5?(r=r||new Er,i.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",e)):(r=r?r.clone():new Er,r.query="group:"+this.id+(r.query?" "+r.query:""),i.queryItems(r,e))}_fetchCategorySchemaSet(t,e){const r=this.portal;return r.fetchSelf(r.authMode,!0,e).then(i=>{const s=i.contentCategorySetsGroupQuery;if(s){const n=new Er({disableExtraQuery:!0,num:1,query:s});return r.queryGroups(n,e)}throw new mt("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){const s=i.results[0],n=new Er({num:1,query:`typekeywords:"${t}"`});return s.queryItems(n,e)}throw new mt("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(i=>i.total?i.results[0].fetchData("json",e).then(s=>{const n=s?.categorySchema;return n?.length?n:[]}):[])}};g([A()],fr.prototype,"access",void 0),g([A({type:Date})],fr.prototype,"created",void 0),g([A()],fr.prototype,"description",void 0),g([A()],fr.prototype,"id",void 0),g([A()],fr.prototype,"isInvitationOnly",void 0),g([A({type:Date})],fr.prototype,"modified",void 0),g([A()],fr.prototype,"owner",void 0),g([A()],fr.prototype,"portal",void 0),g([A()],fr.prototype,"snippet",void 0),g([A()],fr.prototype,"sortField",void 0),g([A()],fr.prototype,"sortOrder",void 0),g([A()],fr.prototype,"sourceJSON",void 0),g([A()],fr.prototype,"tags",void 0),g([A()],fr.prototype,"thumbnail",void 0),g([A({readOnly:!0})],fr.prototype,"thumbnailUrl",null),g([A()],fr.prototype,"title",void 0),g([A({readOnly:!0})],fr.prototype,"url",null),fr=sw=g([ie("esri.portal.PortalGroup")],fr);let hc=class extends oi{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};g([A()],hc.prototype,"nextQueryParams",void 0),g([A()],hc.prototype,"queryParams",void 0),g([A()],hc.prototype,"results",void 0),g([A()],hc.prototype,"total",void 0),hc=g([ie("esri.portal.PortalQueryResult")],hc);let Wo=class extends rt{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new mt("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};g([A({type:Date})],Wo.prototype,"created",void 0),g([A()],Wo.prototype,"id",void 0),g([A()],Wo.prototype,"portal",void 0),g([A()],Wo.prototype,"title",void 0),g([A({readOnly:!0})],Wo.prototype,"url",null),g([A()],Wo.prototype,"username",void 0),Wo=g([ie("esri.portal.PortalFolder")],Wo);var nw;let Ct=nw=class extends rt{constructor(t){super(t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal.normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.id}`:null}get url(){const t=this.portal?.restUrl;return t?`${t}/community/users/${this.id}`:null}addItem(t){const e=t&&t.item,r=t?.data,i=t?.folder,s={method:"post"};e&&(s.query=e.createPostQuery(),r!=null&&(typeof r=="string"?s.query.text=r:typeof r=="object"&&(s.query.text=JSON.stringify(r))));let n=this.userContentUrl;return i&&(n+="/"+(typeof i=="string"?i:i.id)),this.portal.request(n+"/addItem",s).then(o=>(e.id=o.id,e.portal=this.portal,e.loaded?e.reload():e.load()))}async deleteItem(t,e=!1){let r=this.userContentUrl;t.ownerFolder&&(r+="/"+t.ownerFolder);const i=e?{permanentDelete:!0}:{};await this.portal.request(r+`/items/${t.id}/delete`,{method:"post",query:i}),t.id=null,t.portal=null}async deleteItems(t,e=!1){t=t.slice();const r=this.userContentUrl+"/deleteItems",i=[],s=t.map(n=>n.id);if(s.length){const n={method:"post",query:{items:s.join(","),permanentDelete:e}},o=await this.portal.request(r,n);for(const a of o.results){const l=t.find(d=>a.itemId===d.id),c=a.success;let f=null;c?(l.id=null,l.portal=null):a.error&&(f=new mt("portal:delete-item-failed",a.error.message,a.error)),i.push({item:l,success:c,error:f})}}return i}fetchFolders(){const t={query:{num:1}};return this.portal.request(this.userContentUrl??"",t).then(e=>{let r;return r=e&&e.folders?e.folders.map(i=>{const s=Wo.fromJSON(i);return s.portal=this.portal,s}):[],r})}fetchGroups(){return this.portal.request(this.url??"").then(t=>{let e;return e=t&&t.groups?t.groups.map(r=>{const i=fr.fromJSON(r);return i.portal=this.portal,i}):[],e})}async fetchItems(t){t??={};let e=this.userContentUrl??"";t.folder&&(e+="/"+t.folder.id);const{default:r}=await ve(()=>import("./PortalItem-BxaiRXOp.js"),__vite__mapDeps([38,1]),import.meta.url),i={folders:!1,inRecycleBin:!!t.inRecycleBin||null,foldersContent:!(t.folder||!t.includeSubfolderItems)||null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"},s=await this.portal.request(e,{query:i});let n;return s?.items?(n=s.items.map(o=>{const a=r.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(n.map(o=>o.load())),{items:n,nextStart:s.nextStart,total:s.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new fr({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new mt("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,e){const r=this.userContentUrl,i=e?{folderID:typeof e=="string"?e:e.id}:null;await this.portal.request(r+`/items/${t.id}/restore`,{method:"post",query:i})}toJSON(){throw new mt("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new nw({sourceJSON:t});return e.read(t),e}};g([A()],Ct.prototype,"access",void 0),g([A({type:Date})],Ct.prototype,"created",void 0),g([A()],Ct.prototype,"culture",void 0),g([A()],Ct.prototype,"description",void 0),g([A()],Ct.prototype,"email",void 0),g([A()],Ct.prototype,"favGroupId",void 0),g([A()],Ct.prototype,"fullName",void 0),g([A()],Ct.prototype,"id",void 0),g([A({type:Date})],Ct.prototype,"modified",void 0),g([A()],Ct.prototype,"orgId",void 0),g([A()],Ct.prototype,"portal",void 0),g([A()],Ct.prototype,"preferredView",void 0),g([A()],Ct.prototype,"privileges",void 0),g([A()],Ct.prototype,"region",void 0),g([A()],Ct.prototype,"role",void 0),g([A()],Ct.prototype,"roleId",void 0),g([A()],Ct.prototype,"sourceJSON",void 0),g([A()],Ct.prototype,"thumbnail",void 0),g([A({readOnly:!0})],Ct.prototype,"thumbnailUrl",null),g([A()],Ct.prototype,"units",void 0),g([A({readOnly:!0})],Ct.prototype,"userContentUrl",null),g([A({readOnly:!0})],Ct.prototype,"url",null),g([A()],Ct.prototype,"username",void 0),g([A()],Ct.prototype,"userLicenseTypeId",void 0),g([A()],Ct.prototype,"userType",void 0),Ct=nw=g([ie("esri.portal.PortalUser")],Ct);var Ms;let Gf;const U4={PortalGroup:()=>Promise.resolve({default:fr}),PortalItem:()=>ve(()=>import("./PortalItem-BxaiRXOp.js"),__vite__mapDeps([38,1]),import.meta.url),PortalUser:()=>Promise.resolve({default:Ct})};let pe=class extends rt.JSONSupportMixin(gd){static{Ms=this}static{this.AUTH_MODE_ANONYMOUS="anonymous"}static{this.AUTH_MODE_AUTO="auto"}static{this.AUTH_MODE_IMMEDIATE="immediate"}static{this.AUTH_MODE_NO_PROMPT="no-prompt"}constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=_t.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){j4.unregister(this),this.defaultBasemap=Ky(this.defaultBasemap),this.defaultDevBasemap=Ky(this.defaultDevBasemap),this.defaultVectorBasemap=Ky(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=hm(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const r of e)_t.request.trustedServers.includes(r)||_t.request.trustedServers.push(r);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,r=!e||this.canSearchPublic;return this.id&&!r?` AND orgid:${this.id}`:null}get hasAPIKey(){return sB(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const r=e.indexOf("/sharing");e=r>0?e.slice(0,r):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,r=this.thumbnail;return e&&r?this._normalizeSSL(e+"/portals/self/resources/"+r):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let r=null;return e&&(r=Ct.fromJSON(e),r.portal=this),r}load(e){const r=ve(()=>import("./Basemap-XU7r1TCw.js").then(i=>i.B),__vite__mapDeps([39,1,40,41,38,3,42]),import.meta.url).then(({default:i})=>{pp(e),Gf=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(i=>{if(!this.hasAPIKey&&Jt){const s=Jt;this.credential=s.findCredential(this.restUrl),this.credential||this.authMode!==Ms.AUTH_MODE_AUTO&&this.authMode!==Ms.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=s.on("credential-create",JH(new WeakRef(this))),j4.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(r),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),r=(await ve(async()=>{const{default:i}=await import("./ElevationLayer-624M1Hkk.js");return{default:i}},__vite__mapDeps([43,1,44,45,46,47,48,49,50,51,52,53,13,14,31,54,55,56,57,58,59,41,38,60,61,62,63,10,3]),import.meta.url)).default;return e?e.map(i=>new r({id:i.id,url:i.url})):[]}async fetchBasemaps(e,r){const i=await this._fetchBasemaps(e,r);if(r?.include3d===!0&&this.use3dBasemaps!==!1){const s=await this._fetchBasemaps3D(e,r);i.unshift(...s)}return i}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const r=new Er;r.query=this.default3DBasemapQuery,r.disableExtraQuery=!0;const i=(await this.queryItems(r,e)).results.find(s=>s.type==="Web Scene");return i?new Gf({portalItem:i}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(r=>r.categorySchema):_l(e)?Promise.reject(Es()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(r=>r.classificationSchema):null}fetchFeaturedGroups(e){const r=this.featuredGroups,i=new Er({num:100,sortField:"title"});if(r?.length){const s=[];for(const n of r)s.push(`(title:"${n.title}" AND owner:${n.owner})`);return i.query=s.join(" OR "),this.queryGroups(i,e).then(n=>n.results)}return _l(e)?Promise.reject(Es()):Promise.resolve([])}fetchRegions(e){const r=this.user?.culture||this.culture||Rd();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:r}})}fetchSettings(e){const r=this.user?.culture||this.culture||Rd();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:r}})}static getDefault(){return WH(()=>new Ms)}queryGroups(e,r){return this.queryPortal("/community/groups",e,"PortalGroup",r)}queryItems(e,r){return this.queryPortal("/search",e,"PortalItem",r)}queryUsers(e,r){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",r)}fetchSelf(e=this.authMode,r=!1,i){const s=this.restUrl+"/portals/self",n={authMode:e,query:{culture:Rd().toLowerCase()},withCredentials:!0,...i};return n.authMode==="auto"&&(n.authMode="no-prompt"),r&&(n.query.default=!0),this.request(s,n)}queryPortal(e,r,i,s){const n=Un(Er,r),o=a=>this.request(this.restUrl+e,{...n.toRequestOptions(this),...s}).then(l=>{const c=n.clone();return c.start=l.nextStart,new hc({nextQueryParams:c,queryParams:n,total:l.total,results:Ms._resultsToTypedArray(a,{portal:this},l,s)})}).then(l=>Promise.all(l.results.map(c=>typeof c.when=="function"?c.when():l)).then(()=>l,c=>(NF(c),l)));return i&&U4[i]?U4[i]().then(({default:a})=>(pp(s),o(a))):o()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new mt("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===Ms.AUTH_MODE_ANONYMOUS||this.authMode===Ms.AUTH_MODE_NO_PROMPT&&!Jt)return Promise.reject(new mt("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=r=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(r||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=r,this.fetchSelf("immediate"))):this.user&&this.credential===r?null:(this.credential=r,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return Jt?Jt.getCredential(this.restUrl,{prompt:this.authMode!==Ms.AUTH_MODE_NO_PROMPT}).then(r=>e(r)):e(this.credential)}normalizeUrl(e){const r=this.credential?.token;return this._normalizeSSL(r?e+(e.includes("?")?"&":"?")+"token="+r:e)}requestToTypedArray(e,r,i){return this.request(e,r).then(s=>{const n=Ms._resultsToTypedArray(i,{portal:this},s);return Promise.all(n.map(o=>typeof o.when=="function"?o.when():s)).then(()=>n,()=>n)})}request(e,r={}){const i={f:"json",...r.query},{authMode:s=this.authMode===Ms.AUTH_MODE_ANONYMOUS||this.authMode===Ms.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:n=null,cacheBust:o=!1,method:a="auto",responseType:l="json",signal:c}=r,f={authMode:s,body:n,cacheBust:o,method:a,query:i,responseType:l,timeout:0,signal:c};return r.withCredentials&&(f.withCredentials=!0),Dr(this._normalizeSSL(e),f).then(d=>d.data)}toJSON(){throw new mt("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Ms({sourceJSON:e})}_getHelperService(e){const r=this.helperServices&&this.helperServices[e];if(!r)throw new mt("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return r}async _fetchBasemaps(e,r){const i=new Er;i.query=e||(FT()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const s=await this.queryGroups(i,r);if(!s.total)return[];const n=s.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=n.sortField||"name",i.sortOrder=n.sortOrder||"desc";const o=await n.queryItems(i,r);return o.total?o.results.filter(a=>a.type==="Web Map").map(a=>new Gf({portalItem:a})):[]}async _fetchBasemaps3D(e,r){const i=e||this.basemapGalleryGroupQuery3D;if(!i)return[];if(FT())return[];const s=new Er({query:i,disableExtraQuery:!0}),n=await this.queryGroups(s,r);if(!n.total)return[];const o=n.results[0];s.num=100,s.query='type:"Web Scene"',s.sortField=o.sortField||"name",s.sortOrder=o.sortOrder||"desc";const a=await o.queryItems(s,r);return a.total?a.results.filter(l=>l.type==="Web Scene").map(l=>new Gf({portalItem:l})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const r=Gf.fromJSON(e);return r.portalItem={portal:this},r}return null}static _resultsToTypedArray(e,r,i,s){let n;if(i){const o=s!=null?s.signal:null;n=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||r)&&(n=n.map(a=>{const l=Object.assign(e?e.fromJSON(a):a,r);return typeof l.load=="function"&&l.load(o),l}))}else n=[];return n}};g([A()],pe.prototype,"access",void 0),g([A()],pe.prototype,"allSSL",void 0),g([A()],pe.prototype,"authMode",void 0),g([A()],pe.prototype,"authorizedCrossOriginDomains",void 0),g([ni("authorizedCrossOriginDomains")],pe.prototype,"readAuthorizedCrossOriginDomains",null),g([A()],pe.prototype,"basemapGalleryGroupQuery",void 0),g([A({json:{name:"3DBasemapGalleryGroupQuery"}})],pe.prototype,"basemapGalleryGroupQuery3D",void 0),g([A()],pe.prototype,"bingKey",void 0),g([A()],pe.prototype,"canListApps",void 0),g([A()],pe.prototype,"canListData",void 0),g([A()],pe.prototype,"canListPreProvisionedItems",void 0),g([A()],pe.prototype,"canProvisionDirectPurchase",void 0),g([A()],pe.prototype,"canSearchPublic",void 0),g([A()],pe.prototype,"canShareBingPublic",void 0),g([A()],pe.prototype,"canSharePublic",void 0),g([A()],pe.prototype,"canSignInArcGIS",void 0),g([A()],pe.prototype,"canSignInIDP",void 0),g([A()],pe.prototype,"colorSetsGroupQuery",void 0),g([A()],pe.prototype,"commentsEnabled",void 0),g([A({type:Date})],pe.prototype,"created",void 0),g([A()],pe.prototype,"credential",void 0),g([A()],pe.prototype,"culture",void 0),g([A()],pe.prototype,"currentVersion",void 0),g([A()],pe.prototype,"customBaseUrl",void 0),g([A()],pe.prototype,"default3DBasemapQuery",void 0),g([A()],pe.prototype,"defaultBasemap",void 0),g([ni("defaultBasemap")],pe.prototype,"readDefaultBasemap",null),g([A()],pe.prototype,"defaultDevBasemap",void 0),g([ni("defaultDevBasemap")],pe.prototype,"readDefaultDevBasemap",null),g([A({type:Et})],pe.prototype,"defaultExtent",void 0),g([A()],pe.prototype,"defaultVectorBasemap",void 0),g([ni("defaultVectorBasemap")],pe.prototype,"readDefaultVectorBasemap",null),g([A()],pe.prototype,"description",void 0),g([A()],pe.prototype,"devBasemapGalleryGroupQuery",void 0),g([A()],pe.prototype,"eueiEnabled",void 0),g([A({readOnly:!0})],pe.prototype,"extraQuery",null),g([A()],pe.prototype,"featuredGroups",void 0),g([A()],pe.prototype,"featuredItemsGroupQuery",void 0),g([A()],pe.prototype,"galleryTemplatesGroupQuery",void 0),g([A()],pe.prototype,"layoutGroupQuery",void 0),g([A()],pe.prototype,"livingAtlasGroupQuery",void 0),g([A({readOnly:!0})],pe.prototype,"hasAPIKey",null),g([A()],pe.prototype,"hasCategorySchema",void 0),g([A()],pe.prototype,"hasClassificationSchema",void 0),g([A()],pe.prototype,"helpBase",void 0),g([A()],pe.prototype,"helperServices",void 0),g([A()],pe.prototype,"helpMap",void 0),g([A()],pe.prototype,"homePageFeaturedContent",void 0),g([A()],pe.prototype,"homePageFeaturedContentCount",void 0),g([A()],pe.prototype,"httpPort",void 0),g([A()],pe.prototype,"httpsPort",void 0),g([A()],pe.prototype,"id",void 0),g([A()],pe.prototype,"ipCntryCode",void 0),g([A({readOnly:!0})],pe.prototype,"isOrganization",null),g([A()],pe.prototype,"isPortal",void 0),g([A()],pe.prototype,"isReadOnly",void 0),g([A({readOnly:!0})],pe.prototype,"itemPageUrl",null),g([A()],pe.prototype,"layerTemplatesGroupQuery",void 0),g([A()],pe.prototype,"maxTokenExpirationMinutes",void 0),g([A({type:Date})],pe.prototype,"modified",void 0),g([A()],pe.prototype,"name",void 0),g([A()],pe.prototype,"portalHostname",void 0),g([A()],pe.prototype,"portalMode",void 0),g([A()],pe.prototype,"portalProperties",void 0),g([A()],pe.prototype,"region",void 0),g([A()],pe.prototype,"recycleBinEnabled",void 0),g([A({readOnly:!0})],pe.prototype,"restUrl",null),g([A()],pe.prototype,"rotatorPanels",void 0),g([A()],pe.prototype,"showHomePageDescription",void 0),g([A()],pe.prototype,"sourceJSON",void 0),g([A()],pe.prototype,"staticImagesUrl",void 0),g([A({json:{name:"2DStylesGroupQuery"}})],pe.prototype,"stylesGroupQuery2d",void 0),g([A({json:{name:"stylesGroupQuery"}})],pe.prototype,"stylesGroupQuery3d",void 0),g([A()],pe.prototype,"supportsHostedServices",void 0),g([A()],pe.prototype,"symbolSetsGroupQuery",void 0),g([A()],pe.prototype,"templatesGroupQuery",void 0),g([A()],pe.prototype,"thumbnail",void 0),g([A({readOnly:!0})],pe.prototype,"thumbnailUrl",null),g([A()],pe.prototype,"units",void 0),g([A()],pe.prototype,"url",void 0),g([A()],pe.prototype,"urlKey",void 0),g([ni("urlKey")],pe.prototype,"readUrlKey",null),g([A()],pe.prototype,"user",void 0),g([ni("user")],pe.prototype,"readUser",null),g([A()],pe.prototype,"use3dBasemaps",void 0),g([A()],pe.prototype,"useDefault3dBasemap",void 0),g([A()],pe.prototype,"useStandardizedQuery",void 0),g([A()],pe.prototype,"useVectorBasemaps",void 0),g([A()],pe.prototype,"vectorBasemapGalleryGroupQuery",void 0),pe=Ms=g([ie("esri.portal.Portal")],pe);const j4=new FinalizationRegistry(t=>{t.remove()});function JH(t){const e=Jt;return()=>{const r=t.deref();r&&e.findCredential(r.restUrl)&&r.signIn().catch(()=>{})}}let Wi=class extends rt{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,r,i){e||(r[i]=e)}};g([A({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Wi.prototype,"enabled",void 0),g([Kt("enabled")],Wi.prototype,"writeEnabled",null),g([A({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],Wi.prototype,"type",void 0),Wi=g([ie("esri.symbols.Symbol3DLayer")],Wi);const KH=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,ZH="screenUtils.toPt: input not recognized!",sP=96;function c_e(t){return t?t/72*sP:0}function To(t){return t?72*t/sP:0}function ir(t){if(typeof t=="string"){const e=t.match(KH);if(e){const r=Number(e[1]),i=e[3]&&e[3].toLowerCase(),s=t.charAt(0)==="-",n=i==="px"?To(r):r;return s?-n:n}return console.warn(ZH),null}return t}function XH(t=0,e=0){return{x:t,y:e}}function u_e(t){return t?XH(t.x,t.y):null}function h_e(t=0,e=0){return[t,e]}function f_e(t=0,e=0,r=0){return[t,e,r]}function d_e(t){return t}function p_e(t){return t}function m_e(t){return t}function y_e(t,e){return e?(e[0]=t.x,e[1]=t.y,e.length>2&&(e[2]=0),e):[t.x,t.y]}function QH(t){const e=uE(100*(1-t));return Math.max(0,Math.min(e,100))}function eW(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}function tW(t,e){const r=e.transparency!=null?eW(e.transparency):1,i=e.color;return i&&Array.isArray(i)?new wt([i[0]||0,i[1]||0,i[2]||0,r]):null}function rW(t,e){e.color=t.toJSON().slice(0,3);const r=QH(t.a);r!==0&&(e.transparency=r)}function Cl(t){return{type:wt,nonNullable:t?.nonNullable,json:{type:[Rr],default:null,read:{source:["color","transparency"],reader:tW},write:{target:{color:{type:[Rr],isRequired:t?.colorRequiredOnWrite},transparency:{type:Rr}},writer:rW}}}}const Mo={type:Number,cast:ir,json:{write:!0}};var Eg;function g_e(t){return t==="emissive"?Eg.Emissive:Eg.Color}(function(t){t[t.Emissive=0]="Emissive",t[t.Color=1]="Color"})(Eg||(Eg={}));let fc=class extends rt{constructor(e){super(e),this.color=new wt([0,0,0,1]),this.extensionLength=0,this.size=To(1)}clone(){}cloneProperties(){return{color:ge(this.color),size:this.size,extensionLength:this.extensionLength}}};g([A({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],fc.prototype,"type",void 0),g([A(Cl({colorRequiredOnWrite:!0}))],fc.prototype,"color",void 0),g([A({...Mo,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],fc.prototype,"extensionLength",void 0),g([A(Mo)],fc.prototype,"size",void 0),fc=g([ie("esri.symbols.edges.Edges3D")],fc);const eS=fc;var ow;let y0=ow=class extends eS{constructor(t){super(t),this.type="sketch"}clone(){return new ow(this.cloneProperties())}};g([at({sketch:"sketch"},{readOnly:!0})],y0.prototype,"type",void 0),y0=ow=g([ie("esri.symbols.edges.SketchEdges3D")],y0);const iW=y0;var aw;let g0=aw=class extends eS{constructor(t){super(t),this.type="solid"}clone(){return new aw(this.cloneProperties())}};g([at({solid:"solid"},{readOnly:!0})],g0.prototype,"type",void 0),g0=aw=g([ie("esri.symbols.edges.SolidEdges3D")],g0);const nP=g0,oP={types:{key:"type",base:eS,typeMap:{solid:nP,sketch:iW}},json:{write:!0}};var lw;let Yu=lw=class extends rt{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const t={strength:this.strength,source:this.source};return new lw(t)}};g([A({json:{write:!1}})],Yu.prototype,"strength",void 0),g([A({json:{write:!1}})],Yu.prototype,"source",void 0),Yu=lw=g([ie("esri.symbols.support.Symbol3DEmissive")],Yu);var cw;let Ns=cw=class extends rt{constructor(t){super(t),this.color=null,this.emissive=new Yu({source:"emissive"})}clone(){const t={color:this.color?.clone()??null,emissive:this.emissive?.clone()??null};return new cw(t)}};g([A(Cl())],Ns.prototype,"color",void 0),g([A({type:Yu,json:{write:!1}})],Ns.prototype,"emissive",void 0),Ns=cw=g([ie("esri.symbols.support.Symbol3DMaterial")],Ns);var uw;let Ko=class extends Wi{static{uw=this}constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new uw({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};g([at({Extrude:"extrude"},{readOnly:!0})],Ko.prototype,"type",void 0),g([A({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Ko.prototype,"size",void 0),g([A({type:Ns,json:{write:!0}})],Ko.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ko.prototype,"castShadows",void 0),g([A(oP)],Ko.prototype,"edges",void 0),Ko=uw=g([ie("esri.symbols.ExtrudeSymbol3DLayer")],Ko);let Dd=class extends rt{constructor(e){super(e)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Dd.prototype,"type",void 0),Dd=g([ie("esri.symbols.patterns.LinePattern3D")],Dd);const sW=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var hw;const nW=Hn()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Ac=hw=class extends Dd{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new hw(t)}};g([A({type:["style"],json:{write:{isRequired:!0}}})],Ac.prototype,"type",void 0),g([at(nW),A({type:sW,json:{write:{isRequired:!0}}})],Ac.prototype,"style",void 0),Ac=hw=g([ie("esri.symbols.patterns.LineStylePattern3D")],Ac);let Fd=class extends rt{constructor(e){super(e),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Fd.prototype,"type",void 0),Fd=g([ie("esri.symbols.patterns.Pattern3D")],Fd);const oW=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var fw;let Ju=fw=class extends Fd{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new fw({style:this.style})}};g([A({type:["style"],json:{write:{isRequired:!0}}})],Ju.prototype,"type",void 0),g([A({type:oW,json:{read:!0,write:{isRequired:!0}}})],Ju.prototype,"style",void 0),Ju=fw=g([ie("esri.symbols.patterns.StylePattern3D")],Ju);const aW={types:{key:"type",base:Fd,typeMap:{style:Ju}},json:{write:!0}},aP={types:{key:"type",base:Dd,typeMap:{style:Ac}},json:{write:!0}},Ud=new wt("white"),lW=new wt([255,255,255,0]);function cW(t){return t.r===0&&t.g===0&&t.b===0}var dw;let jd=dw=class extends Ns{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new dw(t)}};g([at({multiply:"multiply",replace:"replace",tint:"tint"})],jd.prototype,"colorMixMode",void 0),jd=dw=g([ie("esri.symbols.support.Symbol3DFillMaterial")],jd);function tS(){return[0,0,0]}function uW(t){return[t[0],t[1],t[2]]}function Af(t,e,r){return[t,e,r]}function hW(t,e,r){return[t,e,r]}function fW(t,e=tS()){const r=Math.min(3,t.length);for(let i=0;i<r;++i)e[i]=t[i];return e}function lP(){return tS()}function cP(){return Af(1,1,1)}function uP(){return Af(1,0,0)}function hP(){return Af(0,1,0)}function fP(){return Af(0,0,1)}const dW=lP(),pW=cP(),mW=uP(),yW=hP(),gW=fP();Object.freeze(Object.defineProperty({__proto__:null,ONES:pW,UNIT_X:mW,UNIT_Y:yW,UNIT_Z:gW,ZEROS:dW,clone:uW,create:tS,freeze:hW,fromArray:fW,fromValues:Af,ones:cP,unitX:uP,unitY:hP,unitZ:fP,zeros:lP},Symbol.toStringTag,{value:"Module"}));function vW(t,e=!1){return t<=zI?e?new Array(t).fill(0):new Array(t):new Float64Array(t)}function x_e(t){return(tF(t)?t.byteLength/8:t.length)<=zI?Array.from(t):new Float64Array(t)}function E_e(t,e,r){return Array.isArray(t)?t.slice(e,e+r):t.subarray(e,e+r)}function Sm(t=xW){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function rS(t,e,r,i,s,n,o=Sm()){return o[0]=t,o[1]=e,o[2]=r,o[3]=i,o[4]=s,o[5]=n,o}function S_e(t,e=Sm()){return bW(t,0,t.length/3,e)}function bW(t,e,r,i=Sm()){return dP(i,pw),_W(i,t,e,r),i}function A_e(t,e=vW(24)){const[r,i,s,n,o,a]=t;return e[0]=r,e[1]=i,e[2]=s,e[3]=r,e[4]=i,e[5]=a,e[6]=r,e[7]=o,e[8]=s,e[9]=r,e[10]=o,e[11]=a,e[12]=n,e[13]=i,e[14]=s,e[15]=n,e[16]=i,e[17]=a,e[18]=n,e[19]=o,e[20]=s,e[21]=n,e[22]=o,e[23]=a,e}function T_e(t,e){const r=isFinite(t[2])||isFinite(t[5]);return new Et(r?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function M_e(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function $_e(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[3]=Math.max(t[3],e[2]),t[4]=Math.max(t[4],e[3])}function O_e(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function _W(t,e,r=0,i=e.length/3){let s=t[0],n=t[1],o=t[2],a=t[3],l=t[4],c=t[5];for(let f=0;f<i;f++)s=Math.min(s,e[r+3*f]),n=Math.min(n,e[r+3*f+1]),o=Math.min(o,e[r+3*f+2]),a=Math.max(a,e[r+3*f]),l=Math.max(l,e[r+3*f+1]),c=Math.max(c,e[r+3*f+2]);t[0]=s,t[1]=n,t[2]=o,t[3]=a,t[4]=l,t[5]=c}function I_e(t,e,r){const i=e.length;let s=t[0],n=t[1],o=t[2],a=t[3],l=t[4],c=t[5];if(r)for(let f=0;f<i;f++){const d=e[f];s=Math.min(s,d[0]),n=Math.min(n,d[1]),o=Math.min(o,d[2]),a=Math.max(a,d[0]),l=Math.max(l,d[1]),c=Math.max(c,d[2])}else for(let f=0;f<i;f++){const d=e[f];s=Math.min(s,d[0]),n=Math.min(n,d[1]),a=Math.max(a,d[0]),l=Math.max(l,d[1])}t[0]=s,t[1]=n,t[2]=o,t[3]=a,t[4]=l,t[5]=c}function C_e(t){for(let e=0;e<6;e++)if(!isFinite(t[e]))return!1;return!0}function Am(t){return t[0]>=t[3]?0:t[3]-t[0]}function Tm(t){return t[1]>=t[4]?0:t[4]-t[1]}function Mm(t){return t[2]>=t[5]?0:t[5]-t[2]}function N_e(t){const e=Am(t),r=Mm(t),i=Tm(t);return Math.sqrt(e*e+r*r+i*i)}function P_e(t,e=[0,0,0]){return e[0]=t[0]+Am(t)/2,e[1]=t[1]+Tm(t)/2,e[2]=t[2]+Mm(t)/2,e}function L_e(t,e=[0,0,0]){return e[0]=Am(t),e[1]=Tm(t),e[2]=Mm(t),e}function k_e(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[0]<=t[3]&&e[1]<=t[4]&&e[2]<=t[5]}function wW(t,e){return Math.max(e[0],t[0])<=Math.min(e[3],t[3])&&Math.max(e[1],t[1])<=Math.min(e[4],t[4])&&Math.max(e[2],t[2])<=Math.min(e[5],t[5])}function R_e(t,e){return e==null||wW(t,e)}function D_e(t,e,r,i,s=t){return s[0]=t[0]+e,s[1]=t[1]+r,s[2]=t[2]+i,s[3]=t[3]+e,s[4]=t[4]+r,s[5]=t[5]+i,s}function F_e(t,e,r=t){const i=t[0]+Am(t)/2,s=t[1]+Tm(t)/2,n=t[2]+Mm(t)/2;return r[0]=i+(t[0]-i)*e,r[1]=s+(t[1]-s)*e,r[2]=n+(t[2]-n)*e,r[3]=i+(t[3]-i)*e,r[4]=s+(t[4]-s)*e,r[5]=n+(t[5]-n)*e,r}function U_e(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function j_e(t,e,r=t){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r!==t&&(r[3]=t[3],r[4]=t[4],r[5]=t[5]),r}function B_e(t,e,r=t){return r[3]=e[0],r[4]=e[1],r[5]=e[2],r!==t&&(r[0]=t[0],r[1]=t[1],r[2]=t[2]),t}function dP(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function V_e(t){return t?dP(t,pw):Sm(pw)}function G_e(t,e){return e||(e=_f()),e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[4],e}function z_e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function q_e(t,e,r,i,s){return t[0]=e,t[1]=r,t[2]=Number.NEGATIVE_INFINITY,t[3]=i,t[4]=s,t[5]=Number.POSITIVE_INFINITY,t}function B4(t){return t.length===6}function H_e(t){return Am(t)===0&&Tm(t)===0&&Mm(t)===0}function W_e(t,e,r){if(t==null||e==null)return t===e;if(!B4(t)||!B4(e))return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}const pw=[1/0,1/0,1/0,-1/0,-1/0,-1/0],xW=[0,0,0,0,0,0];Sm();function Y_e(t,{isPrimitive:e,width:r,depth:i,height:s}){const n=e?10:1;if(r==null&&s==null&&i==null)return[n*t[0],n*t[1],n*t[2]];const o=Af(r,i,s);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/t[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=t[l]*a);return o}const EW=rS(-.5,-.5,-.5,.5,.5,.5),SW=rS(-.5,-.5,0,.5,.5,1),AW=rS(-.5,-.5,0,.5,.5,.5);function J_e(t){switch(t){case"sphere":case"cube":case"diamond":return EW;case"cylinder":case"cone":case"inverted-cone":return SW;case"tetrahedron":return AW;default:return}}const iS=["butt","square","round"],TW=[...iS,"none"],pP=["miter","bevel","round"];var mw;let dc=mw=class extends rt{constructor(t){super(t),this.color=new wt([0,0,0,1]),this.size=To(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new mw(t)}};g([A(Cl({colorRequiredOnWrite:!0}))],dc.prototype,"color",void 0),g([A({...Mo,json:{write:{isRequired:!0}}})],dc.prototype,"size",void 0),g([A(aP)],dc.prototype,"pattern",void 0),g([A({type:iS,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],dc.prototype,"patternCap",void 0),dc=mw=g([ie("esri.symbols.support.Symbol3DOutline")],dc);var v0;let Gi=class extends Wi{static{v0=this}constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new v0(e)}static fromSimpleFillSymbol(e){const r=e.outline&&e.outline.style&&e.outline.style!=="solid"?new Ac({style:e.outline.style}):null,i={size:e.outline?.width??0,color:(e.outline?.color??Ud).clone(),pattern:r};return r&&e.outline?.cap&&(i.patternCap=e.outline.cap),new v0({material:new jd({color:(e.color??lW).clone()}),pattern:e.style&&e.style!=="solid"?new Ju({style:e.style}):null,outline:i})}};g([at({Fill:"fill"},{readOnly:!0})],Gi.prototype,"type",void 0),g([A({type:jd,json:{write:!0}})],Gi.prototype,"material",void 0),g([A(aW)],Gi.prototype,"pattern",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Gi.prototype,"castShadows",void 0),g([A({type:dc,json:{write:!0}})],Gi.prototype,"outline",void 0),g([A(oP)],Gi.prototype,"edges",void 0),Gi=v0=g([ie("esri.symbols.FillSymbol3DLayer")],Gi);var yw;const MW=Hn()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let pc=yw=class extends rt{constructor(t){super(t)}readHref(t,e,r){return t?ym(t,r):e.dataURI}writeHref(t,e,r,i){t&&(vf(t)?e.dataURI=t:(e.href=qv(t,i),Pn(e.href)&&(e.href=fl(e.href))))}clone(){return new yw({href:this.href,primitive:this.primitive})}};g([A({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],pc.prototype,"href",void 0),g([ni("href")],pc.prototype,"readHref",null),g([Kt("href",{href:{type:String},dataURI:{type:String}})],pc.prototype,"writeHref",null),g([at(MW)],pc.prototype,"primitive",void 0),pc=yw=g([ie("esri.symbols.support.IconSymbol3DLayerResource")],pc);const Z_e="circle";var gw;let Ku=gw=class extends oi{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new gw({x:this.x,y:this.y})}};g([A({type:Number})],Ku.prototype,"x",void 0),g([A({type:Number})],Ku.prototype,"y",void 0),Ku=gw=g([ie("esri.symbols.support.Symbol3DAnchorPosition2D")],Ku);var vw;let vd=vw=class extends rt{constructor(t){super(t),this.color=new wt([0,0,0,1]),this.size=To(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new vw(t)}};g([A(Cl({colorRequiredOnWrite:!0}))],vd.prototype,"color",void 0),g([A({...Mo,json:{write:{isRequired:!0}}})],vd.prototype,"size",void 0),vd=vw=g([ie("esri.symbols.support.Symbol3DIconOutline")],vd);var Du;let di=class extends Wi{static{Du=this}constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new Du({anchor:this.anchor,anchorPosition:ge(this.anchorPosition),enabled:this.enabled,material:ge(this.material),outline:ge(this.outline),resource:ge(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const r=e.color||Ud,i=V4(e),s=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Ud).clone()}:null;return new Du({size:e.size,angle:e.angle,resource:{primitive:OW(()=>rr.getLogger(this.prototype),e.style)},material:{color:r},outline:s,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const r=!e.color||cW(e.color)?Ud:e.color,i=V4(e);return new Du({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:r.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new Du({resource:{href:c5({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function V4(t){const e="width"in t?t.width:t.size,r="height"in t?t.height:t.size,i=G4(t.xoffset),s=G4(t.yoffset);return(i||s)&&e&&r?{x:-i/e,y:s/r}:null}function G4(t){return isFinite(t)?t:0}g([A({type:Ns,json:{write:!0}})],di.prototype,"material",void 0),g([A({type:pc,json:{write:!0}})],di.prototype,"resource",void 0),g([at({Icon:"icon"},{readOnly:!0})],di.prototype,"type",void 0),g([A({...Mo,json:{write:{isRequired:!0}}})],di.prototype,"size",void 0),g([at({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],di.prototype,"anchor",void 0),g([A({type:Ku,json:{type:[Number],read:{reader:t=>new Ku({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],di.prototype,"anchorPosition",void 0),g([A({type:vd,json:{write:!0}})],di.prototype,"outline",void 0),g([A({type:Number,json:{write:!0,default:0}})],di.prototype,"angle",void 0),di=Du=g([ie("esri.symbols.IconSymbol3DLayer")],di);const $W={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function OW(t,e){return $W[e]||(t().warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const IW=["begin","end","begin-end"],mP=["arrow","circle","square","diamond","cross","x"];let ia=class extends Lo.ClonableMixin(rt){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return e!=null&&e.placement===this.placement&&e.style===this.style&&(this.color==null&&e.color==null||this.color!=null&&e.color!=null&&this.color.toJSON()===e.color.toJSON())}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],ia.prototype,"type",void 0),g([A({type:IW,json:{default:"begin-end",write:!0}})],ia.prototype,"placement",void 0),g([A({type:mP,json:{default:"arrow",write:!0}})],ia.prototype,"style",void 0),g([A({type:wt,json:{type:[Rr],default:null,write:!0}})],ia.prototype,"color",void 0),ia=g([ie("esri.symbols.LineStyleMarker3D")],ia);var b0;let ji=class extends Wi{static{b0=this}constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=To(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new b0(e)}static fromSimpleLineSymbol(e){const r={enabled:!0,size:e.width??To(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new Ac({style:e.style}):null,material:new Ns({color:(e.color||Ud).clone()}),marker:e.marker?new ia({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new b0(r)}};g([A({type:Ns,json:{write:!0}})],ji.prototype,"material",void 0),g([at({Line:"line"},{readOnly:!0})],ji.prototype,"type",void 0),g([A({type:pP,json:{write:!0,default:"miter"}})],ji.prototype,"join",void 0),g([A({type:iS,json:{write:!0,default:"butt"}})],ji.prototype,"cap",void 0),g([A({...Mo,json:{write:{isRequired:!0}}})],ji.prototype,"size",void 0),g([A(aP)],ji.prototype,"pattern",void 0),g([A({types:{key:"type",base:ia,typeMap:{style:ia}},json:{write:!0}})],ji.prototype,"marker",void 0),ji=b0=g([ie("esri.symbols.LineSymbol3DLayer")],ji);var bw;const CW=Hn()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let bd=bw=class extends rt{clone(){return new bw({href:this.href,primitive:this.primitive})}};g([A({type:String,json:{read:NE,write:Lh}})],bd.prototype,"href",void 0),g([at(CW)],bd.prototype,"primitive",void 0),bd=bw=g([ie("esri.symbols.support.ObjectSymbol3DLayerResource")],bd);const t2e="sphere";var _w;let _c=_w=class extends oi{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new _w({x:this.x,y:this.y,z:this.z})}};g([A({type:Number})],_c.prototype,"x",void 0),g([A({type:Number})],_c.prototype,"y",void 0),g([A({type:Number})],_c.prototype,"z",void 0),_c=_w=g([ie("esri.symbols.support.Symbol3DAnchorPosition3D")],_c);var ww;let ii=class extends Wi{static{ww=this}constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new ww({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};g([A({type:Ns,json:{write:!0}})],ii.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ii.prototype,"castShadows",void 0),g([A({type:bd,json:{write:!0}})],ii.prototype,"resource",void 0),g([at({Object:"object"},{readOnly:!0})],ii.prototype,"type",void 0),g([A({type:Number,json:{write:!0}})],ii.prototype,"width",void 0),g([A({type:Number,json:{write:!0}})],ii.prototype,"height",void 0),g([A({type:Number,json:{write:!0}})],ii.prototype,"depth",void 0),g([at({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],ii.prototype,"anchor",void 0),g([A({type:_c,json:{type:[Number],read:{reader:t=>new _c({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ii.prototype,"anchorPosition",void 0),g([A({type:Number,json:{write:!0}})],ii.prototype,"heading",void 0),g([A({type:Number,json:{write:!0}})],ii.prototype,"tilt",void 0),g([A({type:Number,json:{write:!0}})],ii.prototype,"roll",void 0),g([A({readOnly:!0})],ii.prototype,"isPrimitive",null),ii=ww=g([ie("esri.symbols.ObjectSymbol3DLayer")],ii);var xw;let ui=class extends Wi{static{xw=this}constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,r){return e??(r.height==null&&r.size!=null?r.size:void 0)}readHeight(e,r){return e??(r.width==null&&r.size!=null?r.size:void 0)}clone(){return new xw({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};g([A({type:Ns,json:{write:!0}})],ui.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ui.prototype,"castShadows",void 0),g([at({Path:"path"},{readOnly:!0})],ui.prototype,"type",void 0),g([A({type:["circle","quad"],json:{write:!0,default:"circle"}})],ui.prototype,"profile",void 0),g([A({type:pP,json:{write:!0,default:"miter"}})],ui.prototype,"join",void 0),g([A({type:TW,json:{write:!0,default:"butt"}})],ui.prototype,"cap",void 0),g([A({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],ui.prototype,"width",void 0),g([ni("width",["width","size","height"])],ui.prototype,"readWidth",null),g([A({type:Number,json:{write:!0}})],ui.prototype,"height",void 0),g([ni("height",["height","size","width"])],ui.prototype,"readHeight",null),g([A({type:["center","bottom","top"],json:{write:!0,default:"center"}})],ui.prototype,"anchor",void 0),g([A({type:["heading","all"],json:{write:!0,default:"all"}})],ui.prototype,"profileRotation",void 0),ui=xw=g([ie("esri.symbols.PathSymbol3DLayer")],ui);const NW=["none","underline","line-through"],PW=["normal","italic","oblique"],LW=["normal","lighter","bold","bolder"],yP={type:Number,cast:t=>{const e=kv(t);return e===0?1:Cv(e,.1,4)},nonNullable:!0},kW=["left","right","center"],RW=["baseline","top","middle","bottom"],gP={type:kW,nonNullable:!0},vP={type:RW,nonNullable:!0},s2e=8;var Ew;let Js=Ew=class extends rt{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return ir(t)}clone(){return new Ew({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};g([A({type:NW,json:{default:"none",write:!0}})],Js.prototype,"decoration",void 0),g([A({type:String,json:{write:!0}})],Js.prototype,"family",void 0),g([A({type:Number,json:{write:{overridePolicy:(t,e,r)=>({enabled:!r||!r.textSymbol3D})}}})],Js.prototype,"size",void 0),g([vm("size")],Js.prototype,"castSize",null),g([A({type:PW,json:{default:"normal",write:!0}})],Js.prototype,"style",void 0),g([A({type:LW,json:{default:"normal",write:!0}})],Js.prototype,"weight",void 0),Js=Ew=g([ie("esri.symbols.Font")],Js);var Sw;let Zu=Sw=class extends rt{constructor(){super(...arguments),this.color=new wt([0,0,0,1]),this.size=0}clone(){const t={color:ge(this.color),size:this.size};return new Sw(t)}};g([A(Cl())],Zu.prototype,"color",void 0),g([A(Mo)],Zu.prototype,"size",void 0),Zu=Sw=g([ie("esri.symbols.support.Symbol3DHalo")],Zu);let Bd=class extends Lo.ClonableMixin(rt){constructor(e){super(e),this.color=null}};g([A(Cl())],Bd.prototype,"color",void 0),Bd=g([ie("esri.symbols.support.Symbol3DTextBackground")],Bd);var _0;let Vr=class extends Wi{static{_0=this}constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,r,i,s){const n={...s,textSymbol3D:!0};r.font=e.write({},n),delete r.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new _0({enabled:this.enabled,font:this.font&&ge(this.font),halo:this.halo&&ge(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ge(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new _0({font:e.font!=null?e.font.clone():new Js,halo:DW(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new Ns({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Bd({color:e.backgroundColor.clone()}):null})}};function DW(t,e){return t&&e!=null&&e>0?new Zu({color:ge(t),size:e}):null}g([A({type:Js,json:{write:!0}})],Vr.prototype,"font",null),g([Kt("font")],Vr.prototype,"writeFont",null),g([A({type:Zu,json:{write:!0}})],Vr.prototype,"halo",void 0),g([A({...gP,json:{default:"center",write:!0}})],Vr.prototype,"horizontalAlignment",void 0),g([A({...yP,json:{default:1,write:!0}})],Vr.prototype,"lineHeight",void 0),g([A({type:Ns,json:{write:!0}})],Vr.prototype,"material",void 0),g([A({type:Bd,json:{write:!0}})],Vr.prototype,"background",void 0),g([A(Mo)],Vr.prototype,"size",null),g([A({type:String,json:{write:!0}})],Vr.prototype,"text",void 0),g([at({Text:"text"},{readOnly:!0})],Vr.prototype,"type",void 0),g([A({...vP,json:{default:"baseline",write:!0}})],Vr.prototype,"verticalAlignment",void 0),Vr=_0=g([ie("esri.symbols.TextSymbol3DLayer")],Vr);var Aw;let Zo=class extends Wi{static{Aw=this}constructor(e){super(e),this.color=Tw.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new Aw({color:ge(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};g([A({type:wt,nonNullable:!0,json:{type:[Rr],write:(t,e,r)=>e[r]=t.toArray(wt.AlphaMode.UNLESS_OPAQUE),default:()=>Tw.clone(),defaultEquals:t=>t.toCss(!0)===Tw.toCss(!0)}})],Zo.prototype,"color",void 0),g([at({Water:"water"},{readOnly:!0})],Zo.prototype,"type",void 0),g([A({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Zo.prototype,"waterbodySize",void 0),g([A({type:Number,json:{write:!0,default:null}})],Zo.prototype,"waveDirection",void 0),g([A({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Zo.prototype,"waveStrength",void 0),Zo=Aw=g([ie("esri.symbols.WaterSymbol3DLayer")],Zo);const Tw=new wt([0,119,190]);var Mw;let sa=Mw=class extends oi{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new Mw({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};g([A({type:String})],sa.prototype,"name",void 0),g([A({type:String})],sa.prototype,"styleUrl",void 0),g([A({type:String})],sa.prototype,"styleName",void 0),g([A({type:pe})],sa.prototype,"portal",void 0),sa=Mw=g([ie("esri.symbols.support.StyleOrigin")],sa);var $w;let Vd=$w=class extends oi{constructor(){super(...arguments),this.url=""}clone(){return new $w({url:this.url})}};g([A({type:String})],Vd.prototype,"url",void 0),Vd=$w=g([ie("esri.symbols.support.Thumbnail")],Vd);const bP={icon:di,object:ii,line:ji,path:ui,fill:Gi,extrude:Ko,text:Vr,water:Zo},FW=Mt.ofType({base:Wi,key:"type",typeMap:bP,errorContext:"symbol-layer"});let cs=class extends Tr{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const r=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,i=r?.type,s=i||Mt;this._set("symbolLayers",new s)}get color(){return null}set color(e){this.constructed&&rr.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){jH(e,this._get("symbolLayers"))}readStyleOrigin(e,r,i){if(e.styleUrl&&e.name){const s=ym(e.styleUrl,i);return new sa({styleUrl:s,name:e.name})}if(e.styleName&&e.name)return new sa({portal:i?.portal||pe.getDefault(),styleName:e.styleName,name:e.name});i?.messages&&i.messages.push(new yp("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:e}))}writeStyleOrigin(e,r,i,s){if(e.styleUrl&&e.name){let n=qv(e.styleUrl,s);Pn(n)&&(n=fl(n)),r.styleOrigin={styleUrl:n,name:e.name}}else e.styleName&&e.name&&(e.portal&&s?.portal&&!Pj(e.portal.restUrl,s.portal.restUrl)?s?.messages&&s.messages.push(new yp("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof Wi||e&&bP[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};g([A({json:{read:!1,write:!1}})],cs.prototype,"color",null),g([A({type:FW,nonNullable:!0,json:{write:!0}}),vm(BH)],cs.prototype,"symbolLayers",null),g([A({type:sa})],cs.prototype,"styleOrigin",void 0),g([ni("styleOrigin")],cs.prototype,"readStyleOrigin",null),g([Kt("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],cs.prototype,"writeStyleOrigin",null),g([A({type:Vd,json:{read:!1}})],cs.prototype,"thumbnail",void 0),g([A({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],cs.prototype,"type",void 0),cs=g([ie("esri.symbols.Symbol3D")],cs);let Xu=class extends rt{constructor(e){super(e),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};g([A({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],Xu.prototype,"type",void 0),g([A({readOnly:!0})],Xu.prototype,"visible",void 0),Xu=g([ie("esri.symbols.callouts.Callout3D")],Xu);var Ow;let w0=Ow=class extends rt{constructor(t){super(t),this.color=new wt("white")}clone(){return new Ow({color:ge(this.color)})}};g([A(Cl({colorRequiredOnWrite:!0}))],w0.prototype,"color",void 0),w0=Ow=g([ie("esri.symbols.callouts.LineCallout3DBorder")],w0);const UW=w0;var Iw;let Xo=Iw=class extends Xu{constructor(t){super(t),this.type="line",this.color=new wt([0,0,0,1]),this.size=To(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new Iw({color:ge(this.color),size:this.size,border:ge(this.border)})}};g([at({line:"line"})],Xo.prototype,"type",void 0),g([A(Cl({colorRequiredOnWrite:!0}))],Xo.prototype,"color",void 0),g([A({...Mo,json:{write:{isRequired:!0}}})],Xo.prototype,"size",void 0),g([A({type:UW,json:{write:!0}})],Xo.prototype,"border",void 0),g([A({readOnly:!0})],Xo.prototype,"visible",null),Xo=Iw=g([ie("esri.symbols.callouts.LineCallout3D")],Xo);function sS(t){if(!t)return!1;const e=t.verticalOffset;return!(!e||e.screenLength<=0||e.maxWorldLength!=null&&e.maxWorldLength<=0)}function _P(t){return!t||!t.supportsCallout||!t.supportsCallout()?!1:!!t.callout?.visible&&!!sS(t)}function u2e(t){return t.type==="point-3d"||t.type==="label-3d"}function h2e(t){return t.horizontalAlignment==="center"}const wP={types:{key:"type",base:Xu,typeMap:{line:Xo}},json:{write:!0}};var Cw;let il=Cw=class extends rt{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new Cw({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};g([A({...Mo,json:{write:{isRequired:!0}}})],il.prototype,"screenLength",void 0),g([A({type:Number,nonNullable:!0,json:{write:!0,default:0}})],il.prototype,"minWorldLength",void 0),g([A({type:Number,json:{write:!0}})],il.prototype,"maxWorldLength",void 0),il=Cw=g([ie("esri.symbols.support.Symbol3DVerticalOffset")],il);var x0;const xP=Mt.ofType({base:null,key:"type",typeMap:{text:Vr}});let xn=x0=class extends cs{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new xP,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return _P(this)}hasVisibleVerticalOffset(){return sS(this)}clone(){return new x0({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail),callout:ge(this.callout),verticalOffset:ge(this.verticalOffset)})}static fromTextSymbol(t){return new x0({symbolLayers:new Mt([Vr.fromTextSymbol(t)])})}};g([A({type:il,json:{write:!0}})],xn.prototype,"verticalOffset",void 0),g([A(wP)],xn.prototype,"callout",void 0),g([A({json:{read:!1,write:!1}})],xn.prototype,"styleOrigin",void 0),g([A({type:xP})],xn.prototype,"symbolLayers",void 0),g([at({LabelSymbol3D:"label-3d"},{readOnly:!0})],xn.prototype,"type",void 0),xn=x0=g([ie("esri.symbols.LabelSymbol3D")],xn);var E0;const EP=Mt.ofType({base:null,key:"type",typeMap:{line:ji,path:ui}}),jW=Mt.ofType({base:null,key:"type",typeMap:{line:ji,path:ui}});let Mn=E0=class extends cs{constructor(t){super(t),this.symbolLayers=new EP,this.type="line-3d"}clone(){return new E0({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleLineSymbol(t){return new E0({symbolLayers:new Mt([ji.fromSimpleLineSymbol(t)])})}};g([A({type:EP,json:{type:jW}})],Mn.prototype,"symbolLayers",void 0),g([at({LineSymbol3D:"line-3d"},{readOnly:!0})],Mn.prototype,"type",void 0),Mn=E0=g([ie("esri.symbols.LineSymbol3D")],Mn);var S0;const SP=Mt.ofType({base:null,key:"type",typeMap:{fill:Gi}});let ha=S0=class extends cs{constructor(t){super(t),this.symbolLayers=new SP,this.type="mesh-3d"}clone(){return new S0({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleFillSymbol(t){return new S0({symbolLayers:new Mt([Gi.fromSimpleFillSymbol(t)])})}};g([A({type:SP})],ha.prototype,"symbolLayers",void 0),g([at({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],ha.prototype,"type",void 0),ha=S0=g([ie("esri.symbols.MeshSymbol3D")],ha);let _d=class extends Tr{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};g([at({esriSLS:"simple-line"},{readOnly:!0})],_d.prototype,"type",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],_d.prototype,"width",void 0),_d=g([ie("esri.symbols.LineSymbol")],_d);var Nw;let io=Nw=class extends rt{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,r,i){e[r]=i?.origin==="web-map"?"arrow":t}set color(t){this._set("color",t)}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,r,i){i?.origin==="web-map"||(e[r]=t)}clone(){return new Nw({color:ge(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};g([A({type:["begin","end","begin-end"],json:{write:!0}})],io.prototype,"placement",void 0),g([at({"line-marker":"line-marker"},{readOnly:!0}),A({json:{origins:{"web-map":{write:!1}}}})],io.prototype,"type",void 0),g([A({type:mP})],io.prototype,"style",void 0),g([Kt("style")],io.prototype,"writeStyle",null),g([A({type:wt,value:null,json:{write:{allowNull:!0}}})],io.prototype,"color",null),g([ni("color")],io.prototype,"readColor",null),g([Kt("color")],io.prototype,"writeColor",null),io=Nw=g([ie("esri.symbols.LineSymbolMarker")],io);const BW=io;var Pw;const Vb=new Ao({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let qr=Pw=class extends _d{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,r,i,s,n){if(t&&typeof t!="string")return t;const o={};return t!=null&&(o.style=t),e!=null&&(o.color=e),r!=null&&(o.width=ir(r)),i!=null&&(o.cap=i),s!=null&&(o.join=s),n!=null&&(o.miterLimit=ir(n)),o}clone(){return new Pw({color:ge(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};g([at({esriSLS:"simple-line"},{readOnly:!0})],qr.prototype,"type",void 0),g([A({type:Vb.apiValues,json:{read:Vb.read,write:Vb.write}})],qr.prototype,"style",void 0),g([A({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,r)=>({enabled:t!=="round"&&r?.origin==null})}}})],qr.prototype,"cap",void 0),g([A({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,r)=>({enabled:t!=="round"&&r?.origin==null})}}})],qr.prototype,"join",void 0),g([A({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":BW}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],qr.prototype,"marker",void 0),g([A({type:Number,json:{read:!1,write:!1}})],qr.prototype,"miterLimit",void 0),qr=Pw=g([ie("esri.symbols.SimpleLineSymbol")],qr);let Qu=class extends Tr{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};g([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":qr}},json:{default:null,write:!0}})],Qu.prototype,"outline",void 0),g([A({type:["simple-fill","picture-fill"],readOnly:!0})],Qu.prototype,"type",void 0),Qu=g([ie("esri.symbols.FillSymbol")],Qu);function VW(t,e,r){return e.imageData?c5({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):AP(e.url,r)}function AP(t,e){if(!Pn(t)){const r=zW(e);if(r)return zv(r,"images",t)}return ym(t,e)}function GW(t,e,r,i){if(vf(t)){const s=_p(t);if(!s)return;e.contentType=s.mediaType,e.imageData=s.data,r&&r.imageData===e.imageData&&r.url&&Lh(r.url,e,"url",i)}else Lh(t,e,"url",i)}const TP={json:{read:{source:["imageData","url"],reader:VW},write:{writer(t,e,r,i){GW(t,e,this.source,i)}}}},MP={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,r){const i={};return e.imageData&&(i.imageData=e.imageData),e.contentType&&(i.contentType=e.contentType),e.url&&(i.url=AP(e.url,r)),i}}}};function zW(t){if(!t)return null;const{origin:e,layer:r}=t;if(e!=="service"&&e!=="portal-item")return null;const i=r?.type;return i==="feature"||i==="stream"?r.parsedUrl?.path:i==="map-image"||i==="tile"?t.url?.path:null}var Lw;let os=Lw=class extends Qu{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,r,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const s={};return t&&(s.url=t),e&&(s.outline=e),r!=null&&(s.width=ir(r)),i!=null&&(s.height=ir(i)),s}clone(){const t=new Lw({color:ge(this.color),height:this.height,outline:ge(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",ge(this.source)),t}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};g([at({esriPFS:"picture-fill"},{readOnly:!0})],os.prototype,"type",void 0),g([A(TP)],os.prototype,"url",void 0),g([A({type:Number,json:{write:!0}})],os.prototype,"xscale",void 0),g([A({type:Number,json:{write:!0}})],os.prototype,"yscale",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],os.prototype,"width",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],os.prototype,"height",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],os.prototype,"xoffset",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],os.prototype,"yoffset",void 0),g([A(MP)],os.prototype,"source",void 0),os=Lw=g([ie("esri.symbols.PictureFillSymbol")],os);let Qo=class extends Tr{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};g([A({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],Qo.prototype,"angle",void 0),g([A({type:["simple-marker","picture-marker"],readOnly:!0})],Qo.prototype,"type",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],Qo.prototype,"xoffset",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],Qo.prototype,"yoffset",void 0),g([A({cast:t=>t==="auto"?t:kv(ir(t)),json:{write:!0}})],Qo.prototype,"size",void 0),Qo=g([ie("esri.symbols.MarkerSymbol")],Qo);var kw;let Ei=kw=class extends Qo{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,r){if(t&&typeof t!="string"&&t.imageData==null)return t;const i={};return t&&(i.url=t),e!=null&&(i.width=ir(e)),r!=null&&(i.height=ir(r)),i}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new kw({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",ge(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};g([A({json:{write:!1}})],Ei.prototype,"color",void 0),g([at({esriPMS:"picture-marker"},{readOnly:!0})],Ei.prototype,"type",void 0),g([A(TP)],Ei.prototype,"url",void 0),g([A(MP)],Ei.prototype,"source",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],Ei.prototype,"height",void 0),g([ni("height",["height","size"])],Ei.prototype,"readHeight",null),g([A({type:Number,cast:ir,json:{write:!0}})],Ei.prototype,"width",void 0),g([A({json:{write:!1}})],Ei.prototype,"size",void 0),Ei=kw=g([ie("esri.symbols.PictureMarkerSymbol")],Ei);var mc;const $P=Mt.ofType({base:null,key:"type",typeMap:{icon:di,object:ii,text:Vr}});let zi=mc=class extends cs{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new $P,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return _P(this)}hasVisibleVerticalOffset(){return sS(this)}clone(){return new mc({verticalOffset:ge(this.verticalOffset),callout:ge(this.callout),styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new mc({symbolLayers:new Mt([di.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new mc({symbolLayers:new Mt([di.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){if(t.data?.symbol?.type!=="CIMPointSymbol")return null;const r=t.data.symbol;return new mc(r?.callout?{symbolLayers:new Mt([di.fromCIMSymbol(t)]),callout:new Xo({size:.5,color:new wt([0,0,0])}),verticalOffset:new il({screenLength:40})}:{symbolLayers:new Mt([di.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new mc({symbolLayers:new Mt([Vr.fromTextSymbol(t)])})}};g([A({type:il,json:{write:!0}})],zi.prototype,"verticalOffset",void 0),g([A(wP)],zi.prototype,"callout",void 0),g([A({type:$P,json:{origins:{"web-scene":{write:!0}}}})],zi.prototype,"symbolLayers",void 0),g([at({PointSymbol3D:"point-3d"},{readOnly:!0})],zi.prototype,"type",void 0),zi=mc=g([ie("esri.symbols.PointSymbol3D")],zi);var wd;const OP=Mt.ofType({base:null,key:"type",typeMap:{extrude:Ko,fill:Gi,icon:di,line:ji,object:ii,text:Vr,water:Zo}});let $n=wd=class extends cs{constructor(t){super(t),this.symbolLayers=new OP,this.type="polygon-3d"}initialize(){const t=e=>{e.type==="line"&&xl(rr.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),e.type==="text"&&xl(rr.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const e of this.symbolLayers)t(e);this.addHandles(PC(()=>this.symbolLayers,"after-add",({item:e})=>t(e),bU))}clone(){return new wd({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromJSON(t){const e=new wd;if(e.read(t),e.symbolLayers.length===2&&e.symbolLayers.at(0).type==="fill"&&e.symbolLayers.at(1).type==="line"){const r=e.symbolLayers.at(0),i=e.symbolLayers.at(1);!i.enabled||t.symbolLayers?.[1]&&t.symbolLayers[1].enable===!1||(r.outline={size:i.size,color:i.material!=null?i.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new wd({symbolLayers:new Mt([Gi.fromSimpleFillSymbol(t)])})}};g([A({type:OP,json:{write:!0}})],$n.prototype,"symbolLayers",void 0),g([at({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],$n.prototype,"type",void 0),$n=wd=g([ie("esri.symbols.PolygonSymbol3D")],$n);var Rw;const Gb=new Ao({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Is=Rw=class extends Qu{constructor(...t){super(...t),this.color=new wt([0,0,0,.25]),this.outline=new qr,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,r){if(t&&typeof t!="string")return t;const i={};return t&&(i.style=t),e&&(i.outline=e),r&&(i.color=r),i}clone(){return new Rw({color:ge(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};g([A()],Is.prototype,"color",void 0),g([A()],Is.prototype,"outline",void 0),g([at({esriSFS:"simple-fill"},{readOnly:!0})],Is.prototype,"type",void 0),g([A({type:Gb.apiValues,json:{read:Gb.read,write:Gb.write}})],Is.prototype,"style",void 0),Is=Rw=g([ie("esri.symbols.SimpleFillSymbol")],Is);var Dw;const zb=new Ao({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let zr=Dw=class extends Qo{constructor(...t){super(...t),this.color=new wt([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new qr}normalizeCtorArgs(t,e,r,i){if(t&&typeof t!="string")return t;const s={};return t&&(s.style=t),e!=null&&(s.size=ir(e)),r&&(s.outline=r),i&&(s.color=i),s}writeColor(t,e){t&&this.style!=="x"&&this.style!=="cross"&&(e.color=t.toJSON()),t===null&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new Dw({angle:this.angle,color:ge(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};g([A()],zr.prototype,"color",void 0),g([Kt("color")],zr.prototype,"writeColor",null),g([at({esriSMS:"simple-marker"},{readOnly:!0})],zr.prototype,"type",void 0),g([A()],zr.prototype,"size",void 0),g([A({type:zb.apiValues,json:{read:zb.read,write:zb.write}})],zr.prototype,"style",void 0),g([A({type:String,json:{write:!0}})],zr.prototype,"path",null),g([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":qr}},json:{default:null,write:!0}})],zr.prototype,"outline",void 0),zr=Dw=g([ie("esri.symbols.SimpleMarkerSymbol")],zr);var Fw;let xt=Fw=class extends Tr{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Js,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,r){if(t&&typeof t!="string")return t;const i={};return t&&(i.text=t),e&&(i.font=e),r&&(i.color=r),i}writeLineWidth(t,e,r,i){i&&typeof i!="string"?i.origin:e[r]=t}castLineWidth(t){return ir(t)}writeLineHeight(t,e,r,i){i&&typeof i!="string"?i.origin:e[r]=t}clone(){return new Fw({angle:this.angle,backgroundColor:ge(this.backgroundColor),borderLineColor:ge(this.borderLineColor),borderLineSize:this.borderLineSize,color:ge(this.color),font:this.font&&this.font.clone(),haloColor:ge(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};g([A({type:wt,json:{write:!0}})],xt.prototype,"backgroundColor",void 0),g([A({type:wt,json:{write:!0}})],xt.prototype,"borderLineColor",void 0),g([A({type:Number,json:{write:!0},cast:ir})],xt.prototype,"borderLineSize",void 0),g([A({type:Js,json:{write:!0}})],xt.prototype,"font",void 0),g([A({...gP,json:{write:!0}})],xt.prototype,"horizontalAlignment",void 0),g([A({type:Boolean,json:{write:!0}})],xt.prototype,"kerning",void 0),g([A({type:wt,json:{write:!0}})],xt.prototype,"haloColor",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],xt.prototype,"haloSize",void 0),g([A({type:Boolean,json:{write:!0}})],xt.prototype,"rightToLeft",void 0),g([A({type:Boolean,json:{write:!0}})],xt.prototype,"rotated",void 0),g([A({type:String,json:{write:!0}})],xt.prototype,"text",void 0),g([at({esriTS:"text"},{readOnly:!0})],xt.prototype,"type",void 0),g([A({...vP,json:{write:!0}})],xt.prototype,"verticalAlignment",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],xt.prototype,"xoffset",void 0),g([A({type:Number,cast:ir,json:{write:!0}})],xt.prototype,"yoffset",void 0),g([A({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],xt.prototype,"angle",void 0),g([A({type:Number,json:{write:!0}})],xt.prototype,"width",void 0),g([A({type:Number})],xt.prototype,"lineWidth",void 0),g([Kt("lineWidth")],xt.prototype,"writeLineWidth",null),g([vm("lineWidth")],xt.prototype,"castLineWidth",null),g([A(yP)],xt.prototype,"lineHeight",void 0),g([Kt("lineHeight")],xt.prototype,"writeLineHeight",null),xt=Fw=g([ie("esri.symbols.TextSymbol")],xt);var Uw;let pi=Uw=class extends Tr{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=this.portal!=null?this.portal:pe.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e?.portal,super.read(t,e)}clone(){return new Uw({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol(t)}async fetchCIMSymbol(t){WC(rr.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const e=await this._fetchSymbol({...t,acceptedFormats:["cim"]});if(e?.type!=="cim")throw new mt("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return e}async _fetchSymbol(t){const e=t!=null?t.cache:null,r=e?this._fetchCacheKey:null;if(e!=null){const o=r&&e.get(r);if(o)return o.clone()}const{resolveWebStyleSymbol:i}=await ve(()=>import("./webStyleSymbolUtils-Dg5UTHux.js").then(o=>o.w),__vite__mapDeps([64,65,66]),import.meta.url);pp(t);const s=i(this,{portal:this.portal},t);s.catch(o=>{rr.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const n=await s;return e?.set(r,n.clone()),n}};g([A({json:{write:!1}})],pi.prototype,"color",void 0),g([A({type:String,json:{write:!0}})],pi.prototype,"styleName",void 0),g([A({type:pe,json:{write:!1}})],pi.prototype,"portal",void 0),g([A({type:String,json:{read:NE,write:Lh}})],pi.prototype,"styleUrl",void 0),g([A({type:Vd,json:{read:!1}})],pi.prototype,"thumbnail",void 0),g([A({type:String,json:{write:!0}})],pi.prototype,"name",void 0),g([at({styleSymbolReference:"web-style"},{readOnly:!0})],pi.prototype,"type",void 0),g([A()],pi.prototype,"_fetchCacheKey",null),pi=Uw=g([ie("esri.symbols.WebStyleSymbol")],pi);function m2e(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function IP(t){switch(t?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const nS={base:Tr,key:"type",typeMap:{"simple-fill":Is,"picture-fill":os,"picture-marker":Ei,"simple-line":qr,"simple-marker":zr,text:xt,"label-3d":xn,"line-3d":Mn,"mesh-3d":ha,"point-3d":zi,"polygon-3d":$n,"web-style":pi,cim:us},errorContext:"symbol"},y2e={base:Tr,key:"type",typeMap:{"picture-marker":Ei,"simple-marker":zr,"point-3d":zi,cim:us},errorContext:"symbol"},g2e={base:Tr,key:"type",typeMap:{"simple-line":qr,"line-3d":Mn,cim:us},errorContext:"symbol"},v2e={base:Tr,key:"type",typeMap:{"simple-fill":Is,"picture-fill":os,"polygon-3d":$n,cim:us},errorContext:"symbol"},b2e={base:Tr,key:"type",typeMap:{"picture-marker":Ei,"simple-marker":zr,text:xt,"web-style":pi,cim:us},errorContext:"symbol"},qW=UC({types:nS}),_2e={base:Tr,key:"type",typeMap:{"simple-fill":Is,"picture-fill":os,"picture-marker":Ei,"simple-line":qr,"simple-marker":zr,text:xt,"line-3d":Mn,"mesh-3d":ha,"point-3d":zi,"polygon-3d":$n,"web-style":pi,cim:us},errorContext:"symbol"},w2e={base:Tr,key:"type",typeMap:{text:xt,"label-3d":xn},errorContext:"symbol"},x2e={base:Tr,key:"type",typeMap:{"line-3d":Mn,"mesh-3d":ha,"point-3d":zi,"polygon-3d":$n,"web-style":pi,cim:us},errorContext:"symbol"},E2e={base:Tr,key:"type",typeMap:{"label-3d":xn},errorContext:"symbol"},S2e=Ch(nS);var jw;function HW(t){if(!t)return null;const e={};for(const r in t){const i=DE(t[r]);i&&(e[r]=i)}return Object.keys(e).length!==0?e:null}function WW(t){if(t==null)return null;const e={};for(const r in t){const i=t[r];i&&(e[r]=i.toJSON())}return Object.keys(e).length!==0?e:null}let ts=class extends Lo.ClonableMixin(rt){static{jw=this}constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:Zy(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&KU(rr.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const r=this._get("aggregateGeometries");JSON.stringify(r)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const r=this._get("attributes");r!==e&&(this._set("attributes",e),this._notifyLayer("attributes",r,e))}set geometry(e){const r=this._get("geometry");r!==e&&(this._set("geometry",e),e?.type!=="mesh"&&this._notifyLayer("geometry",r,e))}set popupTemplate(e){const r=this._get("popupTemplate");r!==e&&(this._set("popupTemplate",e),this._notifyLayer("popupTemplate",r,e))}set symbol(e){const r=this._get("symbol");r!==e&&(this._set("symbol",e),this._notifyLayer("symbol",r,e))}get version(){return this._version}set visible(e){const r=this._get("visible");r!==e&&(this._set("visible",e),this._notifyLayer("visible",r,e))}cloneShallow(){return new jw({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const r=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[r,this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(e&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,r){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=r,this._notifyLayer("attributes",i,r,e)}else this.attributes={[e]:r}}getObjectId(){const e=this.sourceLayer??this.layer;return e?FH(this,e):null}getGlobalId(){const e=this.sourceLayer??this.layer;return e&&"globalIdField"in e&&e.globalIdField?this.getAttribute(e.globalIdField):null}toJSON(){return{aggregateGeometries:WW(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:sg(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:r}=this;if(r?.type==="mesh"){const i={origin:r.origin,transform:r.transform};this._notifyLayer("origin-transform",i,i,e.action)}}_notifyLayer(e,r,i,s){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:r,newValue:i};e==="origin-transform"&&(n.action=s),e==="attributes"&&(n.attributeName=s),this.layer.graphicChanged(n)}_watchMeshGeometryChanges(){this.addHandles([H_(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:e,origin:r})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===r||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=r,this.notifyMeshTransformChanged())}),H_(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const e=this.geometry;e?.type==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,r)=>e===r,sync:!0})])}};g([A({value:null,json:{read:HW}})],ts.prototype,"aggregateGeometries",null),g([A({value:null})],ts.prototype,"attributes",null),g([A({value:null,types:DH,json:{read:DE}})],ts.prototype,"geometry",null),g([A({type:Boolean})],ts.prototype,"isAggregate",void 0),g([A({clonable:!1})],ts.prototype,"layer",void 0),g([A({clonable:"reference"})],ts.prototype,"origin",void 0),g([A({type:RH,value:null})],ts.prototype,"popupTemplate",null),g([A({clonable:"reference"})],ts.prototype,"sourceLayer",void 0),g([A({value:null,types:nS})],ts.prototype,"symbol",null),g([A({clonable:!1,json:{read:!1,write:!1}})],ts.prototype,"_version",void 0),g([A({type:Boolean,value:!0})],ts.prototype,"visible",null),ts=jw=g([ie("esri.Graphic")],ts);function T2e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="feature"}function M2e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="graphics"}function $2e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-image"}function O2e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-notes"&&"sublayers"in t}function I2e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph"&&"layers"in t}function C2e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph-sublayer"}function N2e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="link-chart"&&"layers"in t}function P2e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="subtype-group"&&"sublayers"in t}function L2e(t){return t?.type==="subtype-sublayer"}const k2e={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function z4(t){const e=t?.type;return e==="building-scene"||e==="integrated-mesh"||e==="point-cloud"||e==="scene"}function R2e(t){return t==="integrated-mesh"||t==="integrated-mesh-3dtiles"}function D2e(t){return t?.type==="feature"&&!t.url&&t.source?.type==="memory"}function F2e(t){const e=t?.type;return(e==="feature"||e==="subtype-group"||e==="oriented-imagery")&&t?.source?.type==="feature-layer"}async function U2e(t,e){const r=Jt?.findServerInfo(t);if(r?.currentVersion!=null)return r.owningSystemUrl||null;const i=t.toLowerCase().indexOf("/rest/services");if(i===-1)return null;const s=`${t.slice(0,i)}/rest/info`,n=e!=null?e.signal:null,{data:o}=await Dr(s,{query:{f:"json"},responseType:"json",signal:n});return o?.owningSystemUrl||null}function YW(t){if(!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function j2e(t){return YW(t)?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null}function JW(t){if(!("editingEnabled"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function B2e(t){return!!JW(t)&&("effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled)}function KW(t,e){return null}function V2e(t){return null}function ZW(t){return!t||t.type==="Feature Service"&&!t.sourceUrl}function G2e(t,e){!e||!ZW(t)||KW(t.url)}const oS=[252,146,31,255],XW=[153,153,153,255],QW={type:"esriSMS",style:"esriSMSCircle",size:6,color:oS,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},eY={type:"esriSLS",style:"esriSLSSolid",width:.75,color:oS},tY={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},rY={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},iY={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},sY={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},nY={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},CP=zr.fromJSON(QW),NP=qr.fromJSON(eY),PP=Is.fromJSON(tY),z2e=xt.fromJSON(rY);function q2e(t){if(t==null)return null;switch(t.type){case"mesh":return null;case"point":case"multipoint":return CP;case"polyline":return NP;case"polygon":case"extent":return PP}return null}const H2e=zr.fromJSON(iY),W2e=qr.fromJSON(sY),Y2e=Is.fromJSON(nY),oY=zi.fromSimpleMarkerSymbol(CP),aY=Mn.fromSimpleLineSymbol(NP),lY=$n.fromSimpleFillSymbol(PP),cY=new ha({symbolLayers:new Mt([new Gi({material:{color:oS},edges:new nP({size:To(1),color:new wt(XW)})})])}),uY=new Mn({symbolLayers:new Mt([new ji({material:{color:new wt([0,0,0])},size:To(1)})])}),hY=new $n({symbolLayers:new Mt([new Gi({outline:{color:new wt([0,0,0]),size:To(1)}})])});function J2e(t){if(t==null)return null;switch(t.type){case"mesh":return cY;case"point":case"multipoint":return oY;case"polyline":return aY;case"polygon":case"extent":return lY}return null}const q4="#useCIMFallbackSymbology()",Tu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function fY(t,e=Tu){if(!t)return{symbol:null};const{retainId:r=Tu.retainId,ignoreDrivers:i=Tu.ignoreDrivers,hasLabelingContext:s=Tu.hasLabelingContext,retainCIM:n=Tu.retainCIM,cimFallbackEnabled:o=Tu.cimFallbackEnabled}=e;let a=null;if(IP(t)||t instanceof pi)a=t.clone();else if(t.type==="cim"){const l=t.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=n?t.clone():zi.fromCIMSymbol(t);break;case"CIMLineSymbol":o&&(a=uY.clone(),e?.logWarning?.(q4,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=hY.clone(),e?.logWarning?.(q4,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new mt("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:t})}}else if(t instanceof qr)a=Mn.fromSimpleLineSymbol(t);else if(t instanceof zr)a=zi.fromSimpleMarkerSymbol(t);else if(t instanceof Ei)a=zi.fromPictureMarkerSymbol(t);else if(t instanceof Is)a=e.geometryType&&e.geometryType==="mesh"?ha.fromSimpleFillSymbol(t):$n.fromSimpleFillSymbol(t);else{if(!(t instanceof xt))return{error:new mt("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,{symbol:t})};a=s?xn.fromTextSymbol(t):zi.fromTextSymbol(t)}return r&&a&&a.type!=="cim"&&(a.id=t.id),!i||a.type==="cim"||a instanceof pi||a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function K2e(t,e,r,i){const s=LP(t,{},{context:i,isLabelSymbol:!1});s!=null&&ou(r,s,e)}function Z2e(t,e,r,i){const s=LP(t,{},{context:i,isLabelSymbol:!0});s!=null&&(e[r]=s)}function H4(t){return IP(t)||t instanceof pi}function dY(t){return t?.type==="polygon-3d"||t?.type==="line-3d"}function LP(t,e,r){if(t==null)return null;const{context:i,isLabelSymbol:s}=r,n=i?.origin,o=i?.messages;if(n==="web-scene"&&!H4(t)){const a=fY(t,{retainCIM:!0,hasLabelingContext:s});return a.symbol!=null?a.symbol.write(e,i):(o?.push(new mt("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:t,context:i,error:a.error})),null)}return z4(i?.layer)&&dY(t)?(o?.push(new mt("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported on layers of type '${i?.layer?.declaredClass}'.`,{symbol:t,context:i})),null):(n==="web-map"||n==="portal-item"&&!z4(i?.layer))&&H4(t)?(o?.push(new mt("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:t,context:i})),null):t.write(e,i)}function aS(t,e){return qW(t,null,e)}const qb=(...t)=>{const e=[];for(let i=0;i<t.length;i++){const s=t[i];if(typeof s=="string")e.push(s);else if(Array.isArray(s))e.push.apply(e,s);else if(typeof s=="object")for(const n in s)s[n]&&e.push(n)}const r=e.join(" ");return e.length=0,r};class Np{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}const pY=(t,e)=>{let r=t;for(;r;){if(r===e)return!0;if(!r.parentNode)return!1;r.parentNode instanceof ShadowRoot?r=r.parentNode.host:r=r.parentNode}return!1},mY=(t,e,r)=>{const i=yY(e).subscribe;return i(s=>{s.some(o=>pY(t,o.target))&&r()})},Hb={},yY=t=>{const e=t.join(","),r=Hb[e];if(r!==void 0)return r;const i=new Set,s=new MutationObserver(o=>i.forEach(a=>a(o)));globalThis.document&&s.observe(document.documentElement,{attributes:!0,attributeFilter:t,subtree:!0});const n={subscribe:o=>(i.add(o),()=>{i.delete(o),i.size===0&&(s.disconnect(),Hb[e]=void 0)})};return Hb[e]=n,n},gY=(t,e)=>{let r=t;for(;r;){const i=r.closest?.(e);if(i)return i;const s=r.getRootNode?.();if(s===globalThis.document)return null;r=s.host}return null},vY=(t,e,r)=>gY(t,`[${e}]`)?.getAttribute(e)??r,or=(t,e,...r)=>{try{return t?.call(e,...r)}catch(i){console.error(i,t)}},Bw=async(t,e,...r)=>{try{return await t?.call(e,...r)}catch(i){console.error(i,t)}},bY="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),_Y=new Set(bY),Sg="en",wY={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},xY=async(t,e,r="")=>{const i=`${e}/${r}`,s=`${i}${t}.json`;return Wb[s]??(Wb[s]=kP(t,i)),await Wb[s]},Wb={},kP=async(t,e)=>{const r=`${e}${t}.json`;try{const i=await fetch(r);if(i.ok)return await i.json()}catch(i){return console.error(i),{}}return t===Sg?{}:await kP(Sg,e)},RP=t=>{const e=vY(t,"lang",globalThis.navigator?.language||Sg);return{lang:e,t9nLocale:DP(e)}},DP=t=>{const[e,r]=t.split("-"),i=e.toLowerCase();let s=i;return r&&(s=`${i}-${r.toUpperCase()}`),s=wY[s]??s,_Y.has(s)?s:r?DP(i):Sg},EY=(t,e,r,i)=>{let s;const n=()=>SY(t,e(),i).then(o=>{(s?.lang!==o.lang||s.t9nLocale!==o.t9nLocale||s.t9nStrings!==o.t9nStrings)&&r(o),s=o}).catch(console.error);return queueMicrotask(n),mY(t,["lang"],n)},SY=async(t,e,r=t.localName.split("-").slice(1).join("-"))=>{const{lang:i,t9nLocale:s}=RP(t),n=`${e}/${r}/t9n`,a=r===null?{}:await xY(s,n,"messages.");return{lang:i,t9nLocale:s,t9nStrings:a}},AY=t=>t.replace(TY,(e,r)=>`${r===0?"":"-"}${e.toLowerCase()}`),TY=/[A-Z]+(?![a-z])|[A-Z]/gu,MY=(t,e)=>{const r=e/$Y;let i=0;const s=setInterval(()=>{i+=r,i>=e&&(clearInterval(s),t())},r);return s},$Y=4;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const A0=globalThis,lS=A0.ShadowRoot&&(A0.ShadyCSS===void 0||A0.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,cS=Symbol(),W4=new WeakMap;let FP=class{constructor(e,r,i){if(this._$cssResult$=!0,i!==cS)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(lS&&e===void 0){const i=r!==void 0&&r.length===1;i&&(e=W4.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&W4.set(r,e))}return e}toString(){return this.cssText}};const OY=t=>new FP(typeof t=="string"?t:t+"",void 0,cS),IY=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((i,s,n)=>i+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[n+1],t[0]);return new FP(r,t,cS)},CY=(t,e)=>{if(lS)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const i=document.createElement("style"),s=A0.litNonce;s!==void 0&&i.setAttribute("nonce",s),i.textContent=r.cssText,t.appendChild(i)}},Y4=lS?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const i of e.cssRules)r+=i.cssText;return OY(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:NY,defineProperty:PY,getOwnPropertyDescriptor:LY,getOwnPropertyNames:kY,getOwnPropertySymbols:RY,getPrototypeOf:DY}=Object,l1=globalThis,J4=l1.trustedTypes,FY=J4?J4.emptyScript:"",UY=l1.reactiveElementPolyfillSupport,Gd=(t,e)=>t,Vw={toAttribute(t,e){switch(e){case Boolean:t=t?FY:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},uS=(t,e)=>!NY(t,e),K4={attribute:!0,type:String,converter:Vw,reflect:!1,useDefault:!1,hasChanged:uS};Symbol.metadata??=Symbol("metadata"),l1.litPropertyMetadata??=new WeakMap;let Fu=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=K4){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const i=Symbol(),s=this.getPropertyDescriptor(e,i,r);s!==void 0&&PY(this.prototype,e,s)}}static getPropertyDescriptor(e,r,i){const{get:s,set:n}=LY(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get:s,set(o){const a=s?.call(this);n?.call(this,o),this.requestUpdate(e,a,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??K4}static _$Ei(){if(this.hasOwnProperty(Gd("elementProperties")))return;const e=DY(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Gd("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Gd("properties"))){const r=this.properties,i=[...kY(r),...RY(r)];for(const s of i)this.createProperty(s,r[s])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[i,s]of r)this.elementProperties.set(i,s)}this._$Eh=new Map;for(const[r,i]of this.elementProperties){const s=this._$Eu(r,i);s!==void 0&&this._$Eh.set(s,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const s of i)r.unshift(Y4(s))}else e!==void 0&&r.push(Y4(e));return r}static _$Eu(e,r){const i=r.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const i of r.keys())this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return CY(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,r,i){this._$AK(e,i)}_$ET(e,r){const i=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,i);if(s!==void 0&&i.reflect===!0){const n=(i.converter?.toAttribute!==void 0?i.converter:Vw).toAttribute(r,i.type);this._$Em=e,n==null?this.removeAttribute(s):this.setAttribute(s,n),this._$Em=null}}_$AK(e,r){const i=this.constructor,s=i._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const n=i.getPropertyOptions(s),o=typeof n.converter=="function"?{fromAttribute:n.converter}:n.converter?.fromAttribute!==void 0?n.converter:Vw;this._$Em=s,this[s]=o.fromAttribute(r,n.type)??this._$Ej?.get(s)??null,this._$Em=null}}requestUpdate(e,r,i){if(e!==void 0){const s=this.constructor,n=this[e];if(i??=s.getPropertyOptions(e),!((i.hasChanged??uS)(n,r)||i.useDefault&&i.reflect&&n===this._$Ej?.get(e)&&!this.hasAttribute(s._$Eu(e,i))))return;this.C(e,r,i)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:i,reflect:s,wrapped:n},o){i&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??r??this[e]),n!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||i||(r=void 0),this._$AL.set(e,r)),s===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[s,n]of this._$Ep)this[s]=n;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,n]of i){const{wrapped:o}=n,a=this[s];o!==!0||this._$AL.has(s)||a===void 0||this.C(s,void 0,n,a)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),this._$EO?.forEach(i=>i.hostUpdate?.()),this.update(r)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(r)}willUpdate(e){}_$AE(e){this._$EO?.forEach(r=>r.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(r=>this._$ET(r,this[r])),this._$EM()}updated(e){}firstUpdated(e){}};Fu.elementStyles=[],Fu.shadowRootOptions={mode:"open"},Fu[Gd("elementProperties")]=new Map,Fu[Gd("finalized")]=new Map,UY?.({ReactiveElement:Fu}),(l1.reactiveElementVersions??=[]).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const hS=globalThis,Ag=hS.trustedTypes,Z4=Ag?Ag.createPolicy("lit-html",{createHTML:t=>t}):void 0,UP="$lit$",sl=`lit$${Math.random().toFixed(9).slice(2)}$`,jP="?"+sl,jY=`<${jP}>`,Zc=document,Pp=()=>Zc.createComment(""),Lp=t=>t===null||typeof t!="object"&&typeof t!="function",fS=Array.isArray,BY=t=>fS(t)||typeof t?.[Symbol.iterator]=="function",Yb=`[ 	
\f\r]`,zf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,X4=/-->/g,Q4=/>/g,Zl=RegExp(`>|${Yb}(?:([^\\s"'>=/]+)(${Yb}*=${Yb}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),eM=/'/g,tM=/"/g,BP=/^(?:script|style|textarea|title)$/i,VP=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),qf=VP(1),ewe=VP(2),El=Symbol.for("lit-noChange"),gr=Symbol.for("lit-nothing"),rM=new WeakMap,Tc=Zc.createTreeWalker(Zc,129);function GP(t,e){if(!fS(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Z4!==void 0?Z4.createHTML(e):e}const VY=(t,e)=>{const r=t.length-1,i=[];let s,n=e===2?"<svg>":e===3?"<math>":"",o=zf;for(let a=0;a<r;a++){const l=t[a];let c,f,d=-1,p=0;for(;p<l.length&&(o.lastIndex=p,f=o.exec(l),f!==null);)p=o.lastIndex,o===zf?f[1]==="!--"?o=X4:f[1]!==void 0?o=Q4:f[2]!==void 0?(BP.test(f[2])&&(s=RegExp("</"+f[2],"g")),o=Zl):f[3]!==void 0&&(o=Zl):o===Zl?f[0]===">"?(o=s??zf,d=-1):f[1]===void 0?d=-2:(d=o.lastIndex-f[2].length,c=f[1],o=f[3]===void 0?Zl:f[3]==='"'?tM:eM):o===tM||o===eM?o=Zl:o===X4||o===Q4?o=zf:(o=Zl,s=void 0);const y=o===Zl&&t[a+1].startsWith("/>")?" ":"";n+=o===zf?l+jY:d>=0?(i.push(c),l.slice(0,d)+UP+l.slice(d)+sl+y):l+sl+(d===-2?a:y)}return[GP(t,n+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),i]};let Gw=class zP{constructor({strings:e,_$litType$:r},i){let s;this.parts=[];let n=0,o=0;const a=e.length-1,l=this.parts,[c,f]=VY(e,r);if(this.el=zP.createElement(c,i),Tc.currentNode=this.el.content,r===2||r===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=Tc.nextNode())!==null&&l.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(UP)){const p=f[o++],y=s.getAttribute(d).split(sl),v=/([.?@])?(.*)/.exec(p);l.push({type:1,index:n,name:v[2],strings:y,ctor:v[1]==="."?zY:v[1]==="?"?qY:v[1]==="@"?HY:c1}),s.removeAttribute(d)}else d.startsWith(sl)&&(l.push({type:6,index:n}),s.removeAttribute(d));if(BP.test(s.tagName)){const d=s.textContent.split(sl),p=d.length-1;if(p>0){s.textContent=Ag?Ag.emptyScript:"";for(let y=0;y<p;y++)s.append(d[y],Pp()),Tc.nextNode(),l.push({type:2,index:++n});s.append(d[p],Pp())}}}else if(s.nodeType===8)if(s.data===jP)l.push({type:2,index:n});else{let d=-1;for(;(d=s.data.indexOf(sl,d+1))!==-1;)l.push({type:7,index:n}),d+=sl.length-1}n++}}static createElement(e,r){const i=Zc.createElement("template");return i.innerHTML=e,i}};function Vh(t,e,r=t,i){if(e===El)return e;let s=i!==void 0?r._$Co?.[i]:r._$Cl;const n=Lp(e)?void 0:e._$litDirective$;return s?.constructor!==n&&(s?._$AO?.(!1),n===void 0?s=void 0:(s=new n(t),s._$AT(t,r,i)),i!==void 0?(r._$Co??=[])[i]=s:r._$Cl=s),s!==void 0&&(e=Vh(t,s._$AS(t,e.values),s,i)),e}let GY=class{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:i}=this._$AD,s=(e?.creationScope??Zc).importNode(r,!0);Tc.currentNode=s;let n=Tc.nextNode(),o=0,a=0,l=i[0];for(;l!==void 0;){if(o===l.index){let c;l.type===2?c=new Tf(n,n.nextSibling,this,e):l.type===1?c=new l.ctor(n,l.name,l.strings,this,e):l.type===6&&(c=new WY(n,this,e)),this._$AV.push(c),l=i[++a]}o!==l?.index&&(n=Tc.nextNode(),o++)}return Tc.currentNode=Zc,s}p(e){let r=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,r),r+=i.strings.length-2):i._$AI(e[r])),r++}};class Tf{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,r,i,s){this.type=2,this._$AH=gr,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=i,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&e?.nodeType===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=Vh(this,e,r),Lp(e)?e===gr||e==null||e===""?(this._$AH!==gr&&this._$AR(),this._$AH=gr):e!==this._$AH&&e!==El&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):BY(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==gr&&Lp(this._$AH)?this._$AA.nextSibling.data=e:this.T(Zc.createTextNode(e)),this._$AH=e}$(e){const{values:r,_$litType$:i}=e,s=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=Gw.createElement(GP(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===s)this._$AH.p(r);else{const n=new GY(s,this),o=n.u(this.options);n.p(r),this.T(o),this._$AH=n}}_$AC(e){let r=rM.get(e.strings);return r===void 0&&rM.set(e.strings,r=new Gw(e)),r}k(e){fS(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let i,s=0;for(const n of e)s===r.length?r.push(i=new Tf(this.O(Pp()),this.O(Pp()),this,this.options)):i=r[s],i._$AI(n),s++;s<r.length&&(this._$AR(i&&i._$AB.nextSibling,s),r.length=s)}_$AR(e=this._$AA.nextSibling,r){for(this._$AP?.(!1,!0,r);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class c1{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,i,s,n){this.type=1,this._$AH=gr,this._$AN=void 0,this.element=e,this.name=r,this._$AM=s,this.options=n,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=gr}_$AI(e,r=this,i,s){const n=this.strings;let o=!1;if(n===void 0)e=Vh(this,e,r,0),o=!Lp(e)||e!==this._$AH&&e!==El,o&&(this._$AH=e);else{const a=e;let l,c;for(e=n[0],l=0;l<n.length-1;l++)c=Vh(this,a[i+l],r,l),c===El&&(c=this._$AH[l]),o||=!Lp(c)||c!==this._$AH[l],c===gr?e=gr:e!==gr&&(e+=(c??"")+n[l+1]),this._$AH[l]=c}o&&!s&&this.j(e)}j(e){e===gr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}let zY=class extends c1{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===gr?void 0:e}},qY=class extends c1{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==gr)}};class HY extends c1{constructor(e,r,i,s,n){super(e,r,i,s,n),this.type=5}_$AI(e,r=this){if((e=Vh(this,e,r,0)??gr)===El)return;const i=this._$AH,s=e===gr&&i!==gr||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,n=e!==gr&&(i===gr||s);s&&this.element.removeEventListener(this.name,this,i),n&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class WY{constructor(e,r,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){Vh(this,e)}}const swe={I:Tf},YY=hS.litHtmlPolyfillSupport;YY?.(Gw,Tf),(hS.litHtmlVersions??=[]).push("3.3.0");const JY=(t,e,r)=>{const i=r?.renderBefore??e;let s=i._$litPart$;if(s===void 0){const n=r?.renderBefore??null;i._$litPart$=s=new Tf(e.insertBefore(Pp(),n),n,void 0,r??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const dS=globalThis;let Nc=class extends Fu{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=JY(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return El}};Nc._$litElement$=!0,Nc.finalized=!0,dS.litElementHydrateSupport?.({LitElement:Nc});const KY=dS.litElementPolyfillSupport;KY?.({LitElement:Nc});(dS.litElementVersions??=[]).push("4.2.0");const pS=Symbol.for("controller"),ZY=t=>typeof t=="object"&&t!==null&&(pS in t||"hostConnected"in t||"hostDisconnected"in t||"hostUpdate"in t||"hostUpdated"in t),XY=t=>typeof t?.then=="function",owe=t=>t.M.length;let xd;const eh=t=>{xd!==t&&(xd=t,queueMicrotask(()=>xd===t?xd=void 0:0))},Mf=t=>xd;let yc=[];const qP=t=>{if(t===void 0){yc=[];return}const e=yc.indexOf(t);yc=e===-1?[...yc,t]:yc.slice(0,e+1),queueMicrotask(()=>yc=[])},HP=()=>yc;let th;const QY=t=>{th!==t&&(th=t,queueMicrotask(()=>th===t?th=void 0:0))},eJ=()=>{const t=th;return th=void 0,t},tJ=async(t,e)=>{const r=mS(t);if(r===void 0)return t;if(await r.ready,typeof e=="function"){const i=r.watchExports(s=>e(s,i))}return r.exports},rJ=async t=>{const e=mS(t);return await e.ready,e},mS=t=>{const r=Mf().manager.X(t);if(r!==void 0)return r;if(ZY(t))return t;const i=eJ();if(i!==void 0)return i};let zw=!1;const iJ=t=>{zw=!0;try{return t()}finally{zw=!1}},sJ=(t,e,r)=>{const i=Object.keys(t),s=i.length;rh===void 0&&queueMicrotask(yS),rh??=new Map;let n=rh.get(t);return n===void 0&&(n={callbacks:[],keyCount:s},rh.set(t,n)),n.keyCount!==s&&(n.callbacks.forEach(o=>o(i)),n.callbacks=[],n.keyCount=s),n.callbacks.push(o=>{const a=c=>or(e,null,c),l=o[s];l===void 0?a(void 0):t[l]===r?a(l):a(void 0)}),r};let rh;const yS=()=>{rh?.forEach(({callbacks:t},e)=>{const r=Object.keys(e);t.forEach(i=>i(r))}),rh=void 0},WP=(t,e,r)=>{const i=t.manager;return i.V!==gr&&i.V!==r&&i.S(void 0,void 0),i.T.length===0&&queueMicrotask(()=>i.S(void 0,void 0)),i.V=r,i.T.push((s,n)=>or(e,void 0,r===n?s:void 0)),r},gS=(t=[Mf(),...HP()],e,r)=>{const i=Array.isArray(t)?t:[t];let s=i.length+1;const n=o=>{s-=1,o!==void 0&&(s=Math.min(s,0)),s===0&&e(o)};i.forEach(o=>sJ(o,a=>n(a===void 0?void 0:{key:a,host:o,isReactive:!1}),r));for(const o of i)if("manager"in o&&o.manager.component===o){WP(o,a=>n(a===void 0?void 0:{key:a,host:o,isReactive:!0}),r);break}return r},vS=(t="",e={},r=Mf())=>{const i={emit:s=>{t===""&&yS();const n=new CustomEvent(t,{detail:s,cancelable:!0,bubbles:!0,composed:!0,...e});return r.el.dispatchEvent(n),n}};return t===""&&gS(void 0,s=>t=s.key,i),i},nJ=vS.bind(null,"");var YP;YP=pS;class bS{constructor(e){this.#e=[],this.#t=[],this.#r=[],this.#i=[],this.#s=[],this.#l=[],this.#c=[],this.#f=[],this.#u=[],this.#h=!1,this.P=new Np,this.connectedCalled=!1,this.loadedCalled=!1,this[YP]=!0,this.#a=[];const r=this,i=e??Mf();r.#n=i,r.ready=r.P.promise,r.#o=sM(r),r.component=i,r.#n.addController(r),r.#n.manager===void 0||(qP(r),queueMicrotask(()=>r.catchUpLifecycle()))}#e;#t;#r;#i;#s;#l;#c;#f;#u;#h;#n;catchUpLifecycle(){const{manager:e}=this.#n;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e.#h&&this.triggerLoad().then(()=>e.loadedCalled&&this.triggerLoaded()).catch(console.error)}#o;get exports(){return this.#o}set exports(e){const r=this.#o;r!==e&&(this.#o=e,this.#a.forEach(or),this.connectedCalled&&this.O!==!1&&this.#n.requestUpdate(this.O,r)),this.P.resolve(e)}setProvisionalExports(e,r=!0){this.#o=r?sM(e):e,this.#a.forEach(or)}#a;watchExports(e){const r=()=>e(this.#o);return this.#a.push(r),()=>void this.#a.splice(this.#a.indexOf(r),1)}get use(){return eh(this.#n),tJ}get useRef(){return eh(this.#n),rJ}get useRefSync(){return eh(this.#n),mS}controllerRemoved(){this.#n.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this.#e.push(e)}onDisconnected(e){this.#t.push(e)}onLoad(e){this.#r.push(e)}onLoaded(e){this.#i.push(e)}onUpdate(e){this.#s.push(e)}onUpdated(e){this.#l.push(e)}onDestroy(e){this.#c.push(e)}onLifecycle(e){this.#f.push(e),this.connectedCalled&&this.#n.el.isConnected&&this.#d(e)}triggerConnected(){const e=this;e.hostConnected&&or(e.hostConnected,e),e.#e.forEach(or),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&or(e.hostDisconnected,e),e.#t.forEach(or),e.#u.forEach(or),e.#u=[]}async triggerLoad(){if(this.#h)return;this.#h=!0;const e=this;e.hostLoad&&await Bw(e.hostLoad,e),this.#r.length>0&&await Promise.allSettled(this.#r.map(Bw)),this.P.resolve(this.#o)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&or(this.hostLoaded,this),this.#i.forEach(or),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&or(this.hostUpdate,this,e),this.#s.forEach(iM,e)}triggerUpdated(e){this.hostUpdated&&or(this.hostUpdated,this,e),this.#l.forEach(iM,e)}triggerDestroy(){this.hostDestroy&&or(this.hostDestroy,this),this.#c.forEach(or)}triggerLifecycle(){this.hostLifecycle&&this.#d(()=>this.hostLifecycle()),this.#f.forEach(this.#d,this)}#d(e){eh(this.#n);const r=or(e);(Array.isArray(r)?r:[r]).forEach(s=>{typeof s=="function"?this.#u.push(s):typeof s=="object"&&typeof s.remove=="function"&&this.#u.push(s.remove)})}}function iM(t){or(t,void 0,this)}const _S=bS,sM=t=>{if(typeof t!="object"&&typeof t!="function"||t===null)return t;const e={get(i,s,n){if(!((s==="exports"||s==="_exports")&&s in i&&i[s]===r)&&(s in i||s in Promise.prototype||typeof s=="symbol"))return typeof i=="function"?i[s]:Reflect.get(i,s,n)}},r=new Proxy(t,e);return r},oJ=1,aJ=2,lJ=4,cJ=8,uJ=16,hJ=32,fJ=64,JP=t=>{let e=t;for(;e=e.parentNode??e.host;)if(e?.constructor?.lumina){const r=e;return r.manager?.loadedCalled||(r.J??r._offspring).push(t),(r.I??r._postLoad).promise}return!1},qw={};function KP(){}const T0=Object.defineProperty,dJ=globalThis.HTMLElement??KP;class awe extends dJ{constructor(){super(),this.#t={},this.#r=[],this.I=new Np,this.H=new Np,this.J=[];const e=this,r=e.constructor;e._offspring=e.J,e._postLoad=e.I,r.C?.forEach(i=>{Object.hasOwn(e,i)&&(e.#t[i]=e[i],delete e[i])}),r.A?e.#i({a:r.A}):r.B.then(async i=>{await r.K.p,e.#i(await(i.default?.then(s=>typeof s=="function"?{a:s}:s)??i))}).catch(i=>{e.H.reject(i),setTimeout(()=>{throw i})})}static{this.lumina=!0}static F(){for(const e of this.C??[])T0(this.prototype,e,{configurable:!0,enumerable:!0,get(){return this.#t[e]},set(r){this.#t[e]=r}});for(const e of this.E??[])T0(this.prototype,e,{async value(...r){return this.#e||await this.H.promise,await this.#e[e](...r)},configurable:!0});for(const e of this.D??[])T0(this.prototype,e,{value(...r){return this.#e[e](...r)},configurable:!0})}#e;#t;#r;get manager(){return this.#e?.manager}attributeChangedCallback(e,r,i){this.#e?.attributeChangedCallback(e,r,i),this.#e||this.#r.push(e)}connectedCallback(){this.#e?this.#e.connectedCallback?.():queueMicrotask(()=>this.G=JP(this))}disconnectedCallback(){this.#e?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}#i(e){const r=this.constructor,i=r.L,s=this.#t,n=Object.values(e).find(d=>d.L===i),o=`${i}--lazy`;let a=n;for(;a&&!Object.hasOwn(a,"lumina");)a=Object.getPrototypeOf(a);mJ(a),!r.A&&(r.A=n,customElements.define(o,n)),n.N=this;const c=document.createElement(o);n.N=void 0,this.#e=c,this.#t=c,this.#r.forEach(d=>c.attributeChangedCallback(d,null,this.getAttribute(d))),Object.entries(s).forEach(pJ,c);const f=this.isConnected;(f||this.G)&&(c.connectedCallback?.(),f||c.disconnectedCallback())}addController(){}requestUpdate(){this.#e?.requestUpdate()}}function pJ([t,e]){this[t]=e}const mJ=t=>{const e=t.prototype,r=Element.prototype;Object.hasOwn(e,"isConnected")||(e.setAttribute=function(s,n){r.setAttribute.call(this.el,s,n)},e.removeAttribute=function(s){r.removeAttribute.call(this.el,s)},T0(e,"isConnected",{get(){return Reflect.get(r,"isConnected",this.el)}}))};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ZP={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},XP=t=>(...e)=>({_$litDirective$:t,values:e});let QP=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,i){this._$Ct=e,this._$AM=r,this._$Ci=i}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const yJ=XP(class extends QP{constructor(t){if(super(t),t.type!==ZP.ATTRIBUTE||t.name!=="class"||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(i=>i!=="")));for(const i in e)e[i]&&!this.nt?.has(i)&&this.st.add(i);return this.render(e)}const r=t.element.classList;for(const i of this.st)i in e||(r.remove(i),this.st.delete(i));for(const i in e){const s=!!e[i];s===this.st.has(i)||this.nt?.has(i)||(s?(r.add(i),this.st.add(i)):(r.remove(i),this.st.delete(i)))}return El}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const eL="important",gJ=" !"+eL,vJ=XP(class extends QP{constructor(t){if(super(t),t.type!==ZP.ATTRIBUTE||t.name!=="style"||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,r)=>{const i=t[r];return i==null?e:e+`${r=r.includes("-")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`},"")}update(t,[e]){const{style:r}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const i of this.ft)e[i]==null&&(this.ft.delete(i),i.includes("-")?r.removeProperty(i):r[i]=null);for(const i in e){const s=e[i];if(s!=null){this.ft.add(i);const n=typeof s=="string"&&s.endsWith(gJ);i.includes("-")||n?r.setProperty(i,n?s.slice(0,-11):s,n?eL:""):r[i]=s}}return El}});class bJ extends _S{constructor(e){super(e),this.destroyed=!1,this.R=!1,this.V=gr,this.T=[],this.#r=new WeakMap,this.#t=e,this.exports=void 0,this.hasDestroy=Hw in e&&typeof e.destroy=="function",Nc.prototype.addController.call(e,{hostConnected:()=>{if(this.destroyed){const r=e.el.localName;throw e.el.remove(),new Error(`The ${r} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${Hw} prop.`)}this.#e!==void 0&&clearTimeout(this.#e),yS();for(const r of e.M)"triggerConnected"in r?r.triggerConnected():or(r.hostConnected,r)},hostDisconnected:()=>{for(const r of e.M)"triggerDisconnected"in r?r.triggerDisconnected():or(r.hostDisconnected,r);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const r of e.M)"triggerUpdate"in r?r.triggerUpdate(this.Q):or(r.hostUpdate,r,this.Q)},hostUpdated:()=>{for(const r of e.M)"triggerUpdated"in r?r.triggerUpdated(this.Q):or(r.hostUpdated,r,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),eh(e)}#e;#t;async destroy(){if(!this.destroyed){this.#t.el.isConnected&&(this.hasDestroy=!1,this.#t.el.remove()),this.#e=void 0,this.destroyed=!0;for(const e of this.#t.M)"triggerDestroy"in e?e.triggerDestroy():or(e.hostDestroy,e);this.#t.M.splice(0)}}U(){if(this.#e!==void 0&&clearTimeout(this.#e),!this.#t.el.isConnected&&!this.#t.autoDestroyDisabled){const e=()=>void this.#t.destroy();this.#e=MY(e,_J)}}S(e,r){const i=this.T;this.V=gr,this.T=[],i.forEach(s=>s(e,r))}#r;W(e,r){(typeof r=="object"&&r!==null||typeof r=="function")&&this.#r.set(r,e)}X(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this.#r.get(e)}}let _J=1e3;const Hw="autoDestroyDisabled";class wS extends Nc{constructor(){super(),this.M=[],this.manager=new bJ(this);const e=this,r=e.constructor,i=r.N,s=r.K.o,n=wS.prototype.shouldUpdate;e.#i=i?.H??new Np,e.I=i?.I??new Np,e.J=i?.J??[],e._offspring=e.J,e._postLoad=e.I,e.el=i??e,e.#r=e.enableUpdating,e.enableUpdating=KP,e.shouldUpdate!==n&&(e.#t=e.shouldUpdate,e.shouldUpdate=n),s&&(e.#e=new Map,r.elementProperties.forEach((o,a)=>e.#e.set(a,s())))}static finalizeStyles(e){const r=super.finalizeStyles(e),i=this.shadowRootOptions===qw;return this.K?.commonStyles===void 0||i?r:[this.K.commonStyles,...r]}static createProperty(e,r){const i=typeof r=="number"?r:Array.isArray(r)?r[0]:0,s=Array.isArray(r)?r[1]:void 0,n=s?.hasChanged??uS,o={attribute:i&oJ&&typeof e=="string"?AY(e):!1,reflect:!!(i&aJ),type:i&lJ?Boolean:i&cJ?Number:void 0,state:!!(i&uJ),readOnly:!!(i&hJ),noAccessor:!!(i&fJ),c:!1,...s,hasChanged(a,l){const c=n(a,l);return o.c=c,c}};super.createProperty(e,o)}static getPropertyDescriptor(e,r,i){const s=this.K,n=super.getPropertyDescriptor(e,r,i);return i.d=n,{...n,get(){return s.t?.(this.#e.get(e)),n.get?.call(this)},set(o){const a=this.manager;if(i.readOnly&&!zw&&(a.R||a.connectedCalled))throw Error(`Cannot assign to read-only property "${e}" of ${this.el.localName}. Trying to assign "${o}"`);n.set.call(this,o??void 0),i.c&&this.#e?.get(e)?.notify(),a.T.length>0&&a?.S(e,o)}}}static{this.lumina=!0}#e;#t;#r;#i;#s;connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const e=this.constructor.K.c?.(()=>this.requestUpdate());this.#s=e;const r=!this.manager.connectedCalled;super.connectedCallback(),r?queueMicrotask(()=>this.#c().catch(i=>{this.#i.reject(i),setTimeout(()=>{throw i})})):e&&this.requestUpdate()}#l(e){try{this.#s.clear(),this.constructor.K.r(this.#s,()=>super.update(e))}catch(r){throw this.#s.clear(),r}}disconnectedCallback(){super.disconnectedCallback(),this.#s?.destroy(),this.#s=void 0}createRenderRoot(){const e=this.el.shadowRoot,r=this.constructor,i=r.shadowRootOptions,n=e??(i===qw?this.el:this.el.attachShadow(i));if(e)return Nc.prototype.createRenderRoot.call(this),e;if(this.isConnected){const o=n.getRootNode();o.adoptedStyleSheets=[...o.adoptedStyleSheets,...r.elementStyles.map(a=>"styleSheet"in a?a.styleSheet:a)]}return n}async#c(){const e=this.el.G??JP(this.el);e&&await e;const r=[];for(const s of this.M)"triggerLoad"in s?r.push(s.triggerLoad()):r.push(Bw(s.hostLoad,s));await Promise.all(r),await this.load?.(),this.manager.hasDestroy&&this.manager.onUpdate(s=>s.has(Hw)&&this.manager.U()),this.#r(!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const i=this.J.filter(s=>!s.manager?.loadedCalled);i.length&&await Promise.allSettled(i.map(async s=>await s.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const s of this.M)"triggerLoaded"in s?s.triggerLoaded():or(s.hostLoaded,s);this.loaded?.(),this.#i.resolve()}shouldUpdate(e){return this.manager.Q=e,this.#t?.(e)??!0}update(e){this.#s?this.#l(e):super.update(e)}listen(e,r,i){const s=r?.bind(this)??r;this.manager.onLifecycle(()=>(this.el.addEventListener(e,s,i),()=>this.el.removeEventListener(e,s,i)))}listenOn(e,r,i,s){const n=i?.bind(this)??i;this.manager.onLifecycle(()=>(e.addEventListener(r,n,s),()=>e.removeEventListener(r,n,s)))}async componentOnReady(){return await this.#i.promise,this}addController(e){this.M.push(e),!(pS in e)&&this.renderRoot&&this.el.isConnected&&e.hostConnected?.()}removeController(e){this.M.splice(this.M.indexOf(e),1),e.controllerRemoved?.()}}const wJ=t=>{let e;const r=s=>{e=new URL(s,globalThis.location?.href||void 0).href},i={...t,getAssetPath(s){const n=new URL(s,e);return n.origin!==globalThis.location?.origin?n.href:n.pathname},setAssetPath:r,customElement(s,n){n.K=i,n.L=s,customElements.get(s)||customElements.define(s,n)}};return r(t.defaultAssetPath),i},Mu=t=>typeof t=="object"&&t!=null?yJ(t):t,nM=t=>typeof t=="object"&&t!=null?vJ(t):t,xJ=gr;function cwe(t,e,r){r==null?t.removeAttribute(e):t.setAttribute(e,r)}const uwe={toAttribute:t=>t===!0?"":t===!1?null:t};let EJ=class{constructor(e,r){this._observable=new FE,this._value=e,this._equalityFunction=r}get value(){return Ve(this._observable),this._value}set value(e){this._equalityFunction(e,this._value)||(this._value=e,this._observable.notify())}mutate(e){e(this._value),this._observable.notify()}};function SJ(t,e=JI){return new EJ(t,e)}function AJ(t,e){return SJ(t,e)}function tL(){return new FE}function TJ(t){return new jv(t)}function rL(t){Ve(t)}function MJ(t,e){return ma(t,e)}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.10 */const $m=wJ({defaultAssetPath:"https://js.arcgis.com/4.33/map-components/",hydratedAttribute:"hydrated"}),{customElement:$J,getAssetPath:OJ,setAssetPath:fwe}=$m;$m.t=rL;$m.o=tL;$m.c=TJ;$m.r=MJ;const iL=t=>(...e)=>{const r=HP(),i=new t(...e),s=i.exports;qP(r.at(-1));const n=i.component.manager;n.W(i,s),i.watchExports(n.W.bind(n,i)),QY(i);const o=[i.component,...r].reverse();return gS(o,a=>a===void 0?void 0:IJ(i,a,s),s)},IJ=(t,{host:e,key:r,isReactive:i},s)=>{const n=e,o=n[r]!==t.exports,a=n[r]!==s,l=s!==t.exports;if(o&&!a&&l&&(n[r]=t.exports),e===t.component){if(i){const d=t.component.manager;a&&d.W(t,n[r]),t.onUpdate(p=>{if(p.has(r)){const y=n[r];y!==t.exports&&d.W(t,y)}})}t.O=i?void 0:r}const f=t.component.constructor.elementProperties.get(r)?.readOnly;t.watchExports(()=>{n[r]!==t.exports&&(f?iJ(()=>{n[r]=t.exports}):n[r]=t.exports)})},CJ=t=>sL(void 0,t),dwe=t=>e=>sL(e,t);class NJ extends bS{constructor(e,r){super(e);const i=this.exports;try{eh(this.component);const s=r(this.component,this),n=this.exports!==i;if(XY(s)){n||this.setProvisionalExports(s);const o=s.then(a=>{this.exports=a,super.catchUpLifecycle()}).catch(a=>{this.P.reject(a),console.error(a)});this.onLoad(async()=>await o)}else(!n||s!==void 0)&&(this.exports=s),queueMicrotask(()=>super.catchUpLifecycle())}catch(s){this.P.reject(s),console.error(s)}}catchUpLifecycle(){}}const sL=iL(NJ),pwe=(t,e)=>new PJ(t,e);class PJ extends bS{#e;#t;#r;constructor(e,r){super(),this.#t=e,this.#r=r,this.#e=new MutationObserver(i=>{i.forEach(s=>{e.includes(s.attributeName)&&r.call(this.component,this.component.el.getAttribute(s.attributeName),s.oldValue,s.attributeName)})})}hostConnected(){this.#t.forEach(e=>{this.component.el.hasAttribute(e)&&this.#r.call(this.component,null,this.component.el.getAttribute(e),e)}),this.#e.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this.#t})}hostDisconnected(){this.#e.disconnect()}}const LJ=t=>(e={})=>CJ((r,i)=>{const s=RP(r.el),n={_lang:s.lang,_t9nLocale:s.t9nLocale,_loading:!0},o=r;i.onLifecycle(()=>EY(r.el,()=>t("./assets"),({t9nLocale:l,t9nStrings:c,lang:f})=>{const d={...c,_lang:f,_t9nLocale:l,_loading:!1};i.exports=d;const p=c.componentLabel;typeof p=="string"&&"label"in r&&r.label==null&&(r.label??=p),a(o.messageOverrides)},e.name));const a=l=>{const c=i.exports,f=c._original??c,d=nL(f,l);l&&(d._original=f),i.exports=d};return"messageOverrides"in o&&i.onUpdate(l=>{l.has("messageOverrides")&&a(o.messageOverrides)}),e.blocking?(i.setProvisionalExports(n,!1),i.ready):n}),nL=(t,e)=>{if(!e)return t;const r={...t};return Object.entries(e).forEach(([i,s])=>{typeof s=="object"?r[i]=nL(t[i],s):r[i]=s??t[i]}),r},kJ=t=>DJ,RJ="arcgisPropertyChange",DJ=(...t)=>{const e=Mf(),r=vS(RJ,void 0,e);let i=!0;return e.manager.onUpdated(s=>{if(i||!e.el.isConnected){i=!1;return}for(const n of t)s.has(n)&&r.emit({name:n})}),r};let M0=class extends rt{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};g([A({readOnly:!0})],M0.prototype,"version",null),M0=g([ie("esri.views.layers.support.ClipArea")],M0);var Ww;let co=Ww=class extends M0{constructor(t){super(t),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new Ww({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};g([A({type:[Number,String],json:{write:!0}})],co.prototype,"left",void 0),g([A({type:[Number,String],json:{write:!0}})],co.prototype,"right",void 0),g([A({type:[Number,String],json:{write:!0}})],co.prototype,"top",void 0),g([A({type:[Number,String],json:{write:!0}})],co.prototype,"bottom",void 0),co=Ww=g([ie("esri.views.layers.support.ClipRect")],co);function FJ(t,e){const r=10**e;return Math.round(t*r)/r}const my={left:0,right:0,top:0,bottom:0};let rs=class extends oi{constructor(e){super(e),this._leadingClips=new Map,this._trailingClips=new Map,this.direction="horizontal",this.leadingLayers=new Mt,this.max=100,this.min=0,this.precision=4,this.step=.5,this.stepMultiplier=10,this.trailingLayers=new Mt,this.view=null}initialize(){this.addHandles([Jr(()=>[this.view,this.view?.ready,this.position,this.direction],()=>this._clipLayers(),db),Jr(()=>this.leadingLayers.toArray(),()=>this._clipLeadingLayers(),db),Jr(()=>this.trailingLayers.toArray(),()=>this._clipTrailingLayers(),db)])}destroy(){this._removeExistingClips()}get position(){return 25}set position(e){const{precision:r,min:i,max:s}=this;this._set("position",FJ(Math.max(Math.min(e,s),i),r))}get state(){return this.view?.ready?"ready":"disabled"}_clipLayers(){this._clipLeadingLayers(),this._clipTrailingLayers()}_clipLeadingLayers(){this._removeClips("leading");const{leadingLayers:e}=this;e.forEach(r=>this._clipLayer({layer:r,type:"leading"}))}_clipTrailingLayers(){this._removeClips("trailing");const{trailingLayers:e}=this;e.forEach(r=>this._clipLayer({layer:r,type:"trailing"}))}async _getLayerView(e){const{view:r}=this;if(!e||!r)return null;const i=await r.whenLayerView(e);return"clips"in i?i:null}_getVerticalClipRect(e){const{position:r}=this;return e==="leading"?new co({...my,bottom:100-r+"%"}):e==="trailing"?new co({...my,top:`${r}%`}):null}_getHorizontalClipRect(e){const{position:r}=this;return e==="leading"?new co({...my,right:100-r+"%"}):e==="trailing"?new co({...my,left:`${r}%`}):null}_getClipRect(e){const{direction:r}=this;return r==="vertical"?this._getVerticalClipRect(e):r==="horizontal"?this._getHorizontalClipRect(e):null}async _clipLayer(e){const{_leadingClips:r,_trailingClips:i}=this,{layer:s,type:n}=e,o=n==="trailing"?i:n==="leading"?r:null,a=await this._getLayerView(s);if(!(a&&"clips"in a&&o&&a.hasOwnProperty("clips")))return;const l=o.get(a);l&&a.clips.remove(l);const c=this._getClipRect(n);c&&(o.set(a,c),a.clips.add(c))}_removeClips(e){const{_leadingClips:r,_trailingClips:i}=this,s=e==="trailing"?i:e==="leading"?r:null;s&&(s.forEach((n,o)=>{o&&o.hasOwnProperty("clips")&&o.clips.remove(n)}),s.clear())}_removeExistingClips(){this._removeClips("leading"),this._removeClips("trailing")}};g([A()],rs.prototype,"direction",void 0),g([A({type:Mt,nonNullable:!0})],rs.prototype,"leadingLayers",void 0),g([A({readOnly:!0})],rs.prototype,"max",void 0),g([A({readOnly:!0})],rs.prototype,"min",void 0),g([A()],rs.prototype,"position",null),g([A()],rs.prototype,"precision",void 0),g([A({readOnly:!0})],rs.prototype,"state",null),g([A()],rs.prototype,"step",void 0),g([A()],rs.prototype,"stepMultiplier",void 0),g([A({type:Mt,nonNullable:!0})],rs.prototype,"trailingLayers",void 0),g([A()],rs.prototype,"view",void 0),rs=g([ie("esri.widgets.Swipe.SwipeViewModel")],rs);const UJ=rs;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.10 */const jJ=LJ(OJ),ywe=(t,e)=>{const i=Mf().manager;i.onLoaded(()=>i.onLifecycle(()=>PC(t,e,s.emit)));const s=vS();return s};class BJ extends _S{constructor(e,r){super(e),this.Y=new Map,this.A=void 0,this.#t=tL();const i=this;i.#r=r,i.Z(),i.setProvisionalExports(VJ(e,new WeakRef(i),e.M.length-1,i.instance,i.Y),!1),WP(e,s=>{if(s){const n=Jr(()=>e[s],o=>{if(o===i.instance)return;const a=i.instance;i.exports=o,i.instance=o,i.Y.forEach((l,c)=>e.requestUpdate(l,a[c])),i.#e&&a.destroy(),i.#e=!1},{sync:!0});i.onDestroy(n.remove)}},i.exports)}#e;#t;#r;get exports(){return rL(this.#t),super.exports}set exports(e){super.exports=e,this.#t.notify()}Z(){const e=this;e.instance="prototype"in e.#r&&"declaredClass"in e.#r.prototype?new e.#r:e.#r(),e.#e=!0}hostConnected(){this.exports=this.instance}hostDestroy(){this.#e&&this.instance.destroy?.()}}const VJ=(t,e,r,i,s)=>new Proxy(i,{get:(n,o)=>{const a=n[o];if(typeof o=="symbol"||s.has(o))return a;const l=t.M[r];return l.A=o,gS(t,c=>{if(l.A=void 0,c!==void 0){const f=c.key;s.set(o,f);const d=t.constructor.getPropertyOptions(f),p=o!==f&&f.toLowerCase().includes("disable");GJ(e,d,o,f,p),d.i===void 0&&zJ(d,r,o,p)}},a)}}),GJ=(t,e,r,i,s,n)=>n=Jr(()=>{const o=t.deref();return o===void 0||o.component.manager.destroyed?n=n.remove():o.exports[r]},(o,a)=>{if(!n)return;t.deref().component?.requestUpdate(i,s?!a:a),e.c=!1},{sync:!0}),zJ=(t,e,r,i)=>{t.d.get=function(){const s=this.M[e]?.exports[r];return i?!s:s},t.d.set=function(s){const n=this.M[e];n.A!==r&&(n.exports[r]=i?!s:s)}},gwe=t=>t.Y;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.10 */function yy(t){t.el.childElem&&(t.el.childElem.ownedBy=t.el);const e=qJ(t);if(!e){const r=KJ(t);if(!r){oL(t);return}return aM(r,t,!0),r}return HJ(e,t.el.parent)||(t.el.parent=e,e.localName==="arcgis-expand"?WJ(e,t):e.localName==="arcgis-placement"?YJ(e,t):aM(e,t,!1)),e}function qJ({el:t}){for(let e=t.parentElement;e;e=e?.parentElement??null){if(oM.has(e.localName))return e;if("ownedBy"in e&&e.ownedBy instanceof HTMLElement&&oM.has(e.ownedBy.localName))return e.ownedBy}}const oM=new Set(["arcgis-map","arcgis-scene","arcgis-link-chart","arcgis-expand","arcgis-placement"]);function HJ(t,e){if(t!==e)return!1;const r=t.localName;return r==="arcgis-expand"||r==="arcgis-placement"}function u1(t,e,r="arcgisReady"){const i=t;if(i.view)e(i.view);else{let s=function(n){n.target===t&&(u1(t,e,r),t.removeEventListener(r,s))};t.addEventListener(r,s)}}const WJ=(t,e)=>u1(t,r=>{e.el.childElem&&t.content!=null&&t.content.append(e.el.childElem),t.expandIcon=e.icon||e.widget?.icon||t.expandIcon,e.position=t.position,e.el.view=r}),YJ=(t,e)=>u1(t,r=>{e.el.childElem&&e.el.append(e.el.childElem),e.position=t.position,e.el.view=r}),aM=(t,e,r)=>u1(t,i=>{r?oL(e):e.el.childElem&&JJ(t,e),e.el.view=i},"arcgisViewReadyChange");function JJ(t,e){const r=e.el.childElem??e.el,i=t?.childElem,s=[...t.children],n={};for(const l of s){if(l===i)continue;const c=l.position??"manual";n[c]??=[],n[c].push({child:l,position:c,index:s.indexOf(l)})}const o=n[e.position??"manual"]?.findIndex(({child:l})=>l===e.el),a=t.view.ui;a.remove(r),a.add(r,{position:e.position,index:o})}function oL(t){t.el.childElem&&(t.el.shadowRoot??t.el).append(t.el.childElem)}function KJ(t,e){const r=t.referenceElement;if(typeof r!="string")return r??void 0;const i=r.includes("#")||r.includes(".")||r.includes("["),s=t.el.getRootNode();return(i?void 0:s.querySelector(`#${r}`))??s.querySelector(r)??void 0}class ZJ extends _S{#e=AJ(void 0);#t=void 0;#r=!1;constructor(e){super(e);const{el:r}=e,i=r.view;this.setProvisionalExports(void 0),Object.defineProperty(r,"view",{get:()=>this.#e.value,set:s=>{if(this.exports===s)return;const n=r.view;this.#e.value=s,this.exports=s,this.component.requestUpdate("view",n),this.#i()},configurable:!0,enumerable:!0}),e!==r&&Object.defineProperty(e,"view",{get:()=>r.view,set:s=>{r.view=s}}),queueMicrotask(()=>i?r.view=i:0)}hostConnected(){this.component.manager.hasDestroy&&(this.#t??=H_(()=>this.#e.value?.destroyed,()=>void this.component.destroy?.().catch(console.error),{sync:!0}),this.onDestroy(()=>this.#t?.remove())),this.component.manager.loadedCalled&&yy(this.component)}hostLoad(){this.component.manager.destroyed}hostLoaded(){const{el:e}=this.component,r=e.shadowRoot?.firstElementChild??e.firstElementChild??void 0;e.childElem??=r,this.#r=!0,this.#i(),e.isConnected&&yy(this.component)}hostDisconnected(){typeof this.component.el.childElem=="object"&&this.#e.value?.ui?.remove(this.component.el.childElem)}hostUpdate(e){e.has("position")&&this.component.el.childElem!=null&&typeof this.component.position=="string"&&yy(this.component),e.has("referenceElement")&&yy(this.component)}#i(){!this.#r||this.#e.value==null||(this.#r=!1,this.component.arcgisReady.emit())}}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.10 */const XJ=(t,e)=>r=>eK(r,t);let QJ=class extends BJ{#e=void 0;constructor(e,r){super(e,r),new ZJ(this.component)}hostLoad(){this.#e=Jr(()=>this.component.el.view,e=>{this.instance.view=e,this.instance.map=e?.map},{sync:!0,initial:!0})}hostDestroy(){this.#e?.remove(),super.hostDestroy()}};const eK=iL(QJ);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.10 */const lM={disabled:"esri-disabled",widget:"esri-widget esri-component"};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.10 */const cM={dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical"};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.10 */const tK=IY`@layer{arcgis-swipe,.arcgis-swipe{position:absolute;margin:0;background:transparent!important;padding:0;width:100%;height:100%;overflow:hidden;user-select:none}.arcgis-swipe,.arcgis-ui .arcgis-swipe{pointer-events:none!important}.arcgis-swipe__container{position:absolute;z-index:1;margin:0;outline:0;border:0;padding:0;overflow:hidden;pointer-events:auto;touch-action:none;outline-color:transparent}.arcgis-swipe--horizontal .arcgis-swipe__container{margin-left:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:col-resize;height:100%}.arcgis-swipe--vertical .arcgis-swipe__container{margin-top:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:row-resize;width:100%}.arcgis-swipe--disabled .arcgis-swipe__container{cursor:default;pointer-events:none}.arcgis-swipe__divider{position:absolute;background-color:var(--calcite-color-background)}.arcgis-swipe--horizontal .arcgis-swipe__divider{top:0;left:calc(var(--calcite-spacing-xxxl) / 2);margin-left:calc(var(--calcite-border-width-lg) * .5 * -1);border-right:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-left:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:var(--calcite-border-width-lg);height:100%}.arcgis-swipe--vertical .arcgis-swipe__divider{top:calc(var(--calcite-spacing-xxxl) / 2);left:0;margin-top:calc(var(--calcite-border-width-lg) * .5 * -1);border-top:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-bottom:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:100%;height:var(--calcite-border-width-lg)}.arcgis-swipe__handle{display:flex;position:relative;align-items:center;justify-content:center;border:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-radius:var(--calcite-corner-radius-round);background-color:var(--calcite-color-background);width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl);color:var(--calcite-color-border-input)}.arcgis-swipe__handle--hidden{visibility:hidden}.arcgis-swipe--vertical .arcgis-swipe__handle{rotate:90deg}.arcgis-swipe__handle-icon{position:relative;z-index:2}.arcgis-swipe--horizontal .arcgis-swipe__handle{top:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe--vertical .arcgis-swipe__handle{left:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe__container:focus .arcgis-swipe__handle,.arcgis-swipe__container:focus .arcgis-swipe__divider{outline:inset 2px var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)))}.arcgis-swipe__container:focus .arcgis-swipe__handle{outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}}`,Fo="arcgis-swipe",Xn={base:Fo,baseDisabled:`${Fo}--disabled`,vertical:`${Fo}--vertical`,horizontal:`${Fo}--horizontal`,container:`${Fo}__container`,divider:`${Fo}__divider`,handle:`${Fo}__handle`,handleHidden:`${Fo}__handle--hidden`,handleIcon:`${Fo}__handle-icon`},rK=XJ(UJ);let iK=class extends wS{constructor(){super(...arguments),this._container=null,this._swiping=!1,this.messages=jJ({}),this._pointerOffset=0,this.viewModel=rK(this),this._onContainerPointerDown=e=>{e.preventDefault();const{_container:r}=this;r&&document.activeElement!==this.el&&r.focus(),this._swiping=!0,this._calculatePointerOffset(e)},this.autoDestroyDisabled=!1,this.direction=this.viewModel.direction,this.disabled=!1,this.hideDivider=!1,this.hideHandle=!1,this.icon="compare",this.label=this.messages.componentLabel,this.leadingLayers=this.viewModel.leadingLayers,this.position="manual",this.swipePosition=this.viewModel.position,this.state=this.viewModel.state,this.trailingLayers=this.viewModel.trailingLayers,this.arcgisPropertyChange=kJ()("state"),this.arcgisReady=nJ()}static{this.properties={autoDestroyDisabled:5,direction:3,disabled:7,hideDivider:7,hideHandle:7,icon:1,label:1,leadingLayers:0,messageOverrides:0,position:3,swipePosition:9,referenceElement:1,state:3,trailingLayers:0}}static{this.shadowRootOptions=qw}static{this.styles=tK}async destroy(){await this.manager.destroy()}loaded(){this.listenOn(document,"pointermove",this._onContainerPointerMove),this.listenOn(document,"pointerup",this._onContainerPointerUp)}_calculatePointerOffset(e){const{direction:r}=this,i=e.target,s=(r==="vertical"?i.clientHeight:i.clientWidth)/2,n=i.getBoundingClientRect(),o=e.clientX-n.left,a=e.clientY-n.top;this._pointerOffset=r==="vertical"?a-s:o-s}_onContainerPointerUp(e){this._swiping&&(e.preventDefault(),this._swiping=!1)}_onContainerPointerMove(e){if(!this._swiping)return;e.preventDefault();const{_pointerOffset:r,el:i,direction:s}=this,{clientX:n,clientY:o}=e,{top:a,left:l,width:c,height:f}=i.getBoundingClientRect(),d=s==="vertical"?f:c,p=(s==="vertical"?o-a-r:n-l-r)/d*100;this.swipePosition=p}_getKeyPosition(e){const{key:r}=e,{swipePosition:i}=this,{max:s,min:n,step:o,stepMultiplier:a,direction:l}=this.viewModel,c=o*a;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].includes(r)&&(e.preventDefault(),e.stopPropagation()),l==="vertical"?r==="ArrowDown"||r==="ArrowRight":r==="ArrowUp"||r==="ArrowRight"){const f=e.shiftKey?c:o;return i+f}if(l==="vertical"?r==="ArrowUp"||r==="ArrowLeft":r==="ArrowDown"||r==="ArrowLeft"){const f=e.shiftKey?c:o;return i-f}return r==="Home"?n:r==="End"?s:(l==="vertical"?r==="PageDown":r==="PageUp")?i+c:(l==="vertical"?r==="PageUp":r==="PageDown")?i-c:null}_onContainerKeyDown(e){const r=this._getKeyPosition(e);typeof r=="number"&&(this.swipePosition=r)}render(){const{state:e,direction:r}=this.viewModel,i=e==="disabled"||this.disabled,s={[lM.disabled]:i,[Xn.baseDisabled]:i,[Xn.vertical]:r==="vertical",[Xn.horizontal]:r==="horizontal"};return qf`<div class=${Mu(qb(Xn.base,lM.widget,s))}>${e==="disabled"?null:this._renderContainer()}</div>`}_renderHandle(){const{direction:e}=this.viewModel,{hideHandle:r}=this,i={[cM.dragHorizontal]:e==="vertical",[cM.dragVertical]:e==="horizontal"},s=qb(Xn.handle,!!r&&Xn.handleHidden);return qf`<div class=${Mu(s)} role=presentation><span aria-hidden=true class=${Mu(qb(Xn.handleIcon,i))}></span></div>`}_renderDivider(){return this.hideDivider?null:qf`<div class=${Mu(Xn.divider)} role=presentation></div>`}_renderContent(){return[this._renderDivider(),this._renderHandle()]}_renderContainer(){const{disabled:e,viewModel:r}=this,{max:i,min:s,direction:n,position:o}=r,a=this.label??this.messages.dragLabel??"",l=`${o}%`,c={top:n==="vertical"?l:void 0,left:n==="vertical"?void 0:l},f=this._renderContent();return e?qf`<div class=${Mu(Xn.container)} role=presentation style=${nM(c)}>${f}</div>`:qf`<div @pointerdown=${this._onContainerPointerDown} .ariaLabel=${a} .ariaOrientation=${n} .ariaValueMax=${`${i}`} .ariaValueMin=${`${s}`} .ariaValueNow=${`${o}`} .ariaValueText=${l} class=${Mu(Xn.container)} @keydown=${this._onContainerKeyDown} role=slider style=${nM(c)} tabindex=0 title=${a??xJ} touch-action=none>${f}</div>`}};$J("arcgis-swipe",iK);class Nt{static async Basemap(e){const r=await ve(()=>import("./Basemap-XU7r1TCw.js").then(i=>i.B),__vite__mapDeps([39,1,40,41,38,3,42]),import.meta.url);return Reflect.construct(r.default,[e])}static async Map(e){const r=await ve(()=>import("./Map-CaIQd1Uy.js"),__vite__mapDeps([67,39,1,40,41,38,3,42,68,5,69,70,71,72,73,61,74,75,76,77,78,46,47]),import.meta.url);return Reflect.construct(r.default,[e])}static async MapView(e){const r=await ve(()=>import("./MapView-D98WogXk.js").then(i=>i.H),__vite__mapDeps([79,1,80,68,63,10,3,61,49,50,4,5,6,81,41,82,83,67,39,40,38,42,69,70,71,72,73,74,75,76,77,78,46,47,84,45,35,11,85,24,25,86,87,88,89,90,91,92,93,94,95,28,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,7,113,114]),import.meta.url);return Reflect.construct(r.default,[e])}static async FeatureLayer(e){const r=await ve(()=>import("./FeatureLayer-BWW7uCSC.js"),__vite__mapDeps([115,1,44,56,116,24,25,45,55,57,58,47,35,117,41,5,85,118,119,120,121,122,123,124,125,66,126,127,128,129,130,131,132,60,61,46,63,10,3,133,134,135,136,54,137,138,139,75,76,77,140,141,142,143,144,145,146,147,148,149,150,151,152,13,14,153,83,34,18,154,16,17,155,156,157,158,159,160,70,161,162,59,38,163,164,165,166,167,168,169,170,171,172,173,174,175]),import.meta.url);return Reflect.construct(r.default,[e])}static async GraphicsLayer(e){const r=await ve(()=>import("./GraphicsLayer-ClnMV2V-.js"),__vite__mapDeps([176,84,46,1,47,137,56,138,139,75,76,77,164,57,58]),import.meta.url);return Reflect.construct(r.default,[e])}static async ImageryLayer(e){const r=await ve(()=>import("./ImageryLayer-p6RTr5MG.js"),__vite__mapDeps([177,1,44,46,47,55,56,57,58,178,24,25,179,152,119,120,121,122,125,123,124,66,180,181,182,183,184,159,77,160,63,10,3,94,95,28,96,185,41,138,139,75,76,186,155,156,157,13,14,187,34,18,35,188,85,135,189,190,191,192,193,31,32,30,33,134,61,194,54,137,140,59,38,60,163,164,165,166,172,174,175]),import.meta.url);return Reflect.construct(r.default,[e])}static async MapImageLayer(e){const r=await ve(()=>import("./MapImageLayer-DcJM9gia.js"),__vite__mapDeps([195,1,40,41,44,142,46,47,136,196,83,55,56,57,58,60,61,68,197,132,85,24,25,28,190,191,94,95,96,192,193,31,32,30,33,134,198,29,135,194,161,162,117,5,118,119,120,121,122,123,124,125,66,126,127,128,169,168,34,18,35,129,130,131,151,152,13,14,153,154,16,17,155,156,157,158,159,77,160,174,199,54,137,138,139,75,76,140,59,38,163,164,165,166,200,201,188,172,175]),import.meta.url);return Reflect.construct(r.default,[e])}static async OpenStreetMapLayer(e){const r=await ve(()=>import("./OpenStreetMapLayer-j9olIVLF.js"),__vite__mapDeps([202,203,44,46,1,47,137,56,138,139,75,76,77,55,57,58,59,41,38,60,61,163,164,188,49,50]),import.meta.url);return Reflect.construct(r.default,[e])}static async TileLayer(e){const r=await ve(()=>import("./TileLayer-CSVqn6se.js"),__vite__mapDeps([204,40,41,44,46,1,47,136,48,49,50,51,52,53,13,14,31,196,83,55,56,57,58,60,61,68,197,132,85,24,25,28,190,191,94,95,96,192,193,32,30,33,134,198,29,135,194,161,162,117,5,118,119,120,121,122,123,124,125,66,126,127,128,169,168,34,18,35,129,130,131,151,152,153,154,16,17,155,156,157,158,159,77,160,174,199,54,137,138,139,75,76,140,59,38,163,164,188]),import.meta.url);return Reflect.construct(r.default,[e])}static async WMSLayer(e){const r=await ve(()=>import("./WMSLayer-C7bXmTgg.js"),__vite__mapDeps([205,68,44,6,142,46,1,47,137,56,138,139,75,76,77,55,57,58,59,41,38,60,61,163,164,165,166,35,206,207,188]),import.meta.url);return Reflect.construct(r.default,[e])}static async ArcadeExecutor(e,r){const{createArcadeExecutor:i}=await ve(async()=>{const{createArcadeExecutor:s}=await import("./arcade-DfHk7Wm7.js");return{createArcadeExecutor:s}},__vite__mapDeps([208,16,17,18,22,115,1,44,56,116,24,25,45,55,57,58,47,35,117,41,5,85,118,119,120,121,122,123,124,125,66,126,127,128,129,130,131,132,60,61,46,63,10,3,133,134,135,136,54,137,138,139,75,76,77,140,141,142,143,144,145,146,147,148,149,150,151,152,13,14,153,83,34,154,155,156,157,158,159,160,70,161,162,59,38,163,164,165,166,167,168,169,170,171,172,173,174,175]),import.meta.url);return await i(e,r)}static async ColorBackground(e){const r=await ve(()=>import("./ColorBackground-nswGzTfh.js"),__vite__mapDeps([114,1]),import.meta.url);return Reflect.construct(r.default,[e])}static async FeatureFilter(e){const r=await ve(()=>import("./FeatureFilter-Cfur5CbU.js"),__vite__mapDeps([147,85,24,25,47,1]),import.meta.url);return Reflect.construct(r.default,[e])}static async FieldFromJson(e){return(await ve(()=>import("./Field-DLGOe1__.js").then(i=>i.F),__vite__mapDeps([24,25]),import.meta.url)).default.fromJSON(e)}static async Query(){const e=await ve(()=>import("./Query-fq6LNV_8.js").then(r=>r.Q),__vite__mapDeps([85,24,25,47]),import.meta.url);return Reflect.construct(e.default,[])}static async QueryByIds(e,r,i){const{executeForIds:s}=await ve(async()=>{const{executeForIds:n}=await import("./query-Breou67A.js");return{executeForIds:n}},__vite__mapDeps([209,210,126,85,24,25,47,211,28,1,94,95,96,191,192,193,31,32,30,33,134,61,212,135,213,214,215,216,127,35,190,198,29,217,218,219,220,221,194,222,223]),import.meta.url);return s(e,r,i)}static async RendererFromJson(e){const{fromJSON:r}=await ve(async()=>{const{fromJSON:i}=await import("./jsonUtils-7zhlybMM.js");return{fromJSON:i}},__vite__mapDeps([150,151,152,119,120,121,122,58,125,1,13,14,153,83,34,18,35,154,16,17,155,156,157,158,159,77,160,118,123,124,66]),import.meta.url);return r(e)}}class Be{wkid;latestWkid;wkt;constructor(e,r){typeof e=="string"?this.wkt=e:(this.wkid=e,this.latestWkid=r)}isEqual(e){return!!(this.isWebMercator()&&e.isWebMercator()||this.wkid&&e.wkid&&this.wkid===e.wkid||this.wkt&&e.wkt&&this.wkt===e.wkt||this.latestWkid&&e.latestWkid&&this.latestWkid===e.latestWkid)}clone(){const e=new Be("");return e.latestWkid=this.latestWkid,e.wkid=this.wkid,e.wkt=this.wkt,e}lean(){const e={};return this.wkt?e.wkt=this.wkt:(e.wkid=this.wkid,this.latestWkid&&(e.latestWkid=this.latestWkid)),e}isWebMercator(){const e=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&e.includes(this.wkid)||this.latestWkid&&e.includes(this.latestWkid))}static latLongSR(){return new Be(4326)}static fromConfig(e){if(e.wkt)return new Be(e.wkt);if(e.wkid)return new Be(e.wkid,e.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(e){return e?e instanceof Be?e.clone():typeof e=="string"&&e.startsWith("EPSG:")?new Be(parseInt(e.substring(5).trim())):new Be(e):Be.latLongSR()}static fromESRI(e){if(e.wkt)return new Be(e.wkt);{const r=e.toJSON().latestWkid,i=new Be(e.wkid);return r&&(i.latestWkid=r),i}}toESRI(){return new Qe(this.lean())}static fromGeoJSON(e){const r=Be.parseGeoJsonCrs(e);return r.substring(0,5)==="EPSG:"?new Be(parseInt(r.slice(5))):new Be(r)}static parseGeoJsonCrs(e){if(e){if(e.type==="name"){const r=/urn:ogc:def:crs:EPSG::(\d+)/,i=e.properties.name,s=i.match(r);if(s)return"EPSG:"+s[1];if(i.substring(0,7)!=="urn:ogc")return i}}else return"EPSG:4326";return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",e),"EPSG:4326"}toGeoJSON(){const e={type:"name",properties:{name:""}};return this.wkt?e.properties.name=this.wkt:e.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),e}}class cu{sr;id;constructor(e,r){this.id=e?e.toString():"",this.sr=Be.parseSR(r)}get type(){return Ke.UNKNOWN}childIdGenerator(e){return`${this.id}-${e}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===Ke.NONE||this.type===Ke.UNKNOWN}geoJsonFactory(e,r){const i={type:e,coordinates:r};return this.sr&&(i.crs=this.sr.toGeoJSON()),i}}class Nl extends cu{constructor(){super("no_geometry")}get type(){return Ke.NONE}}let Ji=class Ed extends cu{rawArray;constructor(e,r,i,s){super(e,r.sr||i),s?this.rawArray=r.slice():this.rawArray=Ed.parseXY(r)}get type(){return Ke.POINT}get x(){return this.rawArray[0]}set x(e){this.rawArray[0]=e}get y(){return this.rawArray[1]}set y(e){this.rawArray[1]=e}toArray(){return this.rawArray.slice()}static parseXY(e){let r;if(Array.isArray(e)&&e.length===2)r=e;else{if(e instanceof Ed)return e.toArray();r=[e.x,e.y]}if(isNaN(r[0])||isNaN(r[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(r[0]),parseFloat(r[1])]}static fromESRI(e,r){return new Ed(r,[e.x,e.y],Be.fromESRI(e.spatialReference),!0)}toESRI(){return new ut({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,r){return new Ed(r,e.coordinates,Be.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(pr.POINT,this.toArray())}};class ys extends cu{rawArray;constructor(e,r,i,s){super(e,r.sr||i),s?this.rawArray=ys.arrayDeepCopy(r):r instanceof ys?this.rawArray=r.toArray():this.rawArray=ys.parsePointSet(r)}get pointArray(){return this.rawArray.map((e,r)=>new Ji(this.childIdGenerator(r),e,this.sr,!0))}getAt(e){return new Ji(this.childIdGenerator(e),this.rawArray[e],this.sr,!0)}updateAt(e,r){this.rawArray[r]=Ji.parseXY(e)}get length(){return this.rawArray.length}toArray(){return ys.arrayDeepCopy(this.rawArray)}static parsePointSet(e){if(Array.isArray(e)){if(e.length===0)throw new Error("no verticies provided");return e.map(r=>Ji.parseXY(r))}else throw new Error("Bad geometry input encountered")}static arrayDeepCopy(e){return e.map(r=>r.slice())}}class _h extends ys{constructor(e,r,i,s){super(e,r,i,s)}get type(){return Ke.MULTIPOINT}static fromESRI(e,r){return new _h(r,e.points,Be.fromESRI(e.spatialReference),!0)}toESRI(){return new wn({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,r){return new _h(r,e.coordinates,Be.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(pr.MULTIPOINT,this.toArray())}}class pl extends ys{constructor(e,r,i,s){if(super(e,r,i,s),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return Ke.LINESTRING}static fromESRI(e,r){return new pl(r,e.paths[0],Be.fromESRI(e.spatialReference),!0)}toESRI(){return new ls({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,r){return new pl(r,e.coordinates,Be.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(pr.LINESTRING,this.toArray())}}class En extends cu{rawArray;constructor(e,r,i,s){if(super(e,r.sr||i),s)this.rawArray=En.arrayDeepCopy(r);else if(r instanceof En)this.rawArray=r.toArray();else if(r instanceof ys)this.rawArray=[r.toArray()];else if(Array.isArray(r)){if(r.length===0)throw new Error("no lines provided");this.rawArray=r.map(n=>ys.parsePointSet(n))}else throw new Error("invalid lines format for MulitLineString")}get lineArray(){return this.rawArray.map((e,r)=>new pl(this.childIdGenerator(r),e,this.sr,!0))}getAt(e){return new pl(this.childIdGenerator(e),this.rawArray[e],this.sr,!0)}updateAt(e,r){this.rawArray[r]=ys.parsePointSet(e)}get length(){return this.rawArray.length}get type(){return Ke.MULTILINESTRING}toArray(){return En.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(e){return e.map(r=>r.map(i=>i.slice()))}static fromESRI(e,r){return new En(r,e.paths,Be.fromESRI(e.spatialReference),!0)}toESRI(){return new ls({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,r){return new En(r,e.coordinates,Be.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(pr.MULTILINESTRING,this.toArray())}}class Pc extends ys{constructor(e,r,i,s){if(super(e,r,i,s),Pc.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return Ke.LINEARRING}updateAt(e,r){const i=this.length-1;r===0?super.updateAt(e,i):r===i&&super.updateAt(e,0),super.updateAt(e,r)}static closeRing(e){const r=e[0],i=e[e.length-1];(r[0]!==i[0]||r[1]!==i[1])&&e.push(r.slice())}static fromESRI(e,r){return new Pc(r,e.rings[0],Be.fromESRI(e.spatialReference),!0)}toESRI(){return new si({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,r){return new Pc(r,e.coordinates,Be.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(pr.POLYGON,[this.toArray()])}}class $i extends cu{rawArray;constructor(e,r,i,s){super(e,r.sr||i),s?this.rawArray=$i.arrayDeepCopy(r):this.rawArray=$i.parsePolygon(r)}addLinearRings(e){e.forEach(r=>this.rawArray.push(r.toArray()))}get ringArray(){return this.rawArray.map((e,r)=>new Pc(this.childIdGenerator(r),e,this.sr,!0))}get type(){return Ke.POLYGON}toArray(){return $i.arrayDeepCopy(this.rawArray)}static parsePolygon(e){let r=[];if(e instanceof $i)return e.toArray();if(e instanceof En)r=e.toArray();else if(e instanceof ys)r=[e.toArray()];else if(Array.isArray(e)){if(e.length===0)throw new Error("no rings provided");r=e.map(i=>ys.parsePointSet(i))}else throw new Error("invalid input format for parsePolygon");return r.forEach(i=>Pc.closeRing(i)),r}static arrayDeepCopy(e){return e.map(r=>r.map(i=>i.slice()))}static fromESRI(e,r){return new $i(r,e.rings,Be.fromESRI(e.spatialReference),!0)}toESRI(){return new si({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,r){return new $i(r,e.coordinates,Be.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(pr.POLYGON,this.toArray())}}class na extends cu{rawArray;constructor(e,r,i,s){super(e,r.sr||i),s?this.rawArray=na.arrayDeepCopy(r):this.rawArray=na.parseMultiPolygon(r)}addPolygon(e){this.rawArray.push(e.toArray())}get polygonArray(){return this.rawArray.map((e,r)=>new $i(this.childIdGenerator(r),e,this.sr,!0))}get type(){return Ke.MULTIPOLYGON}toArray(){return na.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(e){if(e instanceof na)return e.toArray();if(e instanceof $i)return[e.toArray()];if(e instanceof En||e instanceof ys)return[$i.parsePolygon(e)];if(Array.isArray(e)){if(e.length===0)throw new Error("no polygons provided");return e.map(r=>$i.parsePolygon(r))}else throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(e){return e.map(r=>r.map(i=>i.map(s=>s.slice())))}static fromESRI(e,r){return new na(r,[e.rings],Be.fromESRI(e.spatialReference),!0)}toESRI(){const e=[];return this.toArray().forEach(r=>{r.forEach(i=>e.push(i))}),new si({rings:e,spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,r){return new na(r,e.coordinates,Be.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(pr.MULTIPOLYGON,this.toArray())}}class er extends cu{rawMin;rawMax;constructor(e,r,i,s){super(e,r.sr||s),this.rawMin=Ji.parseXY(r),this.rawMax=Ji.parseXY(i)}get type(){return Ke.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new Ji(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(e){return er.fromESRI(this.toESRI().expand(e),`${this.id}-expanded`)}clone(){return new er(this.id,this.rawMin,this.rawMax,this.sr)}contains(e){return this.sr.isEqual(e.sr)?this.xmin<=e.x&&this.xmax>=e.x&&this.ymin<=e.y&&this.ymax>=e.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new $i(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(e,r,i,s,n,o){return new er(e,[r,i],[s,n],o)}static fromConfig(e,r){return new er(e,[r.xmin,r.ymin],[r.xmax,r.ymax],Be.fromConfig(r.spatialReference))}isEqual(e){return e?this.xmin===e.xmin&&this.ymin===e.ymin&&this.xmax===e.xmax&&this.ymax===e.ymax:!1}static fromESRI(e,r){return er.fromParams(r,e.xmin,e.ymin,e.xmax,e.ymax,Be.fromESRI(e.spatialReference))}toESRI(){return new Et({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(e,r){return er.fromESRI(Et.fromJSON(e),r)}static fromGeoJSON(e,r){if(e.coordinates.length!==5)throw new Error("Extent expected a four vertex polygon from GeoJSON");const i=e.coordinates[0].slice(),s=i.slice();return[1,2,3].forEach(n=>{[0,1].forEach(o=>{const a=e.coordinates[n];i[o]>a[o]&&(i[o]=a[o]),s[o]<a[o]&&(s[o]=a[o])})}),new er(r,i,s,Be.fromGeoJSON(e.crs))}toGeoJSON(){return this.geoJsonFactory(pr.POLYGON,this.toPolygonArray())}}class ga{c;constructor(e){if(!e){this.c=[0,0,0,1];return}if(Array.isArray(e)){const r=e.length;if(r<3||r>4){console.error("Invalid colour value array passed to Colour class"),this.c=[0,0,0,1];return}this.c=e.map((i,s)=>s===3?i:parseInt(i)),r===3&&this.c.push(1)}else if(typeof e=="string"){const r=e.substring(0,1)==="#"?e.substring(1):e;this.c=[0,2,4,6].map(i=>{const s=r.substring(i,i+2);return ga.hexToInt(s)})}else this.c=[e.r,e.g,e.b,e.a??1];this.c.forEach((r,i)=>{r<0&&(console.error("Negative value passed to colour"),this.c[i]=0),r>255&&(console.error("Rotund value passed to colour"),this.c[i]=255)}),this.c[3]>1&&(this.c[3]=this.c[3]/255)}get rgba(){return this.c.slice()}get hex(){const e=this.rgba;return e[3]=e[3]*255,`#${e.map(r=>ga.intToHex(r)).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new wt(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(e){return e.length===0?255:parseInt(e,16)}static intToHex(e){const r=e.toString(16);return r.length===1?`0${r}`:r}}class oa{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(e){if(!(typeof e>"u"))if(typeof e=="string"){let r;const i=e.length;if(i===0)return;const s=e.substring(i-2);return s==="px"?r=parseFloat(e.substring(0,i-2))*1.333333:s==="pt"?r=parseFloat(e.substring(0,i-2)):r=parseFloat(e),r}else return e}}class ul extends oa{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(e){if(e=e||{style:Go.CIRCLE},super(),this._style=e.style||Go.CIRCLE,e.style===Go.ICON){const r=e;this._icon=r.icon||"",this._height=oa.convToPoints(r.height)||16.5,this._width=oa.convToPoints(r.width)||16.5,this._size=0,this._colour=new ga,this._outline=new vo,this._path=""}else{const r=e;this._size=oa.convToPoints(r.size)||12,this._colour=new ga(r.colour??"#ffffff40"),this._outline=new vo(r.outline),this._path=this._style===Go.PATH&&r.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=oa.convToPoints(e.xOffset)||0,this._yOffset=oa.convToPoints(e.yOffset)||0,this._angle=e.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(e){this._style===Go.ICON!==e&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const e={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===Go.ICON?{...e,icon:this.icon,width:this.width,height:this.height}:{...e,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let e;return this.styleType===Go.ICON?ul.isImageUrl(this.icon)?(e=new Ei,e.url=this.icon,e.width=this.width,e.height=this.height,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle):(e=new zr,e.color=new wt(this.colour.rgba),e.size=this.width,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle):(e=new zr,e.color=new wt(this.colour.rgba),e.size=this.size,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle,e.path=this.path,e.style=this.styleType,e.outline=this.outline.toESRI()),e}static fromESRI(e){const r={xOffset:e.xoffset,yOffset:e.yoffset,angle:e.angle};if(e.type==="simple-marker"){const i=r;i.style=e.style,i.colour=e.color.toRgba(),i.size=e.size,i.path=e.path,i.outline=vo.fromESRI(e.outline).toOptions()}else{const i=r;i.style=Go.ICON,i.width=e.width,i.height=e.height,i.icon=e.url}return new ul(r)}static fromArcServer(e){return ul.fromESRI(aS(e))}static isImageUrl(e){return!!e.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!e.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class vo extends oa{_style;_width;_miter;_cap;_join;_colour;constructor(e){e=e||{},super(),this._style=e.style||ss.SOLID;const r=oa.convToPoints(e.width);this._width=typeof r>"u"||r<0?.75:r,this._colour=new ga(e.colour),this._miter=e.miter??2,this._cap=e.cap||MI.ROUND,this._join=e.join||TI.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const e=new qr;return e.width=this.width,e.color=this.colour.toESRI(),e.style=this.styleType,e.cap=this.cap,e.miterLimit=this.miter,e.join=this.join,e}static fromESRI(e){const r={width:e.width,colour:e.color.toRgba(),style:e.style};return new vo(r)}static fromArcServer(e){return vo.fromESRI(aS(e))}}class kp extends oa{_outlineStyle;_fillColour;_fillStyle;constructor(e){super(),e=e||{},e.fill||(e.fill={}),this._fillColour=new ga(e.fill.colour),this._fillStyle=e.fill.style||$I.SOLID,this._outlineStyle=new vo(e.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const e=this.outline.toESRI(),r=new wt(this.fillColour.rgba),i=new Is;return i.style=this.fillStyleType,i.color=r,i.outline=e,i}static fromESRI(e){const r={fill:{colour:e.color.toRgba(),style:e.style},outline:vo.fromESRI(e.outline).toOptions()};return new kp(r)}static fromArcServer(e){return kp.fromESRI(aS(e))}}class sK{Extent=er;Graphic=Fn;LineString=pl;LineStyle=vo;LinearRing=Pc;MultiLineString=En;MultiPoint=_h;MultiPolygon=na;Point=Ji;PointStyle=ul;Polygon=$i;PolygonStyle=kp;SpatialReference=Be;esriMapClickToRamp(e,r){return{mapPoint:Ji.fromESRI(e.mapPoint,r),screenX:e.x,screenY:e.y,button:e.button,input:e.native.pointerType,clickTime:e.timestamp}}esriMapMouseToRamp(e){return{screenX:e.x,screenY:e.y,button:e.button,moveTime:e.timestamp}}geomRampToEsri(e){return e.toESRI()}geomEsriToRamp(e,r){switch(e.type){case"point":return Ji.fromESRI(e,r);case"polyline":{const i=e;return i.paths.length===1?pl.fromESRI(i,r):En.fromESRI(i,r)}case"polygon":return $i.fromESRI(e,r);case"extent":return er.fromESRI(e,r);case"multipoint":return _h.fromESRI(e,r);default:throw new Error(`Encountered unhandled geometry type ${e.type}`)}}geomGeoJsonToRamp(e,r){switch(e.type){case pr.POINT:return Ji.fromGeoJSON(e,r);case pr.LINESTRING:return pl.fromGeoJSON(e,r);case pr.POLYGON:return $i.fromGeoJSON(e,r);case pr.MULTIPOINT:return _h.fromGeoJSON(e,r);case pr.MULTILINESTRING:return En.fromGeoJSON(e,r);case pr.MULTIPOLYGON:return na.fromGeoJSON(e,r);default:throw new Error(`Encountered unhandled geometry type ${e.type}`)}}geomRampToGeoJson(e){return e.toGeoJSON()}graphicRampToGeoJson(e){const r={},i={type:"Feature",geometry:this.geomRampToGeoJson(e.geometry),properties:r};return Object.keys(e.attributes).forEach(s=>i.properties[s]=e.attributes[s]),i}graphicGeoJsonToRamp(e,r){if(e.type!=="Feature")throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const i=this.geomGeoJsonToRamp(e.geometry,r),s={};return Object.keys(e.properties.forEach(o=>s[o]=e.properties[o])),new Fn(i,"",s)}graphicRampToEsri(e){const r={attributes:{},id:e.id};return r.geometry=this.geomRampToEsri(e.geometry),Object.keys(e.attributes).forEach(i=>r.attributes[i]=e.attributes[i]),e.style&&(r.symbol=this.styleRampToEsri(e.style)),new ts(r)}styleRampToEsri(e){return e.toESRI()}styleEsriToRamp(e){switch(e.type){case"picture-marker":case"simple-marker":return ul.fromESRI(e);case"simple-line":return vo.fromESRI(e);case"simple-fill":return kp.fromESRI(e);default:return console.error(`Unsupported ESRI symbol type encountered: ${e.type}`),new ul}}serverGeomTypeToRampGeomType(e){if(!e)return Ke.NONE;switch(e){case"esriGeometryPolygon":return Ke.POLYGON;case"esriGeometryPolyline":return Ke.LINESTRING;case"esriGeometryPoint":return Ke.POINT;case"esriGeometryMultipoint":return Ke.MULTIPOINT;case"esriGeometryEnvelope":return Ke.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${e}`),Ke.UNKNOWN}}clientGeomTypeToRampGeomType(e){if(!e)return Ke.NONE;switch(e){case"polygon":return Ke.POLYGON;case"polyline":return Ke.LINESTRING;case"point":return Ke.POINT;case"multipoint":return Ke.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${e}`),Ke.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(e){switch(e){case pr.POINT:return"point";case pr.LINESTRING:case pr.MULTILINESTRING:return"polyline";case pr.POLYGON:case pr.MULTIPOLYGON:return"polygon";case pr.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${e}`)}}isImageUrl(e){return ul.isImageUrl(e)}}class Tg{layerIdx;name;children;uid;isRoot;constructor(e,r,i="",s=!0){this.layerIdx=e,this.name=i,this.isRoot=s,this.children=[],this.uid=r}findChildByUid(e){if(this.uid===e)return this;{let r;return this.children.some(i=>r=i.findChildByUid(e)),r}}findChildByIdx(e){if(this.layerIdx===e)return this;{let r;return this.children.some(i=>r=i.findChildByIdx(e)),r}}get isLogicalLayer(){return this.layerIdx>-1&&this.children.length===0}get isLayerRoot(){return this.isRoot}}class aL{minScale;maxScale;constructor(e=0,r=0){this.minScale=e,this.maxScale=r}isOffScale(e){const r={offScale:!1,zoomIn:!1};return e<this.maxScale&&this.maxScale!==0?(r.offScale=!0,r.zoomIn=!1):e>this.minScale&&this.minScale!==0&&(r.offScale=!0,r.zoomIn=!0),r}}class lL{sql;cache;extent;constructor(e="",r=""){this.sql={[Vi.PERMANENT]:e,[Vi.INITIAL]:r},this.extent=void 0,this.cache={}}sqlActiveFilters(e=[]){const r=this.sql,i=Object.keys(r).filter(s=>r[s]);return e.length===0?i:i.filter(s=>e.indexOf(s)===-1)}isActive(){return this.sqlActiveFilters([Vi.PERMANENT]).length>0}getCombinedSql(e=[]){const r=this.sqlActiveFilters(e),i=r.length;return i===0?"":i===1?this.sql[r[0]]:r.map(s=>`(${this.sql[s]})`).join(" AND ")}setSql(e,r){e===Vi.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[e]=r,this.clearCacheSet(e))}getSql(e){return this.sql[e]||""}setExtent(e){e.isEqual(this.extent)||(this.extent=e,this.clearCacheSet(Vi.EXTENT))}getCacheKey(e,r){return`_cache$${e.sort().join("$")}${r?"$"+Vi.EXTENT:""}$`}getCache(e,r){const i=this.getCacheKey(e,r);return this.cache[i]}setCache(e,r,i){const s=this.getCacheKey(r,i);this.cache[s]=e}cacheActiveKeys(){const e=this.cache;return Object.keys(e).filter(r=>e[r])}clearAllCaches(){this.cache={}}clearCacheSet(e){this.cacheActiveKeys().forEach(r=>{r.indexOf(`$${e}$`)>-1&&delete this.cache[r]})}clearAll(){this.sql={[Vi.PERMANENT]:this.sql[Vi.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class Rp{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(e,r,i=void 0,s=void 0){this.id=e,this.sr=r.sr.clone(),this._defaultExtent=r.clone(),this._fullExtent=i?.clone(),this._maximumExtent=s?.clone(),i&&!i.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${i.sr}`),s&&!s.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${s.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(e){this._defaultExtent=e.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(e){this._fullExtent=e.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(e){this._maximumExtent=e.clone()}static fromConfig(e){return new Rp(e.id,er.fromConfig(`${e.id}-extent-default`,e.default),e.full!==void 0?er.fromConfig(`${e.id}-extent-full`,e.full):void 0,e.maximum!==void 0?er.fromConfig(`${e.id}-extent-maximum`,e.maximum):void 0)}clone(){return new Rp(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class Or{realPromise;resolveMe(e){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise((e,r)=>{this.resolveMe=i=>{e(i)},this.rejectMe=r})}}var gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nK(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function i(){var s=!1;try{s=this instanceof i}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),r}var Jb,uM;function oK(){if(uM)return Jb;uM=1;var t=function(T){return e(T)&&!r(T)};function e(E){return!!E&&typeof E=="object"}function r(E){var T=Object.prototype.toString.call(E);return T==="[object RegExp]"||T==="[object Date]"||n(E)}var i=typeof Symbol=="function"&&Symbol.for,s=i?Symbol.for("react.element"):60103;function n(E){return E.$$typeof===s}function o(E){return Array.isArray(E)?[]:{}}function a(E,T){return T.clone!==!1&&T.isMergeableObject(E)?b(o(E),E,T):E}function l(E,T,w){return E.concat(T).map(function(_){return a(_,w)})}function c(E,T){if(!T.customMerge)return b;var w=T.customMerge(E);return typeof w=="function"?w:b}function f(E){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(E).filter(function(T){return Object.propertyIsEnumerable.call(E,T)}):[]}function d(E){return Object.keys(E).concat(f(E))}function p(E,T){try{return T in E}catch{return!1}}function y(E,T){return p(E,T)&&!(Object.hasOwnProperty.call(E,T)&&Object.propertyIsEnumerable.call(E,T))}function v(E,T,w){var _={};return w.isMergeableObject(E)&&d(E).forEach(function(M){_[M]=a(E[M],w)}),d(T).forEach(function(M){y(E,M)||(p(E,M)&&w.isMergeableObject(T[M])?_[M]=c(M,w)(E[M],T[M],w):_[M]=a(T[M],w))}),_}function b(E,T,w){w=w||{},w.arrayMerge=w.arrayMerge||l,w.isMergeableObject=w.isMergeableObject||t,w.cloneUnlessOtherwiseSpecified=a;var _=Array.isArray(T),M=Array.isArray(E),$=_===M;return $?_?w.arrayMerge(E,T,w):v(E,T,w):a(T,w)}b.all=function(T,w){if(!Array.isArray(T))throw new Error("first argument should be an array");return T.reduce(function(_,M){return b(_,M,w)},{})};var S=b;return Jb=S,Jb}var aK=oK();const cL=h1(aK);class lK{generateUUID(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const i=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(r==="x"?i:i&3|8).toString(16)})}convertImageToCanvas(e,r,i=!0){const s=r??document.createElement("canvas"),n=document.createElement("img");i&&(n.crossOrigin="anonymous");const o=new Promise((a,l)=>{n.addEventListener("load",()=>{s.width=n.width,s.height=n.height,s.getContext("2d")?.drawImage(n,0,0),a(s)}),n.addEventListener("error",c=>l(c))});return n.src=e,o}async convertImagetoDataURL(e,r="image/png"){return e.startsWith("data")?e:this.convertImageToCanvas(e).then(i=>i.toDataURL(r)).catch(i=>(console.error("Failed to load crossorigin image",e,i),e))}parseUrlIndex(e){const r={rootUrl:e,index:0},i=/\/(\d+)\/?$/,s=e.match(i);if(s){const n=s[1];r.index=isNaN(parseInt(n))?void 0:parseInt(n),r.rootUrl=e.substr(0,e.length-s[0].length)}else console.warn("Cannot extract layer index from url "+e);return r}controlAvailable(e,r){return r?.disabledControls?.includes(e)?!1:r?.controls?r?.controls?.includes(e):!0}}class Mg{_url;_base;_query;_queryMap={};constructor(e){this._url=e,[this._base,this._query]=e.split("?").concat(""),this._queryMap=this._query.split("&").reduce((r,i)=>{const[s,n]=i.split("=");return r[s]=n,r},{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(e){const r=cL.all([{},this.queryMap,e]);return`${this.base}${Object.entries(r).filter(([,s])=>s!==void 0).map(([s,n],o)=>`${o===0?"?":""}${s}=${n}`).join("&")}`}}/* @preserve
* @terraformer/spatial - v2.1.2 - MIT
* Copyright (c) 2012-2024 Environmental Systems Research Institute, Inc.
* Wed May 15 2024 14:35:51 GMT-0700 (Pacific Daylight Time)
*/var zd=6378137,cK=57.29577951308232,uK=.017453292519943,hK={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},Kb=function(e){return e*cK},Zb=function(e){return e*uK},fK=function(e){var r=e[0],i=e[1];return[Kb(r/zd)-Math.floor((Kb(r/zd)+180)/360)*360,Kb(Math.PI/2-2*Math.atan(Math.exp(-1*i/zd)))]},dK=function(e){var r=e[0],i=Math.max(Math.min(e[1],89.99999),-89.99999);return[Zb(r)*zd,zd/2*Math.log((1+Math.sin(Zb(i)))/(1-Math.sin(Zb(i))))]};function Yw(t){"@babel/helpers - typeof";return Yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yw(t)}var pK=function t(e,r){for(var i=0;i<e.length;i++)typeof e[i][0]=="number"&&(e[i]=r(e[i])),Yw(e[i])==="object"&&(e[i]=t(e[i],r));return e},mK=function t(e,r,i){if(e.type==="Point")e.coordinates=r(e.coordinates);else if(e.type==="Feature")e.geometry=t(e.geometry,r,!0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length;s++)e.features[s]=t(e.features[s],r,!0);else if(e.type==="GeometryCollection")for(var n=0;n<e.geometries.length;n++)e.geometries[n]=t(e.geometries[n],r,!0);else e.coordinates=pK(e.coordinates,r);return i||r===dK&&(e.crs=hK),r===fK&&delete e.crs,e};function yK(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var Xc=1,Qc=2,wh=3,gK=4,Jw=5,hM=6378137,vK=6356752314e-3,fM=.0066943799901413165,qd=484813681109536e-20,he=Math.PI/2,bK=.16666666666666666,_K=.04722222222222222,wK=.022156084656084655,_e=1e-10,fi=.017453292519943295,fo=57.29577951308232,St=Math.PI/4,Dp=Math.PI*2,Sr=3.14159265359,As={};As.greenwich=0;As.lisbon=-9.131906111111;As.paris=2.337229166667;As.bogota=-74.080916666667;As.madrid=-3.687938888889;As.rome=12.452333333333;As.bern=7.439583333333;As.jakarta=106.807719444444;As.ferro=-17.666666666667;As.brussels=4.367975;As.stockholm=18.058277777778;As.athens=23.7163375;As.oslo=10.722916666667;const xK={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var dM=/[\s_\-\/\(\)]/g;function Sl(t,e){if(t[e])return t[e];for(var r=Object.keys(t),i=e.toLowerCase().replace(dM,""),s=-1,n,o;++s<r.length;)if(n=r[s],o=n.toLowerCase().replace(dM,""),o===i)return t[n]}function Kw(t){var e={},r=t.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),i,s,n,o={proj:"projName",datum:"datumCode",rf:function(a){e.rf=parseFloat(a)},lat_0:function(a){e.lat0=a*fi},lat_1:function(a){e.lat1=a*fi},lat_2:function(a){e.lat2=a*fi},lat_ts:function(a){e.lat_ts=a*fi},lon_0:function(a){e.long0=a*fi},lon_1:function(a){e.long1=a*fi},lon_2:function(a){e.long2=a*fi},alpha:function(a){e.alpha=parseFloat(a)*fi},gamma:function(a){e.rectified_grid_angle=parseFloat(a)},lonc:function(a){e.longc=a*fi},x_0:function(a){e.x0=parseFloat(a)},y_0:function(a){e.y0=parseFloat(a)},k_0:function(a){e.k0=parseFloat(a)},k:function(a){e.k0=parseFloat(a)},a:function(a){e.a=parseFloat(a)},b:function(a){e.b=parseFloat(a)},r:function(a){e.a=e.b=parseFloat(a)},r_a:function(){e.R_A=!0},zone:function(a){e.zone=parseInt(a,10)},south:function(){e.utmSouth=!0},towgs84:function(a){e.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){e.to_meter=parseFloat(a)},units:function(a){e.units=a;var l=Sl(xK,a);l&&(e.to_meter=l.to_meter)},from_greenwich:function(a){e.from_greenwich=a*fi},pm:function(a){var l=Sl(As,a);e.from_greenwich=(l||parseFloat(a))*fi},nadgrids:function(a){a==="@null"?e.datumCode="none":e.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(e.axis=a)},approx:function(){e.approx=!0}};for(i in r)s=r[i],i in o?(n=o[i],typeof n=="function"?n(s):e[n]=s):e[i]=s;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var Fp=1,uL=2,hL=3,$g=4,fL=5,xS=-1,EK=/\s/,SK=/[A-Za-z]/,AK=/[A-Za-z84_]/,f1=/[,\]]/,dL=/[\d\.E\-\+]/;function wa(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Fp}wa.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==$g)for(;EK.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case Fp:return this.neutral(t);case uL:return this.keyword(t);case $g:return this.quoted(t);case fL:return this.afterquote(t);case hL:return this.number(t);case xS:return}};wa.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=$g;return}if(f1.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};wa.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Fp;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Fp,this.currentObject=this.stack.pop(),this.currentObject||(this.state=xS);return}};wa.prototype.number=function(t){if(dL.test(t)){this.word+=t;return}if(f1.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};wa.prototype.quoted=function(t){if(t==='"'){this.state=fL;return}this.word+=t};wa.prototype.keyword=function(t){if(AK.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=Fp;return}if(f1.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};wa.prototype.neutral=function(t){if(SK.test(t)){this.word=t,this.state=uL;return}if(t==='"'){this.word="",this.state=$g;return}if(dL.test(t)){this.word=t,this.state=hL;return}if(f1.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};wa.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===xS)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function TK(t){var e=new wa(t);return e.output()}function pM(t,e,r){Array.isArray(e)&&(r.unshift(e),e=null);var i=e?{}:t,s=r.reduce(function(n,o){return ih(o,n),n},i);e&&(t[e]=s)}function ih(t,e){if(!Array.isArray(t)){e[t]=!0;return}var r=t.shift();if(r==="PARAMETER"&&(r=t.shift()),t.length===1){if(Array.isArray(t[0])){e[r]={},ih(t[0],e[r]);return}e[r]=t[0];return}if(!t.length){e[r]=!0;return}if(r==="TOWGS84"){e[r]=t;return}if(r==="AXIS"){r in e||(e[r]=[]),e[r].push(t);return}Array.isArray(r)||(e[r]={});var i;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[r]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&ih(t[2],e[r]);return;case"SPHEROID":case"ELLIPSOID":e[r]={name:t[0],a:t[1],rf:t[2]},t.length===4&&ih(t[3],e[r]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],pM(e,r,t);return;default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return ih(t,e[r]);return pM(e,r,t)}}var MK=.017453292519943295;function $K(t,e){var r=e[0],i=e[1];!(r in t)&&i in t&&(t[r]=t[i],e.length===3&&(t[r]=e[2](t[r])))}function Qn(t){return t*MK}function OK(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",r=0,i=t.AXIS.length;r<i;++r){var s=[t.AXIS[r][0].toLowerCase(),t.AXIS[r][1].toLowerCase()];s[0].indexOf("north")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="north"?e+="n":s[0].indexOf("south")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="south"?e+="s":s[0].indexOf("east")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="east"?e+="e":(s[0].indexOf("west")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var n=t.GEOGCS;t.type==="GEOGCS"&&(n=t),n&&(n.DATUM?t.datumCode=n.DATUM.name.toLowerCase():t.datumCode=n.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(t.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=n.DATUM.SPHEROID.a,t.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),n.DATUM&&n.DATUM.TOWGS84&&(t.datum_params=n.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function o(c){var f=t.to_meter||1;return c*f}var a=function(c){return $K(t,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Qn],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Qn],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",Qn],["lat0","latitude_of_origin",Qn],["lat0","standard_parallel_1",Qn],["lat1","standard_parallel_1",Qn],["lat2","standard_parallel_2",Qn],["azimuth","Azimuth"],["alpha","azimuth",Qn],["srsCode","name"]];l.forEach(a),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=Qn(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=Qn(t.lat0>0?90:-90))}function pL(t){var e=TK(t),r=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",r]);var s={};return ih(e,s),OK(s),s}function Ui(t){var e=this;if(arguments.length===2){var r=arguments[1];typeof r=="string"?r.charAt(0)==="+"?Ui[t]=Kw(arguments[1]):Ui[t]=pL(arguments[1]):Ui[t]=r}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(i){Array.isArray(i)?Ui.apply(e,i):Ui(i)});if(typeof t=="string"){if(t in Ui)return Ui[t]}else"EPSG"in t?Ui["EPSG:"+t.EPSG]=t:"ESRI"in t?Ui["ESRI:"+t.ESRI]=t:"IAU2000"in t?Ui["IAU2000:"+t.IAU2000]=t:console.log(t);return}}yK(Ui);function IK(t){return typeof t=="string"}function CK(t){return t in Ui}var NK=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function PK(t){return NK.some(function(e){return t.indexOf(e)>-1})}var LK=["3857","900913","3785","102113"];function kK(t){var e=Sl(t,"authority");if(e){var r=Sl(e,"epsg");return r&&LK.indexOf(r)>-1}}function RK(t){var e=Sl(t,"extension");if(e)return Sl(e,"proj4")}function DK(t){return t[0]==="+"}function FK(t){if(IK(t)){if(CK(t))return Ui[t];if(PK(t)){var e=pL(t);if(kK(e))return Ui["EPSG:3857"];var r=RK(e);return r?Kw(r):e}if(DK(t))return Kw(t)}else return t}function mM(t,e){t=t||{};var r,i;if(!e)return t;for(i in e)r=e[i],r!==void 0&&(t[i]=r);return t}function $o(t,e,r){var i=t*e;return r/Math.sqrt(1-i*i)}function Om(t){return t<0?-1:1}function Ee(t){return Math.abs(t)<=Sr?t:t-Om(t)*Dp}function kn(t,e,r){var i=t*r,s=.5*t;return i=Math.pow((1-i)/(1+i),s),Math.tan(.5*(he-e))/i}function Up(t,e){for(var r=.5*t,i,s,n=he-2*Math.atan(e),o=0;o<=15;o++)if(i=t*Math.sin(n),s=he-2*Math.atan(e*Math.pow((1-i)/(1+i),r))-n,n+=s,Math.abs(s)<=1e-10)return n;return-9999}function UK(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=$o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function jK(t){var e=t.x,r=t.y;if(r*fo>90&&r*fo<-90&&e*fo>180&&e*fo<-180)return null;var i,s;if(Math.abs(Math.abs(r)-he)<=_e)return null;if(this.sphere)i=this.x0+this.a*this.k0*Ee(e-this.long0),s=this.y0+this.a*this.k0*Math.log(Math.tan(St+.5*r));else{var n=Math.sin(r),o=kn(this.e,r,n);i=this.x0+this.a*this.k0*Ee(e-this.long0),s=this.y0-this.a*this.k0*Math.log(o)}return t.x=i,t.y=s,t}function BK(t){var e=t.x-this.x0,r=t.y-this.y0,i,s;if(this.sphere)s=he-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var n=Math.exp(-r/(this.a*this.k0));if(s=Up(this.e,n),s===-9999)return null}return i=Ee(this.long0+e/(this.a*this.k0)),t.x=i,t.y=s,t}var VK=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const GK={init:UK,forward:jK,inverse:BK,names:VK};function zK(){}function yM(t){return t}var qK=["longlat","identity"];const HK={init:zK,forward:yM,inverse:yM,names:qK};var WK=[GK,HK],$0={},Og=[];function mL(t,e){var r=Og.length;return t.names?(Og[r]=t,t.names.forEach(function(i){$0[i.toLowerCase()]=r}),this):(console.log(e),!0)}function YK(t){if(!t)return!1;var e=t.toLowerCase();if(typeof $0[e]<"u"&&Og[$0[e]])return Og[$0[e]]}function JK(){WK.forEach(mL)}const KK={start:JK,add:mL,get:YK};var We={};We.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};We.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};We.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};We.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};We.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};We.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};We.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};We.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};We.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};We.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};We.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};We.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};We.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};We.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};We.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};We.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};We.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};We.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};We.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};We.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};We.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};We.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};We.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};We.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};We.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};We.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};We.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};We.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};We.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};We.hough={a:6378270,rf:297,ellipseName:"Hough"};We.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};We.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};We.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};We.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};We.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};We.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};We.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};We.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};We.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};We.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};We.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};We.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var ZK=We.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};We.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function XK(t,e,r,i){var s=t*t,n=e*e,o=(s-n)/s,a=0;i?(t*=1-o*(bK+o*(_K+o*wK)),s=t*t,o=0):a=Math.sqrt(o);var l=(s-n)/n;return{es:o,e:a,ep2:l}}function QK(t,e,r,i,s){if(!t){var n=Sl(We,i);n||(n=ZK),t=n.a,e=n.b,r=n.rf}return r&&!e&&(e=(1-1/r)*t),(r===0||Math.abs(t-e)<_e)&&(s=!0,e=t),{a:t,b:e,rf:r,sphere:s}}var Qr={};Qr.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};Qr.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};Qr.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};Qr.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};Qr.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};Qr.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};Qr.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};Qr.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};Qr.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"};Qr.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};Qr.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};Qr.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};Qr.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};Qr.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};Qr.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};Qr.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};Qr.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};Qr.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function eZ(t,e,r,i,s,n,o){var a={};return t===void 0||t==="none"?a.datum_type=Jw:a.datum_type=gK,e&&(a.datum_params=e.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=Xc),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=Qc,a.datum_params[3]*=qd,a.datum_params[4]*=qd,a.datum_params[5]*=qd,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=wh,a.grids=o),a.a=r,a.b=i,a.es=s,a.ep2=n,a}var yL={};function tZ(t,e){var r=new DataView(e),i=sZ(r),s=nZ(r,i),n=oZ(r,s,i),o={header:s,subgrids:n};return yL[t]=o,o}function rZ(t){if(t===void 0)return null;var e=t.split(",");return e.map(iZ)}function iZ(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:yL[t]||null,isNull:!1}}function sh(t){return t/3600*Math.PI/180}function sZ(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function nZ(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:Zw(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function Zw(t,e,r){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,r)))}function oZ(t,e,r){for(var i=176,s=[],n=0;n<e.nSubgrids;n++){var o=lZ(t,i,r),a=cZ(t,i,o,r),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);s.push({ll:[sh(o.lowerLongitude),sh(o.lowerLatitude)],del:[sh(o.longitudeInterval),sh(o.latitudeInterval)],lim:[l,c],count:o.gridNodeCount,cvs:aZ(a)}),i+=176+o.gridNodeCount*16}return s}function aZ(t){return t.map(function(e){return[sh(e.longitudeShift),sh(e.latitudeShift)]})}function lZ(t,e,r){return{name:Zw(t,e+8,e+16).trim(),parent:Zw(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,r),upperLatitude:t.getFloat64(e+88,r),lowerLongitude:t.getFloat64(e+104,r),upperLongitude:t.getFloat64(e+120,r),latitudeInterval:t.getFloat64(e+136,r),longitudeInterval:t.getFloat64(e+152,r),gridNodeCount:t.getInt32(e+168,r)}}function cZ(t,e,r,i){for(var s=e+176,n=16,o=[],a=0;a<r.gridNodeCount;a++){var l={latitudeShift:t.getFloat32(s+a*n,i),longitudeShift:t.getFloat32(s+a*n+4,i),latitudeAccuracy:t.getFloat32(s+a*n+8,i),longitudeAccuracy:t.getFloat32(s+a*n+12,i)};o.push(l)}return o}function bo(t,e){if(!(this instanceof bo))return new bo(t);e=e||function(c){if(c)throw c};var r=FK(t);if(typeof r!="object"){e("Could not parse to valid json: "+t);return}var i=bo.projections.get(r.projName);if(!i){e("Could not get projection name from: "+t);return}if(r.datumCode&&r.datumCode!=="none"){var s=Sl(Qr,r.datumCode);s&&(r.datum_params=r.datum_params||(s.towgs84?s.towgs84.split(","):null),r.ellps=s.ellipse,r.datumName=s.datumName?s.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var n=QK(r.a,r.b,r.rf,r.ellps,r.sphere),o=XK(n.a,n.b,n.rf,r.R_A),a=rZ(r.nadgrids),l=r.datum||eZ(r.datumCode,r.datum_params,n.a,n.b,o.es,o.ep2,a);mM(this,r),mM(this,i),this.a=n.a,this.b=n.b,this.rf=n.rf,this.sphere=n.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),e(null,this)}bo.projections=KK;bo.projections.start();function uZ(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===Xc?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===Qc?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function gL(t,e,r){var i=t.x,s=t.y,n=t.z?t.z:0,o,a,l,c;if(s<-he&&s>-1.001*he)s=-he;else if(s>he&&s<1.001*he)s=he;else{if(s<-he)return{x:-1/0,y:-1/0,z:t.z};if(s>he)return{x:1/0,y:1/0,z:t.z}}return i>Math.PI&&(i-=2*Math.PI),a=Math.sin(s),c=Math.cos(s),l=a*a,o=r/Math.sqrt(1-e*l),{x:(o+n)*c*Math.cos(i),y:(o+n)*c*Math.sin(i),z:(o*(1-e)+n)*a}}function vL(t,e,r,i){var s=1e-12,n=s*s,o=30,a,l,c,f,d,p,y,v,b,S,E,T,w,_=t.x,M=t.y,$=t.z?t.z:0,C,P,N;if(a=Math.sqrt(_*_+M*M),l=Math.sqrt(_*_+M*M+$*$),a/r<s){if(C=0,l/r<s)return P=he,N=-i,{x:t.x,y:t.y,z:t.z}}else C=Math.atan2(M,_);c=$/l,f=a/l,d=1/Math.sqrt(1-e*(2-e)*f*f),v=f*(1-e)*d,b=c*d,w=0;do w++,y=r/Math.sqrt(1-e*b*b),N=a*v+$*b-y*(1-e*b*b),p=e*y/(y+N),d=1/Math.sqrt(1-p*(2-p)*f*f),S=f*(1-p)*d,E=c*d,T=E*v-S*b,v=S,b=E;while(T*T>n&&w<o);return P=Math.atan(E/Math.abs(S)),{x:C,y:P,z:N}}function hZ(t,e,r){if(e===Xc)return{x:t.x+r[0],y:t.y+r[1],z:t.z+r[2]};if(e===Qc){var i=r[0],s=r[1],n=r[2],o=r[3],a=r[4],l=r[5],c=r[6];return{x:c*(t.x-l*t.y+a*t.z)+i,y:c*(l*t.x+t.y-o*t.z)+s,z:c*(-a*t.x+o*t.y+t.z)+n}}}function fZ(t,e,r){if(e===Xc)return{x:t.x-r[0],y:t.y-r[1],z:t.z-r[2]};if(e===Qc){var i=r[0],s=r[1],n=r[2],o=r[3],a=r[4],l=r[5],c=r[6],f=(t.x-i)/c,d=(t.y-s)/c,p=(t.z-n)/c;return{x:f+l*d-a*p,y:-l*f+d+o*p,z:a*f-o*d+p}}}function vy(t){return t===Xc||t===Qc}function dZ(t,e,r){if(uZ(t,e)||t.datum_type===Jw||e.datum_type===Jw)return r;var i=t.a,s=t.es;if(t.datum_type===wh){var n=gM(t,!1,r);if(n!==0)return;i=hM,s=fM}var o=e.a,a=e.b,l=e.es;if(e.datum_type===wh&&(o=hM,a=vK,l=fM),s===l&&i===o&&!vy(t.datum_type)&&!vy(e.datum_type))return r;if(r=gL(r,s,i),vy(t.datum_type)&&(r=hZ(r,t.datum_type,t.datum_params)),vy(e.datum_type)&&(r=fZ(r,e.datum_type,e.datum_params)),r=vL(r,l,o,a),e.datum_type===wh){var c=gM(e,!0,r);if(c!==0)return}return r}function gM(t,e,r){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-r.x,y:r.y},s={x:Number.NaN,y:Number.NaN},n=[];e:for(var o=0;o<t.grids.length;o++){var a=t.grids[o];if(n.push(a.name),a.isNull){s=i;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,f=l.length;c<f;c++){var d=l[c],p=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,y=d.ll[0]-p,v=d.ll[1]-p,b=d.ll[0]+(d.lim[0]-1)*d.del[0]+p,S=d.ll[1]+(d.lim[1]-1)*d.del[1]+p;if(!(v>i.y||y>i.x||S<i.y||b<i.x)&&(s=pZ(i,e,d),!isNaN(s.x)))break e}}return isNaN(s.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*fo+" "+i.y*fo+" tried: '"+n+"'"),-1):(r.x=-s.x,r.y=s.y,0)}function pZ(t,e,r){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var s={x:t.x,y:t.y};s.x-=r.ll[0],s.y-=r.ll[1],s.x=Ee(s.x-Math.PI)+Math.PI;var n=vM(s,r);if(e){if(isNaN(n.x))return i;n.x=s.x-n.x,n.y=s.y-n.y;var o=9,a=1e-12,l,c;do{if(c=vM(n,r),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:s.x-(c.x+n.x),y:s.y-(c.y+n.y)},n.x+=l.x,n.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=Ee(n.x+r.ll[0]),i.y=n.y+r.ll[1]}else isNaN(n.x)||(i.x=t.x+n.x,i.y=t.y+n.y);return i}function vM(t,e){var r={x:t.x/e.del[0],y:t.y/e.del[1]},i={x:Math.floor(r.x),y:Math.floor(r.y)},s={x:r.x-1*i.x,y:r.y-1*i.y},n={x:Number.NaN,y:Number.NaN},o;if(i.x<0||i.x>=e.lim[0]||i.y<0||i.y>=e.lim[1])return n;o=i.y*e.lim[0]+i.x;var a={x:e.cvs[o][0],y:e.cvs[o][1]};o++;var l={x:e.cvs[o][0],y:e.cvs[o][1]};o+=e.lim[0];var c={x:e.cvs[o][0],y:e.cvs[o][1]};o--;var f={x:e.cvs[o][0],y:e.cvs[o][1]},d=s.x*s.y,p=s.x*(1-s.y),y=(1-s.x)*(1-s.y),v=(1-s.x)*s.y;return n.x=y*a.x+p*l.x+v*f.x+d*c.x,n.y=y*a.y+p*l.y+v*f.y+d*c.y,n}function bM(t,e,r){var i=r.x,s=r.y,n=r.z||0,o,a,l,c={};for(l=0;l<3;l++)if(!(e&&l===2&&r.z===void 0))switch(l===0?(o=i,"ew".indexOf(t.axis[l])!==-1?a="x":a="y"):l===1?(o=s,"ns".indexOf(t.axis[l])!==-1?a="y":a="x"):(o=n,a="z"),t.axis[l]){case"e":c[a]=o;break;case"w":c[a]=-o;break;case"n":c[a]=o;break;case"s":c[a]=-o;break;case"u":r[a]!==void 0&&(c.z=o);break;case"d":r[a]!==void 0&&(c.z=-o);break;default:return null}return c}function bL(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function mZ(t){_M(t.x),_M(t.y)}function _M(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function yZ(t,e){return(t.datum.datum_type===Xc||t.datum.datum_type===Qc||t.datum.datum_type===wh)&&e.datumCode!=="WGS84"||(e.datum.datum_type===Xc||e.datum.datum_type===Qc||e.datum.datum_type===wh)&&t.datumCode!=="WGS84"}function Ig(t,e,r,i){var s;Array.isArray(r)?r=bL(r):r={x:r.x,y:r.y,z:r.z,m:r.m};var n=r.z!==void 0;if(mZ(r),t.datum&&e.datum&&yZ(t,e)&&(s=new bo("WGS84"),r=Ig(t,s,r,i),t=s),i&&t.axis!=="enu"&&(r=bM(t,!1,r)),t.projName==="longlat")r={x:r.x*fi,y:r.y*fi,z:r.z||0};else if(t.to_meter&&(r={x:r.x*t.to_meter,y:r.y*t.to_meter,z:r.z||0}),r=t.inverse(r),!r)return;if(t.from_greenwich&&(r.x+=t.from_greenwich),r=dZ(t.datum,e.datum,r),!!r)return e.from_greenwich&&(r={x:r.x-e.from_greenwich,y:r.y,z:r.z||0}),e.projName==="longlat"?r={x:r.x*fo,y:r.y*fo,z:r.z||0}:(r=e.forward(r),e.to_meter&&(r={x:r.x/e.to_meter,y:r.y/e.to_meter,z:r.z||0})),i&&e.axis!=="enu"?bM(e,!0,r):(r&&!n&&delete r.z,r)}var wM=bo("WGS84");function Xb(t,e,r,i){var s,n,o;return Array.isArray(r)?(s=Ig(t,e,r,i)||{x:NaN,y:NaN},r.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof s.z=="number"?[s.x,s.y,s.z].concat(r.slice(3)):[s.x,s.y,r[2]].concat(r.slice(3)):[s.x,s.y].concat(r.slice(2)):[s.x,s.y]):(n=Ig(t,e,r,i),o=Object.keys(r),o.length===2||o.forEach(function(a){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;n[a]=r[a]}),n)}function xM(t){return t instanceof bo?t:t.oProj?t.oProj:bo(t)}function Rt(t,e,r){t=xM(t);var i=!1,s;return typeof e>"u"?(e=t,t=wM,i=!0):(typeof e.x<"u"||Array.isArray(e))&&(r=e,e=t,t=wM,i=!0),e=xM(e),r?Xb(t,e,r):(s={forward:function(n,o){return Xb(t,e,n,o)},inverse:function(n,o){return Xb(e,t,n,o)}},i&&(s.oProj=e),s)}var EM=6,_L="AJSAJS",wL="AFAFAF",nh=65,ns=73,Ys=79,Sd=86,Ad=90;const gZ={forward:xL,inverse:vZ,toPoint:EL};function xL(t,e){return e=e||5,wZ(bZ({lat:t[1],lon:t[0]}),e)}function vZ(t){var e=ES(AL(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function EL(t){var e=ES(AL(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Qb(t){return t*(Math.PI/180)}function SM(t){return 180*(t/Math.PI)}function bZ(t){var e=t.lat,r=t.lon,i=6378137,s=.00669438,n=.9996,o,a,l,c,f,d,p,y=Qb(e),v=Qb(r),b,S;S=Math.floor((r+180)/6)+1,r===180&&(S=60),e>=56&&e<64&&r>=3&&r<12&&(S=32),e>=72&&e<84&&(r>=0&&r<9?S=31:r>=9&&r<21?S=33:r>=21&&r<33?S=35:r>=33&&r<42&&(S=37)),o=(S-1)*6-180+3,b=Qb(o),a=s/(1-s),l=i/Math.sqrt(1-s*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),f=a*Math.cos(y)*Math.cos(y),d=Math.cos(y)*(v-b),p=i*((1-s/4-3*s*s/64-5*s*s*s/256)*y-(3*s/8+3*s*s/32+45*s*s*s/1024)*Math.sin(2*y)+(15*s*s/256+45*s*s*s/1024)*Math.sin(4*y)-35*s*s*s/3072*Math.sin(6*y));var E=n*l*(d+(1-c+f)*d*d*d/6+(5-18*c+c*c+72*f-58*a)*d*d*d*d*d/120)+5e5,T=n*(p+l*Math.tan(y)*(d*d/2+(5-c+9*f+4*f*f)*d*d*d*d/24+(61-58*c+c*c+600*f-330*a)*d*d*d*d*d*d/720));return e<0&&(T+=1e7),{northing:Math.round(T),easting:Math.round(E),zoneNumber:S,zoneLetter:_Z(e)}}function ES(t){var e=t.northing,r=t.easting,i=t.zoneLetter,s=t.zoneNumber;if(s<0||s>60)return null;var n=.9996,o=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),f,d,p,y,v,b,S,E,T,w=r-5e5,_=e;i<"N"&&(_-=1e7),S=(s-1)*6-180+3,l=a/(1-a),b=_/n,E=b/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),T=E+(3*c/2-27*c*c*c/32)*Math.sin(2*E)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*E)+151*c*c*c/96*Math.sin(6*E),f=o/Math.sqrt(1-a*Math.sin(T)*Math.sin(T)),d=Math.tan(T)*Math.tan(T),p=l*Math.cos(T)*Math.cos(T),y=o*(1-a)/Math.pow(1-a*Math.sin(T)*Math.sin(T),1.5),v=w/(f*n);var M=T-f*Math.tan(T)/y*(v*v/2-(5+3*d+10*p-4*p*p-9*l)*v*v*v*v/24+(61+90*d+298*p+45*d*d-252*l-3*p*p)*v*v*v*v*v*v/720);M=SM(M);var $=(v-(1+2*d+p)*v*v*v/6+(5-2*p+28*d-3*p*p+8*l+24*d*d)*v*v*v*v*v/120)/Math.cos(T);$=S+SM($);var C;if(t.accuracy){var P=ES({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});C={top:P.lat,right:P.lon,bottom:M,left:$}}else C={lat:M,lon:$};return C}function _Z(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function wZ(t,e){var r="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+xZ(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+i.substr(i.length-5,e)}function xZ(t,e,r){var i=SL(r),s=Math.floor(t/1e5),n=Math.floor(e/1e5)%20;return EZ(s,n,i)}function SL(t){var e=t%EM;return e===0&&(e=EM),e}function EZ(t,e,r){var i=r-1,s=_L.charCodeAt(i),n=wL.charCodeAt(i),o=s+t-1,a=n+e,l=!1;o>Ad&&(o=o-Ad+nh-1,l=!0),(o===ns||s<ns&&o>ns||(o>ns||s<ns)&&l)&&o++,(o===Ys||s<Ys&&o>Ys||(o>Ys||s<Ys)&&l)&&(o++,o===ns&&o++),o>Ad&&(o=o-Ad+nh-1),a>Sd?(a=a-Sd+nh-1,l=!0):l=!1,(a===ns||n<ns&&a>ns||(a>ns||n<ns)&&l)&&a++,(a===Ys||n<Ys&&a>Ys||(a>Ys||n<Ys)&&l)&&(a++,a===ns&&a++),a>Sd&&(a=a-Sd+nh-1);var c=String.fromCharCode(o)+String.fromCharCode(a);return c}function AL(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,r=null,i="",s,n=0;!/[A-Z]/.test(s=t.charAt(n));){if(n>=2)throw"MGRSPoint bad conversion from: "+t;i+=s,n++}var o=parseInt(i,10);if(n===0||n+3>e)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(n++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+t;r=t.substring(n,n+=2);for(var l=SL(o),c=SZ(r.charAt(0),l),f=AZ(r.charAt(1),l);f<TZ(a);)f+=2e6;var d=e-n;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var p=d/2,y=0,v=0,b,S,E,T,w;return p>0&&(b=1e5/Math.pow(10,p),S=t.substring(n,n+p),y=parseFloat(S)*b,E=t.substring(n+p),v=parseFloat(E)*b),T=y+c,w=v+f,{easting:T,northing:w,zoneLetter:a,zoneNumber:o,accuracy:b}}function SZ(t,e){for(var r=_L.charCodeAt(e-1),i=1e5,s=!1;r!==t.charCodeAt(0);){if(r++,r===ns&&r++,r===Ys&&r++,r>Ad){if(s)throw"Bad character: "+t;r=nh,s=!0}i+=1e5}return i}function AZ(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var r=wL.charCodeAt(e-1),i=0,s=!1;r!==t.charCodeAt(0);){if(r++,r===ns&&r++,r===Ys&&r++,r>Sd){if(s)throw"Bad character: "+t;r=nh,s=!0}i+=1e5}return i}function TZ(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Gh(t,e,r){if(!(this instanceof Gh))return new Gh(t,e,r);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Gh.fromMGRS=function(t){return new Gh(EL(t))};Gh.prototype.toMGRS=function(t){return xL([this.x,this.y],t)};var MZ=1,$Z=.25,AM=.046875,TM=.01953125,MM=.01068115234375,OZ=.75,IZ=.46875,CZ=.013020833333333334,NZ=.007120768229166667,PZ=.3645833333333333,LZ=.005696614583333333,kZ=.3076171875;function SS(t){var e=[];e[0]=MZ-t*($Z+t*(AM+t*(TM+t*MM))),e[1]=t*(OZ-t*(AM+t*(TM+t*MM)));var r=t*t;return e[2]=r*(IZ-t*(CZ+t*NZ)),r*=t,e[3]=r*(PZ-t*LZ),e[4]=r*t*kZ,e}function $f(t,e,r,i){return r*=e,e*=e,i[0]*t-r*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var RZ=20;function AS(t,e,r){for(var i=1/(1-e),s=t,n=RZ;n;--n){var o=Math.sin(s),a=1-e*o*o;if(a=($f(s,o,Math.cos(s),r)-t)*(a*Math.sqrt(a))*i,s-=a,Math.abs(a)<_e)return s}return s}function DZ(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=SS(this.es),this.ml0=$f(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function FZ(t){var e=t.x,r=t.y,i=Ee(e-this.long0),s,n,o,a=Math.sin(r),l=Math.cos(r);if(this.es){var f=l*i,d=Math.pow(f,2),p=this.ep2*Math.pow(l,2),y=Math.pow(p,2),v=Math.abs(l)>_e?Math.tan(r):0,b=Math.pow(v,2),S=Math.pow(b,2);s=1-this.es*Math.pow(a,2),f=f/Math.sqrt(s);var E=$f(r,a,l,this.en);n=this.a*(this.k0*f*(1+d/6*(1-b+p+d/20*(5-18*b+S+14*p-58*b*p+d/42*(61+179*S-S*b-479*b)))))+this.x0,o=this.a*(this.k0*(E-this.ml0+a*i*f/2*(1+d/12*(5-b+9*p+4*y+d/30*(61+S-58*b+270*p-330*b*p+d/56*(1385+543*S-S*b-3111*b))))))+this.y0}else{var c=l*Math.sin(i);if(Math.abs(Math.abs(c)-1)<_e)return 93;if(n=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,o=l*Math.cos(i)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(o),c>=1){if(c-1>_e)return 93;o=0}else o=Math.acos(o);r<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return t.x=n,t.y=o,t}function UZ(t){var e,r,i,s,n=(t.x-this.x0)*(1/this.a),o=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+o/this.k0,r=AS(e,this.es,this.en),Math.abs(r)<he){var d=Math.sin(r),p=Math.cos(r),y=Math.abs(p)>_e?Math.tan(r):0,v=this.ep2*Math.pow(p,2),b=Math.pow(v,2),S=Math.pow(y,2),E=Math.pow(S,2);e=1-this.es*Math.pow(d,2);var T=n*Math.sqrt(e)/this.k0,w=Math.pow(T,2);e=e*y,i=r-e*w/(1-this.es)*.5*(1-w/12*(5+3*S-9*v*S+v-4*b-w/30*(61+90*S-252*v*S+45*E+46*v-w/56*(1385+3633*S+4095*E+1574*E*S)))),s=Ee(this.long0+T*(1-w/6*(1+2*S+v-w/20*(5+28*S+24*E+8*v*S+6*v-w/42*(61+662*S+1320*E+720*E*S))))/p)}else i=he*Om(o),s=0;else{var a=Math.exp(n/this.k0),l=.5*(a-1/a),c=this.lat0+o/this.k0,f=Math.cos(c);e=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(l,2))),i=Math.asin(e),o<0&&(i=-i),l===0&&f===0?s=0:s=Ee(Math.atan2(l,f)+this.long0)}return t.x=s,t.y=i,t}var jZ=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const O0={init:DZ,forward:FZ,inverse:UZ,names:jZ};function TL(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function ds(t,e){t=Math.abs(t),e=Math.abs(e);var r=Math.max(t,e),i=Math.min(t,e)/(r||1);return r*Math.sqrt(1+Math.pow(i,2))}function BZ(t){var e=1+t,r=e-1;return r===0?t:t*Math.log(e)/r}function VZ(t){var e=Math.abs(t);return e=BZ(e*(1+e/(ds(1,e)+1))),t<0?-e:e}function TS(t,e){for(var r=2*Math.cos(2*e),i=t.length-1,s=t[i],n=0,o;--i>=0;)o=-n+r*s+t[i],n=s,s=o;return e+o*Math.sin(2*e)}function GZ(t,e){for(var r=2*Math.cos(e),i=t.length-1,s=t[i],n=0,o;--i>=0;)o=-n+r*s+t[i],n=s,s=o;return Math.sin(e)*o}function zZ(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function ML(t,e,r){for(var i=Math.sin(e),s=Math.cos(e),n=TL(r),o=zZ(r),a=2*s*o,l=-2*i*n,c=t.length-1,f=t[c],d=0,p=0,y=0,v,b;--c>=0;)v=p,b=d,p=f,d=y,f=-v+a*p-l*d+t[c],y=-b+l*p+a*d;return a=i*o,l=s*n,[a*f-l*y,a*y+l*f]}function qZ(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(O0.init.apply(this),this.forward=O0.forward,this.inverse=O0.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),r=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),r=r*e,this.cgb[1]=r*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=r*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),r=r*e,this.cgb[2]=r*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=r*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),r=r*e,this.cgb[3]=r*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=r*(1237/630+e*(-12/5+e*(-24832/14175))),r=r*e,this.cgb[4]=r*(4174/315+e*(-144838/6237)),this.cbg[4]=r*(-734/315+e*(109598/31185)),r=r*e,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=r*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=r*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),r=r*e,this.utg[2]=r*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=r*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),r=r*e,this.utg[3]=r*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=r*(49561/161280+e*(-179/168+e*(6601661/7257600))),r=r*e,this.utg[4]=r*(-4583/161280+e*(108847/3991680)),this.gtu[4]=r*(34729/80640+e*(-3418889/1995840)),r=r*e,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=r*(212378941/319334400);var i=TS(this.cbg,this.lat0);this.Zb=-this.Qn*(i+GZ(this.gtu,2*i))}function HZ(t){var e=Ee(t.x-this.long0),r=t.y;r=TS(this.cbg,r);var i=Math.sin(r),s=Math.cos(r),n=Math.sin(e),o=Math.cos(e);r=Math.atan2(i,o*s),e=Math.atan2(n*s,ds(i,s*o)),e=VZ(Math.tan(e));var a=ML(this.gtu,2*r,2*e);r=r+a[0],e=e+a[1];var l,c;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,c=this.a*(this.Qn*r+this.Zb)+this.y0):(l=1/0,c=1/0),t.x=l,t.y=c,t}function WZ(t){var e=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,e=e/this.Qn;var i,s;if(Math.abs(e)<=2.623395162778){var n=ML(this.utg,2*r,2*e);r=r+n[0],e=e+n[1],e=Math.atan(TL(e));var o=Math.sin(r),a=Math.cos(r),l=Math.sin(e),c=Math.cos(e);r=Math.atan2(o*c,ds(l,c*a)),e=Math.atan2(l,c*a),i=Ee(e+this.long0),s=TS(this.cgb,r)}else i=1/0,s=1/0;return t.x=i,t.y=s,t}var YZ=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const I0={init:qZ,forward:HZ,inverse:WZ,names:YZ};function JZ(t,e){if(t===void 0){if(t=Math.floor((Ee(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var KZ="etmerc";function ZZ(){var t=JZ(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*fi,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,I0.init.apply(this),this.forward=I0.forward,this.inverse=I0.inverse}var XZ=["Universal Transverse Mercator System","utm"];const QZ={init:ZZ,names:XZ,dependsOn:KZ};function MS(t,e){return Math.pow((1-t)/(1+t),e)}var eX=20;function tX(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+St)/(Math.pow(Math.tan(.5*this.lat0+St),this.C)*MS(this.e*t,this.ratexp))}function rX(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+St),this.C)*MS(this.e*Math.sin(r),this.ratexp))-he,t.x=this.C*e,t}function iX(t){for(var e=1e-14,r=t.x/this.C,i=t.y,s=Math.pow(Math.tan(.5*i+St)/this.K,1/this.C),n=eX;n>0&&(i=2*Math.atan(s*MS(this.e*Math.sin(t.y),-.5*this.e))-he,!(Math.abs(i-t.y)<e));--n)t.y=i;return n?(t.x=r,t.y=i,t):null}const $S={init:tX,forward:rX,inverse:iX};function sX(){$S.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function nX(t){var e,r,i,s;return t.x=Ee(t.x-this.long0),$S.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),i=Math.cos(t.x),s=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*i),t.x=s*r*Math.sin(t.x),t.y=s*(this.cosc0*e-this.sinc0*r*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function oX(t){var e,r,i,s,n;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,n=ds(t.x,t.y)){var o=2*Math.atan2(n,this.R2);e=Math.sin(o),r=Math.cos(o),s=Math.asin(r*this.sinc0+t.y*e*this.cosc0/n),i=Math.atan2(t.x*e,n*this.cosc0*r-t.y*this.sinc0*e)}else s=this.phic0,i=0;return t.x=i,t.y=s,$S.inverse.apply(this,[t]),t.x=Ee(t.x+this.long0),t}var aX=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const lX={init:sX,forward:nX,inverse:oX,names:aX};function cX(t,e,r){return e*=r,Math.tan(.5*(he+t))*Math.pow((1-e)/(1+e),.5*r)}function uX(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=_e&&(this.k0=.5*(1+Om(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=_e&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=_e&&Math.abs(Math.cos(this.lat_ts))>_e&&(this.k0=.5*this.cons*$o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/kn(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=$o(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-he,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function hX(t){var e=t.x,r=t.y,i=Math.sin(r),s=Math.cos(r),n,o,a,l,c,f,d=Ee(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=_e&&Math.abs(r+this.lat0)<=_e?(t.x=NaN,t.y=NaN,t):this.sphere?(n=2*this.k0/(1+this.sinlat0*i+this.coslat0*s*Math.cos(d)),t.x=this.a*n*s*Math.sin(d)+this.x0,t.y=this.a*n*(this.coslat0*i-this.sinlat0*s*Math.cos(d))+this.y0,t):(o=2*Math.atan(this.ssfn_(r,i,this.e))-he,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=_e?(c=kn(this.e,r*this.con,this.con*i),f=2*this.a*this.k0*c/this.cons,t.x=this.x0+f*Math.sin(e-this.long0),t.y=this.y0-this.con*f*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<_e?(n=2*this.a*this.k0/(1+l*Math.cos(d)),t.y=n*a):(n=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(d))),t.y=n*(this.cosX0*a-this.sinX0*l*Math.cos(d))+this.y0),t.x=n*l*Math.sin(d)+this.x0,t))}function fX(t){t.x-=this.x0,t.y-=this.y0;var e,r,i,s,n,o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return e=this.long0,r=this.lat0,o<=_e?(t.x=e,t.y=r,t):(r=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<_e?this.lat0>0?e=Ee(this.long0+Math.atan2(t.x,-1*t.y)):e=Ee(this.long0+Math.atan2(t.x,t.y)):e=Ee(this.long0+Math.atan2(t.x*Math.sin(a),o*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=r,t)}else if(Math.abs(this.coslat0)<=_e){if(o<=_e)return r=this.lat0,e=this.long0,t.x=e,t.y=r,t;t.x*=this.con,t.y*=this.con,i=o*this.cons/(2*this.a*this.k0),r=this.con*Up(this.e,i),e=this.con*Ee(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else s=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=_e?n=this.X0:(n=Math.asin(Math.cos(s)*this.sinX0+t.y*Math.sin(s)*this.cosX0/o),e=Ee(this.long0+Math.atan2(t.x*Math.sin(s),o*this.cosX0*Math.cos(s)-t.y*this.sinX0*Math.sin(s)))),r=-1*Up(this.e,Math.tan(.5*(he+n)));return t.x=e,t.y=r,t}var dX=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const pX={init:uX,forward:hX,inverse:fX,names:dX,ssfn_:cX};function mX(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),r=this.a,i=this.rf,s=1/i,n=2*s-Math.pow(s,2),o=this.e=Math.sqrt(n);this.R=this.k0*r*Math.sqrt(1-n)/(1-n*Math.pow(e,2)),this.alpha=Math.sqrt(1+n/(1-n)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),c=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*l+this.alpha*o/2*c}function yX(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+r)+this.K,s=2*(Math.atan(Math.exp(i))-Math.PI/4),n=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(n)/(Math.sin(this.b0)*Math.tan(s)+Math.cos(this.b0)*Math.cos(n))),a=Math.asin(Math.cos(this.b0)*Math.sin(s)-Math.sin(this.b0)*Math.cos(s)*Math.cos(n));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*o+this.x0,t}function gX(t){for(var e=t.x-this.x0,r=t.y-this.y0,i=e/this.R,s=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),n=Math.asin(Math.cos(this.b0)*Math.sin(s)+Math.sin(this.b0)*Math.cos(s)*Math.cos(i)),o=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(s))),a=this.lambda0+o/this.alpha,l=0,c=n,f=-1e3,d=0;Math.abs(c-f)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+n/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),f=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=c,t}var vX=["somerc"];const bX={init:mX,forward:yX,inverse:gX,names:vX};var Uu=1e-7;function _X(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],r=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(r)!==-1}function wX(){var t,e,r,i,s,n,o,a,l,c,f=0,d,p=0,y=0,v=0,b=0,S=0,E=0;this.no_off=_X(this),this.no_rot="no_rot"in this;var T=!1;"alpha"in this&&(T=!0);var w=!1;if("rectified_grid_angle"in this&&(w=!0),T&&(E=this.alpha),w&&(f=this.rectified_grid_angle*fi),T||w)p=this.longc;else if(y=this.long1,b=this.lat1,v=this.long2,S=this.lat2,Math.abs(b-S)<=Uu||(t=Math.abs(b))<=Uu||Math.abs(t-he)<=Uu||Math.abs(Math.abs(this.lat0)-he)<=Uu||Math.abs(Math.abs(S)-he)<=Uu)throw new Error;var _=1-this.es;e=Math.sqrt(_),Math.abs(this.lat0)>_e?(a=Math.sin(this.lat0),r=Math.cos(this.lat0),t=1-this.es*a*a,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/_),this.A=this.B*this.k0*e/t,i=this.B*e/(r*Math.sqrt(t)),s=i*i-1,s<=0?s=0:(s=Math.sqrt(s),this.lat0<0&&(s=-s)),this.E=s+=i,this.E*=Math.pow(kn(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=s=1),T||w?(T?(d=Math.asin(Math.sin(E)/i),w||(f=E)):(d=f,E=Math.asin(i*Math.sin(d))),this.lam0=p-Math.asin(.5*(s-1/s)*Math.tan(d))/this.B):(n=Math.pow(kn(this.e,b,Math.sin(b)),this.B),o=Math.pow(kn(this.e,S,Math.sin(S)),this.B),s=this.E/n,l=(o-n)/(o+n),c=this.E*this.E,c=(c-o*n)/(c+o*n),t=y-v,t<-Math.pi?v-=Dp:t>Math.pi&&(v+=Dp),this.lam0=Ee(.5*(y+v)-Math.atan(c*Math.tan(.5*this.B*(y-v))/l)/this.B),d=Math.atan(2*Math.sin(this.B*Ee(y-this.lam0))/(s-1/s)),f=E=Math.asin(i*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(E))),this.lat0<0&&(this.u_0=-this.u_0)),s=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(St-s)),this.v_pole_s=this.ArB*Math.log(Math.tan(St+s))}function xX(t){var e={},r,i,s,n,o,a,l,c;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-he)>_e){if(o=this.E/Math.pow(kn(this.e,t.y,Math.sin(t.y)),this.B),a=1/o,r=.5*(o-a),i=.5*(o+a),n=Math.sin(this.B*t.x),s=(r*this.singam-n*this.cosgam)/i,Math.abs(Math.abs(s)-1)<_e)throw new Error;c=.5*this.ArB*Math.log((1-s)/(1+s)),a=Math.cos(this.B*t.x),Math.abs(a)<Uu?l=this.A*t.x:l=this.ArB*Math.atan2(r*this.cosgam+n*this.singam,a)}else c=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=c):(l-=this.u_0,e.x=c*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-c*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function EX(t){var e,r,i,s,n,o,a,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(r=t.y,e=t.x):(r=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*r),s=.5*(i-1/i),n=.5*(i+1/i),o=Math.sin(this.BrA*e),a=(o*this.cosgam+s*this.singam)/n,Math.abs(Math.abs(a)-1)<_e)l.x=0,l.y=a<0?-he:he;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=Up(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(s*this.cosgam-o*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var SX=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const AX={init:wX,forward:xX,inverse:EX,names:SX};function TX(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<_e)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),r=Math.cos(this.lat1),i=$o(this.e,e,r),s=kn(this.e,this.lat1,e),n=Math.sin(this.lat2),o=Math.cos(this.lat2),a=$o(this.e,n,o),l=kn(this.e,this.lat2,n),c=kn(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>_e?this.ns=Math.log(i/a)/Math.log(s/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(s,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function MX(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=_e&&(r=Om(r)*(he-2*_e));var i=Math.abs(Math.abs(r)-he),s,n;if(i>_e)s=kn(this.e,r,Math.sin(r)),n=this.a*this.f0*Math.pow(s,this.ns);else{if(i=r*this.ns,i<=0)return null;n=0}var o=this.ns*Ee(e-this.long0);return t.x=this.k0*(n*Math.sin(o))+this.x0,t.y=this.k0*(this.rh-n*Math.cos(o))+this.y0,t}function $X(t){var e,r,i,s,n,o=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(o*o+a*a),r=1):(e=-Math.sqrt(o*o+a*a),r=-1);var l=0;if(e!==0&&(l=Math.atan2(r*o,r*a)),e!==0||this.ns>0){if(r=1/this.ns,i=Math.pow(e/(this.a*this.f0),r),s=Up(this.e,i),s===-9999)return null}else s=-he;return n=Ee(l/this.ns+this.long0),t.x=n,t.y=s,t}var OX=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const IX={init:TX,forward:MX,inverse:$X,names:OX};function CX(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function NX(t){var e,r,i,s,n,o,a,l=t.x,c=t.y,f=Ee(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),i=-f*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(s)),o=this.n*n,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),t.y=a*Math.cos(o)/1,t.x=a*Math.sin(o)/1,this.czech||(t.y*=-1,t.x*=-1),t}function PX(t){var e,r,i,s,n,o,a,l,c=t.x;t.x=t.y,t.y=c,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),n=Math.atan2(t.y,t.x),s=n/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(s)),r=Math.asin(Math.cos(i)*Math.sin(s)/Math.cos(e)),t.x=this.long0-r/this.alfa,a=e,l=0;var f=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(l=1),a=t.y,f+=1;while(l===0&&f<15);return f>=15?null:t}var LX=["Krovak","krovak"];const kX={init:CX,forward:NX,inverse:PX,names:LX};function Ki(t,e,r,i,s){return t*s-e*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)}function Im(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Cm(t){return .375*t*(1+.25*t*(1+.46875*t))}function Nm(t){return .05859375*t*t*(1+.75*t)}function Pm(t){return t*t*t*(35/3072)}function zh(t,e,r){var i=e*r;return t/Math.sqrt(1-i*i)}function Pl(t){return Math.abs(t)<he?t:t-Om(t)*Math.PI}function Cg(t,e,r,i,s){var n,o;n=t/e;for(var a=0;a<15;a++)if(o=(t-(e*n-r*Math.sin(2*n)+i*Math.sin(4*n)-s*Math.sin(6*n)))/(e-2*r*Math.cos(2*n)+4*i*Math.cos(4*n)-6*s*Math.cos(6*n)),n+=o,Math.abs(o)<=1e-10)return n;return NaN}function RX(){this.sphere||(this.e0=Im(this.es),this.e1=Cm(this.es),this.e2=Nm(this.es),this.e3=Pm(this.es),this.ml0=this.a*Ki(this.e0,this.e1,this.e2,this.e3,this.lat0))}function DX(t){var e,r,i=t.x,s=t.y;if(i=Ee(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(s)*Math.sin(i)),r=this.a*(Math.atan2(Math.tan(s),Math.cos(i))-this.lat0);else{var n=Math.sin(s),o=Math.cos(s),a=zh(this.a,this.e,n),l=Math.tan(s)*Math.tan(s),c=i*Math.cos(s),f=c*c,d=this.es*o*o/(1-this.es),p=this.a*Ki(this.e0,this.e1,this.e2,this.e3,s);e=a*c*(1-f*l*(1/6-(8-l+8*d)*f/120)),r=p-this.ml0+a*n/o*f*(.5+(5-l+6*d)*f/24)}return t.x=e+this.x0,t.y=r+this.y0,t}function FX(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,i,s;if(this.sphere){var n=r+this.lat0;i=Math.asin(Math.sin(n)*Math.cos(e)),s=Math.atan2(Math.tan(e),Math.cos(n))}else{var o=this.ml0/this.a+r,a=Cg(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-he)<=_e)return t.x=this.long0,t.y=he,r<0&&(t.y*=-1),t;var l=zh(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(a),2),d=e*this.a/l,p=d*d;i=a-l*Math.tan(a)/c*d*d*(.5-(1+3*f)*d*d/24),s=d*(1-p*(f/3+(1+3*f)*f*p/15))/Math.cos(a)}return t.x=Ee(s+this.long0),t.y=Pl(i),t}var UX=["Cassini","Cassini_Soldner","cass"];const jX={init:RX,forward:DX,inverse:FX,names:UX};function ml(t,e){var r;return t>1e-7?(r=t*e,(1-t*t)*(e/(1-r*r)-.5/t*Math.log((1-r)/(1+r)))):2*e}var BX=1,VX=2,GX=3,zX=4;function qX(){var t=Math.abs(this.lat0);if(Math.abs(t-he)<_e?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<_e?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=ml(this.e,1),this.mmf=.5/(1-this.es),this.apa=eQ(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=ml(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function HX(t){var e,r,i,s,n,o,a,l,c,f,d=t.x,p=t.y;if(d=Ee(d-this.long0),this.sphere){if(n=Math.sin(p),f=Math.cos(p),i=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+f*i:1+this.sinph0*n+this.cosph0*f*i,r<=_e)return null;r=Math.sqrt(2/r),e=r*f*Math.sin(d),r*=this.mode===this.EQUIT?n:this.cosph0*n-this.sinph0*f*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(p+this.lat0)<_e)return null;r=St-p*.5,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),e=r*Math.sin(d),r*=i}}else{switch(a=0,l=0,c=0,i=Math.cos(d),s=Math.sin(d),n=Math.sin(p),o=ml(this.e,n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=he+p,o=this.qp-o;break;case this.S_POLE:c=p-he,o=this.qp+o;break}if(Math.abs(c)<_e)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?r=this.ymf*c*(this.cosb1*a-this.sinb1*l*i):r=(c=Math.sqrt(2/(1+l*i)))*a*this.ymf,e=this.xmf*c*l*s;break;case this.N_POLE:case this.S_POLE:o>=0?(e=(c=Math.sqrt(o))*s,r=i*(this.mode===this.S_POLE?c:-c)):e=r=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t}function WX(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,i,s,n,o,a,l,c;if(this.sphere){var f=0,d,p=0;if(d=Math.sqrt(e*e+r*r),s=d*.5,s>1)return null;switch(s=2*Math.asin(s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(p=Math.sin(s),f=Math.cos(s)),this.mode){case this.EQUIT:s=Math.abs(d)<=_e?0:Math.asin(r*p/d),e*=p,r=f*d;break;case this.OBLIQ:s=Math.abs(d)<=_e?this.lat0:Math.asin(f*this.sinph0+r*p*this.cosph0/d),e*=p*this.cosph0,r=(f-Math.sin(s)*this.sinph0)*d;break;case this.N_POLE:r=-r,s=he-s;break;case this.S_POLE:s-=he;break}i=r===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,r)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,r*=this.dd,l=Math.sqrt(e*e+r*r),l<_e)return t.x=this.long0,t.y=this.lat0,t;o=2*Math.asin(.5*l/this.rq),n=Math.cos(o),e*=o=Math.sin(o),this.mode===this.OBLIQ?(c=n*this.sinb1+r*o*this.cosb1/l,a=this.qp*c,r=l*this.cosb1*n-r*this.sinb1*o):(c=r*o/l,a=this.qp*c,r=l*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),a=e*e+r*r,!a)return t.x=this.long0,t.y=this.lat0,t;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}i=Math.atan2(e,r),s=tQ(Math.asin(c),this.apa)}return t.x=Ee(this.long0+i),t.y=s,t}var YX=.3333333333333333,JX=.17222222222222222,KX=.10257936507936508,ZX=.06388888888888888,XX=.0664021164021164,QX=.016415012942191543;function eQ(t){var e,r=[];return r[0]=t*YX,e=t*t,r[0]+=e*JX,r[1]=e*ZX,e*=t,r[0]+=e*KX,r[1]+=e*XX,r[2]=e*QX,r}function tQ(t,e){var r=t+t;return t+e[0]*Math.sin(r)+e[1]*Math.sin(r+r)+e[2]*Math.sin(r+r+r)}var rQ=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const iQ={init:qX,forward:HX,inverse:WX,names:rQ,S_POLE:BX,N_POLE:VX,EQUIT:GX,OBLIQ:zX};function Al(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function sQ(){Math.abs(this.lat1+this.lat2)<_e||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=$o(this.e3,this.sin_po,this.cos_po),this.qs1=ml(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=$o(this.e3,this.sin_po,this.cos_po),this.qs2=ml(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ml(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>_e?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function nQ(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var i=ml(this.e3,this.sin_phi),s=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,n=this.ns0*Ee(e-this.long0),o=s*Math.sin(n)+this.x0,a=this.rh-s*Math.cos(n)+this.y0;return t.x=o,t.y=a,t}function oQ(t){var e,r,i,s,n,o;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),s=0,e!==0&&(s=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?o=Math.asin((this.c-i*i)/(2*this.ns0)):(r=(this.c-i*i)/this.ns0,o=this.phi1z(this.e3,r)),n=Ee(s/this.ns0+this.long0),t.x=n,t.y=o,t}function aQ(t,e){var r,i,s,n,o,a=Al(.5*e);if(t<_e)return a;for(var l=t*t,c=1;c<=25;c++)if(r=Math.sin(a),i=Math.cos(a),s=t*r,n=1-s*s,o=.5*n*n/i*(e/(1-l)-r/n+.5/t*Math.log((1-s)/(1+s))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var lQ=["Albers_Conic_Equal_Area","Albers","aea"];const cQ={init:sQ,forward:nQ,inverse:oQ,names:lQ,phi1z:aQ};function uQ(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function hQ(t){var e,r,i,s,n,o,a,l,c=t.x,f=t.y;return i=Ee(c-this.long0),e=Math.sin(f),r=Math.cos(f),s=Math.cos(i),o=this.sin_p14*e+this.cos_p14*r*s,n=1,o>0||Math.abs(o)<=_e?(a=this.x0+this.a*n*r*Math.sin(i)/o,l=this.y0+this.a*n*(this.cos_p14*e-this.sin_p14*r*s)/o):(a=this.x0+this.infinity_dist*r*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*r*s)),t.x=a,t.y=l,t}function fQ(t){var e,r,i,s,n,o;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(s=Math.atan2(e,this.rc),r=Math.sin(s),i=Math.cos(s),o=Al(i*this.sin_p14+t.y*r*this.cos_p14/e),n=Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r),n=Ee(this.long0+n)):(o=this.phic0,n=0),t.x=n,t.y=o,t}var dQ=["gnom"];const pQ={init:uQ,forward:hQ,inverse:fQ,names:dQ};function mQ(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*he:he;for(var i=Math.asin(.5*e),s,n,o,a,l=0;l<30;l++)if(n=Math.sin(i),o=Math.cos(i),a=t*n,s=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-n/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),i+=s,Math.abs(s)<=1e-10)return i;return NaN}function yQ(){this.sphere||(this.k0=$o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function gQ(t){var e=t.x,r=t.y,i,s,n=Ee(e-this.long0);if(this.sphere)i=this.x0+this.a*n*Math.cos(this.lat_ts),s=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var o=ml(this.e,Math.sin(r));i=this.x0+this.a*this.k0*n,s=this.y0+this.a*o*.5/this.k0}return t.x=i,t.y=s,t}function vQ(t){t.x-=this.x0,t.y-=this.y0;var e,r;return this.sphere?(e=Ee(this.long0+t.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=mQ(this.e,2*t.y*this.k0/this.a),e=Ee(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=r,t}var bQ=["cea"];const _Q={init:yQ,forward:gQ,inverse:vQ,names:bQ};function wQ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function xQ(t){var e=t.x,r=t.y,i=Ee(e-this.long0),s=Pl(r-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*s,t}function EQ(t){var e=t.x,r=t.y;return t.x=Ee(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Pl(this.lat0+(r-this.y0)/this.a),t}var SQ=["Equirectangular","Equidistant_Cylindrical","eqc"];const AQ={init:wQ,forward:xQ,inverse:EQ,names:SQ};var $M=20;function TQ(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Im(this.es),this.e1=Cm(this.es),this.e2=Nm(this.es),this.e3=Pm(this.es),this.ml0=this.a*Ki(this.e0,this.e1,this.e2,this.e3,this.lat0)}function MQ(t){var e=t.x,r=t.y,i,s,n,o=Ee(e-this.long0);if(n=o*Math.sin(r),this.sphere)Math.abs(r)<=_e?(i=this.a*o,s=-1*this.a*this.lat0):(i=this.a*Math.sin(n)/Math.tan(r),s=this.a*(Pl(r-this.lat0)+(1-Math.cos(n))/Math.tan(r)));else if(Math.abs(r)<=_e)i=this.a*o,s=-1*this.ml0;else{var a=zh(this.a,this.e,Math.sin(r))/Math.tan(r);i=a*Math.sin(n),s=this.a*Ki(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*(1-Math.cos(n))}return t.x=i+this.x0,t.y=s+this.y0,t}function $Q(t){var e,r,i,s,n,o,a,l,c;if(i=t.x-this.x0,s=t.y-this.y0,this.sphere)if(Math.abs(s+this.a*this.lat0)<=_e)e=Ee(i/this.a+this.long0),r=0;else{o=this.lat0+s/this.a,a=i*i/this.a/this.a+o*o,l=o;var f;for(n=$M;n;--n)if(f=Math.tan(l),c=-1*(o*(l*f+1)-l-.5*(l*l+a)*f)/((l-o)/f-1),l+=c,Math.abs(c)<=_e){r=l;break}e=Ee(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(r))}else if(Math.abs(s+this.ml0)<=_e)r=0,e=Ee(this.long0+i/this.a);else{o=(this.ml0+s)/this.a,a=i*i/this.a/this.a+o*o,l=o;var d,p,y,v,b;for(n=$M;n;--n)if(b=this.e*Math.sin(l),d=Math.sqrt(1-b*b)*Math.tan(l),p=this.a*Ki(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),v=p/this.a,c=(o*(d*v+1)-v-.5*d*(v*v+a))/(this.es*Math.sin(2*l)*(v*v+a-2*o*v)/(4*d)+(o-v)*(d*y-2/Math.sin(2*l))-y),l-=c,Math.abs(c)<=_e){r=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=Ee(this.long0+Math.asin(i*d/this.a)/Math.sin(r))}return t.x=e,t.y=r,t}var OQ=["Polyconic","poly"];const IQ={init:TQ,forward:MQ,inverse:$Q,names:OQ};function CQ(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function NQ(t){var e,r=t.x,i=t.y,s=i-this.lat0,n=r-this.long0,o=s/qd*1e-5,a=n,l=1,c=0;for(e=1;e<=10;e++)l=l*o,c=c+this.A[e]*l;var f=c,d=a,p=1,y=0,v,b,S=0,E=0;for(e=1;e<=6;e++)v=p*f-y*d,b=y*f+p*d,p=v,y=b,S=S+this.B_re[e]*p-this.B_im[e]*y,E=E+this.B_im[e]*p+this.B_re[e]*y;return t.x=E*this.a+this.x0,t.y=S*this.a+this.y0,t}function PQ(t){var e,r=t.x,i=t.y,s=r-this.x0,n=i-this.y0,o=n/this.a,a=s/this.a,l=1,c=0,f,d,p=0,y=0;for(e=1;e<=6;e++)f=l*o-c*a,d=c*o+l*a,l=f,c=d,p=p+this.C_re[e]*l-this.C_im[e]*c,y=y+this.C_im[e]*l+this.C_re[e]*c;for(var v=0;v<this.iterations;v++){var b=p,S=y,E,T,w=o,_=a;for(e=2;e<=6;e++)E=b*p-S*y,T=S*p+b*y,b=E,S=T,w=w+(e-1)*(this.B_re[e]*b-this.B_im[e]*S),_=_+(e-1)*(this.B_im[e]*b+this.B_re[e]*S);b=1,S=0;var M=this.B_re[1],$=this.B_im[1];for(e=2;e<=6;e++)E=b*p-S*y,T=S*p+b*y,b=E,S=T,M=M+e*(this.B_re[e]*b-this.B_im[e]*S),$=$+e*(this.B_im[e]*b+this.B_re[e]*S);var C=M*M+$*$;p=(w*M+_*$)/C,y=(_*M-w*$)/C}var P=p,N=y,F=1,q=0;for(e=1;e<=9;e++)F=F*P,q=q+this.D[e]*F;var U=this.lat0+q*qd*1e5,B=this.long0+N;return t.x=B,t.y=U,t}var LQ=["New_Zealand_Map_Grid","nzmg"];const kQ={init:CQ,forward:NQ,inverse:PQ,names:LQ};function RQ(){}function DQ(t){var e=t.x,r=t.y,i=Ee(e-this.long0),s=this.x0+this.a*i,n=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=s,t.y=n,t}function FQ(t){t.x-=this.x0,t.y-=this.y0;var e=Ee(this.long0+t.x/this.a),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t}var UQ=["Miller_Cylindrical","mill"];const jQ={init:RQ,forward:DQ,inverse:FQ,names:UQ};var BQ=20;function VQ(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=SS(this.es)}function GQ(t){var e,r,i=t.x,s=t.y;if(i=Ee(i-this.long0),this.sphere){if(!this.m)s=this.n!==1?Math.asin(this.n*Math.sin(s)):s;else for(var n=this.n*Math.sin(s),o=BQ;o;--o){var a=(this.m*s+Math.sin(s)-n)/(this.m+Math.cos(s));if(s-=a,Math.abs(a)<_e)break}e=this.a*this.C_x*i*(this.m+Math.cos(s)),r=this.a*this.C_y*s}else{var l=Math.sin(s),c=Math.cos(s);r=this.a*$f(s,l,c,this.en),e=this.a*i*c/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=r,t}function zQ(t){var e,r,i,s;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(e))),this.m?e=Al((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=Al(Math.sin(e)/this.n)),i=Ee(i+this.long0),e=Pl(e)):(e=AS(t.y/this.a,this.es,this.en),s=Math.abs(e),s<he?(s=Math.sin(e),r=this.long0+t.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(e)),i=Ee(r)):s-_e<he&&(i=this.long0)),t.x=i,t.y=e,t}var qQ=["Sinusoidal","sinu"];const HQ={init:VQ,forward:GQ,inverse:zQ,names:qQ};function WQ(){}function YQ(t){for(var e=t.x,r=t.y,i=Ee(e-this.long0),s=r,n=Math.PI*Math.sin(r);;){var o=-(s+Math.sin(s)-n)/(1+Math.cos(s));if(s+=o,Math.abs(o)<_e)break}s/=2,Math.PI/2-Math.abs(r)<_e&&(i=0);var a=.900316316158*this.a*i*Math.cos(s)+this.x0,l=1.4142135623731*this.a*Math.sin(s)+this.y0;return t.x=a,t.y=l,t}function JQ(t){var e,r;t.x-=this.x0,t.y-=this.y0,r=t.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),e=Math.asin(r);var i=Ee(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),r=(2*e+Math.sin(2*e))/Math.PI,Math.abs(r)>1&&(r=1);var s=Math.asin(r);return t.x=i,t.y=s,t}var KQ=["Mollweide","moll"];const ZQ={init:WQ,forward:YQ,inverse:JQ,names:KQ};function XQ(){Math.abs(this.lat1+this.lat2)<_e||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Im(this.es),this.e1=Cm(this.es),this.e2=Nm(this.es),this.e3=Pm(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=$o(this.e,this.sinphi,this.cosphi),this.ml1=Ki(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<_e?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=$o(this.e,this.sinphi,this.cosphi),this.ml2=Ki(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ki(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function QQ(t){var e=t.x,r=t.y,i;if(this.sphere)i=this.a*(this.g-r);else{var s=Ki(this.e0,this.e1,this.e2,this.e3,r);i=this.a*(this.g-s)}var n=this.ns*Ee(e-this.long0),o=this.x0+i*Math.sin(n),a=this.y0+this.rh-i*Math.cos(n);return t.x=o,t.y=a,t}function eee(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,r,i,s;this.ns>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var n=0;if(r!==0&&(n=Math.atan2(e*t.x,e*t.y)),this.sphere)return s=Ee(this.long0+n/this.ns),i=Pl(this.g-r/this.a),t.x=s,t.y=i,t;var o=this.g-r/this.a;return i=Cg(o,this.e0,this.e1,this.e2,this.e3),s=Ee(this.long0+n/this.ns),t.x=s,t.y=i,t}var tee=["Equidistant_Conic","eqdc"];const ree={init:XQ,forward:QQ,inverse:eee,names:tee};function iee(){this.R=this.a}function see(t){var e=t.x,r=t.y,i=Ee(e-this.long0),s,n;Math.abs(r)<=_e&&(s=this.x0+this.R*i,n=this.y0);var o=Al(2*Math.abs(r/Math.PI));(Math.abs(i)<=_e||Math.abs(Math.abs(r)-he)<=_e)&&(s=this.x0,r>=0?n=this.y0+Math.PI*this.R*Math.tan(.5*o):n=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/i-i/Math.PI),l=a*a,c=Math.sin(o),f=Math.cos(o),d=f/(c+f-1),p=d*d,y=d*(2/c-1),v=y*y,b=Math.PI*this.R*(a*(d-v)+Math.sqrt(l*(d-v)*(d-v)-(v+l)*(p-v)))/(v+l);i<0&&(b=-b),s=this.x0+b;var S=l+d;return b=Math.PI*this.R*(y*S-a*Math.sqrt((v+l)*(l+1)-S*S))/(v+l),r>=0?n=this.y0+b:n=this.y0-b,t.x=s,t.y=n,t}function nee(t){var e,r,i,s,n,o,a,l,c,f,d,p,y;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,i=t.x/d,s=t.y/d,n=i*i+s*s,o=-Math.abs(s)*(1+n),a=o-2*s*s+i*i,l=-2*o+1+2*s*s+n*n,y=s*s/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,c=(o-a*a/3/l)/l,f=2*Math.sqrt(-c/3),d=3*y/c/f,Math.abs(d)>1&&(d>=0?d=1:d=-1),p=Math.acos(d)/3,t.y>=0?r=(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI:r=-(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI,Math.abs(i)<_e?e=this.long0:e=Ee(this.long0+Math.PI*(n-1+Math.sqrt(1+2*(i*i-s*s)+n*n))/2/i),t.x=e,t.y=r,t}var oee=["Van_der_Grinten_I","VanDerGrinten","vandg"];const aee={init:iee,forward:see,inverse:nee,names:oee};function lee(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function cee(t){var e=t.x,r=t.y,i=Math.sin(t.y),s=Math.cos(t.y),n=Ee(e-this.long0),o,a,l,c,f,d,p,y,v,b,S,E,T,w,_,M,$,C,P,N,F,q,U;return this.sphere?Math.abs(this.sin_p12-1)<=_e?(t.x=this.x0+this.a*(he-r)*Math.sin(n),t.y=this.y0-this.a*(he-r)*Math.cos(n),t):Math.abs(this.sin_p12+1)<=_e?(t.x=this.x0+this.a*(he+r)*Math.sin(n),t.y=this.y0+this.a*(he+r)*Math.cos(n),t):(C=this.sin_p12*i+this.cos_p12*s*Math.cos(n),M=Math.acos(C),$=M?M/Math.sin(M):1,t.x=this.x0+this.a*$*s*Math.sin(n),t.y=this.y0+this.a*$*(this.cos_p12*i-this.sin_p12*s*Math.cos(n)),t):(o=Im(this.es),a=Cm(this.es),l=Nm(this.es),c=Pm(this.es),Math.abs(this.sin_p12-1)<=_e?(f=this.a*Ki(o,a,l,c,he),d=this.a*Ki(o,a,l,c,r),t.x=this.x0+(f-d)*Math.sin(n),t.y=this.y0-(f-d)*Math.cos(n),t):Math.abs(this.sin_p12+1)<=_e?(f=this.a*Ki(o,a,l,c,he),d=this.a*Ki(o,a,l,c,r),t.x=this.x0+(f+d)*Math.sin(n),t.y=this.y0+(f+d)*Math.cos(n),t):(p=i/s,y=zh(this.a,this.e,this.sin_p12),v=zh(this.a,this.e,i),b=Math.atan((1-this.es)*p+this.es*y*this.sin_p12/(v*s)),S=Math.atan2(Math.sin(n),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(n)),S===0?P=Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(S)-Math.PI)<=_e?P=-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):P=Math.asin(Math.sin(n)*Math.cos(b)/Math.sin(S)),E=this.e*this.sin_p12/Math.sqrt(1-this.es),T=this.e*this.cos_p12*Math.cos(S)/Math.sqrt(1-this.es),w=E*T,_=T*T,N=P*P,F=N*P,q=F*P,U=q*P,M=y*P*(1-N*_*(1-_)/6+F/8*w*(1-2*_)+q/120*(_*(4-7*_)-3*E*E*(1-7*_))-U/48*w),t.x=this.x0+M*Math.sin(S),t.y=this.y0+M*Math.cos(S),t))}function uee(t){t.x-=this.x0,t.y-=this.y0;var e,r,i,s,n,o,a,l,c,f,d,p,y,v,b,S,E,T,w,_,M,$,C,P;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*he*this.a?void 0:(r=e/this.a,i=Math.sin(r),s=Math.cos(r),n=this.long0,Math.abs(e)<=_e?o=this.lat0:(o=Al(s*this.sin_p12+t.y*i*this.cos_p12/e),a=Math.abs(this.lat0)-he,Math.abs(a)<=_e?this.lat0>=0?n=Ee(this.long0+Math.atan2(t.x,-t.y)):n=Ee(this.long0-Math.atan2(-t.x,t.y)):n=Ee(this.long0+Math.atan2(t.x*i,e*this.cos_p12*s-t.y*this.sin_p12*i))),t.x=n,t.y=o,t)):(l=Im(this.es),c=Cm(this.es),f=Nm(this.es),d=Pm(this.es),Math.abs(this.sin_p12-1)<=_e?(p=this.a*Ki(l,c,f,d,he),e=Math.sqrt(t.x*t.x+t.y*t.y),y=p-e,o=Cg(y/this.a,l,c,f,d),n=Ee(this.long0+Math.atan2(t.x,-1*t.y)),t.x=n,t.y=o,t):Math.abs(this.sin_p12+1)<=_e?(p=this.a*Ki(l,c,f,d,he),e=Math.sqrt(t.x*t.x+t.y*t.y),y=e-p,o=Cg(y/this.a,l,c,f,d),n=Ee(this.long0+Math.atan2(t.x,t.y)),t.x=n,t.y=o,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),S=Math.atan2(t.x,t.y),v=zh(this.a,this.e,this.sin_p12),E=Math.cos(S),T=this.e*this.cos_p12*E,w=-T*T/(1-this.es),_=3*this.es*(1-w)*this.sin_p12*this.cos_p12*E/(1-this.es),M=e/v,$=M-w*(1+w)*Math.pow(M,3)/6-_*(1+3*w)*Math.pow(M,4)/24,C=1-w*$*$/2-M*$*$*$/6,b=Math.asin(this.sin_p12*Math.cos($)+this.cos_p12*Math.sin($)*E),n=Ee(this.long0+Math.asin(Math.sin(S)*Math.sin($)/Math.cos(b))),P=Math.sin(b),o=Math.atan2((P-this.es*C*this.sin_p12)*Math.tan(b),P*(1-this.es)),t.x=n,t.y=o,t))}var hee=["Azimuthal_Equidistant","aeqd"];const fee={init:lee,forward:cee,inverse:uee,names:hee};function dee(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function pee(t){var e,r,i,s,n,o,a,l,c=t.x,f=t.y;return i=Ee(c-this.long0),e=Math.sin(f),r=Math.cos(f),s=Math.cos(i),o=this.sin_p14*e+this.cos_p14*r*s,n=1,(o>0||Math.abs(o)<=_e)&&(a=this.a*n*r*Math.sin(i),l=this.y0+this.a*n*(this.cos_p14*e-this.sin_p14*r*s)),t.x=a,t.y=l,t}function mee(t){var e,r,i,s,n,o,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),r=Al(e/this.a),i=Math.sin(r),s=Math.cos(r),o=this.long0,Math.abs(e)<=_e?(a=this.lat0,t.x=o,t.y=a,t):(a=Al(s*this.sin_p14+t.y*i*this.cos_p14/e),n=Math.abs(this.lat0)-he,Math.abs(n)<=_e?(this.lat0>=0?o=Ee(this.long0+Math.atan2(t.x,-t.y)):o=Ee(this.long0-Math.atan2(-t.x,t.y)),t.x=o,t.y=a,t):(o=Ee(this.long0+Math.atan2(t.x*i,e*this.cos_p14*s-t.y*this.sin_p14*i)),t.x=o,t.y=a,t))}var yee=["ortho"];const gee={init:dee,forward:pee,inverse:mee,names:yee};var ar={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},At={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function vee(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=he-St/2?this.face=ar.TOP:this.lat0<=-(he-St/2)?this.face=ar.BOTTOM:Math.abs(this.long0)<=St?this.face=ar.FRONT:Math.abs(this.long0)<=he+St?this.face=this.long0>0?ar.RIGHT:ar.LEFT:this.face=ar.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function bee(t){var e={x:0,y:0},r,i,s,n,o,a,l={value:0};if(t.x-=this.long0,this.es!==0?r=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):r=t.y,i=t.x,this.face===ar.TOP)n=he-r,i>=St&&i<=he+St?(l.value=At.AREA_0,s=i-he):i>he+St||i<=-(he+St)?(l.value=At.AREA_1,s=i>0?i-Sr:i+Sr):i>-(he+St)&&i<=-St?(l.value=At.AREA_2,s=i+he):(l.value=At.AREA_3,s=i);else if(this.face===ar.BOTTOM)n=he+r,i>=St&&i<=he+St?(l.value=At.AREA_0,s=-i+he):i<St&&i>=-St?(l.value=At.AREA_1,s=-i):i<-St&&i>=-(he+St)?(l.value=At.AREA_2,s=-i-he):(l.value=At.AREA_3,s=i>0?-i+Sr:-i-Sr);else{var c,f,d,p,y,v,b;this.face===ar.RIGHT?i=xh(i,+he):this.face===ar.BACK?i=xh(i,+Sr):this.face===ar.LEFT&&(i=xh(i,-he)),p=Math.sin(r),y=Math.cos(r),v=Math.sin(i),b=Math.cos(i),c=y*b,f=y*v,d=p,this.face===ar.FRONT?(n=Math.acos(c),s=by(n,d,f,l)):this.face===ar.RIGHT?(n=Math.acos(f),s=by(n,d,-c,l)):this.face===ar.BACK?(n=Math.acos(-c),s=by(n,d,-f,l)):this.face===ar.LEFT?(n=Math.acos(-f),s=by(n,d,c,l)):(n=s=0,l.value=At.AREA_0)}return a=Math.atan(12/Sr*(s+Math.acos(Math.sin(s)*Math.cos(St))-he)),o=Math.sqrt((1-Math.cos(n))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(s))))),l.value===At.AREA_1?a+=he:l.value===At.AREA_2?a+=Sr:l.value===At.AREA_3&&(a+=1.5*Sr),e.x=o*Math.cos(a),e.y=o*Math.sin(a),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function _ee(t){var e={lam:0,phi:0},r,i,s,n,o,a,l,c,f,d={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),r=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?d.value=At.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(d.value=At.AREA_1,r-=he):t.x<0&&-t.x>=Math.abs(t.y)?(d.value=At.AREA_2,r=r<0?r+Sr:r-Sr):(d.value=At.AREA_3,r+=he),f=Sr/12*Math.tan(r),o=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),a=Math.atan(o),s=Math.cos(r),n=Math.tan(i),l=1-s*s*n*n*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===ar.TOP)c=Math.acos(l),e.phi=he-c,d.value===At.AREA_0?e.lam=a+he:d.value===At.AREA_1?e.lam=a<0?a+Sr:a-Sr:d.value===At.AREA_2?e.lam=a-he:e.lam=a;else if(this.face===ar.BOTTOM)c=Math.acos(l),e.phi=c-he,d.value===At.AREA_0?e.lam=-a+he:d.value===At.AREA_1?e.lam=-a:d.value===At.AREA_2?e.lam=-a-he:e.lam=a<0?-a-Sr:-a+Sr;else{var p,y,v;p=l,f=p*p,f>=1?v=0:v=Math.sqrt(1-f)*Math.sin(a),f+=v*v,f>=1?y=0:y=Math.sqrt(1-f),d.value===At.AREA_1?(f=y,y=-v,v=f):d.value===At.AREA_2?(y=-y,v=-v):d.value===At.AREA_3&&(f=y,y=v,v=-f),this.face===ar.RIGHT?(f=p,p=-y,y=f):this.face===ar.BACK?(p=-p,y=-y):this.face===ar.LEFT&&(f=p,p=y,y=-f),e.phi=Math.acos(-v)-he,e.lam=Math.atan2(y,p),this.face===ar.RIGHT?e.lam=xh(e.lam,-he):this.face===ar.BACK?e.lam=xh(e.lam,-Sr):this.face===ar.LEFT&&(e.lam=xh(e.lam,+he))}if(this.es!==0){var b,S,E;b=e.phi<0?1:0,S=Math.tan(e.phi),E=this.b/Math.sqrt(S*S+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-E*E)/(this.one_minus_f*E)),b&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function by(t,e,r,i){var s;return t<_e?(i.value=At.AREA_0,s=0):(s=Math.atan2(e,r),Math.abs(s)<=St?i.value=At.AREA_0:s>St&&s<=he+St?(i.value=At.AREA_1,s-=he):s>he+St||s<=-(he+St)?(i.value=At.AREA_2,s=s>=0?s-Sr:s+Sr):(i.value=At.AREA_3,s+=he)),s}function xh(t,e){var r=t+e;return r<-Sr?r+=Dp:r>+Sr&&(r-=Dp),r}var wee=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const xee={init:vee,forward:bee,inverse:_ee,names:wee};var Xw=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Td=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],$L=.8487,OL=1.3523,IL=fo/5,Eee=1/IL,oh=18,Ng=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},See=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function Aee(t,e,r,i){for(var s=e;i;--i){var n=t(s);if(s-=n,Math.abs(n)<r)break}return s}function Tee(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Mee(t){var e=Ee(t.x-this.long0),r=Math.abs(t.y),i=Math.floor(r*IL);i<0?i=0:i>=oh&&(i=oh-1),r=fo*(r-Eee*i);var s={x:Ng(Xw[i],r)*e,y:Ng(Td[i],r)};return t.y<0&&(s.y=-s.y),s.x=s.x*this.a*$L+this.x0,s.y=s.y*this.a*OL+this.y0,s}function $ee(t){var e={x:(t.x-this.x0)/(this.a*$L),y:Math.abs(t.y-this.y0)/(this.a*OL)};if(e.y>=1)e.x/=Xw[oh][0],e.y=t.y<0?-he:he;else{var r=Math.floor(e.y*oh);for(r<0?r=0:r>=oh&&(r=oh-1);;)if(Td[r][0]>e.y)--r;else if(Td[r+1][0]<=e.y)++r;else break;var i=Td[r],s=5*(e.y-i[0])/(Td[r+1][0]-i[0]);s=Aee(function(n){return(Ng(i,n)-e.y)/See(i,n)},s,_e,100),e.x/=Ng(Xw[r],s),e.y=(5*r+s)*fi,t.y<0&&(e.y=-e.y)}return e.x=Ee(e.x+this.long0),e}var Oee=["Robinson","robin"];const Iee={init:Tee,forward:Mee,inverse:$ee,names:Oee};function Cee(){this.name="geocent"}function Nee(t){var e=gL(t,this.es,this.a);return e}function Pee(t){var e=vL(t,this.es,this.a,this.b);return e}var Lee=["Geocentric","geocentric","geocent","Geocent"];const kee={init:Cee,forward:Nee,inverse:Pee,names:Lee};var Mi={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Hf={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function Ree(){if(Object.keys(Hf).forEach(function(r){if(typeof this[r]>"u")this[r]=Hf[r].def;else{if(Hf[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);Hf[r].num&&(this[r]=parseFloat(this[r]))}Hf[r].degrees&&(this[r]=this[r]*fi)}.bind(this)),Math.abs(Math.abs(this.lat0)-he)<_e?this.mode=this.lat0<0?Mi.S_POLE:Mi.N_POLE:Math.abs(this.lat0)<_e?this.mode=Mi.EQUIT:(this.mode=Mi.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function Dee(t){t.x-=this.long0;var e=Math.sin(t.y),r=Math.cos(t.y),i=Math.cos(t.x),s,n;switch(this.mode){case Mi.OBLIQ:n=this.sinph0*e+this.cosph0*r*i;break;case Mi.EQUIT:n=r*i;break;case Mi.S_POLE:n=-e;break;case Mi.N_POLE:n=e;break}switch(n=this.pn1/(this.p-n),s=n*r*Math.sin(t.x),this.mode){case Mi.OBLIQ:n*=this.cosph0*e-this.sinph0*r*i;break;case Mi.EQUIT:n*=e;break;case Mi.N_POLE:n*=-(r*i);break;case Mi.S_POLE:n*=r*i;break}var o,a;return o=n*this.cg+s*this.sg,a=1/(o*this.sw*this.h1+this.cw),s=(s*this.cg-n*this.sg)*this.cw*a,n=o*a,t.x=s*this.a,t.y=n*this.a,t}function Fee(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},r,i,s;s=1/(this.pn1-t.y*this.sw),r=this.pn1*t.x*s,i=this.pn1*t.y*this.cw*s,t.x=r*this.cg+i*this.sg,t.y=i*this.cg-r*this.sg;var n=ds(t.x,t.y);if(Math.abs(n)<_e)e.x=0,e.y=t.y;else{var o,a;switch(a=1-n*n*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/n+n/this.pn1),o=Math.sqrt(1-a*a),this.mode){case Mi.OBLIQ:e.y=Math.asin(o*this.sinph0+t.y*a*this.cosph0/n),t.y=(o-this.sinph0*Math.sin(e.y))*n,t.x*=a*this.cosph0;break;case Mi.EQUIT:e.y=Math.asin(t.y*a/n),t.y=o*n,t.x*=a;break;case Mi.N_POLE:e.y=Math.asin(o),t.y=-t.y;break;case Mi.S_POLE:e.y=-Math.asin(o);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var Uee=["Tilted_Perspective","tpers"];const jee={init:Ree,forward:Dee,inverse:Fee,names:Uee};function Bee(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function Vee(t){var e=t.x,r=t.y,i,s,n,o;if(e=e-this.long0,this.shape==="ellipse"){r=Math.atan(this.radius_p2*Math.tan(r));var a=this.radius_p/ds(this.radius_p*Math.cos(r),Math.sin(r));if(s=a*Math.cos(e)*Math.cos(r),n=a*Math.sin(e)*Math.cos(r),o=a*Math.sin(r),(this.radius_g-s)*s-n*n-o*o*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=this.radius_g-s,this.flip_axis?(t.x=this.radius_g_1*Math.atan(n/ds(o,i)),t.y=this.radius_g_1*Math.atan(o/i)):(t.x=this.radius_g_1*Math.atan(n/i),t.y=this.radius_g_1*Math.atan(o/ds(n,i)))}else this.shape==="sphere"&&(i=Math.cos(r),s=Math.cos(e)*i,n=Math.sin(e)*i,o=Math.sin(r),i=this.radius_g-s,this.flip_axis?(t.x=this.radius_g_1*Math.atan(n/ds(o,i)),t.y=this.radius_g_1*Math.atan(o/i)):(t.x=this.radius_g_1*Math.atan(n/i),t.y=this.radius_g_1*Math.atan(o/ds(n,i))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function Gee(t){var e=-1,r=0,i=0,s,n,o,a;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*ds(1,i)):(r=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*ds(1,r));var l=i/this.radius_p;if(s=r*r+l*l+e*e,n=2*this.radius_g*e,o=n*n-4*s*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-n-Math.sqrt(o))/(2*s),e=this.radius_g+a*e,r*=a,i*=a,t.x=Math.atan2(r,e),t.y=Math.atan(i*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+i*i)):(r=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+r*r)),s=r*r+i*i+e*e,n=2*this.radius_g*e,o=n*n-4*s*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-n-Math.sqrt(o))/(2*s),e=this.radius_g+a*e,r*=a,i*=a,t.x=Math.atan2(r,e),t.y=Math.atan(i*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var zee=["Geostationary Satellite View","Geostationary_Satellite","geos"];const qee={init:Bee,forward:Vee,inverse:Gee,names:zee};var Hd=1.340264,Wd=-.081106,Yd=893e-6,Jd=.003796,Pg=Math.sqrt(3)/2;function Hee(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function Wee(t){var e=Ee(t.x-this.long0),r=t.y,i=Math.asin(Pg*Math.sin(r)),s=i*i,n=s*s*s;return t.x=e*Math.cos(i)/(Pg*(Hd+3*Wd*s+n*(7*Yd+9*Jd*s))),t.y=i*(Hd+Wd*s+n*(Yd+Jd*s)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Yee(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,r=12,i=t.y,s,n,o,a,l,c;for(c=0;c<r&&(s=i*i,n=s*s*s,o=i*(Hd+Wd*s+n*(Yd+Jd*s))-t.y,a=Hd+3*Wd*s+n*(7*Yd+9*Jd*s),i-=l=o/a,!(Math.abs(l)<e));++c);return s=i*i,n=s*s*s,t.x=Pg*t.x*(Hd+3*Wd*s+n*(7*Yd+9*Jd*s))/Math.cos(i),t.y=Math.asin(Math.sin(i)/Pg),t.x=Ee(t.x+this.long0),t}var Jee=["eqearth","Equal Earth","Equal_Earth"];const Kee={init:Hee,forward:Wee,inverse:Yee,names:Jee};var jp=1e-10;function Zee(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<jp)throw new Error;this.es?(this.en=SS(this.es),this.m1=$f(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=Qee,this.forward=Xee):(Math.abs(this.phi1)+jp>=he?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=tte,this.forward=ete)}function Xee(t){var e=Ee(t.x-(this.long0||0)),r=t.y,i,s,n;return i=this.am1+this.m1-$f(r,s=Math.sin(r),n=Math.cos(r),this.en),s=n*e/(i*Math.sqrt(1-this.es*s*s)),t.x=i*Math.sin(s),t.y=this.am1-i*Math.cos(s),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function Qee(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,r,i,s;if(r=ds(t.x,t.y=this.am1-t.y),s=AS(this.am1+this.m1-r,this.es,this.en),(e=Math.abs(s))<he)e=Math.sin(s),i=r*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(s);else if(Math.abs(e-he)<=jp)i=0;else throw new Error;return t.x=Ee(i+(this.long0||0)),t.y=Pl(s),t}function ete(t){var e=Ee(t.x-(this.long0||0)),r=t.y,i,s;return s=this.cphi1+this.phi1-r,Math.abs(s)>jp?(t.x=s*Math.sin(i=e*Math.cos(r)/s),t.y=this.cphi1-s*Math.cos(i)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function tte(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,r,i=ds(t.x,t.y=this.cphi1-t.y);if(r=this.cphi1+this.phi1-i,Math.abs(r)>he)throw new Error;return Math.abs(Math.abs(r)-he)<=jp?e=0:e=i*Math.atan2(t.x,t.y)/Math.cos(r),t.x=Ee(e+(this.long0||0)),t.y=Pl(r),t}var rte=["bonne","Bonne (Werner lat_1=90)"];const ite={init:Zee,names:rte};function ste(t){t.Proj.projections.add(O0),t.Proj.projections.add(I0),t.Proj.projections.add(QZ),t.Proj.projections.add(lX),t.Proj.projections.add(pX),t.Proj.projections.add(bX),t.Proj.projections.add(AX),t.Proj.projections.add(IX),t.Proj.projections.add(kX),t.Proj.projections.add(jX),t.Proj.projections.add(iQ),t.Proj.projections.add(cQ),t.Proj.projections.add(pQ),t.Proj.projections.add(_Q),t.Proj.projections.add(AQ),t.Proj.projections.add(IQ),t.Proj.projections.add(kQ),t.Proj.projections.add(jQ),t.Proj.projections.add(HQ),t.Proj.projections.add(ZQ),t.Proj.projections.add(ree),t.Proj.projections.add(aee),t.Proj.projections.add(fee),t.Proj.projections.add(gee),t.Proj.projections.add(xee),t.Proj.projections.add(Iee),t.Proj.projections.add(kee),t.Proj.projections.add(jee),t.Proj.projections.add(qee),t.Proj.projections.add(Kee),t.Proj.projections.add(ite)}Rt.defaultDatum="WGS84";Rt.Proj=bo;Rt.WGS84=new Rt.Proj("WGS84");Rt.Point=Gh;Rt.toPoint=bL;Rt.defs=Ui;Rt.nadgrid=tZ;Rt.transform=Ig;Rt.mgrs=gZ;Rt.version="__VERSION__";ste(Rt);const nte="EPSG:4326";class ote{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,Rt.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Rt.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Rt.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),Rt.defs("EPSG:102100",Rt.defs("EPSG:3857")),Rt.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Rt.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let e=1;for(;e<=60;){const r=e<10?`0${e}`:e;Rt.defs(`EPSG:326${r}`,`+proj=utm +zone=${e} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),e++}}addProjection(e,r){e=typeof e=="number"?`EPSG:${e}`:e,Rt.defs(e,r)}defaultEpsgLookup(e){const r=/urn:ogc:def:crs:EPSG::(\d+)/,i=/EPSG:(\d+)/,s=String(e).match(r)||String(e).match(i)||[];if(s.length<2)throw new Error("Invalid code provided.");return new Promise((n,o)=>{const a=`https://epsg.io/${s[1]}.proj4`;Dr(a,{responseType:"text"}).then(f=>{f.data?n(f.data):o()},f=>{o(f)})})}epsgLookup(e){return this.espgWorker(e)}setEpsgLookup(e){this.espgWorker=e}normalizeProj(e){if(typeof e=="object"){if(e.wkid)return"EPSG:"+e.wkid;if(e.wkt)return e.wkt}else{if(typeof e=="number")return"EPSG:"+e;if(typeof e=="string")return e}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(e){let r,i="";try{r=this.normalizeProj(e)}catch{return!1}if(!r.startsWith("EPSG:"))return!0;typeof e=="object"&&e.latestWkid&&(i=this.normalizeProj(e.latestWkid));const s=(l,c)=>{l!==c&&Rt.defs(c,Rt.defs(l))};if(Rt.defs(r))return!0;if(i&&Rt.defs(i))return s(i,r),!0;const n=async l=>{try{const c=await this.epsgLookup(l);return c===null||c===""?!1:(Rt.defs(l,c),!0)}catch{return!1}};return await(i?n(i):Promise.resolve(!1))?(s(i,r),!0):n(r)}async checkProjBomber(e){if(e.length>0){const r=e.pop();if(await this.checkProj(r))return this.checkProjBomber(e);throw console.error("Unable to parse or locate projection information for this item:",r),new Error("Could not find projection information, see console for details")}}async projectGeoJson(e,r,i){let s,n;if(r?s=this.normalizeProj(r):s=Be.parseGeoJsonCrs(e.crs),i?n=this.normalizeProj(i):n=nte,n===s)return e;await this.checkProjBomber([s,n]);const o=Rt(s,n).forward;return mK(e,o)}async projectGeometry(e,r){if(r.type===Ke.EXTENT)return this.projectExtent(e,r);await this.checkProjBomber([e,r.sr]);const i=r.toGeoJSON(),s=await this.projectGeoJson(i,this.normalizeProj(r.sr),this.normalizeProj(e)),n=Ih.geom.geomGeoJsonToRamp(s,r.id);return n.sr=Be.parseSR(e),n}async projectExtent(e,r){const i=(b,S,E)=>{if(E===0)return[b,S];const T=[(b[0]+S[0])/2,(b[1]+S[1])/2];if(E===1)return[b,T,S];if(E>1){const w=i(b,T,E-1),_=i(T,S,E-1);return w.concat(_.slice(1))}return[[]]},s=r.toPolygonArray().pop()||[];let n=[];[0,1,2,3].map(b=>i(s[b],s[b+1],3).slice(1)).forEach(b=>n=n.concat(b));const o=new $i("warpy",[n],r.sr,!0),a=await this.projectGeometry(e,o),l=a.toArray().pop()||[],c=l.map(b=>b[0]),f=l.map(b=>b[1]),d=Math.min.apply(null,c),p=Math.max.apply(null,c),y=Math.min.apply(null,f),v=Math.max.apply(null,f);return er.fromParams(r.id+"_projected",d,y,p,v,a.sr)}}class ate{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new ote,this.geom=new sK,this.sharedUtils=new lK}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(e){const r=i=>i.map(s=>({level:s[0],resolution:s[1],scale:s[2]}));if(e===this.DEFAULT_LAMBERT)return r([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(e===this.DEFAULT_MERCATOR)return r([[0,19567.87924099992,73957190948944e-6],[1,9783.93962049996,36978595474472e-6],[2,4891.96981024998,18489297737236e-6],[3,2445.98490512499,9244648868618e-6],[4,1222.992452562495,4622324434309e-6],[5,611.4962262813797,2311162217155e-6],[6,305.74811314055756,1155581108577e-6],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${e}`)}}class Pr{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(e){this.$iApi=e}}function lte(t){return typeof t=="function"&&t.render&&typeof t.render=="function"}function cte(t){const e=["data","props","propsData","computed","methods","watch","template","render","components","model"];return typeof t=="object"&&!t.functional&&e.some(r=>t[r]!==void 0)}function CL(t){return typeof t=="object"&&Object.keys(t).every(e=>typeof e=="string")&&Object.values(t).every(e=>e instanceof HTMLElement)}function ute(t){return typeof t=="object"&&t.default!==void 0}var _y={exports:{}},OM;function hte(){if(OM)return _y.exports;OM=1;function t(){}return t.prototype={on:function(e,r,i){var s=this.e||(this.e={});return(s[e]||(s[e]=[])).push({fn:r,ctx:i}),this},once:function(e,r,i){var s=this;function n(){s.off(e,n),r.apply(i,arguments)}return n._=r,this.on(e,n,i)},emit:function(e){var r=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),s=0,n=i.length;for(s;s<n;s++)i[s].fn.apply(i[s].ctx,r);return this},off:function(e,r){var i=this.e||(this.e={}),s=i[e],n=[];if(s&&r)for(var o=0,a=s.length;o<a;o++)s[o].fn!==r&&s[o].fn._!==r&&n.push(s[o]);return n.length?i[e]=n:delete i[e],this}},_y.exports=t,_y.exports.TinyEmitter=t,_y.exports}var fte=hte();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Bs(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const nt={},Eh=[],yi=()=>{},Md=()=>!1,uu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),OS=t=>t.startsWith("onUpdate:"),ot=Object.assign,IS=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},dte=Object.prototype.hasOwnProperty,vt=(t,e)=>dte.call(t,e),Se=Array.isArray,Sh=t=>Of(t)==="[object Map]",hu=t=>Of(t)==="[object Set]",IM=t=>Of(t)==="[object Date]",pte=t=>Of(t)==="[object RegExp]",De=t=>typeof t=="function",Je=t=>typeof t=="string",Ss=t=>typeof t=="symbol",Pt=t=>t!==null&&typeof t=="object",CS=t=>(Pt(t)||De(t))&&De(t.then)&&De(t.catch),NL=Object.prototype.toString,Of=t=>NL.call(t),mte=t=>Of(t).slice(8,-1),d1=t=>Of(t)==="[object Object]",NS=t=>Je(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yl=Bs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),yte=Bs("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),p1=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},gte=/-(\w)/g,Gt=p1(t=>t.replace(gte,(e,r)=>r?r.toUpperCase():"")),vte=/\B([A-Z])/g,ps=p1(t=>t.replace(vte,"-$1").toLowerCase()),Ll=p1(t=>t.charAt(0).toUpperCase()+t.slice(1)),Lc=p1(t=>t?`on${Ll(t)}`:""),qi=(t,e)=>!Object.is(t,e),Ah=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},PL=(t,e,r,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:r})},Lg=t=>{const e=parseFloat(t);return isNaN(e)?t:e},kg=t=>{const e=Je(t)?Number(t):NaN;return isNaN(e)?t:e};let CM;const m1=()=>CM||(CM=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bte(t,e){return t+JSON.stringify(e,(r,i)=>typeof i=="function"?i.toString():i)}const _te="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",wte=Bs(_te);function kl(t){if(Se(t)){const e={};for(let r=0;r<t.length;r++){const i=t[r],s=Je(i)?LL(i):kl(i);if(s)for(const n in s)e[n]=s[n]}return e}else if(Je(t)||Pt(t))return t}const xte=/;(?![^(]*\))/g,Ete=/:([^]+)/,Ste=/\/\*[^]*?\*\//g;function LL(t){const e={};return t.replace(Ste,"").split(xte).forEach(r=>{if(r){const i=r.split(Ete);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function lr(t){let e="";if(Je(t))e=t;else if(Se(t))for(let r=0;r<t.length;r++){const i=lr(t[r]);i&&(e+=i+" ")}else if(Pt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function kL(t){if(!t)return null;let{class:e,style:r}=t;return e&&!Je(e)&&(t.class=lr(e)),r&&(t.style=kl(r)),t}const Ate="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Tte="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Mte="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",$te="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Ote=Bs(Ate),Ite=Bs(Tte),Cte=Bs(Mte),Nte=Bs($te),Pte="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Lte=Bs(Pte);function RL(t){return!!t||t===""}function kte(t,e){if(t.length!==e.length)return!1;let r=!0;for(let i=0;r&&i<t.length;i++)r=Tl(t[i],e[i]);return r}function Tl(t,e){if(t===e)return!0;let r=IM(t),i=IM(e);if(r||i)return r&&i?t.getTime()===e.getTime():!1;if(r=Ss(t),i=Ss(e),r||i)return t===e;if(r=Se(t),i=Se(e),r||i)return r&&i?kte(t,e):!1;if(r=Pt(t),i=Pt(e),r||i){if(!r||!i)return!1;const s=Object.keys(t).length,n=Object.keys(e).length;if(s!==n)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Tl(t[o],e[o]))return!1}}return String(t)===String(e)}function y1(t,e){return t.findIndex(r=>Tl(r,e))}const DL=t=>!!(t&&t.__v_isRef===!0),Dt=t=>Je(t)?t:t==null?"":Se(t)||Pt(t)&&(t.toString===NL||!De(t.toString))?DL(t)?Dt(t.value):JSON.stringify(t,FL,2):String(t),FL=(t,e)=>DL(e)?FL(t,e.value):Sh(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,s],n)=>(r[e_(i,n)+" =>"]=s,r),{})}:hu(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>e_(r))}:Ss(e)?e_(e):Pt(e)&&!Se(e)&&!d1(e)?String(e):e,e_=(t,e="")=>{var r;return Ss(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bi;class g1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Bi,!e&&Bi&&(this.index=(Bi.scopes||(Bi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Bi;try{return Bi=this,e()}finally{Bi=r}}}on(){Bi=this}off(){Bi=this.parent}stop(e){if(this._active){this._active=!1;let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(this.effects.length=0,r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Lm(t){return new g1(t)}function v1(){return Bi}function PS(t,e=!1){Bi&&Bi.cleanups.push(t)}let jt;const t_=new WeakSet;class qh{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Bi&&Bi.active&&Bi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,t_.has(this)&&(t_.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||jL(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,NM(this),BL(this);const e=jt,r=Rn;jt=this,Rn=!0;try{return this.fn()}finally{VL(this),jt=e,Rn=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)RS(e);this.deps=this.depsTail=void 0,NM(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?t_.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Qw(this)&&this.run()}get dirty(){return Qw(this)}}let UL=0,Kd,Zd;function jL(t,e=!1){if(t.flags|=8,e){t.next=Zd,Zd=t;return}t.next=Kd,Kd=t}function LS(){UL++}function kS(){if(--UL>0)return;if(Zd){let e=Zd;for(Zd=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Kd;){let e=Kd;for(Kd=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=r}}if(t)throw t}function BL(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function VL(t){let e,r=t.depsTail,i=r;for(;i;){const s=i.prevDep;i.version===-1?(i===r&&(r=s),RS(i),Rte(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=r}function Qw(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(GL(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function GL(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Bp))return;t.globalVersion=Bp;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Qw(t)){t.flags&=-3;return}const r=jt,i=Rn;jt=t,Rn=!0;try{BL(t);const s=t.fn(t._value);(e.version===0||qi(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{jt=r,Rn=i,VL(t),t.flags&=-3}}function RS(t,e=!1){const{dep:r,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),r.subs===t&&(r.subs=i,!i&&r.computed)){r.computed.flags&=-5;for(let n=r.computed.deps;n;n=n.nextDep)RS(n,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function Rte(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}function zL(t,e){t.effect instanceof qh&&(t=t.effect.fn);const r=new qh(t);e&&ot(r,e);try{r.run()}catch(s){throw r.stop(),s}const i=r.run.bind(r);return i.effect=r,i}function qL(t){t.effect.stop()}let Rn=!0;const HL=[];function Rl(){HL.push(Rn),Rn=!1}function Dl(){const t=HL.pop();Rn=t===void 0?!0:t}function NM(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=jt;jt=void 0;try{e()}finally{jt=r}}}let Bp=0;class Dte{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class b1{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!jt||!Rn||jt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==jt)r=this.activeLink=new Dte(jt,this),jt.deps?(r.prevDep=jt.depsTail,jt.depsTail.nextDep=r,jt.depsTail=r):jt.deps=jt.depsTail=r,WL(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=jt.depsTail,r.nextDep=void 0,jt.depsTail.nextDep=r,jt.depsTail=r,jt.deps===r&&(jt.deps=i)}return r}trigger(e){this.version++,Bp++,this.notify(e)}notify(e){LS();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{kS()}}}function WL(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)WL(i)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Rg=new WeakMap,kc=Symbol(""),ex=Symbol(""),Vp=Symbol("");function Oi(t,e,r){if(Rn&&jt){let i=Rg.get(t);i||Rg.set(t,i=new Map);let s=i.get(r);s||(i.set(r,s=new b1),s.map=i,s.key=r),s.track()}}function aa(t,e,r,i,s,n){const o=Rg.get(t);if(!o){Bp++;return}const a=l=>{l&&l.trigger()};if(LS(),e==="clear")o.forEach(a);else{const l=Se(t),c=l&&NS(r);if(l&&r==="length"){const f=Number(i);o.forEach((d,p)=>{(p==="length"||p===Vp||!Ss(p)&&p>=f)&&a(d)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),c&&a(o.get(Vp)),e){case"add":l?c&&a(o.get("length")):(a(o.get(kc)),Sh(t)&&a(o.get(ex)));break;case"delete":l||(a(o.get(kc)),Sh(t)&&a(o.get(ex)));break;case"set":Sh(t)&&a(o.get(kc));break}}kS()}function Fte(t,e){const r=Rg.get(t);return r&&r.get(e)}function $u(t){const e=ze(t);return e===t?e:(Oi(e,"iterate",Vp),vs(t)?e:e.map(Ii))}function _1(t){return Oi(t=ze(t),"iterate",Vp),t}const Ute={__proto__:null,[Symbol.iterator](){return r_(this,Symbol.iterator,Ii)},concat(...t){return $u(this).concat(...t.map(e=>Se(e)?$u(e):e))},entries(){return r_(this,"entries",t=>(t[1]=Ii(t[1]),t))},every(t,e){return Uo(this,"every",t,e,void 0,arguments)},filter(t,e){return Uo(this,"filter",t,e,r=>r.map(Ii),arguments)},find(t,e){return Uo(this,"find",t,e,Ii,arguments)},findIndex(t,e){return Uo(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Uo(this,"findLast",t,e,Ii,arguments)},findLastIndex(t,e){return Uo(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Uo(this,"forEach",t,e,void 0,arguments)},includes(...t){return i_(this,"includes",t)},indexOf(...t){return i_(this,"indexOf",t)},join(t){return $u(this).join(t)},lastIndexOf(...t){return i_(this,"lastIndexOf",t)},map(t,e){return Uo(this,"map",t,e,void 0,arguments)},pop(){return Wf(this,"pop")},push(...t){return Wf(this,"push",t)},reduce(t,...e){return PM(this,"reduce",t,e)},reduceRight(t,...e){return PM(this,"reduceRight",t,e)},shift(){return Wf(this,"shift")},some(t,e){return Uo(this,"some",t,e,void 0,arguments)},splice(...t){return Wf(this,"splice",t)},toReversed(){return $u(this).toReversed()},toSorted(t){return $u(this).toSorted(t)},toSpliced(...t){return $u(this).toSpliced(...t)},unshift(...t){return Wf(this,"unshift",t)},values(){return r_(this,"values",Ii)}};function r_(t,e,r){const i=_1(t),s=i[e]();return i!==t&&!vs(t)&&(s._next=s.next,s.next=()=>{const n=s._next();return n.value&&(n.value=r(n.value)),n}),s}const jte=Array.prototype;function Uo(t,e,r,i,s,n){const o=_1(t),a=o!==t&&!vs(t),l=o[e];if(l!==jte[e]){const d=l.apply(t,n);return a?Ii(d):d}let c=r;o!==t&&(a?c=function(d,p){return r.call(this,Ii(d),p,t)}:r.length>2&&(c=function(d,p){return r.call(this,d,p,t)}));const f=l.call(o,c,i);return a&&s?s(f):f}function PM(t,e,r,i){const s=_1(t);let n=r;return s!==t&&(vs(t)?r.length>3&&(n=function(o,a,l){return r.call(this,o,a,l,t)}):n=function(o,a,l){return r.call(this,o,Ii(a),l,t)}),s[e](n,...i)}function i_(t,e,r){const i=ze(t);Oi(i,"iterate",Vp);const s=i[e](...r);return(s===-1||s===!1)&&km(r[0])?(r[0]=ze(r[0]),i[e](...r)):s}function Wf(t,e,r=[]){Rl(),LS();const i=ze(t)[e].apply(t,r);return kS(),Dl(),i}const Bte=Bs("__proto__,__v_isRef,__isVue"),YL=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ss));function Vte(t){Ss(t)||(t=String(t));const e=ze(this);return Oi(e,"has",t),e.hasOwnProperty(t)}class JL{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,i){if(r==="__v_skip")return e.__v_skip;const s=this._isReadonly,n=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return n;if(r==="__v_raw")return i===(s?n?tk:ek:n?QL:XL).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=Se(e);if(!s){let l;if(o&&(l=Ute[r]))return l;if(r==="hasOwnProperty")return Vte}const a=Reflect.get(e,r,dt(e)?e:i);return(Ss(r)?YL.has(r):Bte(r))||(s||Oi(e,"get",r),n)?a:dt(a)?o&&NS(r)?a:a.value:Pt(a)?s?x1(a):li(a):a}}class KL extends JL{constructor(e=!1){super(!1,e)}set(e,r,i,s){let n=e[r];if(!this._isShallow){const l=va(n);if(!vs(i)&&!va(i)&&(n=ze(n),i=ze(i)),!Se(e)&&dt(n)&&!dt(i))return l?!1:(n.value=i,!0)}const o=Se(e)&&NS(r)?Number(r)<e.length:vt(e,r),a=Reflect.set(e,r,i,dt(e)?e:s);return e===ze(s)&&(o?qi(i,n)&&aa(e,"set",r,i):aa(e,"add",r,i)),a}deleteProperty(e,r){const i=vt(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&i&&aa(e,"delete",r,void 0),s}has(e,r){const i=Reflect.has(e,r);return(!Ss(r)||!YL.has(r))&&Oi(e,"has",r),i}ownKeys(e){return Oi(e,"iterate",Se(e)?"length":kc),Reflect.ownKeys(e)}}class ZL extends JL{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Gte=new KL,zte=new ZL,qte=new KL(!0),Hte=new ZL(!0),tx=t=>t,wy=t=>Reflect.getPrototypeOf(t);function Wte(t,e,r){return function(...i){const s=this.__v_raw,n=ze(s),o=Sh(n),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...i),f=r?tx:e?rx:Ii;return!e&&Oi(n,"iterate",l?ex:kc),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:a?[f(d[0]),f(d[1])]:f(d),done:p}},[Symbol.iterator](){return this}}}}function xy(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Yte(t,e){const r={get(s){const n=this.__v_raw,o=ze(n),a=ze(s);t||(qi(s,a)&&Oi(o,"get",s),Oi(o,"get",a));const{has:l}=wy(o),c=e?tx:t?rx:Ii;if(l.call(o,s))return c(n.get(s));if(l.call(o,a))return c(n.get(a));n!==o&&n.get(s)},get size(){const s=this.__v_raw;return!t&&Oi(ze(s),"iterate",kc),Reflect.get(s,"size",s)},has(s){const n=this.__v_raw,o=ze(n),a=ze(s);return t||(qi(s,a)&&Oi(o,"has",s),Oi(o,"has",a)),s===a?n.has(s):n.has(s)||n.has(a)},forEach(s,n){const o=this,a=o.__v_raw,l=ze(a),c=e?tx:t?rx:Ii;return!t&&Oi(l,"iterate",kc),a.forEach((f,d)=>s.call(n,c(f),c(d),o))}};return ot(r,t?{add:xy("add"),set:xy("set"),delete:xy("delete"),clear:xy("clear")}:{add(s){!e&&!vs(s)&&!va(s)&&(s=ze(s));const n=ze(this);return wy(n).has.call(n,s)||(n.add(s),aa(n,"add",s,s)),this},set(s,n){!e&&!vs(n)&&!va(n)&&(n=ze(n));const o=ze(this),{has:a,get:l}=wy(o);let c=a.call(o,s);c||(s=ze(s),c=a.call(o,s));const f=l.call(o,s);return o.set(s,n),c?qi(n,f)&&aa(o,"set",s,n):aa(o,"add",s,n),this},delete(s){const n=ze(this),{has:o,get:a}=wy(n);let l=o.call(n,s);l||(s=ze(s),l=o.call(n,s)),a&&a.call(n,s);const c=n.delete(s);return l&&aa(n,"delete",s,void 0),c},clear(){const s=ze(this),n=s.size!==0,o=s.clear();return n&&aa(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=Wte(s,t,e)}),r}function w1(t,e){const r=Yte(t,e);return(i,s,n)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(vt(r,s)&&s in i?r:i,s,n)}const Jte={get:w1(!1,!1)},Kte={get:w1(!1,!0)},Zte={get:w1(!0,!1)},Xte={get:w1(!0,!0)},XL=new WeakMap,QL=new WeakMap,ek=new WeakMap,tk=new WeakMap;function Qte(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ere(t){return t.__v_skip||!Object.isExtensible(t)?0:Qte(mte(t))}function li(t){return va(t)?t:E1(t,!1,Gte,Jte,XL)}function DS(t){return E1(t,!1,qte,Kte,QL)}function x1(t){return E1(t,!0,zte,Zte,ek)}function rk(t){return E1(t,!0,Hte,Xte,tk)}function E1(t,e,r,i,s){if(!Pt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const n=s.get(t);if(n)return n;const o=ere(t);if(o===0)return t;const a=new Proxy(t,o===2?i:r);return s.set(t,a),a}function Rs(t){return va(t)?Rs(t.__v_raw):!!(t&&t.__v_isReactive)}function va(t){return!!(t&&t.__v_isReadonly)}function vs(t){return!!(t&&t.__v_isShallow)}function km(t){return t?!!t.__v_raw:!1}function ze(t){const e=t&&t.__v_raw;return e?ze(e):t}function br(t){return!vt(t,"__v_skip")&&Object.isExtensible(t)&&PL(t,"__v_skip",!0),t}const Ii=t=>Pt(t)?li(t):t,rx=t=>Pt(t)?x1(t):t;function dt(t){return t?t.__v_isRef===!0:!1}function X(t){return ik(t,!1)}function If(t){return ik(t,!0)}function ik(t,e){return dt(t)?t:new tre(t,e)}class tre{constructor(e,r){this.dep=new b1,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:ze(e),this._value=r?e:Ii(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,i=this.__v_isShallow||vs(e)||va(e);e=i?e:ze(e),qi(e,r)&&(this._rawValue=e,this._value=i?e:Ii(e),this.dep.trigger())}}function sk(t){t.dep&&t.dep.trigger()}function $e(t){return dt(t)?t.value:t}function nk(t){return De(t)?t():$e(t)}const rre={get:(t,e,r)=>e==="__v_raw"?t:$e(Reflect.get(t,e,r)),set:(t,e,r,i)=>{const s=t[e];return dt(s)&&!dt(r)?(s.value=r,!0):Reflect.set(t,e,r,i)}};function S1(t){return Rs(t)?t:new Proxy(t,rre)}class ire{constructor(e){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new b1,{get:i,set:s}=e(r.track.bind(r),r.trigger.bind(r));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function FS(t){return new ire(t)}function US(t){const e=Se(t)?new Array(t.length):{};for(const r in t)e[r]=ak(t,r);return e}class sre{constructor(e,r,i){this._object=e,this._key=r,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Fte(ze(this._object),this._key)}}class nre{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ok(t,e,r){return dt(t)?t:De(t)?new nre(t):Pt(t)&&arguments.length>1?ak(t,e,r):X(t)}function ak(t,e,r){const i=t[e];return dt(i)?i:new sre(t,e,r)}class ore{constructor(e,r,i){this.fn=e,this.setter=r,this._value=void 0,this.dep=new b1(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Bp-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&jt!==this)return jL(this,!0),!0}get value(){const e=this.dep.track();return GL(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function are(t,e,r=!1){let i,s;return De(t)?i=t:(i=t.get,s=t.set),new ore(i,s,r)}const lk={GET:"get",HAS:"has",ITERATE:"iterate"},ck={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Ey={},Dg=new WeakMap;let Ja;function uk(){return Ja}function jS(t,e=!1,r=Ja){if(r){let i=Dg.get(r);i||Dg.set(r,i=[]),i.push(t)}}function lre(t,e,r=nt){const{immediate:i,deep:s,once:n,scheduler:o,augmentJob:a,call:l}=r,c=_=>s?_:vs(_)||s===!1||s===0?la(_,1):la(_);let f,d,p,y,v=!1,b=!1;if(dt(t)?(d=()=>t.value,v=vs(t)):Rs(t)?(d=()=>c(t),v=!0):Se(t)?(b=!0,v=t.some(_=>Rs(_)||vs(_)),d=()=>t.map(_=>{if(dt(_))return _.value;if(Rs(_))return c(_);if(De(_))return l?l(_,2):_()})):De(t)?e?d=l?()=>l(t,2):t:d=()=>{if(p){Rl();try{p()}finally{Dl()}}const _=Ja;Ja=f;try{return l?l(t,3,[y]):t(y)}finally{Ja=_}}:d=yi,e&&s){const _=d,M=s===!0?1/0:s;d=()=>la(_(),M)}const S=v1(),E=()=>{f.stop(),S&&S.active&&IS(S.effects,f)};if(n&&e){const _=e;e=(...M)=>{_(...M),E()}}let T=b?new Array(t.length).fill(Ey):Ey;const w=_=>{if(!(!(f.flags&1)||!f.dirty&&!_))if(e){const M=f.run();if(s||v||(b?M.some(($,C)=>qi($,T[C])):qi(M,T))){p&&p();const $=Ja;Ja=f;try{const C=[M,T===Ey?void 0:b&&T[0]===Ey?[]:T,y];l?l(e,3,C):e(...C),T=M}finally{Ja=$}}}else f.run()};return a&&a(w),f=new qh(d),f.scheduler=o?()=>o(w,!1):w,y=_=>jS(_,!1,f),p=f.onStop=()=>{const _=Dg.get(f);if(_){if(l)l(_,4);else for(const M of _)M();Dg.delete(f)}},e?i?w(!0):T=f.run():o?o(w.bind(null,!0),!0):f.run(),E.pause=f.pause.bind(f),E.resume=f.resume.bind(f),E.stop=E,E}function la(t,e=1/0,r){if(e<=0||!Pt(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,dt(t))la(t.value,e,r);else if(Se(t))for(let i=0;i<t.length;i++)la(t[i],e,r);else if(hu(t)||Sh(t))t.forEach(i=>{la(i,e,r)});else if(d1(t)){for(const i in t)la(t[i],e,r);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&la(t[i],e,r)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const hk=[];function cre(t){hk.push(t)}function ure(){hk.pop()}function fk(t,e){}const dk={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},hre={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function fu(t,e,r,i){try{return i?t(...i):t()}catch(s){Fl(s,e,r)}}function Fs(t,e,r,i){if(De(t)){const s=fu(t,e,r,i);return s&&CS(s)&&s.catch(n=>{Fl(n,e,r)}),s}if(Se(t)){const s=[];for(let n=0;n<t.length;n++)s.push(Fs(t[n],e,r,i));return s}}function Fl(t,e,r,i=!0){const s=e?e.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||nt;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const f=a.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](t,l,c)===!1)return}a=a.parent}if(n){Rl(),fu(n,null,10,[t,l,c]),Dl();return}}fre(t,r,s,i,o)}function fre(t,e,r,i=!0,s=!1){if(s)throw t;console.error(t)}const Hi=[];let no=-1;const Th=[];let Ka=null,ju=0;const pk=Promise.resolve();let Fg=null;function Wn(t){const e=Fg||pk;return t?e.then(this?t.bind(this):t):e}function dre(t){let e=no+1,r=Hi.length;for(;e<r;){const i=e+r>>>1,s=Hi[i],n=Gp(s);n<t||n===t&&s.flags&2?e=i+1:r=i}return e}function BS(t){if(!(t.flags&1)){const e=Gp(t),r=Hi[Hi.length-1];!r||!(t.flags&2)&&e>=Gp(r)?Hi.push(t):Hi.splice(dre(e),0,t),t.flags|=1,mk()}}function mk(){Fg||(Fg=pk.then(yk))}function Hh(t){Se(t)?Th.push(...t):Ka&&t.id===-1?Ka.splice(ju+1,0,t):t.flags&1||(Th.push(t),t.flags|=1),mk()}function LM(t,e,r=no+1){for(;r<Hi.length;r++){const i=Hi[r];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Hi.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Ug(t){if(Th.length){const e=[...new Set(Th)].sort((r,i)=>Gp(r)-Gp(i));if(Th.length=0,Ka){Ka.push(...e);return}for(Ka=e,ju=0;ju<Ka.length;ju++){const r=Ka[ju];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Ka=null,ju=0}}const Gp=t=>t.id==null?t.flags&2?-1:1/0:t.id;function yk(t){try{for(no=0;no<Hi.length;no++){const e=Hi[no];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),fu(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;no<Hi.length;no++){const e=Hi[no];e&&(e.flags&=-2)}no=-1,Hi.length=0,Ug(),Fg=null,(Hi.length||Th.length)&&yk()}}let Bu,Sy=[];function gk(t,e){var r,i;Bu=t,Bu?(Bu.enabled=!0,Sy.forEach(({event:s,args:n})=>Bu.emit(s,...n)),Sy=[]):typeof window<"u"&&window.HTMLElement&&!((i=(r=window.navigator)==null?void 0:r.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(n=>{gk(n,e)}),setTimeout(()=>{Bu||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Sy=[])},3e3)):Sy=[]}let Kr=null,A1=null;function zp(t){const e=Kr;return Kr=t,A1=t&&t.type.__scopeId||null,e}function vk(t){A1=t}function bk(){A1=null}const _k=t=>Nr;function Nr(t,e=Kr,r){if(!e||t._n)return t;const i=(...s)=>{i._d&&zg(-1);const n=zp(e);let o;try{o=t(...s)}finally{zp(n),i._d&&zg(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function $t(t,e){if(Kr===null)return t;const r=Um(Kr),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[n,o,a,l=nt]=e[s];n&&(De(n)&&(n={mounted:n,updated:n}),n.deep&&la(o),i.push({dir:n,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function lo(t,e,r,i){const s=t.dirs,n=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];n&&(a.oldValue=n[o].value);let l=a.dir[i];l&&(Rl(),Fs(l,r,8,[t.el,a,t,e]),Dl())}}const wk=Symbol("_vte"),xk=t=>t.__isTeleport,Xd=t=>t&&(t.disabled||t.disabled===""),kM=t=>t&&(t.defer||t.defer===""),RM=t=>typeof SVGElement<"u"&&t instanceof SVGElement,DM=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ix=(t,e)=>{const r=t&&t.to;return Je(r)?e?e(r):null:r},Ek={name:"Teleport",__isTeleport:!0,process(t,e,r,i,s,n,o,a,l,c){const{mc:f,pc:d,pbc:p,o:{insert:y,querySelector:v,createText:b,createComment:S}}=c,E=Xd(e.props);let{shapeFlag:T,children:w,dynamicChildren:_}=e;if(t==null){const M=e.el=b(""),$=e.anchor=b("");y(M,r,i),y($,r,i);const C=(N,F)=>{T&16&&(s&&s.isCE&&(s.ce._teleportTarget=N),f(w,N,F,s,n,o,a,l))},P=()=>{const N=e.target=ix(e.props,v),F=Sk(N,e,b,y);N&&(o!=="svg"&&RM(N)?o="svg":o!=="mathml"&&DM(N)&&(o="mathml"),E||(C(N,F),C0(e,!1)))};E&&(C(r,$),C0(e,!0)),kM(e.props)?Gr(()=>{P(),e.el.__isMounted=!0},n):P()}else{if(kM(e.props)&&!t.el.__isMounted){Gr(()=>{Ek.process(t,e,r,i,s,n,o,a,l,c),delete t.el.__isMounted},n);return}e.el=t.el,e.targetStart=t.targetStart;const M=e.anchor=t.anchor,$=e.target=t.target,C=e.targetAnchor=t.targetAnchor,P=Xd(t.props),N=P?r:$,F=P?M:C;if(o==="svg"||RM($)?o="svg":(o==="mathml"||DM($))&&(o="mathml"),_?(p(t.dynamicChildren,_,N,s,n,o,a),l3(t,e,!0)):l||d(t,e,N,F,s,n,o,a,!1),E)P?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ay(e,r,M,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const q=e.target=ix(e.props,v);q&&Ay(e,q,null,c,0)}else P&&Ay(e,$,C,c,1);C0(e,E)}},remove(t,e,r,{um:i,o:{remove:s}},n){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:f,target:d,props:p}=t;if(d&&(s(c),s(f)),n&&s(l),o&16){const y=n||!Xd(p);for(let v=0;v<a.length;v++){const b=a[v];i(b,e,r,y,!!b.dynamicChildren)}}},move:Ay,hydrate:pre};function Ay(t,e,r,{o:{insert:i},m:s},n=2){n===0&&i(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:l,children:c,props:f}=t,d=n===2;if(d&&i(o,e,r),(!d||Xd(f))&&l&16)for(let p=0;p<c.length;p++)s(c[p],e,r,2);d&&i(a,e,r)}function pre(t,e,r,i,s,n,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:f}},d){const p=e.target=ix(e.props,l);if(p){const y=Xd(e.props),v=p._lpa||p.firstChild;if(e.shapeFlag&16)if(y)e.anchor=d(o(t),e,a(t),r,i,s,n),e.targetStart=v,e.targetAnchor=v&&o(v);else{e.anchor=o(t);let b=v;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,p._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||Sk(p,e,f,c),d(v&&o(v),e,p,r,i,s,n)}C0(e,y)}return e.anchor&&o(e.anchor)}const VS=Ek;function C0(t,e){const r=t.ctx;if(r&&r.ut){let i,s;for(e?(i=t.el,s=t.anchor):(i=t.targetStart,s=t.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",r.uid),i=i.nextSibling;r.ut()}}function Sk(t,e,r,i){const s=e.targetStart=r(""),n=e.targetAnchor=r("");return s[wk]=n,t&&(i(s,t),i(n,t)),n}const Za=Symbol("_leaveCb"),Ty=Symbol("_enterCb");function T1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vi(()=>{t.isMounted=!0}),Yn(()=>{t.isUnmounting=!0}),t}const qs=[Function,Array],M1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qs,onEnter:qs,onAfterEnter:qs,onEnterCancelled:qs,onBeforeLeave:qs,onLeave:qs,onAfterLeave:qs,onLeaveCancelled:qs,onBeforeAppear:qs,onAppear:qs,onAfterAppear:qs,onAppearCancelled:qs},Ak=t=>{const e=t.subTree;return e.component?Ak(e.component):e},mre={name:"BaseTransition",props:M1,setup(t,{slots:e}){const r=Ur(),i=T1();return()=>{const s=e.default&&Rm(e.default(),!0);if(!s||!s.length)return;const n=Tk(s),o=ze(t),{mode:a}=o;if(i.isLeaving)return s_(n);const l=FM(n);if(!l)return s_(n);let c=eu(l,o,i,r,d=>c=d);l.type!==Mr&&Oo(l,c);let f=r.subTree&&FM(r.subTree);if(f&&f.type!==Mr&&!Sn(l,f)&&Ak(r).type!==Mr){let d=eu(f,o,i,r);if(Oo(f,d),a==="out-in"&&l.type!==Mr)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,r.job.flags&8||r.update(),delete d.afterLeave,f=void 0},s_(n);a==="in-out"&&l.type!==Mr?d.delayLeave=(p,y,v)=>{const b=Mk(i,f);b[String(f.key)]=f,p[Za]=()=>{y(),p[Za]=void 0,delete c.delayedLeave,f=void 0},c.delayedLeave=()=>{v(),delete c.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return n}}};function Tk(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==Mr){e=r;break}}return e}const GS=mre;function Mk(t,e){const{leavingVNodes:r}=t;let i=r.get(e.type);return i||(i=Object.create(null),r.set(e.type,i)),i}function eu(t,e,r,i,s){const{appear:n,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:p,onLeave:y,onAfterLeave:v,onLeaveCancelled:b,onBeforeAppear:S,onAppear:E,onAfterAppear:T,onAppearCancelled:w}=e,_=String(t.key),M=Mk(r,t),$=(N,F)=>{N&&Fs(N,i,9,F)},C=(N,F)=>{const q=F[1];$(N,F),Se(N)?N.every(U=>U.length<=1)&&q():N.length<=1&&q()},P={mode:o,persisted:a,beforeEnter(N){let F=l;if(!r.isMounted)if(n)F=S||l;else return;N[Za]&&N[Za](!0);const q=M[_];q&&Sn(t,q)&&q.el[Za]&&q.el[Za](),$(F,[N])},enter(N){let F=c,q=f,U=d;if(!r.isMounted)if(n)F=E||c,q=T||f,U=w||d;else return;let B=!1;const K=N[Ty]=h=>{B||(B=!0,h?$(U,[N]):$(q,[N]),P.delayedLeave&&P.delayedLeave(),N[Ty]=void 0)};F?C(F,[N,K]):K()},leave(N,F){const q=String(t.key);if(N[Ty]&&N[Ty](!0),r.isUnmounting)return F();$(p,[N]);let U=!1;const B=N[Za]=K=>{U||(U=!0,F(),K?$(b,[N]):$(v,[N]),N[Za]=void 0,M[q]===t&&delete M[q])};M[q]=t,y?C(y,[N,B]):B()},clone(N){const F=eu(N,e,r,i,s);return s&&s(F),F}};return P}function s_(t){if(Dm(t))return t=zn(t),t.children=null,t}function FM(t){if(!Dm(t))return xk(t.type)&&t.children?Tk(t.children):t;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&De(r.default))return r.default()}}function Oo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Oo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Rm(t,e=!1,r){let i=[],s=0;for(let n=0;n<t.length;n++){let o=t[n];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:n);o.type===Lt?(o.patchFlag&128&&s++,i=i.concat(Rm(o.children,e,a))):(e||o.type!==Mr)&&i.push(a!=null?zn(o,{key:a}):o)}if(s>1)for(let n=0;n<i.length;n++)i[n].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function st(t,e){return De(t)?ot({name:t.name},e,{setup:t}):t}function $k(){const t=Ur();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function zS(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function jg(t){const e=Ur(),r=If(null);if(e){const s=e.refs===nt?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>r.value,set:n=>r.value=n})}return r}function qp(t,e,r,i,s=!1){if(Se(t)){t.forEach((v,b)=>qp(v,e&&(Se(e)?e[b]:e),r,i,s));return}if(gl(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&qp(t,e,r,i.component.subTree);return}const n=i.shapeFlag&4?Um(i.component):i.el,o=s?null:n,{i:a,r:l}=t,c=e&&e.r,f=a.refs===nt?a.refs={}:a.refs,d=a.setupState,p=ze(d),y=d===nt?()=>!1:v=>vt(p,v);if(c!=null&&c!==l&&(Je(c)?(f[c]=null,y(c)&&(d[c]=null)):dt(c)&&(c.value=null)),De(l))fu(l,a,12,[o,f]);else{const v=Je(l),b=dt(l);if(v||b){const S=()=>{if(t.f){const E=v?y(l)?d[l]:f[l]:l.value;s?Se(E)&&IS(E,n):Se(E)?E.includes(n)||E.push(n):v?(f[l]=[n],y(l)&&(d[l]=f[l])):(l.value=[n],t.k&&(f[t.k]=l.value))}else v?(f[l]=o,y(l)&&(d[l]=o)):b&&(l.value=o,t.k&&(f[t.k]=o))};o?(S.id=-1,Gr(S,r)):S()}}}let UM=!1;const Ou=()=>{UM||(console.error("Hydration completed but contains mismatches."),UM=!0)},yre=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",gre=t=>t.namespaceURI.includes("MathML"),My=t=>{if(t.nodeType===1){if(yre(t))return"svg";if(gre(t))return"mathml"}},ah=t=>t.nodeType===8;function vre(t){const{mt:e,p:r,o:{patchProp:i,createText:s,nextSibling:n,parentNode:o,remove:a,insert:l,createComment:c}}=t,f=(w,_)=>{if(!_.hasChildNodes()){r(null,w,_),Ug(),_._vnode=w;return}d(_.firstChild,w,null,null,null),Ug(),_._vnode=w},d=(w,_,M,$,C,P=!1)=>{P=P||!!_.dynamicChildren;const N=ah(w)&&w.data==="[",F=()=>b(w,_,M,$,C,N),{type:q,ref:U,shapeFlag:B,patchFlag:K}=_;let h=w.nodeType;_.el=w,K===-2&&(P=!1,_.dynamicChildren=null);let m=null;switch(q){case _o:h!==3?_.children===""?(l(_.el=s(""),o(w),w),m=w):m=F():(w.data!==_.children&&(Ou(),w.data=_.children),m=n(w));break;case Mr:T(w)?(m=n(w),E(_.el=w.content.firstChild,w,M)):h!==8||N?m=F():m=n(w);break;case vl:if(N&&(w=n(w),h=w.nodeType),h===1||h===3){m=w;const x=!_.children.length;for(let I=0;I<_.staticCount;I++)x&&(_.children+=m.nodeType===1?m.outerHTML:m.data),I===_.staticCount-1&&(_.anchor=m),m=n(m);return N?n(m):m}else F();break;case Lt:N?m=v(w,_,M,$,C,P):m=F();break;default:if(B&1)(h!==1||_.type.toLowerCase()!==w.tagName.toLowerCase())&&!T(w)?m=F():m=p(w,_,M,$,C,P);else if(B&6){_.slotScopeIds=C;const x=o(w);if(N?m=S(w):ah(w)&&w.data==="teleport start"?m=S(w,w.data,"teleport end"):m=n(w),e(_,x,null,M,$,My(x),P),gl(_)&&!_.type.__asyncResolved){let I;N?(I=Ze(Lt),I.anchor=m?m.previousSibling:x.lastChild):I=w.nodeType===3?wo(""):Ze("div"),I.el=w,_.component.subTree=I}}else B&64?h!==8?m=F():m=_.type.hydrate(w,_,M,$,C,P,t,y):B&128&&(m=_.type.hydrate(w,_,M,$,My(o(w)),C,P,t,d))}return U!=null&&qp(U,null,$,_),m},p=(w,_,M,$,C,P)=>{P=P||!!_.dynamicChildren;const{type:N,props:F,patchFlag:q,shapeFlag:U,dirs:B,transition:K}=_,h=N==="input"||N==="option";if(h||q!==-1){B&&lo(_,null,M,"created");let m=!1;if(T(w)){m=uR(null,K)&&M&&M.vnode.props&&M.vnode.props.appear;const I=w.content.firstChild;m&&K.beforeEnter(I),E(I,w,M),_.el=w=I}if(U&16&&!(F&&(F.innerHTML||F.textContent))){let I=y(w.firstChild,_,w,M,$,C,P);for(;I;){$y(w,1)||Ou();const V=I;I=I.nextSibling,a(V)}}else if(U&8){let I=_.children;I[0]===`
`&&(w.tagName==="PRE"||w.tagName==="TEXTAREA")&&(I=I.slice(1)),w.textContent!==I&&($y(w,0)||Ou(),w.textContent=_.children)}if(F){if(h||!P||q&48){const I=w.tagName.includes("-");for(const V in F)(h&&(V.endsWith("value")||V==="indeterminate")||uu(V)&&!yl(V)||V[0]==="."||I)&&i(w,V,null,F[V],void 0,M)}else if(F.onClick)i(w,"onClick",null,F.onClick,void 0,M);else if(q&4&&Rs(F.style))for(const I in F.style)F.style[I]}let x;(x=F&&F.onVnodeBeforeMount)&&as(x,M,_),B&&lo(_,null,M,"beforeMount"),((x=F&&F.onVnodeMounted)||B||m)&&_R(()=>{x&&as(x,M,_),m&&K.enter(w),B&&lo(_,null,M,"mounted")},$)}return w.nextSibling},y=(w,_,M,$,C,P,N)=>{N=N||!!_.dynamicChildren;const F=_.children,q=F.length;for(let U=0;U<q;U++){const B=N?F[U]:F[U]=hs(F[U]),K=B.type===_o;w?(K&&!N&&U+1<q&&hs(F[U+1]).type===_o&&(l(s(w.data.slice(B.children.length)),M,n(w)),w.data=B.children),w=d(w,B,$,C,P,N)):K&&!B.children?l(B.el=s(""),M):($y(M,1)||Ou(),r(null,B,M,null,$,C,My(M),P))}return w},v=(w,_,M,$,C,P)=>{const{slotScopeIds:N}=_;N&&(C=C?C.concat(N):N);const F=o(w),q=y(n(w),_,F,M,$,C,P);return q&&ah(q)&&q.data==="]"?n(_.anchor=q):(Ou(),l(_.anchor=c("]"),F,q),q)},b=(w,_,M,$,C,P)=>{if($y(w.parentElement,1)||Ou(),_.el=null,P){const q=S(w);for(;;){const U=n(w);if(U&&U!==q)a(U);else break}}const N=n(w),F=o(w);return a(w),r(null,_,F,N,M,$,My(F),C),M&&(M.vnode.el=_.el,N1(M,_.el)),N},S=(w,_="[",M="]")=>{let $=0;for(;w;)if(w=n(w),w&&ah(w)&&(w.data===_&&$++,w.data===M)){if($===0)return n(w);$--}return w},E=(w,_,M)=>{const $=_.parentNode;$&&$.replaceChild(w,_);let C=M;for(;C;)C.vnode.el===_&&(C.vnode.el=C.subTree.el=w),C=C.parent},T=w=>w.nodeType===1&&w.tagName==="TEMPLATE";return[f,d]}const jM="data-allow-mismatch",bre={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function $y(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(jM);)t=t.parentElement;const r=t&&t.getAttribute(jM);if(r==null)return!1;if(r==="")return!0;{const i=r.split(",");return e===0&&i.includes("children")?!0:r.split(",").includes(bre[e])}}const _re=m1().requestIdleCallback||(t=>setTimeout(t,1)),wre=m1().cancelIdleCallback||(t=>clearTimeout(t)),Ok=(t=1e4)=>e=>{const r=_re(e,{timeout:t});return()=>wre(r)};function xre(t){const{top:e,left:r,bottom:i,right:s}=t.getBoundingClientRect(),{innerHeight:n,innerWidth:o}=window;return(e>0&&e<n||i>0&&i<n)&&(r>0&&r<o||s>0&&s<o)}const Ik=t=>(e,r)=>{const i=new IntersectionObserver(s=>{for(const n of s)if(n.isIntersecting){i.disconnect(),e();break}},t);return r(s=>{if(s instanceof Element){if(xre(s))return e(),i.disconnect(),!1;i.observe(s)}}),()=>i.disconnect()},Ck=t=>e=>{if(t){const r=matchMedia(t);if(r.matches)e();else return r.addEventListener("change",e,{once:!0}),()=>r.removeEventListener("change",e)}},Nk=(t=[])=>(e,r)=>{Je(t)&&(t=[t]);let i=!1;const s=o=>{i||(i=!0,n(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},n=()=>{r(o=>{for(const a of t)o.removeEventListener(a,s)})};return r(o=>{for(const a of t)o.addEventListener(a,s,{once:!0})}),n};function Ere(t,e){if(ah(t)&&t.data==="["){let r=1,i=t.nextSibling;for(;i;){if(i.nodeType===1){if(e(i)===!1)break}else if(ah(i))if(i.data==="]"){if(--r===0)break}else i.data==="["&&r++;i=i.nextSibling}}else e(t)}const gl=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function qS(t){De(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:i,delay:s=200,hydrate:n,timeout:o,suspensible:a=!0,onError:l}=t;let c=null,f,d=0;const p=()=>(d++,c=null,y()),y=()=>{let v;return c||(v=c=e().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((S,E)=>{l(b,()=>S(p()),()=>E(b),d+1)});throw b}).then(b=>v!==c&&c?c:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),f=b,b)))};return st({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(v,b,S){const E=n?()=>{const T=n(S,w=>Ere(v,w));T&&(b.bum||(b.bum=[])).push(T)}:S;f?E():y().then(()=>!b.isUnmounted&&E())},get __asyncResolved(){return f},setup(){const v=Yr;if(zS(v),f)return()=>n_(f,v);const b=w=>{c=null,Fl(w,v,13,!i)};if(a&&v.suspense||Wh)return y().then(w=>()=>n_(w,v)).catch(w=>(b(w),()=>i?Ze(i,{error:w}):null));const S=X(!1),E=X(),T=X(!!s);return s&&setTimeout(()=>{T.value=!1},s),o!=null&&setTimeout(()=>{if(!S.value&&!E.value){const w=new Error(`Async component timed out after ${o}ms.`);b(w),E.value=w}},o),y().then(()=>{S.value=!0,v.parent&&Dm(v.parent.vnode)&&v.parent.update()}).catch(w=>{b(w),E.value=w}),()=>{if(S.value&&f)return n_(f,v);if(E.value&&i)return Ze(i,{error:E.value});if(r&&!T.value)return Ze(r)}}})}function n_(t,e){const{ref:r,props:i,children:s,ce:n}=e.vnode,o=Ze(t,i,s);return o.ref=r,o.ce=n,delete e.vnode.ce,o}const Dm=t=>t.type.__isKeepAlive,Sre={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=Ur(),i=r.ctx;if(!i.renderer)return()=>{const T=e.default&&e.default();return T&&T.length===1?T[0]:T};const s=new Map,n=new Set;let o=null;const a=r.suspense,{renderer:{p:l,m:c,um:f,o:{createElement:d}}}=i,p=d("div");i.activate=(T,w,_,M,$)=>{const C=T.component;c(T,w,_,0,a),l(C.vnode,T,w,_,C,a,M,T.slotScopeIds,$),Gr(()=>{C.isDeactivated=!1,C.a&&Ah(C.a);const P=T.props&&T.props.onVnodeMounted;P&&as(P,C.parent,T)},a)},i.deactivate=T=>{const w=T.component;Vg(w.m),Vg(w.a),c(T,p,null,1,a),Gr(()=>{w.da&&Ah(w.da);const _=T.props&&T.props.onVnodeUnmounted;_&&as(_,w.parent,T),w.isDeactivated=!0},a)};function y(T){o_(T),f(T,r,a,!0)}function v(T){s.forEach((w,_)=>{const M=px(w.type);M&&!T(M)&&b(_)})}function b(T){const w=s.get(T);w&&(!o||!Sn(w,o))?y(w):o&&o_(o),s.delete(T),n.delete(T)}Zr(()=>[t.include,t.exclude],([T,w])=>{T&&v(_=>$d(T,_)),w&&v(_=>!$d(w,_))},{flush:"post",deep:!0});let S=null;const E=()=>{S!=null&&(Gg(r.subTree.type)?Gr(()=>{s.set(S,Oy(r.subTree))},r.subTree.suspense):s.set(S,Oy(r.subTree)))};return vi(E),Cf(E),Yn(()=>{s.forEach(T=>{const{subTree:w,suspense:_}=r,M=Oy(w);if(T.type===M.type&&T.key===M.key){o_(M);const $=M.component.da;$&&Gr($,_);return}y(T)})}),()=>{if(S=null,!e.default)return o=null;const T=e.default(),w=T[0];if(T.length>1)return o=null,T;if(!Gn(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let _=Oy(w);if(_.type===Mr)return o=null,_;const M=_.type,$=px(gl(_)?_.type.__asyncResolved||{}:M),{include:C,exclude:P,max:N}=t;if(C&&(!$||!$d(C,$))||P&&$&&$d(P,$))return _.shapeFlag&=-257,o=_,w;const F=_.key==null?M:_.key,q=s.get(F);return _.el&&(_=zn(_),w.shapeFlag&128&&(w.ssContent=_)),S=F,q?(_.el=q.el,_.component=q.component,_.transition&&Oo(_,_.transition),_.shapeFlag|=512,n.delete(F),n.add(F)):(n.add(F),N&&n.size>parseInt(N,10)&&b(n.values().next().value)),_.shapeFlag|=256,o=_,Gg(w.type)?w:_}}},Pk=Sre;function $d(t,e){return Se(t)?t.some(r=>$d(r,e)):Je(t)?t.split(",").includes(e):pte(t)?(t.lastIndex=0,t.test(e)):!1}function HS(t,e){Lk(t,"a",e)}function WS(t,e){Lk(t,"da",e)}function Lk(t,e,r=Yr){const i=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if($1(e,i,r),r){let s=r.parent;for(;s&&s.parent;)Dm(s.parent.vnode)&&Are(i,e,r,s),s=s.parent}}function Are(t,e,r,i){const s=$1(e,t,i,!0);du(()=>{IS(i[e],s)},r)}function o_(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Oy(t){return t.shapeFlag&128?t.ssContent:t}function $1(t,e,r=Yr,i=!1){if(r){const s=r[t]||(r[t]=[]),n=e.__weh||(e.__weh=(...o)=>{Rl();const a=ru(r),l=Fs(e,r,t,o);return a(),Dl(),l});return i?s.unshift(n):s.push(n),n}}const xa=t=>(e,r=Yr)=>{(!Wh||t==="sp")&&$1(t,(...i)=>e(...i),r)},O1=xa("bm"),vi=xa("m"),I1=xa("bu"),Cf=xa("u"),Yn=xa("bum"),du=xa("um"),YS=xa("sp"),JS=xa("rtg"),KS=xa("rtc");function ZS(t,e=Yr){$1("ec",t,e)}const XS="components",Tre="directives";function Ar(t,e){return e3(XS,t,!0,e)||t}const kk=Symbol.for("v-ndc");function QS(t){return Je(t)?e3(XS,t,!1)||t:t||kk}function Ot(t){return e3(Tre,t)}function e3(t,e,r=!0,i=!1){const s=Kr||Yr;if(s){const n=s.type;if(t===XS){const a=px(n,!1);if(a&&(a===e||a===Gt(e)||a===Ll(Gt(e))))return n}const o=BM(s[t]||n[t],e)||BM(s.appContext[t],e);return!o&&i?n:o}}function BM(t,e){return t&&(t[e]||t[Gt(e)]||t[Ll(Gt(e))])}function Ul(t,e,r,i){let s;const n=r&&r[i],o=Se(t);if(o||Je(t)){const a=o&&Rs(t);let l=!1;a&&(l=!vs(t),t=_1(t)),s=new Array(t.length);for(let c=0,f=t.length;c<f;c++)s[c]=e(l?Ii(t[c]):t[c],c,void 0,n&&n[c])}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,n&&n[a])}else if(Pt(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,n&&n[l]));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const f=a[l];s[l]=e(t[f],f,l,n&&n[l])}}else s=[];return r&&(r[i]=s),s}function Rk(t,e){for(let r=0;r<e.length;r++){const i=e[r];if(Se(i))for(let s=0;s<i.length;s++)t[i[s].name]=i[s].fn;else i&&(t[i.name]=i.key?(...s)=>{const n=i.fn(...s);return n&&(n.key=i.key),n}:i.fn)}return t}function On(t,e,r={},i,s){if(Kr.ce||Kr.parent&&gl(Kr.parent)&&Kr.parent.ce)return e!=="default"&&(r.name=e),fe(),Vt(Lt,null,[Ze("slot",r,i&&i())],64);let n=t[e];n&&n._c&&(n._d=!1),fe();const o=n&&t3(n(r)),a=r.key||o&&o.key,l=Vt(Lt,{key:(a&&!Ss(a)?a:`_${e}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&t._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),n&&n._c&&(n._d=!0),l}function t3(t){return t.some(e=>Gn(e)?!(e.type===Mr||e.type===Lt&&!t3(e.children)):!0)?t:null}function Dk(t,e){const r={};for(const i in t)r[e&&/[A-Z]/.test(i)?`on:${i}`:Lc(i)]=t[i];return r}const sx=t=>t?MR(t)?Um(t):sx(t.parent):null,Qd=ot(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>sx(t.parent),$root:t=>sx(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>r3(t),$forceUpdate:t=>t.f||(t.f=()=>{BS(t.update)}),$nextTick:t=>t.n||(t.n=Wn.bind(t.proxy)),$watch:t=>Vre.bind(t)}),a_=(t,e)=>t!==nt&&!t.__isScriptSetup&&vt(t,e),nx={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:i,data:s,props:n,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return i[e];case 2:return s[e];case 4:return r[e];case 3:return n[e]}else{if(a_(i,e))return o[e]=1,i[e];if(s!==nt&&vt(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&vt(c,e))return o[e]=3,n[e];if(r!==nt&&vt(r,e))return o[e]=4,r[e];ox&&(o[e]=0)}}const f=Qd[e];let d,p;if(f)return e==="$attrs"&&Oi(t.attrs,"get",""),f(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(r!==nt&&vt(r,e))return o[e]=4,r[e];if(p=l.config.globalProperties,vt(p,e))return p[e]},set({_:t},e,r){const{data:i,setupState:s,ctx:n}=t;return a_(s,e)?(s[e]=r,!0):i!==nt&&vt(i,e)?(i[e]=r,!0):vt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(n[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:i,appContext:s,propsOptions:n}},o){let a;return!!r[o]||t!==nt&&vt(t,o)||a_(e,o)||(a=n[0])&&vt(a,o)||vt(i,o)||vt(Qd,o)||vt(s.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:vt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},Mre=ot({},nx,{get(t,e){if(e!==Symbol.unscopables)return nx.get(t,e,t)},has(t,e){return e[0]!=="_"&&!wte(e)}});function Fk(){return null}function Uk(){return null}function jk(t){}function Bk(t){}function Vk(){return null}function Gk(){}function zk(t,e){return null}function qk(){return Wk().slots}function Hk(){return Wk().attrs}function Wk(){const t=Ur();return t.setupContext||(t.setupContext=CR(t))}function Hp(t){return Se(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function Yk(t,e){const r=Hp(t);for(const i in e){if(i.startsWith("__skip"))continue;let s=r[i];s?Se(s)||De(s)?s=r[i]={type:s,default:e[i]}:s.default=e[i]:s===null&&(s=r[i]={default:e[i]}),s&&e[`__skip_${i}`]&&(s.skipFactory=!0)}return r}function Jk(t,e){return!t||!e?t||e:Se(t)&&Se(e)?t.concat(e):ot({},Hp(t),Hp(e))}function Kk(t,e){const r={};for(const i in t)e.includes(i)||Object.defineProperty(r,i,{enumerable:!0,get:()=>t[i]});return r}function Zk(t){const e=Ur();let r=t();return hx(),CS(r)&&(r=r.catch(i=>{throw ru(e),i})),[r,()=>ru(e)]}let ox=!0;function $re(t){const e=r3(t),r=t.proxy,i=t.ctx;ox=!1,e.beforeCreate&&VM(e.beforeCreate,t,"bc");const{data:s,computed:n,methods:o,watch:a,provide:l,inject:c,created:f,beforeMount:d,mounted:p,beforeUpdate:y,updated:v,activated:b,deactivated:S,beforeDestroy:E,beforeUnmount:T,destroyed:w,unmounted:_,render:M,renderTracked:$,renderTriggered:C,errorCaptured:P,serverPrefetch:N,expose:F,inheritAttrs:q,components:U,directives:B,filters:K}=e;if(c&&Ore(c,i,null),o)for(const x in o){const I=o[x];De(I)&&(i[x]=I.bind(r))}if(s){const x=s.call(r,r);Pt(x)&&(t.data=li(x))}if(ox=!0,n)for(const x in n){const I=n[x],V=De(I)?I.bind(r,r):De(I.get)?I.get.bind(r,r):yi,Y=!De(I)&&De(I.set)?I.set.bind(r):yi,de=tt({get:V,set:Y});Object.defineProperty(i,x,{enumerable:!0,configurable:!0,get:()=>de.value,set:oe=>de.value=oe})}if(a)for(const x in a)Xk(a[x],i,r,x);if(l){const x=De(l)?l.call(r):l;Reflect.ownKeys(x).forEach(I=>{i3(I,x[I])})}f&&VM(f,t,"c");function m(x,I){Se(I)?I.forEach(V=>x(V.bind(r))):I&&x(I.bind(r))}if(m(O1,d),m(vi,p),m(I1,y),m(Cf,v),m(HS,b),m(WS,S),m(ZS,P),m(KS,$),m(JS,C),m(Yn,T),m(du,_),m(YS,N),Se(F))if(F.length){const x=t.exposed||(t.exposed={});F.forEach(I=>{Object.defineProperty(x,I,{get:()=>r[I],set:V=>r[I]=V})})}else t.exposed||(t.exposed={});M&&t.render===yi&&(t.render=M),q!=null&&(t.inheritAttrs=q),U&&(t.components=U),B&&(t.directives=B),N&&zS(t)}function Ore(t,e,r=yi){Se(t)&&(t=ax(t));for(const i in t){const s=t[i];let n;Pt(s)?"default"in s?n=Fr(s.from||i,s.default,!0):n=Fr(s.from||i):n=Fr(s),dt(n)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>n.value,set:o=>n.value=o}):e[i]=n}}function VM(t,e,r){Fs(Se(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,r)}function Xk(t,e,r,i){let s=i.includes(".")?pR(r,i):()=>r[i];if(Je(t)){const n=e[t];De(n)&&Zr(s,n)}else if(De(t))Zr(s,t.bind(r));else if(Pt(t))if(Se(t))t.forEach(n=>Xk(n,e,r,i));else{const n=De(t.handler)?t.handler.bind(r):e[t.handler];De(n)&&Zr(s,n,t)}}function r3(t){const e=t.type,{mixins:r,extends:i}=e,{mixins:s,optionsCache:n,config:{optionMergeStrategies:o}}=t.appContext,a=n.get(e);let l;return a?l=a:!s.length&&!r&&!i?l=e:(l={},s.length&&s.forEach(c=>Bg(l,c,o,!0)),Bg(l,e,o)),Pt(e)&&n.set(e,l),l}function Bg(t,e,r,i=!1){const{mixins:s,extends:n}=e;n&&Bg(t,n,r,!0),s&&s.forEach(o=>Bg(t,o,r,!0));for(const o in e)if(!(i&&o==="expose")){const a=Ire[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Ire={data:GM,props:zM,emits:zM,methods:Od,computed:Od,beforeCreate:ki,created:ki,beforeMount:ki,mounted:ki,beforeUpdate:ki,updated:ki,beforeDestroy:ki,beforeUnmount:ki,destroyed:ki,unmounted:ki,activated:ki,deactivated:ki,errorCaptured:ki,serverPrefetch:ki,components:Od,directives:Od,watch:Nre,provide:GM,inject:Cre};function GM(t,e){return e?t?function(){return ot(De(t)?t.call(this,this):t,De(e)?e.call(this,this):e)}:e:t}function Cre(t,e){return Od(ax(t),ax(e))}function ax(t){if(Se(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function ki(t,e){return t?[...new Set([].concat(t,e))]:e}function Od(t,e){return t?ot(Object.create(null),t,e):e}function zM(t,e){return t?Se(t)&&Se(e)?[...new Set([...t,...e])]:ot(Object.create(null),Hp(t),Hp(e??{})):e}function Nre(t,e){if(!t)return e;if(!e)return t;const r=ot(Object.create(null),t);for(const i in e)r[i]=ki(t[i],e[i]);return r}function Qk(){return{app:null,config:{isNativeTag:Md,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Pre=0;function Lre(t,e){return function(i,s=null){De(i)||(i=ot({},i)),s!=null&&!Pt(s)&&(s=null);const n=Qk(),o=new WeakSet,a=[];let l=!1;const c=n.app={_uid:Pre++,_component:i,_props:s,_container:null,_context:n,_instance:null,version:y3,get config(){return n.config},set config(f){},use(f,...d){return o.has(f)||(f&&De(f.install)?(o.add(f),f.install(c,...d)):De(f)&&(o.add(f),f(c,...d))),c},mixin(f){return n.mixins.includes(f)||n.mixins.push(f),c},component(f,d){return d?(n.components[f]=d,c):n.components[f]},directive(f,d){return d?(n.directives[f]=d,c):n.directives[f]},mount(f,d,p){if(!l){const y=c._ceVNode||Ze(i,s);return y.appContext=n,p===!0?p="svg":p===!1&&(p=void 0),d&&e?e(y,f):t(y,f,p),l=!0,c._container=f,f.__vue_app__=c,Um(y.component)}},onUnmount(f){a.push(f)},unmount(){l&&(Fs(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(f,d){return n.provides[f]=d,c},runWithContext(f){const d=Rc;Rc=c;try{return f()}finally{Rc=d}}};return c}}let Rc=null;function i3(t,e){if(Yr){let r=Yr.provides;const i=Yr.parent&&Yr.parent.provides;i===r&&(r=Yr.provides=Object.create(i)),r[t]=e}}function Fr(t,e,r=!1){const i=Yr||Kr;if(i||Rc){const s=Rc?Rc._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return r&&De(e)?e.call(i&&i.proxy):e}}function s3(){return!!(Yr||Kr||Rc)}const eR={},tR=()=>Object.create(eR),rR=t=>Object.getPrototypeOf(t)===eR;function kre(t,e,r,i=!1){const s={},n=tR();t.propsDefaults=Object.create(null),iR(t,e,s,n);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);r?t.props=i?s:DS(s):t.type.props?t.props=s:t.props=n,t.attrs=n}function Rre(t,e,r,i){const{props:s,attrs:n,vnode:{patchFlag:o}}=t,a=ze(s),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let d=0;d<f.length;d++){let p=f[d];if(C1(t.emitsOptions,p))continue;const y=e[p];if(l)if(vt(n,p))y!==n[p]&&(n[p]=y,c=!0);else{const v=Gt(p);s[v]=lx(l,a,v,y,t,!1)}else y!==n[p]&&(n[p]=y,c=!0)}}}else{iR(t,e,s,n)&&(c=!0);let f;for(const d in a)(!e||!vt(e,d)&&((f=ps(d))===d||!vt(e,f)))&&(l?r&&(r[d]!==void 0||r[f]!==void 0)&&(s[d]=lx(l,a,d,void 0,t,!0)):delete s[d]);if(n!==a)for(const d in n)(!e||!vt(e,d))&&(delete n[d],c=!0)}c&&aa(t.attrs,"set","")}function iR(t,e,r,i){const[s,n]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(yl(l))continue;const c=e[l];let f;s&&vt(s,f=Gt(l))?!n||!n.includes(f)?r[f]=c:(a||(a={}))[f]=c:C1(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(n){const l=ze(r),c=a||nt;for(let f=0;f<n.length;f++){const d=n[f];r[d]=lx(s,l,d,c[d],t,!vt(c,d))}}return o}function lx(t,e,r,i,s,n){const o=t[r];if(o!=null){const a=vt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&De(l)){const{propsDefaults:c}=s;if(r in c)i=c[r];else{const f=ru(s);i=c[r]=l.call(null,e),f()}}else i=l;s.ce&&s.ce._setProp(r,i)}o[0]&&(n&&!a?i=!1:o[1]&&(i===""||i===ps(r))&&(i=!0))}return i}const Dre=new WeakMap;function sR(t,e,r=!1){const i=r?Dre:e.propsCache,s=i.get(t);if(s)return s;const n=t.props,o={},a=[];let l=!1;if(!De(t)){const f=d=>{l=!0;const[p,y]=sR(d,e,!0);ot(o,p),y&&a.push(...y)};!r&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!n&&!l)return Pt(t)&&i.set(t,Eh),Eh;if(Se(n))for(let f=0;f<n.length;f++){const d=Gt(n[f]);qM(d)&&(o[d]=nt)}else if(n)for(const f in n){const d=Gt(f);if(qM(d)){const p=n[f],y=o[d]=Se(p)||De(p)?{type:p}:ot({},p),v=y.type;let b=!1,S=!0;if(Se(v))for(let E=0;E<v.length;++E){const T=v[E],w=De(T)&&T.name;if(w==="Boolean"){b=!0;break}else w==="String"&&(S=!1)}else b=De(v)&&v.name==="Boolean";y[0]=b,y[1]=S,(b||vt(y,"default"))&&a.push(d)}}const c=[o,a];return Pt(t)&&i.set(t,c),c}function qM(t){return t[0]!=="$"&&!yl(t)}const nR=t=>t[0]==="_"||t==="$stable",n3=t=>Se(t)?t.map(hs):[hs(t)],Fre=(t,e,r)=>{if(e._n)return e;const i=Nr((...s)=>n3(e(...s)),r);return i._c=!1,i},oR=(t,e,r)=>{const i=t._ctx;for(const s in t){if(nR(s))continue;const n=t[s];if(De(n))e[s]=Fre(s,n,i);else if(n!=null){const o=n3(n);e[s]=()=>o}}},aR=(t,e)=>{const r=n3(e);t.slots.default=()=>r},lR=(t,e,r)=>{for(const i in e)(r||i!=="_")&&(t[i]=e[i])},Ure=(t,e,r)=>{const i=t.slots=tR();if(t.vnode.shapeFlag&32){const s=e._;s?(lR(i,e,r),r&&PL(i,"_",s,!0)):oR(e,i)}else e&&aR(t,e)},jre=(t,e,r)=>{const{vnode:i,slots:s}=t;let n=!0,o=nt;if(i.shapeFlag&32){const a=e._;a?r&&a===1?n=!1:lR(s,e,r):(n=!e.$stable,oR(e,s)),o=e}else e&&(aR(t,e),o={default:1});if(n)for(const a in s)!nR(a)&&o[a]==null&&delete s[a]},Gr=_R;function o3(t){return cR(t)}function a3(t){return cR(t,vre)}function cR(t,e){const r=m1();r.__VUE__=!0;const{insert:i,remove:s,patchProp:n,createElement:o,createText:a,createComment:l,setText:c,setElementText:f,parentNode:d,nextSibling:p,setScopeId:y=yi,insertStaticContent:v}=t,b=(j,D,W,ae=null,te=null,ue=null,ye=void 0,L=null,k=!!D.dynamicChildren)=>{if(j===D)return;j&&!Sn(j,D)&&(ae=zt(j),oe(j,te,ue,!0),j=null),D.patchFlag===-2&&(k=!1,D.dynamicChildren=null);const{type:G,ref:re,shapeFlag:se}=D;switch(G){case _o:S(j,D,W,ae);break;case Mr:E(j,D,W,ae);break;case vl:j==null&&T(D,W,ae,ye);break;case Lt:U(j,D,W,ae,te,ue,ye,L,k);break;default:se&1?M(j,D,W,ae,te,ue,ye,L,k):se&6?B(j,D,W,ae,te,ue,ye,L,k):(se&64||se&128)&&G.process(j,D,W,ae,te,ue,ye,L,k,Ft)}re!=null&&te&&qp(re,j&&j.ref,ue,D||j,!D)},S=(j,D,W,ae)=>{if(j==null)i(D.el=a(D.children),W,ae);else{const te=D.el=j.el;D.children!==j.children&&c(te,D.children)}},E=(j,D,W,ae)=>{j==null?i(D.el=l(D.children||""),W,ae):D.el=j.el},T=(j,D,W,ae)=>{[j.el,j.anchor]=v(j.children,D,W,ae,j.el,j.anchor)},w=({el:j,anchor:D},W,ae)=>{let te;for(;j&&j!==D;)te=p(j),i(j,W,ae),j=te;i(D,W,ae)},_=({el:j,anchor:D})=>{let W;for(;j&&j!==D;)W=p(j),s(j),j=W;s(D)},M=(j,D,W,ae,te,ue,ye,L,k)=>{D.type==="svg"?ye="svg":D.type==="math"&&(ye="mathml"),j==null?$(D,W,ae,te,ue,ye,L,k):N(j,D,te,ue,ye,L,k)},$=(j,D,W,ae,te,ue,ye,L)=>{let k,G;const{props:re,shapeFlag:se,transition:ne,dirs:H}=j;if(k=j.el=o(j.type,ue,re&&re.is,re),se&8?f(k,j.children):se&16&&P(j.children,k,null,ae,te,l_(j,ue),ye,L),H&&lo(j,null,ae,"created"),C(k,j,j.scopeId,ye,ae),re){for(const Ae in re)Ae!=="value"&&!yl(Ae)&&n(k,Ae,null,re[Ae],ue,ae);"value"in re&&n(k,"value",null,re.value,ue),(G=re.onVnodeBeforeMount)&&as(G,ae,j)}H&&lo(j,null,ae,"beforeMount");const Z=uR(te,ne);Z&&ne.beforeEnter(k),i(k,D,W),((G=re&&re.onVnodeMounted)||Z||H)&&Gr(()=>{G&&as(G,ae,j),Z&&ne.enter(k),H&&lo(j,null,ae,"mounted")},te)},C=(j,D,W,ae,te)=>{if(W&&y(j,W),ae)for(let ue=0;ue<ae.length;ue++)y(j,ae[ue]);if(te){let ue=te.subTree;if(D===ue||Gg(ue.type)&&(ue.ssContent===D||ue.ssFallback===D)){const ye=te.vnode;C(j,ye,ye.scopeId,ye.slotScopeIds,te.parent)}}},P=(j,D,W,ae,te,ue,ye,L,k=0)=>{for(let G=k;G<j.length;G++){const re=j[G]=L?Xa(j[G]):hs(j[G]);b(null,re,D,W,ae,te,ue,ye,L)}},N=(j,D,W,ae,te,ue,ye)=>{const L=D.el=j.el;let{patchFlag:k,dynamicChildren:G,dirs:re}=D;k|=j.patchFlag&16;const se=j.props||nt,ne=D.props||nt;let H;if(W&&Xl(W,!1),(H=ne.onVnodeBeforeUpdate)&&as(H,W,D,j),re&&lo(D,j,W,"beforeUpdate"),W&&Xl(W,!0),(se.innerHTML&&ne.innerHTML==null||se.textContent&&ne.textContent==null)&&f(L,""),G?F(j.dynamicChildren,G,L,W,ae,l_(D,te),ue):ye||I(j,D,L,null,W,ae,l_(D,te),ue,!1),k>0){if(k&16)q(L,se,ne,W,te);else if(k&2&&se.class!==ne.class&&n(L,"class",null,ne.class,te),k&4&&n(L,"style",se.style,ne.style,te),k&8){const Z=D.dynamicProps;for(let Ae=0;Ae<Z.length;Ae++){const Le=Z[Ae],Ut=se[Le],qt=ne[Le];(qt!==Ut||Le==="value")&&n(L,Le,Ut,qt,te,W)}}k&1&&j.children!==D.children&&f(L,D.children)}else!ye&&G==null&&q(L,se,ne,W,te);((H=ne.onVnodeUpdated)||re)&&Gr(()=>{H&&as(H,W,D,j),re&&lo(D,j,W,"updated")},ae)},F=(j,D,W,ae,te,ue,ye)=>{for(let L=0;L<D.length;L++){const k=j[L],G=D[L],re=k.el&&(k.type===Lt||!Sn(k,G)||k.shapeFlag&70)?d(k.el):W;b(k,G,re,null,ae,te,ue,ye,!0)}},q=(j,D,W,ae,te)=>{if(D!==W){if(D!==nt)for(const ue in D)!yl(ue)&&!(ue in W)&&n(j,ue,D[ue],null,te,ae);for(const ue in W){if(yl(ue))continue;const ye=W[ue],L=D[ue];ye!==L&&ue!=="value"&&n(j,ue,L,ye,te,ae)}"value"in W&&n(j,"value",D.value,W.value,te)}},U=(j,D,W,ae,te,ue,ye,L,k)=>{const G=D.el=j?j.el:a(""),re=D.anchor=j?j.anchor:a("");let{patchFlag:se,dynamicChildren:ne,slotScopeIds:H}=D;H&&(L=L?L.concat(H):H),j==null?(i(G,W,ae),i(re,W,ae),P(D.children||[],W,re,te,ue,ye,L,k)):se>0&&se&64&&ne&&j.dynamicChildren?(F(j.dynamicChildren,ne,W,te,ue,ye,L),(D.key!=null||te&&D===te.subTree)&&l3(j,D,!0)):I(j,D,W,re,te,ue,ye,L,k)},B=(j,D,W,ae,te,ue,ye,L,k)=>{D.slotScopeIds=L,j==null?D.shapeFlag&512?te.ctx.activate(D,W,ae,ye,k):K(D,W,ae,te,ue,ye,k):h(j,D,k)},K=(j,D,W,ae,te,ue,ye)=>{const L=j.component=TR(j,ae,te);if(Dm(j)&&(L.ctx.renderer=Ft),$R(L,!1,ye),L.asyncDep){if(te&&te.registerDep(L,m,ye),!j.el){const k=L.subTree=Ze(Mr);E(null,k,D,W)}}else m(L,j,D,W,te,ue,ye)},h=(j,D,W)=>{const ae=D.component=j.component;if(Wre(j,D,W))if(ae.asyncDep&&!ae.asyncResolved){x(ae,D,W);return}else ae.next=D,ae.update();else D.el=j.el,ae.vnode=D},m=(j,D,W,ae,te,ue,ye)=>{const L=()=>{if(j.isMounted){let{next:se,bu:ne,u:H,parent:Z,vnode:Ae}=j;{const jr=hR(j);if(jr){se&&(se.el=Ae.el,x(j,se,ye)),jr.asyncDep.then(()=>{j.isUnmounted||L()});return}}let Le=se,Ut;Xl(j,!1),se?(se.el=Ae.el,x(j,se,ye)):se=Ae,ne&&Ah(ne),(Ut=se.props&&se.props.onVnodeBeforeUpdate)&&as(Ut,Z,se,Ae),Xl(j,!0);const qt=N0(j),hr=j.subTree;j.subTree=qt,b(hr,qt,d(hr.el),zt(hr),j,te,ue),se.el=qt.el,Le===null&&N1(j,qt.el),H&&Gr(H,te),(Ut=se.props&&se.props.onVnodeUpdated)&&Gr(()=>as(Ut,Z,se,Ae),te)}else{let se;const{el:ne,props:H}=D,{bm:Z,m:Ae,parent:Le,root:Ut,type:qt}=j,hr=gl(D);if(Xl(j,!1),Z&&Ah(Z),!hr&&(se=H&&H.onVnodeBeforeMount)&&as(se,Le,D),Xl(j,!0),ne&&ei){const jr=()=>{j.subTree=N0(j),ei(ne,j.subTree,j,te,null)};hr&&qt.__asyncHydrate?qt.__asyncHydrate(ne,j,jr):jr()}else{Ut.ce&&Ut.ce._injectChildStyle(qt);const jr=j.subTree=N0(j);b(null,jr,W,ae,j,te,ue),D.el=jr.el}if(Ae&&Gr(Ae,te),!hr&&(se=H&&H.onVnodeMounted)){const jr=D;Gr(()=>as(se,Le,jr),te)}(D.shapeFlag&256||Le&&gl(Le.vnode)&&Le.vnode.shapeFlag&256)&&j.a&&Gr(j.a,te),j.isMounted=!0,D=W=ae=null}};j.scope.on();const k=j.effect=new qh(L);j.scope.off();const G=j.update=k.run.bind(k),re=j.job=k.runIfDirty.bind(k);re.i=j,re.id=j.uid,k.scheduler=()=>BS(re),Xl(j,!0),G()},x=(j,D,W)=>{D.component=j;const ae=j.vnode.props;j.vnode=D,j.next=null,Rre(j,D.props,ae,W),jre(j,D.children,W),Rl(),LM(j),Dl()},I=(j,D,W,ae,te,ue,ye,L,k=!1)=>{const G=j&&j.children,re=j?j.shapeFlag:0,se=D.children,{patchFlag:ne,shapeFlag:H}=D;if(ne>0){if(ne&128){Y(G,se,W,ae,te,ue,ye,L,k);return}else if(ne&256){V(G,se,W,ae,te,ue,ye,L,k);return}}H&8?(re&16&&lt(G,te,ue),se!==G&&f(W,se)):re&16?H&16?Y(G,se,W,ae,te,ue,ye,L,k):lt(G,te,ue,!0):(re&8&&f(W,""),H&16&&P(se,W,ae,te,ue,ye,L,k))},V=(j,D,W,ae,te,ue,ye,L,k)=>{j=j||Eh,D=D||Eh;const G=j.length,re=D.length,se=Math.min(G,re);let ne;for(ne=0;ne<se;ne++){const H=D[ne]=k?Xa(D[ne]):hs(D[ne]);b(j[ne],H,W,null,te,ue,ye,L,k)}G>re?lt(j,te,ue,!0,!1,se):P(D,W,ae,te,ue,ye,L,k,se)},Y=(j,D,W,ae,te,ue,ye,L,k)=>{let G=0;const re=D.length;let se=j.length-1,ne=re-1;for(;G<=se&&G<=ne;){const H=j[G],Z=D[G]=k?Xa(D[G]):hs(D[G]);if(Sn(H,Z))b(H,Z,W,null,te,ue,ye,L,k);else break;G++}for(;G<=se&&G<=ne;){const H=j[se],Z=D[ne]=k?Xa(D[ne]):hs(D[ne]);if(Sn(H,Z))b(H,Z,W,null,te,ue,ye,L,k);else break;se--,ne--}if(G>se){if(G<=ne){const H=ne+1,Z=H<re?D[H].el:ae;for(;G<=ne;)b(null,D[G]=k?Xa(D[G]):hs(D[G]),W,Z,te,ue,ye,L,k),G++}}else if(G>ne)for(;G<=se;)oe(j[G],te,ue,!0),G++;else{const H=G,Z=G,Ae=new Map;for(G=Z;G<=ne;G++){const Oe=D[G]=k?Xa(D[G]):hs(D[G]);Oe.key!=null&&Ae.set(Oe.key,G)}let Le,Ut=0;const qt=ne-Z+1;let hr=!1,jr=0;const Q=new Array(qt);for(G=0;G<qt;G++)Q[G]=0;for(G=H;G<=se;G++){const Oe=j[G];if(Ut>=qt){oe(Oe,te,ue,!0);continue}let Ye;if(Oe.key!=null)Ye=Ae.get(Oe.key);else for(Le=Z;Le<=ne;Le++)if(Q[Le-Z]===0&&Sn(Oe,D[Le])){Ye=Le;break}Ye===void 0?oe(Oe,te,ue,!0):(Q[Ye-Z]=G+1,Ye>=jr?jr=Ye:hr=!0,b(Oe,D[Ye],W,null,te,ue,ye,L,k),Ut++)}const Te=hr?Bre(Q):Eh;for(Le=Te.length-1,G=qt-1;G>=0;G--){const Oe=Z+G,Ye=D[Oe],Xe=Oe+1<re?D[Oe+1].el:ae;Q[G]===0?b(null,Ye,W,Xe,te,ue,ye,L,k):hr&&(Le<0||G!==Te[Le]?de(Ye,W,Xe,2):Le--)}}},de=(j,D,W,ae,te=null)=>{const{el:ue,type:ye,transition:L,children:k,shapeFlag:G}=j;if(G&6){de(j.component.subTree,D,W,ae);return}if(G&128){j.suspense.move(D,W,ae);return}if(G&64){ye.move(j,D,W,Ft);return}if(ye===Lt){i(ue,D,W);for(let se=0;se<k.length;se++)de(k[se],D,W,ae);i(j.anchor,D,W);return}if(ye===vl){w(j,D,W);return}if(ae!==2&&G&1&&L)if(ae===0)L.beforeEnter(ue),i(ue,D,W),Gr(()=>L.enter(ue),te);else{const{leave:se,delayLeave:ne,afterLeave:H}=L,Z=()=>i(ue,D,W),Ae=()=>{se(ue,()=>{Z(),H&&H()})};ne?ne(ue,Z,Ae):Ae()}else i(ue,D,W)},oe=(j,D,W,ae=!1,te=!1)=>{const{type:ue,props:ye,ref:L,children:k,dynamicChildren:G,shapeFlag:re,patchFlag:se,dirs:ne,cacheIndex:H}=j;if(se===-2&&(te=!1),L!=null&&qp(L,null,W,j,!0),H!=null&&(D.renderCache[H]=void 0),re&256){D.ctx.deactivate(j);return}const Z=re&1&&ne,Ae=!gl(j);let Le;if(Ae&&(Le=ye&&ye.onVnodeBeforeUnmount)&&as(Le,D,j),re&6)qe(j.component,W,ae);else{if(re&128){j.suspense.unmount(W,ae);return}Z&&lo(j,null,D,"beforeUnmount"),re&64?j.type.remove(j,D,W,Ft,ae):G&&!G.hasOnce&&(ue!==Lt||se>0&&se&64)?lt(G,D,W,!1,!0):(ue===Lt&&se&384||!te&&re&16)&&lt(k,D,W),ae&&Me(j)}(Ae&&(Le=ye&&ye.onVnodeUnmounted)||Z)&&Gr(()=>{Le&&as(Le,D,j),Z&&lo(j,null,D,"unmounted")},W)},Me=j=>{const{type:D,el:W,anchor:ae,transition:te}=j;if(D===Lt){je(W,ae);return}if(D===vl){_(j);return}const ue=()=>{s(W),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(j.shapeFlag&1&&te&&!te.persisted){const{leave:ye,delayLeave:L}=te,k=()=>ye(W,ue);L?L(j.el,ue,k):k()}else ue()},je=(j,D)=>{let W;for(;j!==D;)W=p(j),s(j),j=W;s(D)},qe=(j,D,W)=>{const{bum:ae,scope:te,job:ue,subTree:ye,um:L,m:k,a:G}=j;Vg(k),Vg(G),ae&&Ah(ae),te.stop(),ue&&(ue.flags|=8,oe(ye,j,D,W)),L&&Gr(L,D),Gr(()=>{j.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},lt=(j,D,W,ae=!1,te=!1,ue=0)=>{for(let ye=ue;ye<j.length;ye++)oe(j[ye],D,W,ae,te)},zt=j=>{if(j.shapeFlag&6)return zt(j.component.subTree);if(j.shapeFlag&128)return j.suspense.next();const D=p(j.anchor||j.el),W=D&&D[wk];return W?p(W):D};let It=!1;const _r=(j,D,W)=>{j==null?D._vnode&&oe(D._vnode,null,null,!0):b(D._vnode||null,j,D,null,null,null,W),D._vnode=j,It||(It=!0,LM(),Ug(),It=!1)},Ft={p:b,um:oe,m:de,r:Me,mt:K,mc:P,pc:I,pbc:F,n:zt,o:t};let nr,ei;return e&&([nr,ei]=e(Ft)),{render:_r,hydrate:nr,createApp:Lre(_r,nr)}}function l_({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Xl({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function uR(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function l3(t,e,r=!1){const i=t.children,s=e.children;if(Se(i)&&Se(s))for(let n=0;n<i.length;n++){const o=i[n];let a=s[n];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[n]=Xa(s[n]),a.el=o.el),!r&&a.patchFlag!==-2&&l3(o,a)),a.type===_o&&(a.el=o.el)}}function Bre(t){const e=t.slice(),r=[0];let i,s,n,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(s=r[r.length-1],t[s]<c){e[i]=s,r.push(i);continue}for(n=0,o=r.length-1;n<o;)a=n+o>>1,t[r[a]]<c?n=a+1:o=a;c<t[r[n]]&&(n>0&&(e[i]=r[n-1]),r[n]=i)}}for(n=r.length,o=r[n-1];n-- >0;)r[n]=o,o=e[o];return r}function hR(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:hR(e)}function Vg(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const c3=Symbol.for("v-scx"),u3=()=>Fr(c3);function fR(t,e){return Fm(t,null,e)}function dR(t,e){return Fm(t,null,{flush:"post"})}function h3(t,e){return Fm(t,null,{flush:"sync"})}function Zr(t,e,r){return Fm(t,e,r)}function Fm(t,e,r=nt){const{immediate:i,deep:s,flush:n,once:o}=r,a=ot({},r),l=e&&i||!e&&n!=="post";let c;if(Wh){if(n==="sync"){const y=u3();c=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=yi,y.resume=yi,y.pause=yi,y}}const f=Yr;a.call=(y,v,b)=>Fs(y,f,v,b);let d=!1;n==="post"?a.scheduler=y=>{Gr(y,f&&f.suspense)}:n!=="sync"&&(d=!0,a.scheduler=(y,v)=>{v?y():BS(y)}),a.augmentJob=y=>{e&&(y.flags|=4),d&&(y.flags|=2,f&&(y.id=f.uid,y.i=f))};const p=lre(t,e,a);return Wh&&(c?c.push(p):l&&p()),p}function Vre(t,e,r){const i=this.proxy,s=Je(t)?t.includes(".")?pR(i,t):()=>i[t]:t.bind(i,i);let n;De(e)?n=e:(n=e.handler,r=e);const o=ru(this),a=Fm(s,n.bind(i),r);return o(),a}function pR(t,e){const r=e.split(".");return()=>{let i=t;for(let s=0;s<r.length&&i;s++)i=i[r[s]];return i}}function mR(t,e,r=nt){const i=Ur(),s=Gt(e),n=ps(e),o=yR(t,s),a=FS((l,c)=>{let f,d=nt,p;return h3(()=>{const y=t[s];qi(f,y)&&(f=y,c())}),{get(){return l(),r.get?r.get(f):f},set(y){const v=r.set?r.set(y):y;if(!qi(v,f)&&!(d!==nt&&qi(y,d)))return;const b=i.vnode.props;b&&(e in b||s in b||n in b)&&(`onUpdate:${e}`in b||`onUpdate:${s}`in b||`onUpdate:${n}`in b)||(f=y,c()),i.emit(`update:${e}`,v),qi(y,v)&&qi(y,d)&&!qi(v,p)&&c(),d=y,p=v}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||nt:a,done:!1}:{done:!0}}}},a}const yR=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Gt(e)}Modifiers`]||t[`${ps(e)}Modifiers`];function Gre(t,e,...r){if(t.isUnmounted)return;const i=t.vnode.props||nt;let s=r;const n=e.startsWith("update:"),o=n&&yR(i,e.slice(7));o&&(o.trim&&(s=r.map(f=>Je(f)?f.trim():f)),o.number&&(s=r.map(Lg)));let a,l=i[a=Lc(e)]||i[a=Lc(Gt(e))];!l&&n&&(l=i[a=Lc(ps(e))]),l&&Fs(l,t,6,s);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Fs(c,t,6,s)}}function gR(t,e,r=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const n=t.emits;let o={},a=!1;if(!De(t)){const l=c=>{const f=gR(c,e,!0);f&&(a=!0,ot(o,f))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!n&&!a?(Pt(t)&&i.set(t,null),null):(Se(n)?n.forEach(l=>o[l]=null):ot(o,n),Pt(t)&&i.set(t,o),o)}function C1(t,e){return!t||!uu(e)?!1:(e=e.slice(2).replace(/Once$/,""),vt(t,e[0].toLowerCase()+e.slice(1))||vt(t,ps(e))||vt(t,e))}function N0(t){const{type:e,vnode:r,proxy:i,withProxy:s,propsOptions:[n],slots:o,attrs:a,emit:l,render:c,renderCache:f,props:d,data:p,setupState:y,ctx:v,inheritAttrs:b}=t,S=zp(t);let E,T;try{if(r.shapeFlag&4){const _=s||i,M=_;E=hs(c.call(M,_,f,d,y,p,v)),T=a}else{const _=e;E=hs(_.length>1?_(d,{attrs:a,slots:o,emit:l}):_(d,null)),T=e.props?a:qre(a)}}catch(_){ep.length=0,Fl(_,t,1),E=Ze(Mr)}let w=E;if(T&&b!==!1){const _=Object.keys(T),{shapeFlag:M}=w;_.length&&M&7&&(n&&_.some(OS)&&(T=Hre(T,n)),w=zn(w,T,!1,!0))}return r.dirs&&(w=zn(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&Oo(w,r.transition),E=w,zp(S),E}function zre(t,e=!0){let r;for(let i=0;i<t.length;i++){const s=t[i];if(Gn(s)){if(s.type!==Mr||s.children==="v-if"){if(r)return;r=s}}else return}return r}const qre=t=>{let e;for(const r in t)(r==="class"||r==="style"||uu(r))&&((e||(e={}))[r]=t[r]);return e},Hre=(t,e)=>{const r={};for(const i in t)(!OS(i)||!(i.slice(9)in e))&&(r[i]=t[i]);return r};function Wre(t,e,r){const{props:i,children:s,component:n}=t,{props:o,children:a,patchFlag:l}=e,c=n.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?HM(i,o,c):!!o;if(l&8){const f=e.dynamicProps;for(let d=0;d<f.length;d++){const p=f[d];if(o[p]!==i[p]&&!C1(c,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?HM(i,o,c):!0:!!o;return!1}function HM(t,e,r){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const n=i[s];if(e[n]!==t[n]&&!C1(r,n))return!0}return!1}function N1({vnode:t,parent:e},r){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=r,e=e.parent;else break}}const Gg=t=>t.__isSuspense;let cx=0;const Yre={name:"Suspense",__isSuspense:!0,process(t,e,r,i,s,n,o,a,l,c){if(t==null)Jre(e,r,i,s,n,o,a,l,c);else{if(n&&n.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}Kre(t,e,r,i,s,o,a,l,c)}},hydrate:Zre,normalize:Xre},vR=Yre;function Wp(t,e){const r=t.props&&t.props[e];De(r)&&r()}function Jre(t,e,r,i,s,n,o,a,l){const{p:c,o:{createElement:f}}=l,d=f("div"),p=t.suspense=bR(t,s,i,e,d,r,n,o,a,l);c(null,p.pendingBranch=t.ssContent,d,null,i,p,n,o),p.deps>0?(Wp(t,"onPending"),Wp(t,"onFallback"),c(null,t.ssFallback,e,r,i,null,n,o),Mh(p,t.ssFallback)):p.resolve(!1,!0)}function Kre(t,e,r,i,s,n,o,a,{p:l,um:c,o:{createElement:f}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const p=e.ssContent,y=e.ssFallback,{activeBranch:v,pendingBranch:b,isInFallback:S,isHydrating:E}=d;if(b)d.pendingBranch=p,Sn(p,b)?(l(b,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0?d.resolve():S&&(E||(l(v,y,r,i,s,null,n,o,a),Mh(d,y)))):(d.pendingId=cx++,E?(d.isHydrating=!1,d.activeBranch=b):c(b,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=f("div"),S?(l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0?d.resolve():(l(v,y,r,i,s,null,n,o,a),Mh(d,y))):v&&Sn(p,v)?(l(v,p,r,i,s,d,n,o,a),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0&&d.resolve()));else if(v&&Sn(p,v))l(v,p,r,i,s,d,n,o,a),Mh(d,p);else if(Wp(e,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=cx++,l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0)d.resolve();else{const{timeout:T,pendingId:w}=d;T>0?setTimeout(()=>{d.pendingId===w&&d.fallback(y)},T):T===0&&d.fallback(y)}}function bR(t,e,r,i,s,n,o,a,l,c,f=!1){const{p:d,m:p,um:y,n:v,o:{parentNode:b,remove:S}}=c;let E;const T=Qre(t);T&&e&&e.pendingBranch&&(E=e.pendingId,e.deps++);const w=t.props?kg(t.props.timeout):void 0,_=n,M={vnode:t,parent:e,parentComponent:r,namespace:o,container:i,hiddenContainer:s,deps:0,pendingId:cx++,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!f,isHydrating:f,isUnmounted:!1,effects:[],resolve($=!1,C=!1){const{vnode:P,activeBranch:N,pendingBranch:F,pendingId:q,effects:U,parentComponent:B,container:K}=M;let h=!1;M.isHydrating?M.isHydrating=!1:$||(h=N&&F.transition&&F.transition.mode==="out-in",h&&(N.transition.afterLeave=()=>{q===M.pendingId&&(p(F,K,n===_?v(N):n,0),Hh(U))}),N&&(b(N.el)===K&&(n=v(N)),y(N,B,M,!0)),h||p(F,K,n,0)),Mh(M,F),M.pendingBranch=null,M.isInFallback=!1;let m=M.parent,x=!1;for(;m;){if(m.pendingBranch){m.effects.push(...U),x=!0;break}m=m.parent}!x&&!h&&Hh(U),M.effects=[],T&&e&&e.pendingBranch&&E===e.pendingId&&(e.deps--,e.deps===0&&!C&&e.resolve()),Wp(P,"onResolve")},fallback($){if(!M.pendingBranch)return;const{vnode:C,activeBranch:P,parentComponent:N,container:F,namespace:q}=M;Wp(C,"onFallback");const U=v(P),B=()=>{M.isInFallback&&(d(null,$,F,U,N,null,q,a,l),Mh(M,$))},K=$.transition&&$.transition.mode==="out-in";K&&(P.transition.afterLeave=B),M.isInFallback=!0,y(P,N,null,!0),K||B()},move($,C,P){M.activeBranch&&p(M.activeBranch,$,C,P),M.container=$},next(){return M.activeBranch&&v(M.activeBranch)},registerDep($,C,P){const N=!!M.pendingBranch;N&&M.deps++;const F=$.vnode.el;$.asyncDep.catch(q=>{Fl(q,$,0)}).then(q=>{if($.isUnmounted||M.isUnmounted||M.pendingId!==$.suspenseId)return;$.asyncResolved=!0;const{vnode:U}=$;fx($,q,!1),F&&(U.el=F);const B=!F&&$.subTree.el;C($,U,b(F||$.subTree.el),F?null:v($.subTree),M,o,P),B&&S(B),N1($,U.el),N&&--M.deps===0&&M.resolve()})},unmount($,C){M.isUnmounted=!0,M.activeBranch&&y(M.activeBranch,r,$,C),M.pendingBranch&&y(M.pendingBranch,r,$,C)}};return M}function Zre(t,e,r,i,s,n,o,a,l){const c=e.suspense=bR(e,i,r,t.parentNode,document.createElement("div"),null,s,n,o,a,!0),f=l(t,c.pendingBranch=e.ssContent,r,c,n,o);return c.deps===0&&c.resolve(!1,!0),f}function Xre(t){const{shapeFlag:e,children:r}=t,i=e&32;t.ssContent=WM(i?r.default:r),t.ssFallback=i?WM(r.fallback):Ze(Mr)}function WM(t){let e;if(De(t)){const r=tu&&t._c;r&&(t._d=!1,fe()),t=t(),r&&(t._d=!0,e=Pi,wR())}return Se(t)&&(t=zre(t)),t=hs(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function _R(t,e){e&&e.pendingBranch?Se(t)?e.effects.push(...t):e.effects.push(t):Hh(t)}function Mh(t,e){t.activeBranch=e;const{vnode:r,parentComponent:i}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;r.el=s,i&&i.subTree===r&&(i.vnode.el=s,N1(i,s))}function Qre(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Lt=Symbol.for("v-fgt"),_o=Symbol.for("v-txt"),Mr=Symbol.for("v-cmt"),vl=Symbol.for("v-stc"),ep=[];let Pi=null;function fe(t=!1){ep.push(Pi=t?null:[])}function wR(){ep.pop(),Pi=ep[ep.length-1]||null}let tu=1;function zg(t,e=!1){tu+=t,t<0&&Pi&&e&&(Pi.hasOnce=!0)}function xR(t){return t.dynamicChildren=tu>0?Pi||Eh:null,wR(),tu>0&&Pi&&Pi.push(t),t}function xe(t,e,r,i,s,n){return xR(ce(t,e,r,i,s,n,!0))}function Vt(t,e,r,i,s){return xR(Ze(t,e,r,i,s,!0))}function Gn(t){return t?t.__v_isVNode===!0:!1}function Sn(t,e){return t.type===e.type&&t.key===e.key}function ER(t){}const SR=({key:t})=>t??null,P0=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Je(t)||dt(t)||De(t)?{i:Kr,r:t,k:e,f:!!r}:t:null);function ce(t,e=null,r=null,i=0,s=null,n=t===Lt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&SR(e),ref:e&&P0(e),scopeId:A1,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Kr};return a?(d3(l,r),n&128&&t.normalize(l)):r&&(l.shapeFlag|=Je(r)?8:16),tu>0&&!o&&Pi&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&Pi.push(l),l}const Ze=eie;function eie(t,e=null,r=null,i=0,s=null,n=!1){if((!t||t===kk)&&(t=Mr),Gn(t)){const a=zn(t,e,!0);return r&&d3(a,r),tu>0&&!n&&Pi&&(a.shapeFlag&6?Pi[Pi.indexOf(t)]=a:Pi.push(a)),a.patchFlag=-2,a}if(nie(t)&&(t=t.__vccOpts),e){e=f3(e);let{class:a,style:l}=e;a&&!Je(a)&&(e.class=lr(a)),Pt(l)&&(km(l)&&!Se(l)&&(l=ot({},l)),e.style=kl(l))}const o=Je(t)?1:Gg(t)?128:xk(t)?64:Pt(t)?4:De(t)?2:0;return ce(t,e,r,i,s,o,n,!0)}function f3(t){return t?km(t)||rR(t)?ot({},t):t:null}function zn(t,e,r=!1,i=!1){const{props:s,ref:n,patchFlag:o,children:a,transition:l}=t,c=e?P1(s||{},e):s,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&SR(c),ref:e&&e.ref?r&&n?Se(n)?n.concat(P0(e)):[n,P0(e)]:P0(e):n,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Lt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&zn(t.ssContent),ssFallback:t.ssFallback&&zn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Oo(f,l.clone(f)),f}function wo(t=" ",e=0){return Ze(_o,null,t,e)}function AR(t,e){const r=Ze(vl,null,t);return r.staticCount=e,r}function Wt(t="",e=!1){return e?(fe(),Vt(Mr,null,t)):Ze(Mr,null,t)}function hs(t){return t==null||typeof t=="boolean"?Ze(Mr):Se(t)?Ze(Lt,null,t.slice()):Gn(t)?Xa(t):Ze(_o,null,String(t))}function Xa(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:zn(t)}function d3(t,e){let r=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Se(e))r=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),d3(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!rR(e)?e._ctx=Kr:s===3&&Kr&&(Kr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else De(e)?(e={default:e,_ctx:Kr},r=32):(e=String(e),i&64?(r=16,e=[wo(e)]):r=8);t.children=e,t.shapeFlag|=r}function P1(...t){const e={};for(let r=0;r<t.length;r++){const i=t[r];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=lr([e.class,i.class]));else if(s==="style")e.style=kl([e.style,i.style]);else if(uu(s)){const n=e[s],o=i[s];o&&n!==o&&!(Se(n)&&n.includes(o))&&(e[s]=n?[].concat(n,o):o)}else s!==""&&(e[s]=i[s])}return e}function as(t,e,r,i=null){Fs(t,e,7,[r,i])}const tie=Qk();let rie=0;function TR(t,e,r){const i=t.type,s=(e?e.appContext:t.appContext)||tie,n={uid:rie++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new g1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sR(i,s),emitsOptions:gR(i,s),emit:null,emitted:null,propsDefaults:nt,inheritAttrs:i.inheritAttrs,ctx:nt,data:nt,props:nt,attrs:nt,slots:nt,refs:nt,setupState:nt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=e?e.root:n,n.emit=Gre.bind(null,n),t.ce&&t.ce(n),n}let Yr=null;const Ur=()=>Yr||Kr;let qg,ux;{const t=m1(),e=(r,i)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(i),n=>{s.length>1?s.forEach(o=>o(n)):s[0](n)}};qg=e("__VUE_INSTANCE_SETTERS__",r=>Yr=r),ux=e("__VUE_SSR_SETTERS__",r=>Wh=r)}const ru=t=>{const e=Yr;return qg(t),t.scope.on(),()=>{t.scope.off(),qg(e)}},hx=()=>{Yr&&Yr.scope.off(),qg(null)};function MR(t){return t.vnode.shapeFlag&4}let Wh=!1;function $R(t,e=!1,r=!1){e&&ux(e);const{props:i,children:s}=t.vnode,n=MR(t);kre(t,i,n,e),Ure(t,s,r);const o=n?iie(t,e):void 0;return e&&ux(!1),o}function iie(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,nx);const{setup:i}=r;if(i){Rl();const s=t.setupContext=i.length>1?CR(t):null,n=ru(t),o=fu(i,t,0,[t.props,s]),a=CS(o);if(Dl(),n(),(a||t.sp)&&!gl(t)&&zS(t),a){if(o.then(hx,hx),e)return o.then(l=>{fx(t,l,e)}).catch(l=>{Fl(l,t,0)});t.asyncDep=o}else fx(t,o,e)}else IR(t,e)}function fx(t,e,r){De(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Pt(e)&&(t.setupState=S1(e)),IR(t,r)}let Hg,dx;function p3(t){Hg=t,dx=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Mre))}}const OR=()=>!Hg;function IR(t,e,r){const i=t.type;if(!t.render){if(!e&&Hg&&!i.render){const s=i.template||r3(t).template;if(s){const{isCustomElement:n,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=ot(ot({isCustomElement:n,delimiters:a},o),l);i.render=Hg(s,c)}}t.render=i.render||yi,dx&&dx(t)}{const s=ru(t);Rl();try{$re(t)}finally{Dl(),s()}}}const sie={get(t,e){return Oi(t,"get",""),t[e]}};function CR(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,sie),slots:t.slots,emit:t.emit,expose:e}}function Um(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(S1(br(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Qd)return Qd[r](t)},has(e,r){return r in e||r in Qd}})):t.proxy}function px(t,e=!0){return De(t)?t.displayName||t.name:t.name||e&&t.__name}function nie(t){return De(t)&&"__vccOpts"in t}const tt=(t,e)=>are(t,e,Wh);function rn(t,e,r){const i=arguments.length;return i===2?Pt(e)&&!Se(e)?Gn(e)?Ze(t,null,[e]):Ze(t,e):Ze(t,null,e):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Gn(r)&&(r=[r]),Ze(t,e,r))}function NR(){}function PR(t,e,r,i){const s=r[i];if(s&&m3(s,t))return s;const n=e();return n.memo=t.slice(),n.cacheIndex=i,r[i]=n}function m3(t,e){const r=t.memo;if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(qi(r[i],e[i]))return!1;return tu>0&&Pi&&Pi.push(t),!0}const y3="3.5.13",LR=yi,kR=hre,RR=Bu,DR=gk,oie={createComponentInstance:TR,setupComponent:$R,renderComponentRoot:N0,setCurrentRenderingInstance:zp,isVNode:Gn,normalizeVNode:hs,getComponentPublicInstance:Um,ensureValidVNode:t3,pushWarningContext:cre,popWarningContext:ure},FR=oie,UR=null,jR=null,BR=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let mx;const YM=typeof window<"u"&&window.trustedTypes;if(YM)try{mx=YM.createPolicy("vue",{createHTML:t=>t})}catch{}const VR=mx?t=>mx.createHTML(t):t=>t,aie="http://www.w3.org/2000/svg",lie="http://www.w3.org/1998/Math/MathML",ea=typeof document<"u"?document:null,JM=ea&&ea.createElement("template"),cie={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,i)=>{const s=e==="svg"?ea.createElementNS(aie,t):e==="mathml"?ea.createElementNS(lie,t):r?ea.createElement(t,{is:r}):ea.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>ea.createTextNode(t),createComment:t=>ea.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ea.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,i,s,n){const o=r?r.previousSibling:e.lastChild;if(s&&(s===n||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===n||!(s=s.nextSibling)););else{JM.innerHTML=VR(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=JM.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},La="transition",Yf="animation",Yh=Symbol("_vtc"),GR={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},zR=ot({},M1,GR),uie=t=>(t.displayName="Transition",t.props=zR,t),L1=uie((t,{slots:e})=>rn(GS,qR(t),e)),Ql=(t,e=[])=>{Se(t)?t.forEach(r=>r(...e)):t&&t(...e)},KM=t=>t?Se(t)?t.some(e=>e.length>1):t.length>1:!1;function qR(t){const e={};for(const U in t)U in GR||(e[U]=t[U]);if(t.css===!1)return e;const{name:r="v",type:i,duration:s,enterFromClass:n=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=n,appearActiveClass:c=o,appearToClass:f=a,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:p=`${r}-leave-active`,leaveToClass:y=`${r}-leave-to`}=t,v=hie(s),b=v&&v[0],S=v&&v[1],{onBeforeEnter:E,onEnter:T,onEnterCancelled:w,onLeave:_,onLeaveCancelled:M,onBeforeAppear:$=E,onAppear:C=T,onAppearCancelled:P=w}=e,N=(U,B,K,h)=>{U._enterCancelled=h,Ba(U,B?f:a),Ba(U,B?c:o),K&&K()},F=(U,B)=>{U._isLeaving=!1,Ba(U,d),Ba(U,y),Ba(U,p),B&&B()},q=U=>(B,K)=>{const h=U?C:T,m=()=>N(B,U,K);Ql(h,[B,m]),ZM(()=>{Ba(B,U?l:n),so(B,U?f:a),KM(h)||XM(B,i,b,m)})};return ot(e,{onBeforeEnter(U){Ql(E,[U]),so(U,n),so(U,o)},onBeforeAppear(U){Ql($,[U]),so(U,l),so(U,c)},onEnter:q(!1),onAppear:q(!0),onLeave(U,B){U._isLeaving=!0;const K=()=>F(U,B);so(U,d),U._enterCancelled?(so(U,p),yx()):(yx(),so(U,p)),ZM(()=>{U._isLeaving&&(Ba(U,d),so(U,y),KM(_)||XM(U,i,S,K))}),Ql(_,[U,K])},onEnterCancelled(U){N(U,!1,void 0,!0),Ql(w,[U])},onAppearCancelled(U){N(U,!0,void 0,!0),Ql(P,[U])},onLeaveCancelled(U){F(U),Ql(M,[U])}})}function hie(t){if(t==null)return null;if(Pt(t))return[c_(t.enter),c_(t.leave)];{const e=c_(t);return[e,e]}}function c_(t){return kg(t)}function so(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Yh]||(t[Yh]=new Set)).add(e)}function Ba(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const r=t[Yh];r&&(r.delete(e),r.size||(t[Yh]=void 0))}function ZM(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let fie=0;function XM(t,e,r,i){const s=t._endId=++fie,n=()=>{s===t._endId&&i()};if(r!=null)return setTimeout(n,r);const{type:o,timeout:a,propCount:l}=HR(t,e);if(!o)return i();const c=o+"end";let f=0;const d=()=>{t.removeEventListener(c,p),n()},p=y=>{y.target===t&&++f>=l&&d()};setTimeout(()=>{f<l&&d()},a+1),t.addEventListener(c,p)}function HR(t,e){const r=window.getComputedStyle(t),i=v=>(r[v]||"").split(", "),s=i(`${La}Delay`),n=i(`${La}Duration`),o=QM(s,n),a=i(`${Yf}Delay`),l=i(`${Yf}Duration`),c=QM(a,l);let f=null,d=0,p=0;e===La?o>0&&(f=La,d=o,p=n.length):e===Yf?c>0&&(f=Yf,d=c,p=l.length):(d=Math.max(o,c),f=d>0?o>c?La:Yf:null,p=f?f===La?n.length:l.length:0);const y=f===La&&/\b(transform|all)(,|$)/.test(i(`${La}Property`).toString());return{type:f,timeout:d,propCount:p,hasTransform:y}}function QM(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,i)=>e$(r)+e$(t[i])))}function e$(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function yx(){return document.body.offsetHeight}function die(t,e,r){const i=t[Yh];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Wg=Symbol("_vod"),WR=Symbol("_vsh"),k1={beforeMount(t,{value:e},{transition:r}){t[Wg]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Jf(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:i}){!e!=!r&&(i?e?(i.beforeEnter(t),Jf(t,!0),i.enter(t)):i.leave(t,()=>{Jf(t,!1)}):Jf(t,e))},beforeUnmount(t,{value:e}){Jf(t,e)}};function Jf(t,e){t.style.display=e?t[Wg]:"none",t[WR]=!e}function pie(){k1.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const YR=Symbol("");function g3(t){const e=Ur();if(!e)return;const r=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(n=>Yg(n,s))},i=()=>{const s=t(e.proxy);e.ce?Yg(e.ce,s):gx(e.subTree,s),r(s)};I1(()=>{Hh(i)}),vi(()=>{Zr(i,yi,{flush:"post"});const s=new MutationObserver(i);s.observe(e.subTree.el.parentNode,{childList:!0}),du(()=>s.disconnect())})}function gx(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{gx(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Yg(t.el,e);else if(t.type===Lt)t.children.forEach(r=>gx(r,e));else if(t.type===vl){let{el:r,anchor:i}=t;for(;r&&(Yg(r,e),r!==i);)r=r.nextSibling}}function Yg(t,e){if(t.nodeType===1){const r=t.style;let i="";for(const s in e)r.setProperty(`--${s}`,e[s]),i+=`--${s}: ${e[s]};`;r[YR]=i}}const mie=/(^|;)\s*display\s*:/;function yie(t,e,r){const i=t.style,s=Je(r);let n=!1;if(r&&!s){if(e)if(Je(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&L0(i,a,"")}else for(const o in e)r[o]==null&&L0(i,o,"");for(const o in r)o==="display"&&(n=!0),L0(i,o,r[o])}else if(s){if(e!==r){const o=i[YR];o&&(r+=";"+o),i.cssText=r,n=mie.test(r)}}else e&&t.removeAttribute("style");Wg in t&&(t[Wg]=n?i.display:"",t[WR]&&(i.display="none"))}const t$=/\s*!important$/;function L0(t,e,r){if(Se(r))r.forEach(i=>L0(t,e,i));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const i=gie(t,e);t$.test(r)?t.setProperty(ps(i),r.replace(t$,""),"important"):t[i]=r}}const r$=["Webkit","Moz","ms"],u_={};function gie(t,e){const r=u_[e];if(r)return r;let i=Gt(e);if(i!=="filter"&&i in t)return u_[e]=i;i=Ll(i);for(let s=0;s<r$.length;s++){const n=r$[s]+i;if(n in t)return u_[e]=n}return e}const i$="http://www.w3.org/1999/xlink";function s$(t,e,r,i,s,n=Lte(e)){i&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(i$,e.slice(6,e.length)):t.setAttributeNS(i$,e,r):r==null||n&&!RL(r)?t.removeAttribute(e):t.setAttribute(e,n?"":Ss(r)?String(r):r)}function n$(t,e,r,i,s){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?VR(r):r);return}const n=t.tagName;if(e==="value"&&n!=="PROGRESS"&&!n.includes("-")){const a=n==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=RL(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(s||e)}function ca(t,e,r,i){t.addEventListener(e,r,i)}function vie(t,e,r,i){t.removeEventListener(e,r,i)}const o$=Symbol("_vei");function bie(t,e,r,i,s=null){const n=t[o$]||(t[o$]={}),o=n[e];if(i&&o)o.value=i;else{const[a,l]=_ie(e);if(i){const c=n[e]=Eie(i,s);ca(t,a,c,l)}else o&&(vie(t,a,o,l),n[e]=void 0)}}const a$=/(?:Once|Passive|Capture)$/;function _ie(t){let e;if(a$.test(t)){e={};let i;for(;i=t.match(a$);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ps(t.slice(2)),e]}let h_=0;const wie=Promise.resolve(),xie=()=>h_||(wie.then(()=>h_=0),h_=Date.now());function Eie(t,e){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;Fs(Sie(i,r.value),e,5,[i])};return r.value=t,r.attached=xie(),r}function Sie(t,e){if(Se(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const l$=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Aie=(t,e,r,i,s,n)=>{const o=s==="svg";e==="class"?die(t,i,o):e==="style"?yie(t,r,i):uu(e)?OS(e)||bie(t,e,r,i,n):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Tie(t,e,i,o))?(n$(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&s$(t,e,i,o,n,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Je(i))?n$(t,Gt(e),i,n,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),s$(t,e,i,o))};function Tie(t,e,r,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&l$(e)&&De(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return l$(e)&&Je(r)?!1:e in t}const c$={};/*! #__NO_SIDE_EFFECTS__ */function v3(t,e,r){const i=st(t,e);d1(i)&&ot(i,e);class s extends jm{constructor(o){super(i,o,r)}}return s.def=i,s}/*! #__NO_SIDE_EFFECTS__ */const JR=(t,e)=>v3(t,e,E3),Mie=typeof HTMLElement<"u"?HTMLElement:class{};class jm extends Mie{constructor(e,r={},i=$l){super(),this._def=e,this._props=r,this._createApp=i,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&i!==$l?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof jm){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Wn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(i,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:n,styles:o}=i;let a;if(n&&!Se(n))for(const l in n){const c=n[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=kg(this._props[l])),(a||(a=Object.create(null)))[Gt(l)]=!0)}this._numberProps=a,s&&this._resolveProps(i),this.shadowRoot&&this._applyStyles(o),this._mount(i)},r=this._def.__asyncLoader;r?this._pendingResolve=r().then(i=>e(this._def=i,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const r=this._instance&&this._instance.exposed;if(r)for(const i in r)vt(this,i)||Object.defineProperty(this,i,{get:()=>$e(r[i])})}_resolveProps(e){const{props:r}=e,i=Se(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s]);for(const s of i.map(Gt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(n){this._setProp(s,n,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const r=this.hasAttribute(e);let i=r?this.getAttribute(e):c$;const s=Gt(e);r&&this._numberProps&&this._numberProps[s]&&(i=kg(i)),this._setProp(s,i,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,r,i=!0,s=!1){if(r!==this._props[e]&&(r===c$?delete this._props[e]:(this._props[e]=r,e==="key"&&this._app&&(this._app._ceVNode.key=r)),s&&this._instance&&this._update(),i)){const n=this._ob;n&&n.disconnect(),r===!0?this.setAttribute(ps(e),""):typeof r=="string"||typeof r=="number"?this.setAttribute(ps(e),r+""):r||this.removeAttribute(ps(e)),n&&n.observe(this,{attributes:!0})}}_update(){$h(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const r=Ze(this._def,ot(e,this._props));return this._instance||(r.ce=i=>{this._instance=i,i.ce=this,i.isCE=!0;const s=(n,o)=>{this.dispatchEvent(new CustomEvent(n,d1(o[0])?ot({detail:o},o[0]):{detail:o}))};i.emit=(n,...o)=>{s(n,o),ps(n)!==n&&s(ps(n),o)},this._setParent()}),r}_applyStyles(e,r){if(!e)return;if(r){if(r===this._def||this._styleChildren.has(r))return;this._styleChildren.add(r)}const i=this._nonce;for(let s=e.length-1;s>=0;s--){const n=document.createElement("style");i&&n.setAttribute("nonce",i),n.textContent=e[s],this.shadowRoot.prepend(n)}}_parseSlots(){const e=this._slots={};let r;for(;r=this.firstChild;){const i=r.nodeType===1&&r.getAttribute("slot")||"default";(e[i]||(e[i]=[])).push(r),this.removeChild(r)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),r=this._instance.type.__scopeId;for(let i=0;i<e.length;i++){const s=e[i],n=s.getAttribute("name")||"default",o=this._slots[n],a=s.parentNode;if(o)for(const l of o){if(r&&l.nodeType===1){const c=r+"-s",f=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=f.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,s)}else for(;s.firstChild;)a.insertBefore(s.firstChild,s);a.removeChild(s)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function b3(t){const e=Ur(),r=e&&e.ce;return r||null}function KR(){const t=b3();return t&&t.shadowRoot}function ZR(t="$style"){{const e=Ur();if(!e)return nt;const r=e.type.__cssModules;if(!r)return nt;const i=r[t];return i||nt}}const XR=new WeakMap,QR=new WeakMap,Jg=Symbol("_moveCb"),u$=Symbol("_enterCb"),$ie=t=>(delete t.props.mode,t),Oie=$ie({name:"TransitionGroup",props:ot({},zR,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=Ur(),i=T1();let s,n;return Cf(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!Pie(s[0].el,r.vnode.el,o))return;s.forEach(Iie),s.forEach(Cie);const a=s.filter(Nie);yx(),a.forEach(l=>{const c=l.el,f=c.style;so(c,o),f.transform=f.webkitTransform=f.transitionDuration="";const d=c[Jg]=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",d),c[Jg]=null,Ba(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=ze(t),a=qR(o);let l=o.tag||Lt;if(s=[],n)for(let c=0;c<n.length;c++){const f=n[c];f.el&&f.el instanceof Element&&(s.push(f),Oo(f,eu(f,a,i,r)),XR.set(f,f.el.getBoundingClientRect()))}n=e.default?Rm(e.default()):[];for(let c=0;c<n.length;c++){const f=n[c];f.key!=null&&Oo(f,eu(f,a,i,r))}return Ze(l,null,n)}}}),R1=Oie;function Iie(t){const e=t.el;e[Jg]&&e[Jg](),e[u$]&&e[u$]()}function Cie(t){QR.set(t,t.el.getBoundingClientRect())}function Nie(t){const e=XR.get(t),r=QR.get(t),i=e.left-r.left,s=e.top-r.top;if(i||s){const n=t.el.style;return n.transform=n.webkitTransform=`translate(${i}px,${s}px)`,n.transitionDuration="0s",t}}function Pie(t,e,r){const i=t.cloneNode(),s=t[Yh];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),r.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const n=e.nodeType===1?e:e.parentNode;n.appendChild(i);const{hasTransform:o}=HR(i);return n.removeChild(i),o}const Ml=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Se(e)?r=>Ah(e,r):e};function Lie(t){t.target.composing=!0}function h$(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const nn=Symbol("_assign"),Yp={created(t,{modifiers:{lazy:e,trim:r,number:i}},s){t[nn]=Ml(s);const n=i||s.props&&s.props.type==="number";ca(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),n&&(a=Lg(a)),t[nn](a)}),r&&ca(t,"change",()=>{t.value=t.value.trim()}),e||(ca(t,"compositionstart",Lie),ca(t,"compositionend",h$),ca(t,"change",h$))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:i,trim:s,number:n}},o){if(t[nn]=Ml(o),t.composing)return;const a=(n||t.type==="number")&&!/^0\d/.test(t.value)?Lg(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===r||s&&t.value.trim()===l)||(t.value=l))}},D1={deep:!0,created(t,e,r){t[nn]=Ml(r),ca(t,"change",()=>{const i=t._modelValue,s=Jh(t),n=t.checked,o=t[nn];if(Se(i)){const a=y1(i,s),l=a!==-1;if(n&&!l)o(i.concat(s));else if(!n&&l){const c=[...i];c.splice(a,1),o(c)}}else if(hu(i)){const a=new Set(i);n?a.add(s):a.delete(s),o(a)}else o(e8(t,n))})},mounted:f$,beforeUpdate(t,e,r){t[nn]=Ml(r),f$(t,e,r)}};function f$(t,{value:e,oldValue:r},i){t._modelValue=e;let s;if(Se(e))s=y1(e,i.props.value)>-1;else if(hu(e))s=e.has(i.props.value);else{if(e===r)return;s=Tl(e,e8(t,!0))}t.checked!==s&&(t.checked=s)}const F1={created(t,{value:e},r){t.checked=Tl(e,r.props.value),t[nn]=Ml(r),ca(t,"change",()=>{t[nn](Jh(t))})},beforeUpdate(t,{value:e,oldValue:r},i){t[nn]=Ml(i),e!==r&&(t.checked=Tl(e,i.props.value))}},_3={deep:!0,created(t,{value:e,modifiers:{number:r}},i){const s=hu(e);ca(t,"change",()=>{const n=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>r?Lg(Jh(o)):Jh(o));t[nn](t.multiple?s?new Set(n):n:n[0]),t._assigning=!0,Wn(()=>{t._assigning=!1})}),t[nn]=Ml(i)},mounted(t,{value:e}){d$(t,e)},beforeUpdate(t,e,r){t[nn]=Ml(r)},updated(t,{value:e}){t._assigning||d$(t,e)}};function d$(t,e){const r=t.multiple,i=Se(e);if(!(r&&!i&&!hu(e))){for(let s=0,n=t.options.length;s<n;s++){const o=t.options[s],a=Jh(o);if(r)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=y1(e,a)>-1}else o.selected=e.has(a);else if(Tl(Jh(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Jh(t){return"_value"in t?t._value:t.value}function e8(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const w3={created(t,e,r){Iy(t,e,r,null,"created")},mounted(t,e,r){Iy(t,e,r,null,"mounted")},beforeUpdate(t,e,r,i){Iy(t,e,r,i,"beforeUpdate")},updated(t,e,r,i){Iy(t,e,r,i,"updated")}};function t8(t,e){switch(t){case"SELECT":return _3;case"TEXTAREA":return Yp;default:switch(e){case"checkbox":return D1;case"radio":return F1;default:return Yp}}}function Iy(t,e,r,i,s){const o=t8(t.tagName,r.props&&r.props.type)[s];o&&o(t,e,r,i)}function kie(){Yp.getSSRProps=({value:t})=>({value:t}),F1.getSSRProps=({value:t},e)=>{if(e.props&&Tl(e.props.value,t))return{checked:!0}},D1.getSSRProps=({value:t},e)=>{if(Se(t)){if(e.props&&y1(t,e.props.value)>-1)return{checked:!0}}else if(hu(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},w3.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const r=t8(e.type.toUpperCase(),e.props&&e.props.type);if(r.getSSRProps)return r.getSSRProps(t,e)}}const Rie=["ctrl","shift","alt","meta"],Die={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Rie.some(r=>t[`${r}Key`]&&!e.includes(r))},Bm=(t,e)=>{const r=t._withMods||(t._withMods={}),i=e.join(".");return r[i]||(r[i]=(s,...n)=>{for(let o=0;o<e.length;o++){const a=Die[e[o]];if(a&&a(s,e))return}return t(s,...n)})},Fie={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},x3=(t,e)=>{const r=t._withKeys||(t._withKeys={}),i=e.join(".");return r[i]||(r[i]=s=>{if(!("key"in s))return;const n=ps(s.key);if(e.some(o=>o===n||Fie[o]===n))return t(s)})},r8=ot({patchProp:Aie},cie);let tp,p$=!1;function i8(){return tp||(tp=o3(r8))}function s8(){return tp=p$?tp:a3(r8),p$=!0,tp}const $h=(...t)=>{i8().render(...t)},n8=(...t)=>{s8().hydrate(...t)},$l=(...t)=>{const e=i8().createApp(...t),{mount:r}=e;return e.mount=i=>{const s=a8(i);if(!s)return;const n=e._component;!De(n)&&!n.render&&!n.template&&(n.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,o8(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},E3=(...t)=>{const e=s8().createApp(...t),{mount:r}=e;return e.mount=i=>{const s=a8(i);if(s)return r(s,!0,o8(s))},e};function o8(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function a8(t){return Je(t)?document.querySelector(t):t}let m$=!1;const l8=()=>{m$||(m$=!0,kie(),pie())},Uie=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:GS,BaseTransitionPropsValidators:M1,Comment:Mr,DeprecationTypes:BR,EffectScope:g1,ErrorCodes:dk,ErrorTypeStrings:kR,Fragment:Lt,KeepAlive:Pk,ReactiveEffect:qh,Static:vl,Suspense:vR,Teleport:VS,Text:_o,TrackOpTypes:lk,Transition:L1,TransitionGroup:R1,TriggerOpTypes:ck,VueElement:jm,assertNumber:fk,callWithAsyncErrorHandling:Fs,callWithErrorHandling:fu,camelize:Gt,capitalize:Ll,cloneVNode:zn,compatUtils:jR,computed:tt,createApp:$l,createBlock:Vt,createCommentVNode:Wt,createElementBlock:xe,createElementVNode:ce,createHydrationRenderer:a3,createPropsRestProxy:Kk,createRenderer:o3,createSSRApp:E3,createSlots:Rk,createStaticVNode:AR,createTextVNode:wo,createVNode:Ze,customRef:FS,defineAsyncComponent:qS,defineComponent:st,defineCustomElement:v3,defineEmits:Uk,defineExpose:jk,defineModel:Gk,defineOptions:Bk,defineProps:Fk,defineSSRCustomElement:JR,defineSlots:Vk,devtools:RR,effect:zL,effectScope:Lm,getCurrentInstance:Ur,getCurrentScope:v1,getCurrentWatcher:uk,getTransitionRawChildren:Rm,guardReactiveProps:f3,h:rn,handleError:Fl,hasInjectionContext:s3,hydrate:n8,hydrateOnIdle:Ok,hydrateOnInteraction:Nk,hydrateOnMediaQuery:Ck,hydrateOnVisible:Ik,initCustomFormatter:NR,initDirectivesForSSR:l8,inject:Fr,isMemoSame:m3,isProxy:km,isReactive:Rs,isReadonly:va,isRef:dt,isRuntimeOnly:OR,isShallow:vs,isVNode:Gn,markRaw:br,mergeDefaults:Yk,mergeModels:Jk,mergeProps:P1,nextTick:Wn,normalizeClass:lr,normalizeProps:kL,normalizeStyle:kl,onActivated:HS,onBeforeMount:O1,onBeforeUnmount:Yn,onBeforeUpdate:I1,onDeactivated:WS,onErrorCaptured:ZS,onMounted:vi,onRenderTracked:KS,onRenderTriggered:JS,onScopeDispose:PS,onServerPrefetch:YS,onUnmounted:du,onUpdated:Cf,onWatcherCleanup:jS,openBlock:fe,popScopeId:bk,provide:i3,proxyRefs:S1,pushScopeId:vk,queuePostFlushCb:Hh,reactive:li,readonly:x1,ref:X,registerRuntimeCompiler:p3,render:$h,renderList:Ul,renderSlot:On,resolveComponent:Ar,resolveDirective:Ot,resolveDynamicComponent:QS,resolveFilter:UR,resolveTransitionHooks:eu,setBlockTracking:zg,setDevtoolsHook:DR,setTransitionHooks:Oo,shallowReactive:DS,shallowReadonly:rk,shallowRef:If,ssrContextKey:c3,ssrUtils:FR,stop:qL,toDisplayString:Dt,toHandlerKey:Lc,toHandlers:Dk,toRaw:ze,toRef:ok,toRefs:US,toValue:nk,transformVNodeArgs:ER,triggerRef:sk,unref:$e,useAttrs:Hk,useCssModule:ZR,useCssVars:g3,useHost:b3,useId:$k,useModel:mR,useSSRContext:u3,useShadowRoot:KR,useSlots:qk,useTemplateRef:jg,useTransitionState:T1,vModelCheckbox:D1,vModelDynamic:w3,vModelRadio:F1,vModelSelect:_3,vModelText:Yp,vShow:k1,version:y3,warn:LR,watch:Zr,watchEffect:fR,watchPostEffect:dR,watchSyncEffect:h3,withAsyncContext:Zk,withCtx:Nr,withDefaults:zk,withDirectives:$t,withKeys:x3,withMemo:PR,withModifiers:Bm,withScopeId:_k},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Jp=Symbol(""),rp=Symbol(""),S3=Symbol(""),Kg=Symbol(""),c8=Symbol(""),iu=Symbol(""),u8=Symbol(""),h8=Symbol(""),A3=Symbol(""),T3=Symbol(""),Vm=Symbol(""),M3=Symbol(""),f8=Symbol(""),$3=Symbol(""),O3=Symbol(""),I3=Symbol(""),C3=Symbol(""),N3=Symbol(""),P3=Symbol(""),d8=Symbol(""),p8=Symbol(""),U1=Symbol(""),Zg=Symbol(""),L3=Symbol(""),k3=Symbol(""),Kp=Symbol(""),Gm=Symbol(""),R3=Symbol(""),vx=Symbol(""),jie=Symbol(""),bx=Symbol(""),Xg=Symbol(""),Bie=Symbol(""),Vie=Symbol(""),D3=Symbol(""),Gie=Symbol(""),zie=Symbol(""),F3=Symbol(""),m8=Symbol(""),Kh={[Jp]:"Fragment",[rp]:"Teleport",[S3]:"Suspense",[Kg]:"KeepAlive",[c8]:"BaseTransition",[iu]:"openBlock",[u8]:"createBlock",[h8]:"createElementBlock",[A3]:"createVNode",[T3]:"createElementVNode",[Vm]:"createCommentVNode",[M3]:"createTextVNode",[f8]:"createStaticVNode",[$3]:"resolveComponent",[O3]:"resolveDynamicComponent",[I3]:"resolveDirective",[C3]:"resolveFilter",[N3]:"withDirectives",[P3]:"renderList",[d8]:"renderSlot",[p8]:"createSlots",[U1]:"toDisplayString",[Zg]:"mergeProps",[L3]:"normalizeClass",[k3]:"normalizeStyle",[Kp]:"normalizeProps",[Gm]:"guardReactiveProps",[R3]:"toHandlers",[vx]:"camelize",[jie]:"capitalize",[bx]:"toHandlerKey",[Xg]:"setBlockTracking",[Bie]:"pushScopeId",[Vie]:"popScopeId",[D3]:"withCtx",[Gie]:"unref",[zie]:"isRef",[F3]:"withMemo",[m8]:"isMemoSame"};function qie(t){Object.getOwnPropertySymbols(t).forEach(e=>{Kh[e]=t[e]})}const Vs={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Hie(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:Vs}}function Zp(t,e,r,i,s,n,o,a=!1,l=!1,c=!1,f=Vs){return t&&(a?(t.helper(iu),t.helper(Qh(t.inSSR,c))):t.helper(Xh(t.inSSR,c)),o&&t.helper(N3)),{type:13,tag:e,props:r,children:i,patchFlag:s,dynamicProps:n,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:f}}function Dc(t,e=Vs){return{type:17,loc:e,elements:t}}function sn(t,e=Vs){return{type:15,loc:e,properties:t}}function Ir(t,e){return{type:16,loc:Vs,key:Je(t)?et(t,!0):t,value:e}}function et(t,e=!1,r=Vs,i=0){return{type:4,loc:r,content:t,isStatic:e,constType:e?3:i}}function Dn(t,e=Vs){return{type:8,loc:e,children:t}}function Wr(t,e=[],r=Vs){return{type:14,loc:r,callee:t,arguments:e}}function Zh(t,e=void 0,r=!1,i=!1,s=Vs){return{type:18,params:t,returns:e,newline:r,isSlot:i,loc:s}}function _x(t,e,r,i=!0){return{type:19,test:t,consequent:e,alternate:r,newline:i,loc:Vs}}function Wie(t,e,r=!1,i=!1){return{type:20,index:t,value:e,needPauseTracking:r,inVOnce:i,needArraySpread:!1,loc:Vs}}function Yie(t){return{type:21,body:t,loc:Vs}}function Xh(t,e){return t||e?A3:T3}function Qh(t,e){return t||e?u8:h8}function U3(t,{helper:e,removeHelper:r,inSSR:i}){t.isBlock||(t.isBlock=!0,r(Xh(i,t.isComponent)),e(iu),e(Qh(i,t.isComponent)))}const y$=new Uint8Array([123,123]),g$=new Uint8Array([125,125]);function v$(t){return t>=97&&t<=122||t>=65&&t<=90}function $s(t){return t===32||t===10||t===9||t===12||t===13}function ka(t){return t===47||t===62||$s(t)}function Qg(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}const _i={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let Jie=class{constructor(e,r){this.stack=e,this.cbs=r,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=y$,this.delimiterClose=g$,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=y$,this.delimiterClose=g$}getPos(e){let r=1,i=e+1;for(let s=this.newlines.length-1;s>=0;s--){const n=this.newlines[s];if(e>n){r=s+2,i=e-n;break}}return{column:i,line:r,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const r=this.index+1-this.delimiterOpen.length;r>this.sectionStart&&this.cbs.ontext(this.sectionStart,r),this.state=3,this.sectionStart=r}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?ka(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||$s(e)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const i=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=i}this.sectionStart=r+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===_i.TitleEnd||this.currentSequence===_i.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===_i.Cdata[this.sequenceIndex]?++this.sequenceIndex===_i.Cdata.length&&(this.state=28,this.currentSequence=_i.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);if(r===10&&this.newlines.push(this.index),r===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===_i.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,r){this.enterRCDATA(e,r),this.state=31}enterRCDATA(e,r){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=r}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):v$(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){ka(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(ka(e)){const r=this.buffer.slice(this.sectionStart,this.index);r!=="template"&&this.enterRCDATA(Qg("</"+r),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){$s(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=v$(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||$s(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):$s(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):$s(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||ka(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||ka(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||ka(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||ka(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||ka(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):$s(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):$s(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,r){(e===r||this.fastForwardTo(r))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){$s(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=_i.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===_i.ScriptEnd[3]?this.startSpecial(_i.ScriptEnd,4):e===_i.StyleEnd[3]?this.startSpecial(_i.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===_i.TitleEnd[3]?this.startSpecial(_i.TitleEnd,4):e===_i.TextareaEnd[3]?this.startSpecial(_i.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);switch(r===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(r);break}case 2:{this.stateInterpolationOpen(r);break}case 3:{this.stateInterpolation(r);break}case 4:{this.stateInterpolationClose(r);break}case 31:{this.stateSpecialStartSequence(r);break}case 32:{this.stateInRCDATA(r);break}case 26:{this.stateCDATASequence(r);break}case 19:{this.stateInAttrValueDoubleQuotes(r);break}case 12:{this.stateInAttrName(r);break}case 13:{this.stateInDirName(r);break}case 14:{this.stateInDirArg(r);break}case 15:{this.stateInDynamicDirArg(r);break}case 16:{this.stateInDirModifier(r);break}case 28:{this.stateInCommentLike(r);break}case 27:{this.stateInSpecialComment(r);break}case 11:{this.stateBeforeAttrName(r);break}case 6:{this.stateInTagName(r);break}case 34:{this.stateInSFCRootTagName(r);break}case 9:{this.stateInClosingTagName(r);break}case 5:{this.stateBeforeTagName(r);break}case 17:{this.stateAfterAttrName(r);break}case 20:{this.stateInAttrValueSingleQuotes(r);break}case 18:{this.stateBeforeAttrValue(r);break}case 8:{this.stateBeforeClosingTagName(r);break}case 10:{this.stateAfterClosingTagName(r);break}case 29:{this.stateBeforeSpecialS(r);break}case 30:{this.stateBeforeSpecialT(r);break}case 21:{this.stateInAttrValueNoQuotes(r);break}case 7:{this.stateInSelfClosingTag(r);break}case 23:{this.stateInDeclaration(r);break}case 22:{this.stateBeforeDeclaration(r);break}case 25:{this.stateBeforeComment(r);break}case 24:{this.stateInProcessingInstruction(r);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===_i.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,r){}};function b$(t,{compatConfig:e}){const r=e&&e[t];return t==="MODE"?r||3:r}function Fc(t,e){const r=b$("MODE",e),i=b$(t,e);return r===3?i===!0:i!==!1}function Xp(t,e,r,...i){return Fc(t,e)}function j3(t){throw t}function y8(t){}function tr(t,e,r,i){const s=`https://vuejs.org/error-reference/#compiler-${t}`,n=new SyntaxError(String(s));return n.code=t,n.loc=e,n}const gs=t=>t.type===4&&t.isStatic;function g8(t){switch(t){case"Teleport":case"teleport":return rp;case"Suspense":case"suspense":return S3;case"KeepAlive":case"keep-alive":return Kg;case"BaseTransition":case"base-transition":return c8}}const Kie=/^\d|[^\$\w\xA0-\uFFFF]/,B3=t=>!Kie.test(t),Zie=/[A-Za-z_$\xA0-\uFFFF]/,Xie=/[\.\?\w$\xA0-\uFFFF]/,Qie=/\s+[.[]\s*|\s*[.[]\s+/g,v8=t=>t.type===4?t.content:t.loc.source,ese=t=>{const e=v8(t).trim().replace(Qie,a=>a.trim());let r=0,i=[],s=0,n=0,o=null;for(let a=0;a<e.length;a++){const l=e.charAt(a);switch(r){case 0:if(l==="[")i.push(r),r=1,s++;else if(l==="(")i.push(r),r=2,n++;else if(!(a===0?Zie:Xie).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(i.push(r),r=3,o=l):l==="["?s++:l==="]"&&(--s||(r=i.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")i.push(r),r=3,o=l;else if(l==="(")n++;else if(l===")"){if(a===e.length-1)return!1;--n||(r=i.pop())}break;case 3:l===o&&(r=i.pop(),o=null);break}}return!s&&!n},b8=ese,tse=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,rse=t=>tse.test(v8(t)),ise=rse;function Xs(t,e,r=!1){for(let i=0;i<t.props.length;i++){const s=t.props[i];if(s.type===7&&(r||s.exp)&&(Je(e)?s.name===e:e.test(s.name)))return s}}function j1(t,e,r=!1,i=!1){for(let s=0;s<t.props.length;s++){const n=t.props[s];if(n.type===6){if(r)continue;if(n.name===e&&(n.value||i))return n}else if(n.name==="bind"&&(n.exp||i)&&Mc(n.arg,e))return n}}function Mc(t,e){return!!(t&&gs(t)&&t.content===e)}function sse(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function f_(t){return t.type===5||t.type===2}function nse(t){return t.type===7&&t.name==="slot"}function ev(t){return t.type===1&&t.tagType===3}function tv(t){return t.type===1&&t.tagType===2}const ose=new Set([Kp,Gm]);function _8(t,e=[]){if(t&&!Je(t)&&t.type===14){const r=t.callee;if(!Je(r)&&ose.has(r))return _8(t.arguments[0],e.concat(t))}return[t,e]}function rv(t,e,r){let i,s=t.type===13?t.props:t.arguments[2],n=[],o;if(s&&!Je(s)&&s.type===14){const a=_8(s);s=a[0],n=a[1],o=n[n.length-1]}if(s==null||Je(s))i=sn([e]);else if(s.type===14){const a=s.arguments[0];!Je(a)&&a.type===15?_$(e,a)||a.properties.unshift(e):s.callee===R3?i=Wr(r.helper(Zg),[sn([e]),s]):s.arguments.unshift(sn([e])),!i&&(i=s)}else s.type===15?(_$(e,s)||s.properties.unshift(e),i=s):(i=Wr(r.helper(Zg),[sn([e]),s]),o&&o.callee===Gm&&(o=n[n.length-2]));t.type===13?o?o.arguments[0]=i:t.props=i:o?o.arguments[0]=i:t.arguments[2]=i}function _$(t,e){let r=!1;if(t.key.type===4){const i=t.key.content;r=e.properties.some(s=>s.key.type===4&&s.key.content===i)}return r}function Qp(t,e){return`_${e}_${t.replace(/[^\w]/g,(r,i)=>r==="-"?"_":t.charCodeAt(i).toString())}`}function ase(t){return t.type===14&&t.callee===F3?t.arguments[1].returns:t}const lse=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,w8={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Md,isPreTag:Md,isIgnoreNewlineTag:Md,isCustomElement:Md,onError:j3,onWarn:y8,comments:!1,prefixIdentifiers:!1};let bt=w8,em=null,da="",Ai=null,ct=null,is="",Yo=-1,gc=-1,V3=0,Qa=!1,wx=null;const Xt=[],vr=new Jie(Xt,{onerr:jo,ontext(t,e){Cy(hi(t,e),t,e)},ontextentity(t,e,r){Cy(t,e,r)},oninterpolation(t,e){if(Qa)return Cy(hi(t,e),t,e);let r=t+vr.delimiterOpen.length,i=e-vr.delimiterClose.length;for(;$s(da.charCodeAt(r));)r++;for(;$s(da.charCodeAt(i-1));)i--;let s=hi(r,i);s.includes("&")&&(s=bt.decodeEntities(s,!1)),xx({type:5,content:R0(s,!1,xr(r,i)),loc:xr(t,e)})},onopentagname(t,e){const r=hi(t,e);Ai={type:1,tag:r,ns:bt.getNamespace(r,Xt[0],bt.ns),tagType:0,props:[],children:[],loc:xr(t-1,e),codegenNode:void 0}},onopentagend(t){x$(t)},onclosetag(t,e){const r=hi(t,e);if(!bt.isVoidTag(r)){let i=!1;for(let s=0;s<Xt.length;s++)if(Xt[s].tag.toLowerCase()===r.toLowerCase()){i=!0,s>0&&jo(24,Xt[0].loc.start.offset);for(let o=0;o<=s;o++){const a=Xt.shift();k0(a,e,o<s)}break}i||jo(23,x8(t,60))}},onselfclosingtag(t){const e=Ai.tag;Ai.isSelfClosing=!0,x$(t),Xt[0]&&Xt[0].tag===e&&k0(Xt.shift(),t)},onattribname(t,e){ct={type:6,name:hi(t,e),nameLoc:xr(t,e),value:void 0,loc:xr(t)}},ondirname(t,e){const r=hi(t,e),i=r==="."||r===":"?"bind":r==="@"?"on":r==="#"?"slot":r.slice(2);if(!Qa&&i===""&&jo(26,t),Qa||i==="")ct={type:6,name:r,nameLoc:xr(t,e),value:void 0,loc:xr(t)};else if(ct={type:7,name:i,rawName:r,exp:void 0,arg:void 0,modifiers:r==="."?[et("prop")]:[],loc:xr(t)},i==="pre"){Qa=vr.inVPre=!0,wx=Ai;const s=Ai.props;for(let n=0;n<s.length;n++)s[n].type===7&&(s[n]=bse(s[n]))}},ondirarg(t,e){if(t===e)return;const r=hi(t,e);if(Qa)ct.name+=r,$c(ct.nameLoc,e);else{const i=r[0]!=="[";ct.arg=R0(i?r:r.slice(1,-1),i,xr(t,e),i?3:0)}},ondirmodifier(t,e){const r=hi(t,e);if(Qa)ct.name+="."+r,$c(ct.nameLoc,e);else if(ct.name==="slot"){const i=ct.arg;i&&(i.content+="."+r,$c(i.loc,e))}else{const i=et(r,!0,xr(t,e));ct.modifiers.push(i)}},onattribdata(t,e){is+=hi(t,e),Yo<0&&(Yo=t),gc=e},onattribentity(t,e,r){is+=t,Yo<0&&(Yo=e),gc=r},onattribnameend(t){const e=ct.loc.start.offset,r=hi(e,t);ct.type===7&&(ct.rawName=r),Ai.props.some(i=>(i.type===7?i.rawName:i.name)===r)&&jo(2,e)},onattribend(t,e){if(Ai&&ct){if($c(ct.loc,e),t!==0)if(is.includes("&")&&(is=bt.decodeEntities(is,!0)),ct.type===6)ct.name==="class"&&(is=S8(is).trim()),t===1&&!is&&jo(13,e),ct.value={type:2,content:is,loc:t===1?xr(Yo,gc):xr(Yo-1,gc+1)},vr.inSFCRoot&&Ai.tag==="template"&&ct.name==="lang"&&is&&is!=="html"&&vr.enterRCDATA(Qg("</template"),0);else{let r=0;ct.exp=R0(is,!1,xr(Yo,gc),0,r),ct.name==="for"&&(ct.forParseResult=use(ct.exp));let i=-1;ct.name==="bind"&&(i=ct.modifiers.findIndex(s=>s.content==="sync"))>-1&&Xp("COMPILER_V_BIND_SYNC",bt,ct.loc,ct.rawName)&&(ct.name="model",ct.modifiers.splice(i,1))}(ct.type!==7||ct.name!=="pre")&&Ai.props.push(ct)}is="",Yo=gc=-1},oncomment(t,e){bt.comments&&xx({type:3,content:hi(t,e),loc:xr(t-4,e+3)})},onend(){const t=da.length;for(let e=0;e<Xt.length;e++)k0(Xt[e],t-1),jo(24,Xt[e].loc.start.offset)},oncdata(t,e){Xt[0].ns!==0?Cy(hi(t,e),t,e):jo(1,t-9)},onprocessinginstruction(t){(Xt[0]?Xt[0].ns:bt.ns)===0&&jo(21,t-1)}}),w$=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,cse=/^\(|\)$/g;function use(t){const e=t.loc,r=t.content,i=r.match(lse);if(!i)return;const[,s,n]=i,o=(d,p,y=!1)=>{const v=e.start.offset+p,b=v+d.length;return R0(d,!1,xr(v,b),0,y?1:0)},a={source:o(n.trim(),r.indexOf(n,s.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=s.trim().replace(cse,"").trim();const c=s.indexOf(l),f=l.match(w$);if(f){l=l.replace(w$,"").trim();const d=f[1].trim();let p;if(d&&(p=r.indexOf(d,c+l.length),a.key=o(d,p,!0)),f[2]){const y=f[2].trim();y&&(a.index=o(y,r.indexOf(y,a.key?p+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function hi(t,e){return da.slice(t,e)}function x$(t){vr.inSFCRoot&&(Ai.innerLoc=xr(t+1,t+1)),xx(Ai);const{tag:e,ns:r}=Ai;r===0&&bt.isPreTag(e)&&V3++,bt.isVoidTag(e)?k0(Ai,t):(Xt.unshift(Ai),(r===1||r===2)&&(vr.inXML=!0)),Ai=null}function Cy(t,e,r){{const n=Xt[0]&&Xt[0].tag;n!=="script"&&n!=="style"&&t.includes("&")&&(t=bt.decodeEntities(t,!1))}const i=Xt[0]||em,s=i.children[i.children.length-1];s&&s.type===2?(s.content+=t,$c(s.loc,r)):i.children.push({type:2,content:t,loc:xr(e,r)})}function k0(t,e,r=!1){r?$c(t.loc,x8(e,60)):$c(t.loc,hse(e,62)+1),vr.inSFCRoot&&(t.children.length?t.innerLoc.end=ot({},t.children[t.children.length-1].loc.end):t.innerLoc.end=ot({},t.innerLoc.start),t.innerLoc.source=hi(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:i,ns:s,children:n}=t;if(Qa||(i==="slot"?t.tagType=2:E$(t)?t.tagType=3:dse(t)&&(t.tagType=1)),vr.inRCDATA||(t.children=E8(n)),s===0&&bt.isIgnoreNewlineTag(i)){const o=n[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}s===0&&bt.isPreTag(i)&&V3--,wx===t&&(Qa=vr.inVPre=!1,wx=null),vr.inXML&&(Xt[0]?Xt[0].ns:bt.ns)===0&&(vr.inXML=!1);{const o=t.props;if(!vr.inSFCRoot&&Fc("COMPILER_NATIVE_TEMPLATE",bt)&&t.tag==="template"&&!E$(t)){const l=Xt[0]||em,c=l.children.indexOf(t);l.children.splice(c,1,...t.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&Xp("COMPILER_INLINE_TEMPLATE",bt,a.loc)&&t.children.length&&(a.value={type:2,content:hi(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:a.loc})}}function hse(t,e){let r=t;for(;da.charCodeAt(r)!==e&&r<da.length-1;)r++;return r}function x8(t,e){let r=t;for(;da.charCodeAt(r)!==e&&r>=0;)r--;return r}const fse=new Set(["if","else","else-if","for","slot"]);function E$({tag:t,props:e}){if(t==="template"){for(let r=0;r<e.length;r++)if(e[r].type===7&&fse.has(e[r].name))return!0}return!1}function dse({tag:t,props:e}){if(bt.isCustomElement(t))return!1;if(t==="component"||pse(t.charCodeAt(0))||g8(t)||bt.isBuiltInComponent&&bt.isBuiltInComponent(t)||bt.isNativeTag&&!bt.isNativeTag(t))return!0;for(let r=0;r<e.length;r++){const i=e[r];if(i.type===6){if(i.name==="is"&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(Xp("COMPILER_IS_ON_ELEMENT",bt,i.loc))return!0}}else if(i.name==="bind"&&Mc(i.arg,"is")&&Xp("COMPILER_IS_ON_ELEMENT",bt,i.loc))return!0}return!1}function pse(t){return t>64&&t<91}const mse=/\r\n/g;function E8(t,e){const r=bt.whitespace!=="preserve";let i=!1;for(let s=0;s<t.length;s++){const n=t[s];if(n.type===2)if(V3)n.content=n.content.replace(mse,`
`);else if(yse(n.content)){const o=t[s-1]&&t[s-1].type,a=t[s+1]&&t[s+1].type;!o||!a||r&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&gse(n.content)))?(i=!0,t[s]=null):n.content=" "}else r&&(n.content=S8(n.content))}return i?t.filter(Boolean):t}function yse(t){for(let e=0;e<t.length;e++)if(!$s(t.charCodeAt(e)))return!1;return!0}function gse(t){for(let e=0;e<t.length;e++){const r=t.charCodeAt(e);if(r===10||r===13)return!0}return!1}function S8(t){let e="",r=!1;for(let i=0;i<t.length;i++)$s(t.charCodeAt(i))?r||(e+=" ",r=!0):(e+=t[i],r=!1);return e}function xx(t){(Xt[0]||em).children.push(t)}function xr(t,e){return{start:vr.getPos(t),end:e==null?e:vr.getPos(e),source:e==null?e:hi(t,e)}}function vse(t){return xr(t.start.offset,t.end.offset)}function $c(t,e){t.end=vr.getPos(e),t.source=hi(t.start.offset,e)}function bse(t){const e={type:6,name:t.rawName,nameLoc:xr(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const r=t.exp.loc;r.end.offset<t.loc.end.offset&&(r.start.offset--,r.start.column--,r.end.offset++,r.end.column++),e.value={type:2,content:t.exp.content,loc:r}}return e}function R0(t,e=!1,r,i=0,s=0){return et(t,e,r,i)}function jo(t,e,r){bt.onError(tr(t,xr(e,e)))}function _se(){vr.reset(),Ai=null,ct=null,is="",Yo=-1,gc=-1,Xt.length=0}function wse(t,e){if(_se(),da=t,bt=ot({},w8),e){let s;for(s in e)e[s]!=null&&(bt[s]=e[s])}vr.mode=bt.parseMode==="html"?1:bt.parseMode==="sfc"?2:0,vr.inXML=bt.ns===1||bt.ns===2;const r=e&&e.delimiters;r&&(vr.delimiterOpen=Qg(r[0]),vr.delimiterClose=Qg(r[1]));const i=em=Hie([],t);return vr.parse(da),i.loc=xr(0,t.length),i.children=E8(i.children),em=null,i}function xse(t,e){D0(t,void 0,e,A8(t,t.children[0]))}function A8(t,e){const{children:r}=t;return r.length===1&&e.type===1&&!tv(e)}function D0(t,e,r,i=!1,s=!1){const{children:n}=t,o=[];for(let f=0;f<n.length;f++){const d=n[f];if(d.type===1&&d.tagType===0){const p=i?0:Ps(d,r);if(p>0){if(p>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const y=d.codegenNode;if(y.type===13){const v=y.patchFlag;if((v===void 0||v===512||v===1)&&M8(d,r)>=2){const b=$8(d);b&&(y.props=r.hoist(b))}y.dynamicProps&&(y.dynamicProps=r.hoist(y.dynamicProps))}}}else if(d.type===12&&(i?0:Ps(d,r))>=2){o.push(d);continue}if(d.type===1){const p=d.tagType===1;p&&r.scopes.vSlot++,D0(d,t,r,!1,s),p&&r.scopes.vSlot--}else if(d.type===11)D0(d,t,r,d.children.length===1,!0);else if(d.type===9)for(let p=0;p<d.branches.length;p++)D0(d.branches[p],t,r,d.branches[p].children.length===1,s)}let a=!1;if(o.length===n.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&Se(t.codegenNode.children))t.codegenNode.children=l(Dc(t.codegenNode.children)),a=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Se(t.codegenNode.children)&&t.codegenNode.children.type===15){const f=c(t.codegenNode,"default");f&&(f.returns=l(Dc(f.returns)),a=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Se(e.codegenNode.children)&&e.codegenNode.children.type===15){const f=Xs(t,"slot",!0),d=f&&f.arg&&c(e.codegenNode,f.arg);d&&(d.returns=l(Dc(d.returns)),a=!0)}}if(!a)for(const f of o)f.codegenNode=r.cache(f.codegenNode);function l(f){const d=r.cache(f);return s&&r.hmr&&(d.needArraySpread=!0),d}function c(f,d){if(f.children&&!Se(f.children)&&f.children.type===15){const p=f.children.properties.find(y=>y.key===d||y.key.content===d);return p&&p.value}}o.length&&r.transformHoist&&r.transformHoist(n,r,t)}function Ps(t,e){const{constantCache:r}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const i=r.get(t);if(i!==void 0)return i;const s=t.codegenNode;if(s.type!==13||s.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(s.patchFlag===void 0){let o=3;const a=M8(t,e);if(a===0)return r.set(t,0),0;a<o&&(o=a);for(let l=0;l<t.children.length;l++){const c=Ps(t.children[l],e);if(c===0)return r.set(t,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<t.props.length;l++){const c=t.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const f=Ps(c.exp,e);if(f===0)return r.set(t,0),0;f<o&&(o=f)}}if(s.isBlock){for(let l=0;l<t.props.length;l++)if(t.props[l].type===7)return r.set(t,0),0;e.removeHelper(iu),e.removeHelper(Qh(e.inSSR,s.isComponent)),s.isBlock=!1,e.helper(Xh(e.inSSR,s.isComponent))}return r.set(t,o),o}else return r.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Ps(t.content,e);case 4:return t.constType;case 8:let n=3;for(let o=0;o<t.children.length;o++){const a=t.children[o];if(Je(a)||Ss(a))continue;const l=Ps(a,e);if(l===0)return 0;l<n&&(n=l)}return n;case 20:return 2;default:return 0}}const Ese=new Set([L3,k3,Kp,Gm]);function T8(t,e){if(t.type===14&&!Je(t.callee)&&Ese.has(t.callee)){const r=t.arguments[0];if(r.type===4)return Ps(r,e);if(r.type===14)return T8(r,e)}return 0}function M8(t,e){let r=3;const i=$8(t);if(i&&i.type===15){const{properties:s}=i;for(let n=0;n<s.length;n++){const{key:o,value:a}=s[n],l=Ps(o,e);if(l===0)return l;l<r&&(r=l);let c;if(a.type===4?c=Ps(a,e):a.type===14?c=T8(a,e):c=0,c===0)return c;c<r&&(r=c)}}return r}function $8(t){const e=t.codegenNode;if(e.type===13)return e.props}function Sse(t,{filename:e="",prefixIdentifiers:r=!1,hoistStatic:i=!1,hmr:s=!1,cacheHandlers:n=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=yi,isCustomElement:f=yi,expressionPlugins:d=[],scopeId:p=null,slotted:y=!0,ssr:v=!1,inSSR:b=!1,ssrCssVars:S="",bindingMetadata:E=nt,inline:T=!1,isTS:w=!1,onError:_=j3,onWarn:M=y8,compatConfig:$}){const C=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),P={filename:e,selfName:C&&Ll(Gt(C[1])),prefixIdentifiers:r,hoistStatic:i,hmr:s,cacheHandlers:n,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:f,expressionPlugins:d,scopeId:p,slotted:y,ssr:v,inSSR:b,ssrCssVars:S,bindingMetadata:E,inline:T,isTS:w,onError:_,onWarn:M,compatConfig:$,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(N){const F=P.helpers.get(N)||0;return P.helpers.set(N,F+1),N},removeHelper(N){const F=P.helpers.get(N);if(F){const q=F-1;q?P.helpers.set(N,q):P.helpers.delete(N)}},helperString(N){return`_${Kh[P.helper(N)]}`},replaceNode(N){P.parent.children[P.childIndex]=P.currentNode=N},removeNode(N){const F=P.parent.children,q=N?F.indexOf(N):P.currentNode?P.childIndex:-1;!N||N===P.currentNode?(P.currentNode=null,P.onNodeRemoved()):P.childIndex>q&&(P.childIndex--,P.onNodeRemoved()),P.parent.children.splice(q,1)},onNodeRemoved:yi,addIdentifiers(N){},removeIdentifiers(N){},hoist(N){Je(N)&&(N=et(N)),P.hoists.push(N);const F=et(`_hoisted_${P.hoists.length}`,!1,N.loc,2);return F.hoisted=N,F},cache(N,F=!1,q=!1){const U=Wie(P.cached.length,N,F,q);return P.cached.push(U),U}};return P.filters=new Set,P}function Ase(t,e){const r=Sse(t,e);B1(t,r),e.hoistStatic&&xse(t,r),e.ssr||Tse(t,r),t.helpers=new Set([...r.helpers.keys()]),t.components=[...r.components],t.directives=[...r.directives],t.imports=r.imports,t.hoists=r.hoists,t.temps=r.temps,t.cached=r.cached,t.transformed=!0,t.filters=[...r.filters]}function Tse(t,e){const{helper:r}=e,{children:i}=t;if(i.length===1){const s=i[0];if(A8(t,s)&&s.codegenNode){const n=s.codegenNode;n.type===13&&U3(n,e),t.codegenNode=n}else t.codegenNode=s}else if(i.length>1){let s=64;t.codegenNode=Zp(e,r(Jp),void 0,t.children,s,void 0,void 0,!0,void 0,!1)}}function Mse(t,e){let r=0;const i=()=>{r--};for(;r<t.children.length;r++){const s=t.children[r];Je(s)||(e.grandParent=e.parent,e.parent=t,e.childIndex=r,e.onNodeRemoved=i,B1(s,e))}}function B1(t,e){e.currentNode=t;const{nodeTransforms:r}=e,i=[];for(let n=0;n<r.length;n++){const o=r[n](t,e);if(o&&(Se(o)?i.push(...o):i.push(o)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(Vm);break;case 5:e.ssr||e.helper(U1);break;case 9:for(let n=0;n<t.branches.length;n++)B1(t.branches[n],e);break;case 10:case 11:case 1:case 0:Mse(t,e);break}e.currentNode=t;let s=i.length;for(;s--;)i[s]()}function O8(t,e){const r=Je(t)?i=>i===t:i=>t.test(i);return(i,s)=>{if(i.type===1){const{props:n}=i;if(i.tagType===3&&n.some(nse))return;const o=[];for(let a=0;a<n.length;a++){const l=n[a];if(l.type===7&&r(l.name)){n.splice(a,1),a--;const c=e(i,l,s);c&&o.push(c)}}return o}}}const V1="/*@__PURE__*/",I8=t=>`${Kh[t]}: _${Kh[t]}`;function $se(t,{mode:e="function",prefixIdentifiers:r=e==="module",sourceMap:i=!1,filename:s="template.vue.html",scopeId:n=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:f=!1,isTS:d=!1,inSSR:p=!1}){const y={mode:e,prefixIdentifiers:r,sourceMap:i,filename:s,scopeId:n,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:f,isTS:d,inSSR:p,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(b){return`_${Kh[b]}`},push(b,S=-2,E){y.code+=b},indent(){v(++y.indentLevel)},deindent(b=!1){b?--y.indentLevel:v(--y.indentLevel)},newline(){v(y.indentLevel)}};function v(b){y.push(`
`+"  ".repeat(b),0)}return y}function Ose(t,e={}){const r=$se(t,e);e.onContextCreated&&e.onContextCreated(r);const{mode:i,push:s,prefixIdentifiers:n,indent:o,deindent:a,newline:l,scopeId:c,ssr:f}=r,d=Array.from(t.helpers),p=d.length>0,y=!n&&i!=="module";Ise(t,r);const b=f?"ssrRender":"render",E=(f?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(s(`function ${b}(${E}) {`),o(),y&&(s("with (_ctx) {"),o(),p&&(s(`const { ${d.map(I8).join(", ")} } = _Vue
`,-1),l())),t.components.length&&(d_(t.components,"component",r),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(d_(t.directives,"directive",r),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),d_(t.filters,"filter",r),l()),t.temps>0){s("let ");for(let T=0;T<t.temps;T++)s(`${T>0?", ":""}_temp${T}`)}return(t.components.length||t.directives.length||t.temps)&&(s(`
`,0),l()),f||s("return "),t.codegenNode?Li(t.codegenNode,r):s("null"),y&&(a(),s("}")),a(),s("}"),{ast:t,code:r.code,preamble:"",map:r.map?r.map.toJSON():void 0}}function Ise(t,e){const{ssr:r,prefixIdentifiers:i,push:s,newline:n,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,c=a,f=Array.from(t.helpers);if(f.length>0&&(s(`const _Vue = ${c}
`,-1),t.hoists.length)){const d=[A3,T3,Vm,M3,f8].filter(p=>f.includes(p)).map(I8).join(", ");s(`const { ${d} } = _Vue
`,-1)}Cse(t.hoists,e),n(),s("return ")}function d_(t,e,{helper:r,push:i,newline:s,isTS:n}){const o=r(e==="filter"?C3:e==="component"?$3:I3);for(let a=0;a<t.length;a++){let l=t[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),i(`const ${Qp(l,e)} = ${o}(${JSON.stringify(l)}${c?", true":""})${n?"!":""}`),a<t.length-1&&s()}}function Cse(t,e){if(!t.length)return;e.pure=!0;const{push:r,newline:i}=e;i();for(let s=0;s<t.length;s++){const n=t[s];n&&(r(`const _hoisted_${s+1} = `),Li(n,e),i())}e.pure=!1}function G3(t,e){const r=t.length>3||!1;e.push("["),r&&e.indent(),zm(t,e,r),r&&e.deindent(),e.push("]")}function zm(t,e,r=!1,i=!0){const{push:s,newline:n}=e;for(let o=0;o<t.length;o++){const a=t[o];Je(a)?s(a,-3):Se(a)?G3(a,e):Li(a,e),o<t.length-1&&(r?(i&&s(","),n()):i&&s(", "))}}function Li(t,e){if(Je(t)){e.push(t,-3);return}if(Ss(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:Li(t.codegenNode,e);break;case 2:Nse(t,e);break;case 4:C8(t,e);break;case 5:Pse(t,e);break;case 12:Li(t.codegenNode,e);break;case 8:N8(t,e);break;case 3:kse(t,e);break;case 13:Rse(t,e);break;case 14:Fse(t,e);break;case 15:Use(t,e);break;case 17:jse(t,e);break;case 18:Bse(t,e);break;case 19:Vse(t,e);break;case 20:Gse(t,e);break;case 21:zm(t.body,e,!0,!1);break}}function Nse(t,e){e.push(JSON.stringify(t.content),-3,t)}function C8(t,e){const{content:r,isStatic:i}=t;e.push(i?JSON.stringify(r):r,-3,t)}function Pse(t,e){const{push:r,helper:i,pure:s}=e;s&&r(V1),r(`${i(U1)}(`),Li(t.content,e),r(")")}function N8(t,e){for(let r=0;r<t.children.length;r++){const i=t.children[r];Je(i)?e.push(i,-3):Li(i,e)}}function Lse(t,e){const{push:r}=e;if(t.type===8)r("["),N8(t,e),r("]");else if(t.isStatic){const i=B3(t.content)?t.content:JSON.stringify(t.content);r(i,-2,t)}else r(`[${t.content}]`,-3,t)}function kse(t,e){const{push:r,helper:i,pure:s}=e;s&&r(V1),r(`${i(Vm)}(${JSON.stringify(t.content)})`,-3,t)}function Rse(t,e){const{push:r,helper:i,pure:s}=e,{tag:n,props:o,children:a,patchFlag:l,dynamicProps:c,directives:f,isBlock:d,disableTracking:p,isComponent:y}=t;let v;l&&(v=String(l)),f&&r(i(N3)+"("),d&&r(`(${i(iu)}(${p?"true":""}), `),s&&r(V1);const b=d?Qh(e.inSSR,y):Xh(e.inSSR,y);r(i(b)+"(",-2,t),zm(Dse([n,o,a,v,c]),e),r(")"),d&&r(")"),f&&(r(", "),Li(f,e),r(")"))}function Dse(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(r=>r||"null")}function Fse(t,e){const{push:r,helper:i,pure:s}=e,n=Je(t.callee)?t.callee:i(t.callee);s&&r(V1),r(n+"(",-2,t),zm(t.arguments,e),r(")")}function Use(t,e){const{push:r,indent:i,deindent:s,newline:n}=e,{properties:o}=t;if(!o.length){r("{}",-2,t);return}const a=o.length>1||!1;r(a?"{":"{ "),a&&i();for(let l=0;l<o.length;l++){const{key:c,value:f}=o[l];Lse(c,e),r(": "),Li(f,e),l<o.length-1&&(r(","),n())}a&&s(),r(a?"}":" }")}function jse(t,e){G3(t.elements,e)}function Bse(t,e){const{push:r,indent:i,deindent:s}=e,{params:n,returns:o,body:a,newline:l,isSlot:c}=t;c&&r(`_${Kh[D3]}(`),r("(",-2,t),Se(n)?zm(n,e):n&&Li(n,e),r(") => "),(l||a)&&(r("{"),i()),o?(l&&r("return "),Se(o)?G3(o,e):Li(o,e)):a&&Li(a,e),(l||a)&&(s(),r("}")),c&&(t.isNonScopedSlot&&r(", undefined, true"),r(")"))}function Vse(t,e){const{test:r,consequent:i,alternate:s,newline:n}=t,{push:o,indent:a,deindent:l,newline:c}=e;if(r.type===4){const d=!B3(r.content);d&&o("("),C8(r,e),d&&o(")")}else o("("),Li(r,e),o(")");n&&a(),e.indentLevel++,n||o(" "),o("? "),Li(i,e),e.indentLevel--,n&&c(),n||o(" "),o(": ");const f=s.type===19;f||e.indentLevel++,Li(s,e),f||e.indentLevel--,n&&l(!0)}function Gse(t,e){const{push:r,helper:i,indent:s,deindent:n,newline:o}=e,{needPauseTracking:a,needArraySpread:l}=t;l&&r("[...("),r(`_cache[${t.index}] || (`),a&&(s(),r(`${i(Xg)}(-1`),t.inVOnce&&r(", true"),r("),"),o(),r("(")),r(`_cache[${t.index}] = `),Li(t.value,e),a&&(r(`).cacheIndex = ${t.index},`),o(),r(`${i(Xg)}(1),`),o(),r(`_cache[${t.index}]`),n()),r(")"),l&&r(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const zse=O8(/^(if|else|else-if)$/,(t,e,r)=>qse(t,e,r,(i,s,n)=>{const o=r.parent.children;let a=o.indexOf(i),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(n)i.codegenNode=A$(s,l,r);else{const c=Hse(i.codegenNode);c.alternate=A$(s,l+i.branches.length-1,r)}}}));function qse(t,e,r,i){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const s=e.exp?e.exp.loc:t.loc;r.onError(tr(28,e.loc)),e.exp=et("true",!1,s)}if(e.name==="if"){const s=S$(t,e),n={type:9,loc:vse(t.loc),branches:[s]};if(r.replaceNode(n),i)return i(n,s,!0)}else{const s=r.parent.children;let n=s.indexOf(t);for(;n-->=-1;){const o=s[n];if(o&&o.type===3){r.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){r.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&r.onError(tr(30,t.loc)),r.removeNode();const a=S$(t,e);o.branches.push(a);const l=i&&i(o,a,!1);B1(a,r),l&&l(),r.currentNode=null}else r.onError(tr(30,t.loc));break}}}function S$(t,e){const r=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:r&&!Xs(t,"for")?t.children:[t],userKey:j1(t,"key"),isTemplateIf:r}}function A$(t,e,r){return t.condition?_x(t.condition,T$(t,e,r),Wr(r.helper(Vm),['""',"true"])):T$(t,e,r)}function T$(t,e,r){const{helper:i}=r,s=Ir("key",et(`${e}`,!1,Vs,2)),{children:n}=t,o=n[0];if(n.length!==1||o.type!==1)if(n.length===1&&o.type===11){const l=o.codegenNode;return rv(l,s,r),l}else return Zp(r,i(Jp),sn([s]),n,64,void 0,void 0,!0,!1,!1,t.loc);else{const l=o.codegenNode,c=ase(l);return c.type===13&&U3(c,r),rv(c,s,r),l}}function Hse(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const Wse=(t,e,r)=>{const{modifiers:i,loc:s}=t,n=t.arg;let{exp:o}=t;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(n.type!==4||!n.isStatic)return r.onError(tr(52,n.loc)),{props:[Ir(n,et("",!0,s))]};P8(t),o=t.exp}return n.type!==4?(n.children.unshift("("),n.children.push(') || ""')):n.isStatic||(n.content=`${n.content} || ""`),i.some(a=>a.content==="camel")&&(n.type===4?n.isStatic?n.content=Gt(n.content):n.content=`${r.helperString(vx)}(${n.content})`:(n.children.unshift(`${r.helperString(vx)}(`),n.children.push(")"))),r.inSSR||(i.some(a=>a.content==="prop")&&M$(n,"."),i.some(a=>a.content==="attr")&&M$(n,"^")),{props:[Ir(n,o)]}},P8=(t,e)=>{const r=t.arg,i=Gt(r.content);t.exp=et(i,!1,r.loc)},M$=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},Yse=O8("for",(t,e,r)=>{const{helper:i,removeHelper:s}=r;return Jse(t,e,r,n=>{const o=Wr(i(P3),[n.source]),a=ev(t),l=Xs(t,"memo"),c=j1(t,"key",!1,!0);c&&c.type===7&&!c.exp&&P8(c);let d=c&&(c.type===6?c.value?et(c.value.content,!0):void 0:c.exp);const p=c&&d?Ir("key",d):null,y=n.source.type===4&&n.source.constType>0,v=y?64:c?128:256;return n.codegenNode=Zp(r,i(Jp),void 0,o,v,void 0,void 0,!0,!y,!1,t.loc),()=>{let b;const{children:S}=n,E=S.length!==1||S[0].type!==1,T=tv(t)?t:a&&t.children.length===1&&tv(t.children[0])?t.children[0]:null;if(T?(b=T.codegenNode,a&&p&&rv(b,p,r)):E?b=Zp(r,i(Jp),p?sn([p]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(b=S[0].codegenNode,a&&p&&rv(b,p,r),b.isBlock!==!y&&(b.isBlock?(s(iu),s(Qh(r.inSSR,b.isComponent))):s(Xh(r.inSSR,b.isComponent))),b.isBlock=!y,b.isBlock?(i(iu),i(Qh(r.inSSR,b.isComponent))):i(Xh(r.inSSR,b.isComponent))),l){const w=Zh(Ex(n.parseResult,[et("_cached")]));w.body=Yie([Dn(["const _memo = (",l.exp,")"]),Dn(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${r.helperString(m8)}(_cached, _memo)) return _cached`]),Dn(["const _item = ",b]),et("_item.memo = _memo"),et("return _item")]),o.arguments.push(w,et("_cache"),et(String(r.cached.length))),r.cached.push(null)}else o.arguments.push(Zh(Ex(n.parseResult),b,!0))}})});function Jse(t,e,r,i){if(!e.exp){r.onError(tr(31,e.loc));return}const s=e.forParseResult;if(!s){r.onError(tr(32,e.loc));return}L8(s);const{addIdentifiers:n,removeIdentifiers:o,scopes:a}=r,{source:l,value:c,key:f,index:d}=s,p={type:11,loc:e.loc,source:l,valueAlias:c,keyAlias:f,objectIndexAlias:d,parseResult:s,children:ev(t)?t.children:[t]};r.replaceNode(p),a.vFor++;const y=i&&i(p);return()=>{a.vFor--,y&&y()}}function L8(t,e){t.finalized||(t.finalized=!0)}function Ex({value:t,key:e,index:r},i=[]){return Kse([t,e,r,...i])}function Kse(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((r,i)=>r||et("_".repeat(i+1),!1))}const $$=et("undefined",!1),Zse=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const r=Xs(t,"slot");if(r)return r.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},Xse=(t,e,r,i)=>Zh(t,r,!1,!0,r.length?r[0].loc:i);function Qse(t,e,r=Xse){e.helper(D3);const{children:i,loc:s}=t,n=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const l=Xs(t,"slot",!0);if(l){const{arg:S,exp:E}=l;S&&!gs(S)&&(a=!0),n.push(Ir(S||et("default",!0),r(E,void 0,i,s)))}let c=!1,f=!1;const d=[],p=new Set;let y=0;for(let S=0;S<i.length;S++){const E=i[S];let T;if(!ev(E)||!(T=Xs(E,"slot",!0))){E.type!==3&&d.push(E);continue}if(l){e.onError(tr(37,T.loc));break}c=!0;const{children:w,loc:_}=E,{arg:M=et("default",!0),exp:$,loc:C}=T;let P;gs(M)?P=M?M.content:"default":a=!0;const N=Xs(E,"for"),F=r($,N,w,_);let q,U;if(q=Xs(E,"if"))a=!0,o.push(_x(q.exp,Ny(M,F,y++),$$));else if(U=Xs(E,/^else(-if)?$/,!0)){let B=S,K;for(;B--&&(K=i[B],K.type===3););if(K&&ev(K)&&Xs(K,/^(else-)?if$/)){let h=o[o.length-1];for(;h.alternate.type===19;)h=h.alternate;h.alternate=U.exp?_x(U.exp,Ny(M,F,y++),$$):Ny(M,F,y++)}else e.onError(tr(30,U.loc))}else if(N){a=!0;const B=N.forParseResult;B?(L8(B),o.push(Wr(e.helper(P3),[B.source,Zh(Ex(B),Ny(M,F),!0)]))):e.onError(tr(32,N.loc))}else{if(P){if(p.has(P)){e.onError(tr(38,C));continue}p.add(P),P==="default"&&(f=!0)}n.push(Ir(M,F))}}if(!l){const S=(E,T)=>{const w=r(E,void 0,T,s);return e.compatConfig&&(w.isNonScopedSlot=!0),Ir("default",w)};c?d.length&&d.some(E=>k8(E))&&(f?e.onError(tr(39,d[0].loc)):n.push(S(void 0,d))):n.push(S(void 0,i))}const v=a?2:F0(t.children)?3:1;let b=sn(n.concat(Ir("_",et(v+"",!1))),s);return o.length&&(b=Wr(e.helper(p8),[b,Dc(o)])),{slots:b,hasDynamicSlots:a}}function Ny(t,e,r){const i=[Ir("name",t),Ir("fn",e)];return r!=null&&i.push(Ir("key",et(String(r),!0))),sn(i)}function F0(t){for(let e=0;e<t.length;e++){const r=t[e];switch(r.type){case 1:if(r.tagType===2||F0(r.children))return!0;break;case 9:if(F0(r.branches))return!0;break;case 10:case 11:if(F0(r.children))return!0;break}}return!1}function k8(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():k8(t.content)}const R8=new WeakMap,ene=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:i,props:s}=t,n=t.tagType===1;let o=n?tne(t,e):`"${i}"`;const a=Pt(o)&&o.callee===O3;let l,c,f=0,d,p,y,v=a||o===rp||o===S3||!n&&(i==="svg"||i==="foreignObject"||i==="math");if(s.length>0){const b=D8(t,e,void 0,n,a);l=b.props,f=b.patchFlag,p=b.dynamicPropNames;const S=b.directives;y=S&&S.length?Dc(S.map(E=>ine(E,e))):void 0,b.shouldUseBlock&&(v=!0)}if(t.children.length>0)if(o===Kg&&(v=!0,f|=1024),n&&o!==rp&&o!==Kg){const{slots:S,hasDynamicSlots:E}=Qse(t,e);c=S,E&&(f|=1024)}else if(t.children.length===1&&o!==rp){const S=t.children[0],E=S.type,T=E===5||E===8;T&&Ps(S,e)===0&&(f|=1),T||E===2?c=S:c=t.children}else c=t.children;p&&p.length&&(d=sne(p)),t.codegenNode=Zp(e,o,l,c,f===0?void 0:f,d,y,!!v,!1,n,t.loc)};function tne(t,e,r=!1){let{tag:i}=t;const s=Sx(i),n=j1(t,"is",!1,!0);if(n)if(s||Fc("COMPILER_IS_ON_ELEMENT",e)){let a;if(n.type===6?a=n.value&&et(n.value.content,!0):(a=n.exp,a||(a=et("is",!1,n.arg.loc))),a)return Wr(e.helper(O3),[a])}else n.type===6&&n.value.content.startsWith("vue:")&&(i=n.value.content.slice(4));const o=g8(i)||e.isBuiltInComponent(i);return o?(r||e.helper(o),o):(e.helper($3),e.components.add(i),Qp(i,"component"))}function D8(t,e,r=t.props,i,s,n=!1){const{tag:o,loc:a,children:l}=t;let c=[];const f=[],d=[],p=l.length>0;let y=!1,v=0,b=!1,S=!1,E=!1,T=!1,w=!1,_=!1;const M=[],$=F=>{c.length&&(f.push(sn(O$(c),a)),c=[]),F&&f.push(F)},C=()=>{e.scopes.vFor>0&&c.push(Ir(et("ref_for",!0),et("true")))},P=({key:F,value:q})=>{if(gs(F)){const U=F.content,B=uu(U);if(B&&(!i||s)&&U.toLowerCase()!=="onclick"&&U!=="onUpdate:modelValue"&&!yl(U)&&(T=!0),B&&yl(U)&&(_=!0),B&&q.type===14&&(q=q.arguments[0]),q.type===20||(q.type===4||q.type===8)&&Ps(q,e)>0)return;U==="ref"?b=!0:U==="class"?S=!0:U==="style"?E=!0:U!=="key"&&!M.includes(U)&&M.push(U),i&&(U==="class"||U==="style")&&!M.includes(U)&&M.push(U)}else w=!0};for(let F=0;F<r.length;F++){const q=r[F];if(q.type===6){const{loc:U,name:B,nameLoc:K,value:h}=q;let m=!0;if(B==="ref"&&(b=!0,C()),B==="is"&&(Sx(o)||h&&h.content.startsWith("vue:")||Fc("COMPILER_IS_ON_ELEMENT",e)))continue;c.push(Ir(et(B,!0,K),et(h?h.content:"",m,h?h.loc:U)))}else{const{name:U,arg:B,exp:K,loc:h,modifiers:m}=q,x=U==="bind",I=U==="on";if(U==="slot"){i||e.onError(tr(40,h));continue}if(U==="once"||U==="memo"||U==="is"||x&&Mc(B,"is")&&(Sx(o)||Fc("COMPILER_IS_ON_ELEMENT",e))||I&&n)continue;if((x&&Mc(B,"key")||I&&p&&Mc(B,"vue:before-update"))&&(y=!0),x&&Mc(B,"ref")&&C(),!B&&(x||I)){if(w=!0,K)if(x){if(C(),$(),Fc("COMPILER_V_BIND_OBJECT_ORDER",e)){f.unshift(K);continue}f.push(K)}else $({type:14,loc:h,callee:e.helper(R3),arguments:i?[K]:[K,"true"]});else e.onError(tr(x?34:35,h));continue}x&&m.some(Y=>Y.content==="prop")&&(v|=32);const V=e.directiveTransforms[U];if(V){const{props:Y,needRuntime:de}=V(q,t,e);!n&&Y.forEach(P),I&&B&&!gs(B)?$(sn(Y,a)):c.push(...Y),de&&(d.push(q),Ss(de)&&R8.set(q,de))}else yte(U)||(d.push(q),p&&(y=!0))}}let N;if(f.length?($(),f.length>1?N=Wr(e.helper(Zg),f,a):N=f[0]):c.length&&(N=sn(O$(c),a)),w?v|=16:(S&&!i&&(v|=2),E&&!i&&(v|=4),M.length&&(v|=8),T&&(v|=32)),!y&&(v===0||v===32)&&(b||_||d.length>0)&&(v|=512),!e.inSSR&&N)switch(N.type){case 15:let F=-1,q=-1,U=!1;for(let h=0;h<N.properties.length;h++){const m=N.properties[h].key;gs(m)?m.content==="class"?F=h:m.content==="style"&&(q=h):m.isHandlerKey||(U=!0)}const B=N.properties[F],K=N.properties[q];U?N=Wr(e.helper(Kp),[N]):(B&&!gs(B.value)&&(B.value=Wr(e.helper(L3),[B.value])),K&&(E||K.value.type===4&&K.value.content.trim()[0]==="["||K.value.type===17)&&(K.value=Wr(e.helper(k3),[K.value])));break;case 14:break;default:N=Wr(e.helper(Kp),[Wr(e.helper(Gm),[N])]);break}return{props:N,directives:d,patchFlag:v,dynamicPropNames:M,shouldUseBlock:y}}function O$(t){const e=new Map,r=[];for(let i=0;i<t.length;i++){const s=t[i];if(s.key.type===8||!s.key.isStatic){r.push(s);continue}const n=s.key.content,o=e.get(n);o?(n==="style"||n==="class"||uu(n))&&rne(o,s):(e.set(n,s),r.push(s))}return r}function rne(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=Dc([t.value,e.value],t.loc)}function ine(t,e){const r=[],i=R8.get(t);i?r.push(e.helperString(i)):(e.helper(I3),e.directives.add(t.name),r.push(Qp(t.name,"directive")));const{loc:s}=t;if(t.exp&&r.push(t.exp),t.arg&&(t.exp||r.push("void 0"),r.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||r.push("void 0"),r.push("void 0"));const n=et("true",!1,s);r.push(sn(t.modifiers.map(o=>Ir(o,n)),s))}return Dc(r,t.loc)}function sne(t){let e="[";for(let r=0,i=t.length;r<i;r++)e+=JSON.stringify(t[r]),r<i-1&&(e+=", ");return e+"]"}function Sx(t){return t==="component"||t==="Component"}const nne=(t,e)=>{if(tv(t)){const{children:r,loc:i}=t,{slotName:s,slotProps:n}=one(t,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let a=2;n&&(o[2]=n,a=3),r.length&&(o[3]=Zh([],r,!1,!1,i),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),t.codegenNode=Wr(e.helper(d8),o,i)}};function one(t,e){let r='"default"',i;const s=[];for(let n=0;n<t.props.length;n++){const o=t.props[n];if(o.type===6)o.value&&(o.name==="name"?r=JSON.stringify(o.value.content):(o.name=Gt(o.name),s.push(o)));else if(o.name==="bind"&&Mc(o.arg,"name")){if(o.exp)r=o.exp;else if(o.arg&&o.arg.type===4){const a=Gt(o.arg.content);r=o.exp=et(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&gs(o.arg)&&(o.arg.content=Gt(o.arg.content)),s.push(o)}if(s.length>0){const{props:n,directives:o}=D8(t,e,s,!1,!1);i=n,o.length&&e.onError(tr(36,o[0].loc))}return{slotName:r,slotProps:i}}const F8=(t,e,r,i)=>{const{loc:s,modifiers:n,arg:o}=t;!t.exp&&!n.length&&r.onError(tr(35,s));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const p=e.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?Lc(Gt(d)):`on:${d}`;a=et(p,!0,o.loc)}else a=Dn([`${r.helperString(bx)}(`,o,")"]);else a=o,a.children.unshift(`${r.helperString(bx)}(`),a.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let c=r.cacheHandlers&&!l&&!r.inVOnce;if(l){const d=b8(l),p=!(d||ise(l)),y=l.content.includes(";");(p||c&&d)&&(l=Dn([`${p?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let f={props:[Ir(a,l||et("() => {}",!1,s))]};return i&&(f=i(f)),c&&(f.props[0].value=r.cache(f.props[0].value)),f.props.forEach(d=>d.key.isHandlerKey=!0),f},ane=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const r=t.children;let i,s=!1;for(let n=0;n<r.length;n++){const o=r[n];if(f_(o)){s=!0;for(let a=n+1;a<r.length;a++){const l=r[a];if(f_(l))i||(i=r[n]=Dn([o],o.loc)),i.children.push(" + ",l),r.splice(a,1),a--;else{i=void 0;break}}}}if(!(!s||r.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(n=>n.type===7&&!e.directiveTransforms[n.name])&&t.tag!=="template")))for(let n=0;n<r.length;n++){const o=r[n];if(f_(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&Ps(o,e)===0&&a.push("1"),r[n]={type:12,content:o,loc:o.loc,codegenNode:Wr(e.helper(M3),a)}}}}},I$=new WeakSet,lne=(t,e)=>{if(t.type===1&&Xs(t,"once",!0))return I$.has(t)||e.inVOnce||e.inSSR?void 0:(I$.add(t),e.inVOnce=!0,e.helper(Xg),()=>{e.inVOnce=!1;const r=e.currentNode;r.codegenNode&&(r.codegenNode=e.cache(r.codegenNode,!0,!0))})},U8=(t,e,r)=>{const{exp:i,arg:s}=t;if(!i)return r.onError(tr(41,t.loc)),Py();const n=i.loc.source.trim(),o=i.type===4?i.content:n,a=r.bindingMetadata[n];if(a==="props"||a==="props-aliased")return r.onError(tr(44,i.loc)),Py();if(!o.trim()||!b8(i))return r.onError(tr(42,i.loc)),Py();const l=s||et("modelValue",!0),c=s?gs(s)?`onUpdate:${Gt(s.content)}`:Dn(['"onUpdate:" + ',s]):"onUpdate:modelValue";let f;const d=r.isTS?"($event: any)":"$event";f=Dn([`${d} => ((`,i,") = $event)"]);const p=[Ir(l,t.exp),Ir(c,f)];if(t.modifiers.length&&e.tagType===1){const y=t.modifiers.map(b=>b.content).map(b=>(B3(b)?b:JSON.stringify(b))+": true").join(", "),v=s?gs(s)?`${s.content}Modifiers`:Dn([s,' + "Modifiers"']):"modelModifiers";p.push(Ir(v,et(`{ ${y} }`,!1,t.loc,2)))}return Py(p)};function Py(t=[]){return{props:t}}const cne=/[\w).+\-_$\]]/,une=(t,e)=>{Fc("COMPILER_FILTERS",e)&&(t.type===5?iv(t.content,e):t.type===1&&t.props.forEach(r=>{r.type===7&&r.name!=="for"&&r.exp&&iv(r.exp,e)}))};function iv(t,e){if(t.type===4)C$(t,e);else for(let r=0;r<t.children.length;r++){const i=t.children[r];typeof i=="object"&&(i.type===4?C$(i,e):i.type===8?iv(t,e):i.type===5&&iv(i.content,e))}}function C$(t,e){const r=t.content;let i=!1,s=!1,n=!1,o=!1,a=0,l=0,c=0,f=0,d,p,y,v,b=[];for(y=0;y<r.length;y++)if(p=d,d=r.charCodeAt(y),i)d===39&&p!==92&&(i=!1);else if(s)d===34&&p!==92&&(s=!1);else if(n)d===96&&p!==92&&(n=!1);else if(o)d===47&&p!==92&&(o=!1);else if(d===124&&r.charCodeAt(y+1)!==124&&r.charCodeAt(y-1)!==124&&!a&&!l&&!c)v===void 0?(f=y+1,v=r.slice(0,y).trim()):S();else{switch(d){case 34:s=!0;break;case 39:i=!0;break;case 96:n=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let E=y-1,T;for(;E>=0&&(T=r.charAt(E),T===" ");E--);(!T||!cne.test(T))&&(o=!0)}}v===void 0?v=r.slice(0,y).trim():f!==0&&S();function S(){b.push(r.slice(f,y).trim()),f=y+1}if(b.length){for(y=0;y<b.length;y++)v=hne(v,b[y],e);t.content=v,t.ast=void 0}}function hne(t,e,r){r.helper(C3);const i=e.indexOf("(");if(i<0)return r.filters.add(e),`${Qp(e,"filter")}(${t})`;{const s=e.slice(0,i),n=e.slice(i+1);return r.filters.add(s),`${Qp(s,"filter")}(${t}${n!==")"?","+n:n}`}}const N$=new WeakSet,fne=(t,e)=>{if(t.type===1){const r=Xs(t,"memo");return!r||N$.has(t)?void 0:(N$.add(t),()=>{const i=t.codegenNode||e.currentNode.codegenNode;i&&i.type===13&&(t.tagType!==1&&U3(i,e),t.codegenNode=Wr(e.helper(F3),[r.exp,Zh(void 0,i),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function dne(t){return[[lne,zse,fne,Yse,une,nne,ene,Zse,ane],{on:F8,bind:Wse,model:U8}]}function pne(t,e={}){const r=e.onError||j3,i=e.mode==="module";e.prefixIdentifiers===!0?r(tr(47)):i&&r(tr(48));const s=!1;e.cacheHandlers&&r(tr(49)),e.scopeId&&!i&&r(tr(50));const n=ot({},e,{prefixIdentifiers:s}),o=Je(t)?wse(t,n):t,[a,l]=dne();return Ase(o,ot({},n,{nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:ot({},l,e.directiveTransforms||{})})),Ose(o,n)}const mne=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const j8=Symbol(""),B8=Symbol(""),V8=Symbol(""),G8=Symbol(""),Ax=Symbol(""),z8=Symbol(""),q8=Symbol(""),H8=Symbol(""),W8=Symbol(""),Y8=Symbol("");qie({[j8]:"vModelRadio",[B8]:"vModelCheckbox",[V8]:"vModelText",[G8]:"vModelSelect",[Ax]:"vModelDynamic",[z8]:"withModifiers",[q8]:"withKeys",[H8]:"vShow",[W8]:"Transition",[Y8]:"TransitionGroup"});let Iu;function yne(t,e=!1){return Iu||(Iu=document.createElement("div")),e?(Iu.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,Iu.children[0].getAttribute("foo")):(Iu.innerHTML=t,Iu.textContent)}const gne={parseMode:"html",isVoidTag:Nte,isNativeTag:t=>Ote(t)||Ite(t)||Cte(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:yne,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return W8;if(t==="TransitionGroup"||t==="transition-group")return Y8},getNamespace(t,e,r){let i=e?e.ns:r;if(e&&i===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(i=0);else e&&i===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(i=0);if(i===0){if(t==="svg")return 1;if(t==="math")return 2}return i}},vne=t=>{t.type===1&&t.props.forEach((e,r)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[r]={type:7,name:"bind",arg:et("style",!0,e.loc),exp:bne(e.value.content,e.loc),modifiers:[],loc:e.loc})})},bne=(t,e)=>{const r=LL(t);return et(JSON.stringify(r),!1,e,3)};function bl(t,e){return tr(t,e)}const _ne=(t,e,r)=>{const{exp:i,loc:s}=t;return i||r.onError(bl(53,s)),e.children.length&&(r.onError(bl(54,s)),e.children.length=0),{props:[Ir(et("innerHTML",!0,s),i||et("",!0))]}},wne=(t,e,r)=>{const{exp:i,loc:s}=t;return i||r.onError(bl(55,s)),e.children.length&&(r.onError(bl(56,s)),e.children.length=0),{props:[Ir(et("textContent",!0),i?Ps(i,r)>0?i:Wr(r.helperString(U1),[i],s):et("",!0))]}},xne=(t,e,r)=>{const i=U8(t,e,r);if(!i.props.length||e.tagType===1)return i;t.arg&&r.onError(bl(58,t.arg.loc));const{tag:s}=e,n=r.isCustomElement(s);if(s==="input"||s==="textarea"||s==="select"||n){let o=V8,a=!1;if(s==="input"||n){const l=j1(e,"type");if(l){if(l.type===7)o=Ax;else if(l.value)switch(l.value.content){case"radio":o=j8;break;case"checkbox":o=B8;break;case"file":a=!0,r.onError(bl(59,t.loc));break}}else sse(e)&&(o=Ax)}else s==="select"&&(o=G8);a||(i.needRuntime=r.helper(o))}else r.onError(bl(57,t.loc));return i.props=i.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),i},Ene=Bs("passive,once,capture"),Sne=Bs("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Ane=Bs("left,right"),J8=Bs("onkeyup,onkeydown,onkeypress"),Tne=(t,e,r,i)=>{const s=[],n=[],o=[];for(let a=0;a<e.length;a++){const l=e[a].content;l==="native"&&Xp("COMPILER_V_ON_NATIVE",r)||Ene(l)?o.push(l):Ane(l)?gs(t)?J8(t.content.toLowerCase())?s.push(l):n.push(l):(s.push(l),n.push(l)):Sne(l)?n.push(l):s.push(l)}return{keyModifiers:s,nonKeyModifiers:n,eventOptionModifiers:o}},P$=(t,e)=>gs(t)&&t.content.toLowerCase()==="onclick"?et(e,!0):t.type!==4?Dn(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,Mne=(t,e,r)=>F8(t,e,r,i=>{const{modifiers:s}=t;if(!s.length)return i;let{key:n,value:o}=i.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=Tne(n,s,r,t.loc);if(l.includes("right")&&(n=P$(n,"onContextmenu")),l.includes("middle")&&(n=P$(n,"onMouseup")),l.length&&(o=Wr(r.helper(z8),[o,JSON.stringify(l)])),a.length&&(!gs(n)||J8(n.content.toLowerCase()))&&(o=Wr(r.helper(q8),[o,JSON.stringify(a)])),c.length){const f=c.map(Ll).join("");n=gs(n)?et(`${n.content}${f}`,!0):Dn(["(",n,`) + "${f}"`])}return{props:[Ir(n,o)]}}),$ne=(t,e,r)=>{const{exp:i,loc:s}=t;return i||r.onError(bl(61,s)),{props:[],needRuntime:r.helper(H8)}},One=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},Ine=[vne],Cne={cloak:mne,html:_ne,text:wne,model:xne,on:Mne,show:$ne};function Nne(t,e={}){return pne(t,ot({},gne,e,{nodeTransforms:[One,...Ine,...e.nodeTransforms||[]],directiveTransforms:ot({},Cne,e.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const L$=Object.create(null);function K8(t,e){if(!Je(t))if(t.nodeType)t=t.innerHTML;else return yi;const r=bte(t,e),i=L$[r];if(i)return i;if(t[0]==="#"){const a=document.querySelector(t);t=a?a.innerHTML:""}const s=ot({hoistStatic:!0,onError:void 0,onWarn:yi},e);!s.isCustomElement&&typeof customElements<"u"&&(s.isCustomElement=a=>!!customElements.get(a));const{code:n}=Nne(t,s),o=new Function("Vue",n)(Uie);return o._rc=!0,L$[r]=o}p3(K8);const wwe=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:GS,BaseTransitionPropsValidators:M1,Comment:Mr,DeprecationTypes:BR,EffectScope:g1,ErrorCodes:dk,ErrorTypeStrings:kR,Fragment:Lt,KeepAlive:Pk,ReactiveEffect:qh,Static:vl,Suspense:vR,Teleport:VS,Text:_o,TrackOpTypes:lk,Transition:L1,TransitionGroup:R1,TriggerOpTypes:ck,VueElement:jm,assertNumber:fk,callWithAsyncErrorHandling:Fs,callWithErrorHandling:fu,camelize:Gt,capitalize:Ll,cloneVNode:zn,compatUtils:jR,compile:K8,computed:tt,createApp:$l,createBlock:Vt,createCommentVNode:Wt,createElementBlock:xe,createElementVNode:ce,createHydrationRenderer:a3,createPropsRestProxy:Kk,createRenderer:o3,createSSRApp:E3,createSlots:Rk,createStaticVNode:AR,createTextVNode:wo,createVNode:Ze,customRef:FS,defineAsyncComponent:qS,defineComponent:st,defineCustomElement:v3,defineEmits:Uk,defineExpose:jk,defineModel:Gk,defineOptions:Bk,defineProps:Fk,defineSSRCustomElement:JR,defineSlots:Vk,devtools:RR,effect:zL,effectScope:Lm,getCurrentInstance:Ur,getCurrentScope:v1,getCurrentWatcher:uk,getTransitionRawChildren:Rm,guardReactiveProps:f3,h:rn,handleError:Fl,hasInjectionContext:s3,hydrate:n8,hydrateOnIdle:Ok,hydrateOnInteraction:Nk,hydrateOnMediaQuery:Ck,hydrateOnVisible:Ik,initCustomFormatter:NR,initDirectivesForSSR:l8,inject:Fr,isMemoSame:m3,isProxy:km,isReactive:Rs,isReadonly:va,isRef:dt,isRuntimeOnly:OR,isShallow:vs,isVNode:Gn,markRaw:br,mergeDefaults:Yk,mergeModels:Jk,mergeProps:P1,nextTick:Wn,normalizeClass:lr,normalizeProps:kL,normalizeStyle:kl,onActivated:HS,onBeforeMount:O1,onBeforeUnmount:Yn,onBeforeUpdate:I1,onDeactivated:WS,onErrorCaptured:ZS,onMounted:vi,onRenderTracked:KS,onRenderTriggered:JS,onScopeDispose:PS,onServerPrefetch:YS,onUnmounted:du,onUpdated:Cf,onWatcherCleanup:jS,openBlock:fe,popScopeId:bk,provide:i3,proxyRefs:S1,pushScopeId:vk,queuePostFlushCb:Hh,reactive:li,readonly:x1,ref:X,registerRuntimeCompiler:p3,render:$h,renderList:Ul,renderSlot:On,resolveComponent:Ar,resolveDirective:Ot,resolveDynamicComponent:QS,resolveFilter:UR,resolveTransitionHooks:eu,setBlockTracking:zg,setDevtoolsHook:DR,setTransitionHooks:Oo,shallowReactive:DS,shallowReadonly:rk,shallowRef:If,ssrContextKey:c3,ssrUtils:FR,stop:qL,toDisplayString:Dt,toHandlerKey:Lc,toHandlers:Dk,toRaw:ze,toRef:ok,toRefs:US,toValue:nk,transformVNodeArgs:ER,triggerRef:sk,unref:$e,useAttrs:Hk,useCssModule:ZR,useCssVars:g3,useHost:b3,useId:$k,useModel:mR,useSSRContext:u3,useShadowRoot:KR,useSlots:qk,useTemplateRef:jg,useTransitionState:T1,vModelCheckbox:D1,vModelDynamic:w3,vModelRadio:F1,vModelSelect:_3,vModelText:Yp,vShow:k1,version:y3,warn:LR,watch:Zr,watchEffect:fR,watchPostEffect:dR,watchSyncEffect:h3,withAsyncContext:Zk,withCtx:Nr,withDefaults:zk,withDirectives:$t,withKeys:x3,withMemo:PR,withModifiers:Bm,withScopeId:_k},Symbol.toStringTag,{value:"Module"}));/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Z8;const G1=t=>Z8=t,X8=Symbol();function Tx(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ip;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ip||(ip={}));function Pne(){const t=Lm(!0),e=t.run(()=>X({}));let r=[],i=[];const s=br({install(n){G1(s),s._a=n,n.provide(X8,s),n.config.globalProperties.$pinia=s,i.forEach(o=>r.push(o)),i=[]},use(n){return this._a?r.push(n):i.push(n),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const Q8=()=>{};function k$(t,e,r,i=Q8){t.push(e);const s=()=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i())};return!r&&v1()&&PS(s),s}function Cu(t,...e){t.slice().forEach(r=>{r(...e)})}const Lne=t=>t();function Mx(t,e){t instanceof Map&&e instanceof Map&&e.forEach((r,i)=>t.set(i,r)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const i=e[r],s=t[r];Tx(s)&&Tx(i)&&t.hasOwnProperty(r)&&!dt(i)&&!Rs(i)?t[r]=Mx(s,i):t[r]=i}return t}const kne=Symbol();function Rne(t){return!Tx(t)||!t.hasOwnProperty(kne)}const{assign:Va}=Object;function Dne(t){return!!(dt(t)&&t.effect)}function Fne(t,e,r,i){const{state:s,actions:n,getters:o}=e,a=r.state.value[t];let l;function c(){a||(r.state.value[t]=s?s():{});const f=US(r.state.value[t]);return Va(f,n,Object.keys(o||{}).reduce((d,p)=>(d[p]=br(tt(()=>{G1(r);const y=r._s.get(t);return o[p].call(y,y)})),d),{}))}return l=e9(t,c,e,r,i,!0),l}function e9(t,e,r={},i,s,n){let o;const a=Va({actions:{}},r),l={deep:!0};let c,f,d=[],p=[],y;const v=i.state.value[t];!n&&!v&&(i.state.value[t]={}),X({});let b;function S(P){let N;c=f=!1,typeof P=="function"?(P(i.state.value[t]),N={type:ip.patchFunction,storeId:t,events:y}):(Mx(i.state.value[t],P),N={type:ip.patchObject,payload:P,storeId:t,events:y});const F=b=Symbol();Wn().then(()=>{b===F&&(c=!0)}),f=!0,Cu(d,N,i.state.value[t])}const E=n?function(){const{state:N}=r,F=N?N():{};this.$patch(q=>{Va(q,F)})}:Q8;function T(){o.stop(),d=[],p=[],i._s.delete(t)}function w(P,N){return function(){G1(i);const F=Array.from(arguments),q=[],U=[];function B(m){q.push(m)}function K(m){U.push(m)}Cu(p,{args:F,name:P,store:M,after:B,onError:K});let h;try{h=N.apply(this&&this.$id===t?this:M,F)}catch(m){throw Cu(U,m),m}return h instanceof Promise?h.then(m=>(Cu(q,m),m)).catch(m=>(Cu(U,m),Promise.reject(m))):(Cu(q,h),h)}}const _={_p:i,$id:t,$onAction:k$.bind(null,p),$patch:S,$reset:E,$subscribe(P,N={}){const F=k$(d,P,N.detached,()=>q()),q=o.run(()=>Zr(()=>i.state.value[t],U=>{(N.flush==="sync"?f:c)&&P({storeId:t,type:ip.direct,events:y},U)},Va({},l,N)));return F},$dispose:T},M=li(_);i._s.set(t,M);const C=(i._a&&i._a.runWithContext||Lne)(()=>i._e.run(()=>(o=Lm()).run(e)));for(const P in C){const N=C[P];if(dt(N)&&!Dne(N)||Rs(N))n||(v&&Rne(N)&&(dt(N)?N.value=v[P]:Mx(N,v[P])),i.state.value[t][P]=N);else if(typeof N=="function"){const F=w(P,N);C[P]=F,a.actions[P]=N}}return Va(M,C),Va(ze(M),C),Object.defineProperty(M,"$state",{get:()=>i.state.value[t],set:P=>{S(N=>{Va(N,P)})}}),i._p.forEach(P=>{Va(M,o.run(()=>P({store:M,app:i._a,pinia:i,options:a})))}),v&&n&&r.hydrate&&r.hydrate(M.$state,v),c=!0,f=!0,M}function ur(t,e,r){let i,s;const n=typeof e=="function";typeof t=="string"?(i=t,s=n?r:e):(s=t,i=t.id);function o(a,l){const c=s3();return a=a||(c?Fr(X8,null):null),a&&G1(a),a=Z8,a._s.has(i)||(n?e9(i,e,s,a):Fne(i,s,a)),a._s.get(i)}return o.$id=i,o}const sv=ur("appbar",()=>{const t=X({}),e=X([]),r=X([]),i=tt(()=>e.value.map(o=>o.map(a=>t.value[a]).filter(a=>{if(typeof a=="string"||a.componentId)return!0})).filter(o=>o.length>0));function s(o){r.value.includes(o)||r.value.push(o)}function n(o){const a=r.value.indexOf(o);a!==-1&&r.value.splice(a,1),o in t.value&&delete t.value[o],e.value.forEach(l=>{const c=l.indexOf(o);c!==-1&&l.splice(c,1)})}return{items:t,order:e,temporary:r,visible:i,addTempButton:s,removeButton:n}}),$x=ur("grid",()=>{const t=X({}),e=X(),r=X();function i(a){t.value={...t.value,[a.id]:a}}function s(a){t.value[a]!==void 0&&delete t.value[a]}function n(a){return Object.keys(t.value).find(l=>t.value[l].layerIds.includes(a))}function o(a,l){t.value[a].layerIds=t.value[a].layerIds.filter(c=>c!==l)}return{grids:t,panel:e,currentId:r,addGrid:i,removeGrid:s,getGridId:n,removeLayer:o}});function nl(t,e,r,i){var s,n=!1,o=0;function a(){s&&clearTimeout(s)}function l(){a(),n=!0}typeof e!="boolean"&&(i=r,r=e,e=void 0);function c(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];var y=this,v=Date.now()-o;if(n)return;function b(){o=Date.now(),r.apply(y,d)}function S(){s=void 0}i&&!s&&b(),a(),i===void 0&&v>t?b():e!==!0&&(s=setTimeout(i?S:b,i===void 0?t-v:t))}return c.cancel=l,c}function nv(t,e,r){return r===void 0?nl(t,e,!1):nl(t,r,e!==!1)}const hl=ur("map-caption",()=>{const t=X({text:{},logo:{}}),e=X({}),r=X({}),i=X({});function s(o){o!==void 0?e.value.isImperialScale=o:e.value.isImperialScale=!e.value.isImperialScale}function n(o){t.value.text.value=o.text.value,t.value.text.disabled=o.text.disabled,t.value.logo.altText=o.logo.altText,t.value.logo.link=o.logo.link,t.value.logo.value=o.logo.value,t.value.logo.disabled=o.logo.disabled}return{attribution:t,scale:e,coords:r,langtoggle:i,toggleScale:s,setAttribution:n}}),p_=(t,e)=>{const r=[...t];for(;r.length>0;){const i=r.shift();if(e(i))return i;i&&r.push(...i.sublayers)}},po=ur("layer",()=>{const t=X([]),e=X([]),r=X([]);function i(d){return p_(t.value,p=>p?.uid===d)}function s(d){return p_(t.value,p=>p?.id===d)}function n(d){return p_(t.value,p=>p!==void 0&&(p.id===d||p.uid===d))}function o(d){e.value=[...e.value,d]}function a(d,p=void 0){t.value=[...t.value,d],d.mapLayer&&((p===void 0||p<0)&&(console.error("Map layer added to store with invalid index!"),p=r.value.length),r.value.splice(p,0,d.id),r.value=[...r.value])}function l(d,p){if(!d.mapLayer){console.error("Data layer passed to layer store reorder");return}if(p<0){console.error("Negative index passed to layer store reorder");return}p>=r.value.length&&(p=r.value.length-1);const y=r.value.findIndex(v=>v===d.id);y!==-1&&y!==p&&(r.value.splice(y,1),r.value.splice(p,0,d.id),r.value=[...r.value])}function c(d){const p=t.value.filter(y=>y.id!==d.id||y.uid!==d.uid);if(t.value=p,d.mapLayer){const y=r.value.filter(v=>v!==d.id);r.value=y}}function f(d){const p=e.value.filter(y=>y.id!==d);e.value=p}return{layers:t,mapOrder:r,layerConfigs:e,getLayerByUid:i,getLayerById:s,getLayerByAny:n,addLayerConfig:o,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:f}}),ms=ur("config",()=>{const t=X({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),e=X([]),r=X(),i=X({}),s=X({});function n(c){if(i.value[s.value[c]]===void 0)throw new Error("Unsupported language or no registered config exists for requested language");return i.value[s.value[c]]}function o(c){const f={...t.value,...c};if(t.value=f,Array.isArray(t.value.layers)){const d=po();d.layerConfigs=[...d.layerConfigs,t.value.layers]}}function a(c,f){i.value[f]=c,s.value[f]=f}function l(c,f){const d=c.configs,p=Object.keys(d);if(p.length){const y=p[0];f.forEach(v=>{const b=p.includes(v)?v:y;i.value[v]=d[b],s.value[v]=b})}else console.error("Nothingburger config set was registered",c)}return{activeBasemapConfig:r,config:t,registeredConfigs:i,registeredLangs:s,startingFixtures:e,getActiveConfig:n,newConfig:o,registerAllConfigs:l,registerConfig:a}}),t9=ur("details",()=>{const t=X([]),e=X({}),r=X({}),i=X(),s=X(0),n=X(0),o=X(!0),a=X();function l(f){const d=t.value.findIndex(p=>p.uid===f.uid);d!==-1&&t.value.splice(d,1)}function c(f){e.value={...e.value,[f.id]:f}}return{payload:t,properties:e,defaultTemplates:r,currentFeatureId:i,activeGreedy:s,lastHilight:n,hilightToggle:o,origin:a,removeLayer:l,addConfigProperty:c}}),Ks=ur("fixture",()=>{const t=X({}),e=X({});function r(o){return o.map(a=>e.value[a].getPromise())}function i(o){if(t.value={...t.value,[o.id]:br(o)},o.id in e.value)e.value[o.id].resolveMe(br(o));else{const a=new Or;a.resolveMe(br(o)),e.value={...e.value,[o.id]:a}}typeof o.added=="function"&&o.added()}function s(o){delete t.value[o.id],t.value={...t.value},delete e.value[o.id],e.value={...e.value},typeof o.removed=="function"&&o.removed()}function n(o){e.value={...e.value,[o]:new Or}}return{items:t,loadPromises:e,getLoadPromises:r,addFixture:i,removeFixture:s,addLoadPromise:n}});var Ie=(t=>(t.APPBAR_BUTTON_CLICK="appbar/click",t.COMPONENT="ramp/component",t.CONFIG_CHANGE="config/configchanged",t.DETAILS_TOGGLE="details/toggle",t.FILTER_CHANGE="filter/change",t.FIXTURE_ADDED="fixture/added",t.FIXTURE_REMOVED="fixture/removed",t.GRID_TOGGLE="grid/toggle",t.HELP_TOGGLE="help/toggle",t.LANG_CHANGE="lang/change",t.LAYER_DRAWSTATECHANGE="layer/drawstatechange",t.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",t.LAYER_LAYERSTATECHANGE="layer/layerstatechange",t.LAYER_OPACITYCHANGE="layer/opacitychange",t.LAYER_REGISTERED="layer/registered",t.LAYER_RELOAD_END="layer/reloadend",t.LAYER_RELOAD_START="layer/reloadstart",t.LAYER_REMOVE="layer/remove",t.LAYER_VISIBILITYCHANGE="layer/visibilitychange",t.MAP_BASEMAPCHANGE="map/basemapchanged",t.MAP_BLUR="map/blur",t.MAP_CLICK="map/click",t.MAP_CREATED="map/created",t.MAP_DESTROYED="map/destroyed",t.MAP_DOUBLECLICK="map/doubleclick",t.MAP_EXTENTCHANGE="map/extentchanged",t.MAP_FOCUS="map/focus",t.MAP_GRAPHICHIT="map/graphichit",t.MAP_IDENTIFY="map/identify",t.MAP_KEYDOWN="map/keydown",t.MAP_KEYUP="map/keyup",t.MAP_MOUSEDOWN="map/mousedown",t.MAP_MOUSELEAVE="map/mouseleave",t.MAP_MOUSEMOVE="map/mousemove",t.MAP_MOUSEMOVE_END="map/mousemoveend",t.MAP_MOUSEMOVE_START="map/mousemovestart",t.MAP_REFRESH_END="map/refreshend",t.MAP_REFRESH_START="map/refreshstart",t.MAP_REORDER="map/reorder",t.MAP_RESIZED="map/resized",t.MAP_SCALECHANGE="map/scalechanged",t.MAP_START="map/start",t.METADATA_TOGGLE="metadata/toggle",t.PANEL_CLOSED="panel/closed",t.PANEL_MINIMIZED="panel/minimized",t.PANEL_OPENED="panel/opened",t.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",t.RAMP_RELOAD="ramp/reload",t.REORDER_TOGGLE="reorder/toggle",t.SETTINGS_TOGGLE="settings/toggle",t.USER_LAYER_ADDED="user/layeradded",t.WIZARD_TOGGLE="wizard/toggle",t))(Ie||{}),Ox=(t=>(t.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",t.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",t.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",t.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",t.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",t.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",t.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",t.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",t.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",t.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",t.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",t.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",t.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",t.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",t.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",t.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",t.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",t.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",t.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",t.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",t.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",t.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",t.MAP_MOUSEDOWN_UPDATES_MAPTIP="ramp_map_mousedown_updates_maptip",t.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",t.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",t.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",t.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",t.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",t.TOGGLE_DETAILS="ramp_toggle_details",t.TOGGLE_GRID="ramp_toggle_grid",t.TOGGLE_HELP="ramp_toggle_help",t.TOGGLE_METADATA="ramp_toggle_metadata",t.TOGGLE_REORDER="ramp_toggle_reorder",t.TOGGLE_SETTINGS="ramp_toggle_settings",t.TOGGLE_WIZARD="ramp_toggle_wizard",t))(Ox||{});class Une{eventName;handlerName;handlerFunc;constructor(e,r,i){this.eventName=e,this.handlerName=r,this.handlerFunc=i}}class jne extends Pr{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(e){super(e),this._eventBus=new fte.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values(Ie).filter(r=>typeof r=="string"&&r.indexOf("/")>-1)}findHandler(e){return this._eventRegister.find(r=>r.handlerName===e)}handlerNamer(e){return this._funCounter++,e.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(e){(Array.isArray(e)?e:[e]).forEach(i=>{this._nameRegister.indexOf(i)===-1&&this._nameRegister.push(i)})}eventNames(){return this._nameRegister.slice()}on(e,r,i=""){if(this.findHandler(i))throw new Error("Duplicate handler name registration: "+i);i||(i=this.handlerNamer(e));const s=new Une(e,i,r);return this._eventRegister.push(s),this._eventBus.on(e,r),i}off(e){const r=this.findHandler(e);r&&(this._eventRegister.splice(this._eventRegister.indexOf(r),1),this._eventBus.off(r.eventName,r.handlerFunc))}offAll(e=""){this.activeHandlers(e).forEach(i=>this.off(i))}removeDefaultEvents(){Object.values(Ox).forEach(e=>{this.off(e)})}emit(e,...r){this._eventBus.emit(e,...r)}once(e,r,i=""){i||(i=this.handlerNamer(e));const s=(...n)=>{r(...n),this.off(i)};return this.on(e,s,i)}activeHandlers(e=""){return e===""?this._eventRegister.map(r=>r.handlerName):this._eventRegister.filter(r=>r.eventName===e).map(r=>r.handlerName)}addDefaultEvents(e){return(!Array.isArray(e)||e.length===0)&&(e=Object.values(Ox)),e.map(r=>this.defaultHandlerFactory(r))}defaultHandlerFactory(e){let r;switch(e){case"ramp_layer_error_updates_legend":r=i=>{if(i.layer.layerState===yr.ERROR){const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(i.layer)}},this.$iApi.event.on("layer/layerstatechange",r,e);break;case"ramp_layer_register_binds_legend":r=i=>{const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(i)},this.$iApi.event.on("layer/registered",r,e);break;case"ramp_layer_reload_end_binds_legend":r=i=>{const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(i)},this.$iApi.event.on("layer/reloadend",r,e);break;case"ramp_layer_reload_start_updates_legend":r=i=>{if(!i.isSublayer){const s=this.$iApi.fixture.get("legend");s&&s.reloadLayerItem(i.uid)}},this.$iApi.event.on("layer/reloadstart",r,e);break;case"ramp_layer_remove_checks_grid":r=i=>{if(this.$iApi.fixture.get("grid")){const s=$x(this.$vApp.$pinia),n=s.getGridId(i.id);if(n===void 0)return;if(s.removeLayer(n,i.id),s.grids[n].layerIds.length===0){s.removeGrid(n);const o=s.currentId;if(n===o){const a=this.$iApi.panel.get("grid");this.$iApi.panel.close(a),s.currentId=void 0}}}},this.$iApi.event.on("layer/remove",r,e);break;case"ramp_layer_remove_updates_details":r=i=>{const s=t9(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&s.removeLayer(i)},this.$iApi.event.on("layer/remove",r,e);break;case"ramp_layer_remove_updates_legend":r=i=>{const s=this.$iApi.fixture.get("legend");s&&(s.removeLayerItem(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:i.name})))},this.$iApi.event.on("layer/remove",r,e);break;case"ramp_layer_useradd_updates_legend":r=i=>{const s=this.$iApi.fixture.get("legend");s&&s.addLayerItem(i)},this.$iApi.event.on("user/layeradded",r,e);break;case"ramp_map_basemap_checks_tile_proj":r=i=>{i.schemaChanged&&this.$iApi.geo.layer.allLayers().filter(s=>s.layerType===Ce.TILE).forEach(s=>{s.checkProj()})},this.$iApi.event.on("map/basemapchanged",r,e);break;case"ramp_map_basemap_updates_map_attribs":r=()=>{this.$iApi.geo.map.caption.updateAttribution(ms(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",r,e);break;case"ramp_map_blur_updates_key_handler":r=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",r,e);break;case"ramp_map_click_runs_identify":r=i=>{i.button===0&&this.$iApi.geo.map.runIdentify(i)},this.on("map/click",r,e);break;case"ramp_map_created_initializes_fixtures":r=()=>{const i=Ks(this.$vApp.$pinia).items;Object.keys(i).forEach(s=>{i[s].initialized?.()})},this.$iApi.geo.map.created&&r(),this.$iApi.event.on("map/created",r,e);break;case"ramp_map_created_updates_map_attribs":r=()=>{this.$iApi.geo.map.caption.updateAttribution(ms(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&r(),this.$iApi.event.on("map/created",r,e);break;case"ramp_map_extent_updates_maptip":r=()=>{if(this.$iApi.geo.map.keysActive){const i=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(i)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",nl(50,!0,()=>r()),e);break;case"ramp_map_graphichit_creates_maptip":r=i=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(i)},this.$iApi.event.on("map/graphichit",r,e);break;case"ramp_map_identify_opens_identify_results":r=i=>{const s=this.$iApi.fixture.get("details");s&&s.openDetails(i.results)},this.on("map/identify",r,e);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",nl(50,()=>{const i=hl(this.$vApp.$pinia);i.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then(n=>{i.coords={formattedString:n}})}),e);break;case"ramp_map_keydown_updates_key_handler":r=i=>{this.$iApi.geo.map.mapKeyDown(i)},this.$iApi.event.on("map/keydown",r,e);break;case"ramp_map_keyup_updates_key_handler":r=i=>{this.$iApi.geo.map.mapKeyUp(i)},this.$iApi.event.on("map/keyup",r,e);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",nl(50,i=>{const s=hl(this.$vApp.$pinia);s.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(i)).then(o=>{s.coords={formattedString:o}})}),e);break;case"ramp_map_mouse_updates_maptip":r=i=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:i.screenX,screenY:i.screenY})},this.$iApi.event.on("map/mousemove",nl(50,i=>r(i)),e);break;case"ramp_map_mousedown_updates_maptip":r=i=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:i.screenX,screenY:i.screenY})},this.$iApi.event.on("map/mousedown",nl(50,i=>{const s={screenX:i.offsetX,screenY:i.offsetY,button:i.button,moveTime:0};r(s)}),e);break;case"ramp_map_mouseleave_removes_maptip":r=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",r);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",nv(100,()=>this.$iApi.geo.map.caption.updateScale()),e);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",nv(300,()=>this.$iApi.geo.map.caption.updateScale()),e);break;case"ramp_panel_close_updates_appbar":r=i=>{const s=sv(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!s.order.flat().find(n=>n===i.id)&&s.removeButton(i.id)},this.on("panel/closed",r,e);break;case"ramp_panel_open_updates_appbar":r=i=>{const s=sv(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!i.teleport||i.teleport?.showAppbarButton)&&!s.order.flat().find(n=>n===i.id)&&s.addTempButton(i.id)},this.on("panel/opened",r,e);break;case"ramp_toggle_details":r=(i,s)=>{const n=this.$iApi.fixture.get("details");n&&n.toggleFeature(i,s)},this.$iApi.event.on("details/toggle",r,e);break;case"ramp_toggle_grid":r=(i,s)=>{const n=this.$iApi.fixture.get("grid");n&&n.toggleGrid(i.id,s)},this.$iApi.event.on("grid/toggle",r,e);break;case"ramp_toggle_help":r=i=>{const s=this.$iApi.fixture.get("help");s&&s.toggleHelp(i)},this.$iApi.event.on("help/toggle",r,e);break;case"ramp_toggle_metadata":r=(i,s)=>{const n=this.$iApi.fixture.get("metadata");n&&n.toggleMetadata(i,s)},this.$iApi.event.on("metadata/toggle",r,e);break;case"ramp_toggle_reorder":r=i=>{const s=this.$iApi.fixture.get("layer-reorder");s&&s.toggleLayerReorder(i)},this.$iApi.event.on("reorder/toggle",r,e);break;case"ramp_toggle_settings":r=(i,s)=>{const n=this.$iApi.fixture.get("settings");n&&n.toggleSettings(i,s)},this.$iApi.event.on("settings/toggle",r,e);break;case"ramp_toggle_wizard":r=i=>{const s=this.$iApi.fixture.get("wizard");s&&s.toggleWizard(i)},this.$iApi.event.on("wizard/toggle",r,e);break;default:return console.error(`Unrecognized default event handler name encountered: ${e}`),`ERROR_NOT_REGISTERED__${e}`}return e}}/*!
  * shared v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const ov=typeof window<"u",jl=(t,e=!1)=>e?Symbol.for(t):Symbol(t),Bne=(t,e,r)=>Vne({l:t,k:e,s:r}),Vne=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),$r=t=>typeof t=="number"&&isFinite(t),Gne=t=>i9(t)==="[object Date]",Ol=t=>i9(t)==="[object RegExp]",z1=t=>He(t)&&Object.keys(t).length===0,gi=Object.assign,zne=Object.create,kt=(t=null)=>zne(t);let R$;const ua=()=>R$||(R$=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:kt());function D$(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const qne=Object.prototype.hasOwnProperty;function In(t,e){return qne.call(t,e)}const Zt=Array.isArray,Bt=t=>typeof t=="function",we=t=>typeof t=="string",it=t=>typeof t=="boolean",yt=t=>t!==null&&typeof t=="object",Hne=t=>yt(t)&&Bt(t.then)&&Bt(t.catch),r9=Object.prototype.toString,i9=t=>r9.call(t),He=t=>{if(!yt(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},Wne=t=>t==null?"":Zt(t)||He(t)&&t.toString===r9?JSON.stringify(t,null,2):String(t);function Yne(t,e=""){return t.reduce((r,i,s)=>s===0?r+i:r+e+i,"")}function q1(t){let e=t;return()=>++e}function Jne(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Ly=t=>!yt(t)||Zt(t);function U0(t,e){if(Ly(t)||Ly(e))throw new Error("Invalid value");const r=[{src:t,des:e}];for(;r.length;){const{src:i,des:s}=r.pop();Object.keys(i).forEach(n=>{n!=="__proto__"&&(yt(i[n])&&!yt(s[n])&&(s[n]=Array.isArray(i[n])?[]:kt()),Ly(s[n])||Ly(i[n])?s[n]=i[n]:r.push({src:i[n],des:s[n]}))})}}/*!
  * message-compiler v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Kne(t,e,r){return{line:t,column:e,offset:r}}function av(t,e,r){return{start:t,end:e}}const Zne=/\{([0-9a-zA-Z]+)\}/g;function s9(t,...e){return e.length===1&&Xne(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(Zne,(r,i)=>e.hasOwnProperty(i)?e[i]:"")}const n9=Object.assign,F$=t=>typeof t=="string",Xne=t=>t!==null&&typeof t=="object";function o9(t,e=""){return t.reduce((r,i,s)=>s===0?r+i:r+e+i,"")}const z3={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},Qne={[z3.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function eoe(t,e,...r){const i=s9(Qne[t],...r||[]),s={message:String(i),code:t};return e&&(s.location=e),s}const Ue={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},toe={[Ue.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ue.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ue.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ue.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ue.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ue.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ue.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ue.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ue.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ue.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ue.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ue.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ue.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ue.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Nf(t,e,r={}){const{domain:i,messages:s,args:n}=r,o=s9((s||toe)[t]||"",...n||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=i,a}function roe(t){throw t}const Bo=" ",ioe="\r",Di=`
`,soe="\u2028",noe="\u2029";function ooe(t){const e=t;let r=0,i=1,s=1,n=0;const o=C=>e[C]===ioe&&e[C+1]===Di,a=C=>e[C]===Di,l=C=>e[C]===noe,c=C=>e[C]===soe,f=C=>o(C)||a(C)||l(C)||c(C),d=()=>r,p=()=>i,y=()=>s,v=()=>n,b=C=>o(C)||l(C)||c(C)?Di:e[C],S=()=>b(r),E=()=>b(r+n);function T(){return n=0,f(r)&&(i++,s=0),o(r)&&r++,r++,s++,e[r]}function w(){return o(r+n)&&n++,n++,e[r+n]}function _(){r=0,i=1,s=1,n=0}function M(C=0){n=C}function $(){const C=r+n;for(;C!==r;)T();n=0}return{index:d,line:p,column:y,peekOffset:v,charAt:b,currentChar:S,currentPeek:E,next:T,peek:w,reset:_,resetPeek:M,skipToPeek:$}}const Ra=void 0,aoe=".",U$="'",loe="tokenizer";function coe(t,e={}){const r=e.location!==!1,i=ooe(t),s=()=>i.index(),n=()=>Kne(i.line(),i.column(),i.index()),o=n(),a=s(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:f}=e;function d(L,k,G,...re){const se=c();if(k.column+=G,k.offset+=G,f){const ne=r?av(se.startLoc,k):null,H=Nf(L,ne,{domain:loe,args:re});f(H)}}function p(L,k,G){L.endLoc=n(),L.currentType=k;const re={type:k};return r&&(re.loc=av(L.startLoc,L.endLoc)),G!=null&&(re.value=G),re}const y=L=>p(L,14);function v(L,k){return L.currentChar()===k?(L.next(),k):(d(Ue.EXPECTED_TOKEN,n(),0,k),"")}function b(L){let k="";for(;L.currentPeek()===Bo||L.currentPeek()===Di;)k+=L.currentPeek(),L.peek();return k}function S(L){const k=b(L);return L.skipToPeek(),k}function E(L){if(L===Ra)return!1;const k=L.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k===95}function T(L){if(L===Ra)return!1;const k=L.charCodeAt(0);return k>=48&&k<=57}function w(L,k){const{currentType:G}=k;if(G!==2)return!1;b(L);const re=E(L.currentPeek());return L.resetPeek(),re}function _(L,k){const{currentType:G}=k;if(G!==2)return!1;b(L);const re=L.currentPeek()==="-"?L.peek():L.currentPeek(),se=T(re);return L.resetPeek(),se}function M(L,k){const{currentType:G}=k;if(G!==2)return!1;b(L);const re=L.currentPeek()===U$;return L.resetPeek(),re}function $(L,k){const{currentType:G}=k;if(G!==8)return!1;b(L);const re=L.currentPeek()===".";return L.resetPeek(),re}function C(L,k){const{currentType:G}=k;if(G!==9)return!1;b(L);const re=E(L.currentPeek());return L.resetPeek(),re}function P(L,k){const{currentType:G}=k;if(!(G===8||G===12))return!1;b(L);const re=L.currentPeek()===":";return L.resetPeek(),re}function N(L,k){const{currentType:G}=k;if(G!==10)return!1;const re=()=>{const ne=L.currentPeek();return ne==="{"?E(L.peek()):ne==="@"||ne==="%"||ne==="|"||ne===":"||ne==="."||ne===Bo||!ne?!1:ne===Di?(L.peek(),re()):U(L,!1)},se=re();return L.resetPeek(),se}function F(L){b(L);const k=L.currentPeek()==="|";return L.resetPeek(),k}function q(L){const k=b(L),G=L.currentPeek()==="%"&&L.peek()==="{";return L.resetPeek(),{isModulo:G,hasSpace:k.length>0}}function U(L,k=!0){const G=(se=!1,ne="",H=!1)=>{const Z=L.currentPeek();return Z==="{"?ne==="%"?!1:se:Z==="@"||!Z?ne==="%"?!0:se:Z==="%"?(L.peek(),G(se,"%",!0)):Z==="|"?ne==="%"||H?!0:!(ne===Bo||ne===Di):Z===Bo?(L.peek(),G(!0,Bo,H)):Z===Di?(L.peek(),G(!0,Di,H)):!0},re=G();return k&&L.resetPeek(),re}function B(L,k){const G=L.currentChar();return G===Ra?Ra:k(G)?(L.next(),G):null}function K(L){const k=L.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36}function h(L){return B(L,K)}function m(L){const k=L.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36||k===45}function x(L){return B(L,m)}function I(L){const k=L.charCodeAt(0);return k>=48&&k<=57}function V(L){return B(L,I)}function Y(L){const k=L.charCodeAt(0);return k>=48&&k<=57||k>=65&&k<=70||k>=97&&k<=102}function de(L){return B(L,Y)}function oe(L){let k="",G="";for(;k=V(L);)G+=k;return G}function Me(L){S(L);const k=L.currentChar();return k!=="%"&&d(Ue.EXPECTED_TOKEN,n(),0,k),L.next(),"%"}function je(L){let k="";for(;;){const G=L.currentChar();if(G==="{"||G==="}"||G==="@"||G==="|"||!G)break;if(G==="%")if(U(L))k+=G,L.next();else break;else if(G===Bo||G===Di)if(U(L))k+=G,L.next();else{if(F(L))break;k+=G,L.next()}else k+=G,L.next()}return k}function qe(L){S(L);let k="",G="";for(;k=x(L);)G+=k;return L.currentChar()===Ra&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),G}function lt(L){S(L);let k="";return L.currentChar()==="-"?(L.next(),k+=`-${oe(L)}`):k+=oe(L),L.currentChar()===Ra&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),k}function zt(L){return L!==U$&&L!==Di}function It(L){S(L),v(L,"'");let k="",G="";for(;k=B(L,zt);)k==="\\"?G+=_r(L):G+=k;const re=L.currentChar();return re===Di||re===Ra?(d(Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,n(),0),re===Di&&(L.next(),v(L,"'")),G):(v(L,"'"),G)}function _r(L){const k=L.currentChar();switch(k){case"\\":case"'":return L.next(),`\\${k}`;case"u":return Ft(L,k,4);case"U":return Ft(L,k,6);default:return d(Ue.UNKNOWN_ESCAPE_SEQUENCE,n(),0,k),""}}function Ft(L,k,G){v(L,k);let re="";for(let se=0;se<G;se++){const ne=de(L);if(!ne){d(Ue.INVALID_UNICODE_ESCAPE_SEQUENCE,n(),0,`\\${k}${re}${L.currentChar()}`);break}re+=ne}return`\\${k}${re}`}function nr(L){return L!=="{"&&L!=="}"&&L!==Bo&&L!==Di}function ei(L){S(L);let k="",G="";for(;k=B(L,nr);)G+=k;return G}function j(L){let k="",G="";for(;k=h(L);)G+=k;return G}function D(L){const k=G=>{const re=L.currentChar();return re==="{"||re==="%"||re==="@"||re==="|"||re==="("||re===")"||!re||re===Bo?G:(G+=re,L.next(),k(G))};return k("")}function W(L){S(L);const k=v(L,"|");return S(L),k}function ae(L,k){let G=null;switch(L.currentChar()){case"{":return k.braceNest>=1&&d(Ue.NOT_ALLOW_NEST_PLACEHOLDER,n(),0),L.next(),G=p(k,2,"{"),S(L),k.braceNest++,G;case"}":return k.braceNest>0&&k.currentType===2&&d(Ue.EMPTY_PLACEHOLDER,n(),0),L.next(),G=p(k,3,"}"),k.braceNest--,k.braceNest>0&&S(L),k.inLinked&&k.braceNest===0&&(k.inLinked=!1),G;case"@":return k.braceNest>0&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),G=te(L,k)||y(k),k.braceNest=0,G;default:{let se=!0,ne=!0,H=!0;if(F(L))return k.braceNest>0&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),G=p(k,1,W(L)),k.braceNest=0,k.inLinked=!1,G;if(k.braceNest>0&&(k.currentType===5||k.currentType===6||k.currentType===7))return d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),k.braceNest=0,ue(L,k);if(se=w(L,k))return G=p(k,5,qe(L)),S(L),G;if(ne=_(L,k))return G=p(k,6,lt(L)),S(L),G;if(H=M(L,k))return G=p(k,7,It(L)),S(L),G;if(!se&&!ne&&!H)return G=p(k,13,ei(L)),d(Ue.INVALID_TOKEN_IN_PLACEHOLDER,n(),0,G.value),S(L),G;break}}return G}function te(L,k){const{currentType:G}=k;let re=null;const se=L.currentChar();switch((G===8||G===9||G===12||G===10)&&(se===Di||se===Bo)&&d(Ue.INVALID_LINKED_FORMAT,n(),0),se){case"@":return L.next(),re=p(k,8,"@"),k.inLinked=!0,re;case".":return S(L),L.next(),p(k,9,".");case":":return S(L),L.next(),p(k,10,":");default:return F(L)?(re=p(k,1,W(L)),k.braceNest=0,k.inLinked=!1,re):$(L,k)||P(L,k)?(S(L),te(L,k)):C(L,k)?(S(L),p(k,12,j(L))):N(L,k)?(S(L),se==="{"?ae(L,k)||re:p(k,11,D(L))):(G===8&&d(Ue.INVALID_LINKED_FORMAT,n(),0),k.braceNest=0,k.inLinked=!1,ue(L,k))}}function ue(L,k){let G={type:14};if(k.braceNest>0)return ae(L,k)||y(k);if(k.inLinked)return te(L,k)||y(k);switch(L.currentChar()){case"{":return ae(L,k)||y(k);case"}":return d(Ue.UNBALANCED_CLOSING_BRACE,n(),0),L.next(),p(k,3,"}");case"@":return te(L,k)||y(k);default:{if(F(L))return G=p(k,1,W(L)),k.braceNest=0,k.inLinked=!1,G;const{isModulo:se,hasSpace:ne}=q(L);if(se)return ne?p(k,0,je(L)):p(k,4,Me(L));if(U(L))return p(k,0,je(L));break}}return G}function ye(){const{currentType:L,offset:k,startLoc:G,endLoc:re}=l;return l.lastType=L,l.lastOffset=k,l.lastStartLoc=G,l.lastEndLoc=re,l.offset=s(),l.startLoc=n(),i.currentChar()===Ra?p(l,14):ue(i,l)}return{nextToken:ye,currentOffset:s,currentPosition:n,context:c}}const uoe="parser",hoe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function foe(t,e,r){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(e||r,16);return i<=55295||i>=57344?String.fromCodePoint(i):""}}}function doe(t={}){const e=t.location!==!1,{onError:r,onWarn:i}=t;function s(w,_,M,$,...C){const P=w.currentPosition();if(P.offset+=$,P.column+=$,r){const N=e?av(M,P):null,F=Nf(_,N,{domain:uoe,args:C});r(F)}}function n(w,_,M,$,...C){const P=w.currentPosition();if(P.offset+=$,P.column+=$,i){const N=e?av(M,P):null;i(eoe(_,N,C))}}function o(w,_,M){const $={type:w};return e&&($.start=_,$.end=_,$.loc={start:M,end:M}),$}function a(w,_,M,$){e&&(w.end=_,w.loc&&(w.loc.end=M))}function l(w,_){const M=w.context(),$=o(3,M.offset,M.startLoc);return $.value=_,a($,w.currentOffset(),w.currentPosition()),$}function c(w,_){const M=w.context(),{lastOffset:$,lastStartLoc:C}=M,P=o(5,$,C);return P.index=parseInt(_,10),w.nextToken(),a(P,w.currentOffset(),w.currentPosition()),P}function f(w,_,M){const $=w.context(),{lastOffset:C,lastStartLoc:P}=$,N=o(4,C,P);return N.key=_,M===!0&&(N.modulo=!0),w.nextToken(),a(N,w.currentOffset(),w.currentPosition()),N}function d(w,_){const M=w.context(),{lastOffset:$,lastStartLoc:C}=M,P=o(9,$,C);return P.value=_.replace(hoe,foe),w.nextToken(),a(P,w.currentOffset(),w.currentPosition()),P}function p(w){const _=w.nextToken(),M=w.context(),{lastOffset:$,lastStartLoc:C}=M,P=o(8,$,C);return _.type!==12?(s(w,Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER,M.lastStartLoc,0),P.value="",a(P,$,C),{nextConsumeToken:_,node:P}):(_.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,yn(_)),P.value=_.value||"",a(P,w.currentOffset(),w.currentPosition()),{node:P})}function y(w,_){const M=w.context(),$=o(7,M.offset,M.startLoc);return $.value=_,a($,w.currentOffset(),w.currentPosition()),$}function v(w){const _=w.context(),M=o(6,_.offset,_.startLoc);let $=w.nextToken();if($.type===9){const C=p(w);M.modifier=C.node,$=C.nextConsumeToken||w.nextToken()}switch($.type!==10&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,yn($)),$=w.nextToken(),$.type===2&&($=w.nextToken()),$.type){case 11:$.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,yn($)),M.key=y(w,$.value||"");break;case 5:$.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,yn($)),M.key=f(w,$.value||"");break;case 6:$.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,yn($)),M.key=c(w,$.value||"");break;case 7:$.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,yn($)),M.key=d(w,$.value||"");break;default:{s(w,Ue.UNEXPECTED_EMPTY_LINKED_KEY,_.lastStartLoc,0);const C=w.context(),P=o(7,C.offset,C.startLoc);return P.value="",a(P,C.offset,C.startLoc),M.key=P,a(M,C.offset,C.startLoc),{nextConsumeToken:$,node:M}}}return a(M,w.currentOffset(),w.currentPosition()),{node:M}}function b(w){const _=w.context(),M=_.currentType===1?w.currentOffset():_.offset,$=_.currentType===1?_.endLoc:_.startLoc,C=o(2,M,$);C.items=[];let P=null,N=null;do{const U=P||w.nextToken();switch(P=null,U.type){case 0:U.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,yn(U)),C.items.push(l(w,U.value||""));break;case 6:U.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,yn(U)),C.items.push(c(w,U.value||""));break;case 4:N=!0;break;case 5:U.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,yn(U)),C.items.push(f(w,U.value||"",!!N)),N&&(n(w,z3.USE_MODULO_SYNTAX,_.lastStartLoc,0,yn(U)),N=null);break;case 7:U.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,yn(U)),C.items.push(d(w,U.value||""));break;case 8:{const B=v(w);C.items.push(B.node),P=B.nextConsumeToken||null;break}}}while(_.currentType!==14&&_.currentType!==1);const F=_.currentType===1?_.lastOffset:w.currentOffset(),q=_.currentType===1?_.lastEndLoc:w.currentPosition();return a(C,F,q),C}function S(w,_,M,$){const C=w.context();let P=$.items.length===0;const N=o(1,_,M);N.cases=[],N.cases.push($);do{const F=b(w);P||(P=F.items.length===0),N.cases.push(F)}while(C.currentType!==14);return P&&s(w,Ue.MUST_HAVE_MESSAGES_IN_PLURAL,M,0),a(N,w.currentOffset(),w.currentPosition()),N}function E(w){const _=w.context(),{offset:M,startLoc:$}=_,C=b(w);return _.currentType===14?C:S(w,M,$,C)}function T(w){const _=coe(w,n9({},t)),M=_.context(),$=o(0,M.offset,M.startLoc);return e&&$.loc&&($.loc.source=w),$.body=E(_),t.onCacheKey&&($.cacheKey=t.onCacheKey(w)),M.currentType!==14&&s(_,Ue.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,w[M.offset]||""),a($,_.currentOffset(),_.currentPosition()),$}return{parse:T}}function yn(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function poe(t,e={}){const r={ast:t,helpers:new Set};return{context:()=>r,helper:n=>(r.helpers.add(n),n)}}function j$(t,e){for(let r=0;r<t.length;r++)q3(t[r],e)}function q3(t,e){switch(t.type){case 1:j$(t.cases,e),e.helper("plural");break;case 2:j$(t.items,e);break;case 6:{q3(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function moe(t,e={}){const r=poe(t);r.helper("normalize"),t.body&&q3(t.body,r);const i=r.context();t.helpers=Array.from(i.helpers)}function yoe(t){const e=t.body;return e.type===2?B$(e):e.cases.forEach(r=>B$(r)),t}function B$(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let r=0;r<t.items.length;r++){const i=t.items[r];if(!(i.type===3||i.type===9)||i.value==null)break;e.push(i.value)}if(e.length===t.items.length){t.static=o9(e);for(let r=0;r<t.items.length;r++){const i=t.items[r];(i.type===3||i.type===9)&&delete i.value}}}}const goe="minifier";function Vu(t){switch(t.t=t.type,t.type){case 0:{const e=t;Vu(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,r=e.cases;for(let i=0;i<r.length;i++)Vu(r[i]);e.c=r,delete e.cases;break}case 2:{const e=t,r=e.items;for(let i=0;i<r.length;i++)Vu(r[i]);e.i=r,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Vu(e.key),e.k=e.key,delete e.key,e.modifier&&(Vu(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw Nf(Ue.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:goe,args:[t.type]})}delete t.type}const voe="parser";function boe(t,e){const{filename:r,breakLineCode:i,needIndent:s}=e,n=e.location!==!1,o={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:s,indentLevel:0};n&&t.loc&&(o.source=t.loc.source);const a=()=>o;function l(b,S){o.code+=b}function c(b,S=!0){const E=S?i:"";l(s?E+"  ".repeat(b):E)}function f(b=!0){const S=++o.indentLevel;b&&c(S)}function d(b=!0){const S=--o.indentLevel;b&&c(S)}function p(){c(o.indentLevel)}return{context:a,push:l,indent:f,deindent:d,newline:p,helper:b=>`_${b}`,needIndent:()=>o.needIndent}}function _oe(t,e){const{helper:r}=t;t.push(`${r("linked")}(`),ef(t,e.key),e.modifier?(t.push(", "),ef(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function woe(t,e){const{helper:r,needIndent:i}=t;t.push(`${r("normalize")}([`),t.indent(i());const s=e.items.length;for(let n=0;n<s&&(ef(t,e.items[n]),n!==s-1);n++)t.push(", ");t.deindent(i()),t.push("])")}function xoe(t,e){const{helper:r,needIndent:i}=t;if(e.cases.length>1){t.push(`${r("plural")}([`),t.indent(i());const s=e.cases.length;for(let n=0;n<s&&(ef(t,e.cases[n]),n!==s-1);n++)t.push(", ");t.deindent(i()),t.push("])")}}function Eoe(t,e){e.body?ef(t,e.body):t.push("null")}function ef(t,e){const{helper:r}=t;switch(e.type){case 0:Eoe(t,e);break;case 1:xoe(t,e);break;case 2:woe(t,e);break;case 6:_oe(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:t.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw Nf(Ue.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:voe,args:[e.type]})}}const Soe=(t,e={})=>{const r=F$(e.mode)?e.mode:"normal",i=F$(e.filename)?e.filename:"message.intl";e.sourceMap;const s=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,n=e.needIndent?e.needIndent:r!=="arrow",o=t.helpers||[],a=boe(t,{filename:i,breakLineCode:s,needIndent:n});a.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(n),o.length>0&&(a.push(`const { ${o9(o.map(f=>`${f}: _${f}`),", ")} } = ctx`),a.newline()),a.push("return "),ef(a,t),a.deindent(n),a.push("}"),delete t.helpers;const{code:l,map:c}=a.context();return{ast:t,code:l,map:c?c.toJSON():void 0}};function Aoe(t,e={}){const r=n9({},e),i=!!r.jit,s=!!r.minify,n=r.optimize==null?!0:r.optimize,a=doe(r).parse(t);return i?(n&&yoe(a),s&&Vu(a),{ast:a,code:""}):(moe(a,r),Soe(a,r))}/*!
  * core-base v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Toe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ua().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(ua().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ua().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Bl=[];Bl[0]={w:[0],i:[3,0],"[":[4],o:[7]};Bl[1]={w:[1],".":[2],"[":[4],o:[7]};Bl[2]={w:[2],i:[3,0],0:[3,0]};Bl[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Bl[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Bl[5]={"'":[4,0],o:8,l:[5,0]};Bl[6]={'"':[4,0],o:8,l:[6,0]};const Moe=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function $oe(t){return Moe.test(t)}function Ooe(t){const e=t.charCodeAt(0),r=t.charCodeAt(t.length-1);return e===r&&(e===34||e===39)?t.slice(1,-1):t}function Ioe(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Coe(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:$oe(e)?Ooe(e):"*"+e}function Noe(t){const e=[];let r=-1,i=0,s=0,n,o,a,l,c,f,d;const p=[];p[0]=()=>{o===void 0?o=a:o+=a},p[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},p[2]=()=>{p[0](),s++},p[3]=()=>{if(s>0)s--,i=4,p[0]();else{if(s=0,o===void 0||(o=Coe(o),o===!1))return!1;p[1]()}};function y(){const v=t[r+1];if(i===5&&v==="'"||i===6&&v==='"')return r++,a="\\"+v,p[0](),!0}for(;i!==null;)if(r++,n=t[r],!(n==="\\"&&y())){if(l=Ioe(n),d=Bl[i],c=d[l]||d.l||8,c===8||(i=c[0],c[1]!==void 0&&(f=p[c[1]],f&&(a=n,f()===!1))))return;if(i===7)return e}}const V$=new Map;function Poe(t,e){return yt(t)?t[e]:null}function Loe(t,e){if(!yt(t))return null;let r=V$.get(e);if(r||(r=Noe(e),r&&V$.set(e,r)),!r)return null;const i=r.length;let s=t,n=0;for(;n<i;){const o=s[r[n]];if(o===void 0||Bt(s))return null;s=o,n++}return s}const koe=t=>t,Roe=t=>"",Doe="text",Foe=t=>t.length===0?"":Yne(t),Uoe=Wne;function G$(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function joe(t){const e=$r(t.pluralIndex)?t.pluralIndex:-1;return t.named&&($r(t.named.count)||$r(t.named.n))?$r(t.named.count)?t.named.count:$r(t.named.n)?t.named.n:e:e}function Boe(t,e){e.count||(e.count=t),e.n||(e.n=t)}function Voe(t={}){const e=t.locale,r=joe(t),i=yt(t.pluralRules)&&we(e)&&Bt(t.pluralRules[e])?t.pluralRules[e]:G$,s=yt(t.pluralRules)&&we(e)&&Bt(t.pluralRules[e])?G$:void 0,n=E=>E[i(r,E.length,s)],o=t.list||[],a=E=>o[E],l=t.named||kt();$r(t.pluralIndex)&&Boe(r,l);const c=E=>l[E];function f(E){const T=Bt(t.messages)?t.messages(E):yt(t.messages)?t.messages[E]:!1;return T||(t.parent?t.parent.message(E):Roe)}const d=E=>t.modifiers?t.modifiers[E]:koe,p=He(t.processor)&&Bt(t.processor.normalize)?t.processor.normalize:Foe,y=He(t.processor)&&Bt(t.processor.interpolate)?t.processor.interpolate:Uoe,v=He(t.processor)&&we(t.processor.type)?t.processor.type:Doe,S={list:a,named:c,plural:n,linked:(E,...T)=>{const[w,_]=T;let M="text",$="";T.length===1?yt(w)?($=w.modifier||$,M=w.type||M):we(w)&&($=w||$):T.length===2&&(we(w)&&($=w||$),we(_)&&(M=_||M));const C=f(E)(S),P=M==="vnode"&&Zt(C)&&$?C[0]:C;return $?d($)(P,M):P},message:f,type:v,interpolate:y,normalize:p,values:gi(kt(),o,l)};return S}let tm=null;function Goe(t){tm=t}function zoe(t,e,r){tm&&tm.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:r})}const qoe=Hoe("function:translate");function Hoe(t){return e=>tm&&tm.emit(t,e)}const Woe=z3.__EXTEND_POINT__,ec=q1(Woe),Yoe={FALLBACK_TO_TRANSLATE:ec(),CANNOT_FORMAT_NUMBER:ec(),FALLBACK_TO_NUMBER_FORMAT:ec(),CANNOT_FORMAT_DATE:ec(),FALLBACK_TO_DATE_FORMAT:ec(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:ec(),__EXTEND_POINT__:ec()},a9=Ue.__EXTEND_POINT__,tc=q1(a9),Cn={INVALID_ARGUMENT:a9,INVALID_DATE_ARGUMENT:tc(),INVALID_ISO_DATE_ARGUMENT:tc(),NOT_SUPPORT_NON_STRING_MESSAGE:tc(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:tc(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:tc(),NOT_SUPPORT_LOCALE_TYPE:tc(),__EXTEND_POINT__:tc()};function mo(t){return Nf(t,null,void 0)}function H3(t,e){return e.locale!=null?z$(e.locale):z$(t.locale)}let m_;function z$(t){if(we(t))return t;if(Bt(t)){if(t.resolvedOnce&&m_!=null)return m_;if(t.constructor.name==="Function"){const e=t();if(Hne(e))throw mo(Cn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return m_=e}else throw mo(Cn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw mo(Cn.NOT_SUPPORT_LOCALE_TYPE)}function Joe(t,e,r){return[...new Set([r,...Zt(e)?e:yt(e)?Object.keys(e):we(e)?[e]:[r]])]}function l9(t,e,r){const i=we(r)?r:tf,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let n=s.__localeChainCache.get(i);if(!n){n=[];let o=[r];for(;Zt(o);)o=q$(n,o,e);const a=Zt(e)||!He(e)?e:e.default?e.default:null;o=we(a)?[a]:a,Zt(o)&&q$(n,o,!1),s.__localeChainCache.set(i,n)}return n}function q$(t,e,r){let i=!0;for(let s=0;s<e.length&&it(i);s++){const n=e[s];we(n)&&(i=Koe(t,e[s],r))}return i}function Koe(t,e,r){let i;const s=e.split("-");do{const n=s.join("-");i=Zoe(t,n,r),s.splice(-1,1)}while(s.length&&i===!0);return i}function Zoe(t,e,r){let i=!1;if(!t.includes(e)&&(i=!0,e)){i=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(Zt(r)||He(r))&&r[s]&&(i=r[s])}return i}const Xoe="9.14.3",H1=-1,tf="en-US",H$="",W$=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function Qoe(){return{upper:(t,e)=>e==="text"&&we(t)?t.toUpperCase():e==="vnode"&&yt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&we(t)?t.toLowerCase():e==="vnode"&&yt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&we(t)?W$(t):e==="vnode"&&yt(t)&&"__v_isVNode"in t?W$(t.children):t}}let c9;function Y$(t){c9=t}let u9;function eae(t){u9=t}let h9;function tae(t){h9=t}let f9=null;const rae=t=>{f9=t},iae=()=>f9;let d9=null;const J$=t=>{d9=t},sae=()=>d9;let K$=0;function nae(t={}){const e=Bt(t.onWarn)?t.onWarn:Jne,r=we(t.version)?t.version:Xoe,i=we(t.locale)||Bt(t.locale)?t.locale:tf,s=Bt(i)?tf:i,n=Zt(t.fallbackLocale)||He(t.fallbackLocale)||we(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,o=He(t.messages)?t.messages:y_(s),a=He(t.datetimeFormats)?t.datetimeFormats:y_(s),l=He(t.numberFormats)?t.numberFormats:y_(s),c=gi(kt(),t.modifiers,Qoe()),f=t.pluralRules||kt(),d=Bt(t.missing)?t.missing:null,p=it(t.missingWarn)||Ol(t.missingWarn)?t.missingWarn:!0,y=it(t.fallbackWarn)||Ol(t.fallbackWarn)?t.fallbackWarn:!0,v=!!t.fallbackFormat,b=!!t.unresolving,S=Bt(t.postTranslation)?t.postTranslation:null,E=He(t.processor)?t.processor:null,T=it(t.warnHtmlMessage)?t.warnHtmlMessage:!0,w=!!t.escapeParameter,_=Bt(t.messageCompiler)?t.messageCompiler:c9,M=Bt(t.messageResolver)?t.messageResolver:u9||Poe,$=Bt(t.localeFallbacker)?t.localeFallbacker:h9||Joe,C=yt(t.fallbackContext)?t.fallbackContext:void 0,P=t,N=yt(P.__datetimeFormatters)?P.__datetimeFormatters:new Map,F=yt(P.__numberFormatters)?P.__numberFormatters:new Map,q=yt(P.__meta)?P.__meta:{};K$++;const U={version:r,cid:K$,locale:i,fallbackLocale:n,messages:o,modifiers:c,pluralRules:f,missing:d,missingWarn:p,fallbackWarn:y,fallbackFormat:v,unresolving:b,postTranslation:S,processor:E,warnHtmlMessage:T,escapeParameter:w,messageCompiler:_,messageResolver:M,localeFallbacker:$,fallbackContext:C,onWarn:e,__meta:q};return U.datetimeFormats=a,U.numberFormats=l,U.__datetimeFormatters=N,U.__numberFormatters=F,__INTLIFY_PROD_DEVTOOLS__&&zoe(U,r,q),U}const y_=t=>({[t]:kt()});function W3(t,e,r,i,s){const{missing:n,onWarn:o}=t;if(n!==null){const a=n(t,r,e,s);return we(a)?a:e}else return e}function Kf(t,e,r){const i=t;i.__localeChainCache=new Map,t.localeFallbacker(t,r,e)}function oae(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function aae(t,e){const r=e.indexOf(t);if(r===-1)return!1;for(let i=r+1;i<e.length;i++)if(oae(t,e[i]))return!0;return!1}function g_(t){return r=>lae(r,t)}function lae(t,e){const r=uae(e);if(r==null)throw rm(0);if(Y3(r)===1){const n=fae(r);return t.plural(n.reduce((o,a)=>[...o,Z$(t,a)],[]))}else return Z$(t,r)}const cae=["b","body"];function uae(t){return Vl(t,cae)}const hae=["c","cases"];function fae(t){return Vl(t,hae,[])}function Z$(t,e){const r=pae(e);if(r!=null)return t.type==="text"?r:t.normalize([r]);{const i=yae(e).reduce((s,n)=>[...s,Ix(t,n)],[]);return t.normalize(i)}}const dae=["s","static"];function pae(t){return Vl(t,dae)}const mae=["i","items"];function yae(t){return Vl(t,mae,[])}function Ix(t,e){const r=Y3(e);switch(r){case 3:return ky(e,r);case 9:return ky(e,r);case 4:{const i=e;if(In(i,"k")&&i.k)return t.interpolate(t.named(i.k));if(In(i,"key")&&i.key)return t.interpolate(t.named(i.key));throw rm(r)}case 5:{const i=e;if(In(i,"i")&&$r(i.i))return t.interpolate(t.list(i.i));if(In(i,"index")&&$r(i.index))return t.interpolate(t.list(i.index));throw rm(r)}case 6:{const i=e,s=_ae(i),n=xae(i);return t.linked(Ix(t,n),s?Ix(t,s):void 0,t.type)}case 7:return ky(e,r);case 8:return ky(e,r);default:throw new Error(`unhandled node on format message part: ${r}`)}}const gae=["t","type"];function Y3(t){return Vl(t,gae)}const vae=["v","value"];function ky(t,e){const r=Vl(t,vae);if(r)return r;throw rm(e)}const bae=["m","modifier"];function _ae(t){return Vl(t,bae)}const wae=["k","key"];function xae(t){const e=Vl(t,wae);if(e)return e;throw rm(6)}function Vl(t,e,r){for(let i=0;i<e.length;i++){const s=e[i];if(In(t,s)&&t[s]!=null)return t[s]}return r}function rm(t){return new Error(`unhandled node type: ${t}`)}const p9=t=>t;let lh=kt();function rf(t){return yt(t)&&Y3(t)===0&&(In(t,"b")||In(t,"body"))}function m9(t,e={}){let r=!1;const i=e.onError||roe;return e.onError=s=>{r=!0,i(s)},{...Aoe(t,e),detectError:r}}const Eae=(t,e)=>{if(!we(t))throw mo(Cn.NOT_SUPPORT_NON_STRING_MESSAGE);{it(e.warnHtmlMessage)&&e.warnHtmlMessage;const i=(e.onCacheKey||p9)(t),s=lh[i];if(s)return s;const{code:n,detectError:o}=m9(t,e),a=new Function(`return ${n}`)();return o?a:lh[i]=a}};function Sae(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&we(t)){it(e.warnHtmlMessage)&&e.warnHtmlMessage;const i=(e.onCacheKey||p9)(t),s=lh[i];if(s)return s;const{ast:n,detectError:o}=m9(t,{...e,location:!1,jit:!0}),a=g_(n);return o?a:lh[i]=a}else{const r=t.cacheKey;if(r){const i=lh[r];return i||(lh[r]=g_(t))}else return g_(t)}}const X$=()=>"",Qs=t=>Bt(t);function Q$(t,...e){const{fallbackFormat:r,postTranslation:i,unresolving:s,messageCompiler:n,fallbackLocale:o,messages:a}=t,[l,c]=Cx(...e),f=it(c.missingWarn)?c.missingWarn:t.missingWarn,d=it(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,p=it(c.escapeParameter)?c.escapeParameter:t.escapeParameter,y=!!c.resolvedMessage,v=we(c.default)||it(c.default)?it(c.default)?n?l:()=>l:c.default:r?n?l:()=>l:"",b=r||v!=="",S=H3(t,c);p&&Aae(c);let[E,T,w]=y?[l,S,a[S]||kt()]:y9(t,l,S,o,d,f),_=E,M=l;if(!y&&!(we(_)||rf(_)||Qs(_))&&b&&(_=v,M=_),!y&&(!(we(_)||rf(_)||Qs(_))||!we(T)))return s?H1:l;let $=!1;const C=()=>{$=!0},P=Qs(_)?_:g9(t,l,T,_,M,C);if($)return _;const N=$ae(t,T,w,c),F=Voe(N),q=Tae(t,P,F),U=i?i(q,l):q;if(__INTLIFY_PROD_DEVTOOLS__){const B={timestamp:Date.now(),key:we(l)?l:Qs(_)?_.key:"",locale:T||(Qs(_)?_.locale:""),format:we(_)?_:Qs(_)?_.source:"",message:U};B.meta=gi({},t.__meta,iae()||{}),qoe(B)}return U}function Aae(t){Zt(t.list)?t.list=t.list.map(e=>we(e)?D$(e):e):yt(t.named)&&Object.keys(t.named).forEach(e=>{we(t.named[e])&&(t.named[e]=D$(t.named[e]))})}function y9(t,e,r,i,s,n){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=t,f=c(t,i,r);let d=kt(),p,y=null;const v="translate";for(let b=0;b<f.length&&(p=f[b],d=o[p]||kt(),(y=l(d,e))===null&&(y=d[e]),!(we(y)||rf(y)||Qs(y)));b++)if(!aae(p,f)){const S=W3(t,e,p,n,v);S!==e&&(y=S)}return[y,p,d]}function g9(t,e,r,i,s,n){const{messageCompiler:o,warnHtmlMessage:a}=t;if(Qs(i)){const c=i;return c.locale=c.locale||r,c.key=c.key||e,c}if(o==null){const c=()=>i;return c.locale=r,c.key=e,c}const l=o(i,Mae(t,r,s,i,a,n));return l.locale=r,l.key=e,l.source=i,l}function Tae(t,e,r){return e(r)}function Cx(...t){const[e,r,i]=t,s=kt();if(!we(e)&&!$r(e)&&!Qs(e)&&!rf(e))throw mo(Cn.INVALID_ARGUMENT);const n=$r(e)?String(e):(Qs(e),e);return $r(r)?s.plural=r:we(r)?s.default=r:He(r)&&!z1(r)?s.named=r:Zt(r)&&(s.list=r),$r(i)?s.plural=i:we(i)?s.default=i:He(i)&&gi(s,i),[n,s]}function Mae(t,e,r,i,s,n){return{locale:e,key:r,warnHtmlMessage:s,onError:o=>{throw n&&n(o),o},onCacheKey:o=>Bne(e,r,o)}}function $ae(t,e,r,i){const{modifiers:s,pluralRules:n,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:f}=t,p={locale:e,modifiers:s,pluralRules:n,messages:y=>{let v=o(r,y);if(v==null&&f){const[,,b]=y9(f,y,e,a,l,c);v=o(b,y)}if(we(v)||rf(v)){let b=!1;const E=g9(t,y,e,v,y,()=>{b=!0});return b?X$:E}else return Qs(v)?v:X$}};return t.processor&&(p.processor=t.processor),i.list&&(p.list=i.list),i.named&&(p.named=i.named),$r(i.plural)&&(p.pluralIndex=i.plural),p}function eO(t,...e){const{datetimeFormats:r,unresolving:i,fallbackLocale:s,onWarn:n,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,c,f,d]=Nx(...e),p=it(f.missingWarn)?f.missingWarn:t.missingWarn;it(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn;const y=!!f.part,v=H3(t,f),b=o(t,s,v);if(!we(l)||l==="")return new Intl.DateTimeFormat(v,d).format(c);let S={},E,T=null;const w="datetime format";for(let $=0;$<b.length&&(E=b[$],S=r[E]||{},T=S[l],!He(T));$++)W3(t,l,E,p,w);if(!He(T)||!we(E))return i?H1:l;let _=`${E}__${l}`;z1(d)||(_=`${_}__${JSON.stringify(d)}`);let M=a.get(_);return M||(M=new Intl.DateTimeFormat(E,gi({},T,d)),a.set(_,M)),y?M.formatToParts(c):M.format(c)}const v9=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Nx(...t){const[e,r,i,s]=t,n=kt();let o=kt(),a;if(we(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw mo(Cn.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw mo(Cn.INVALID_ISO_DATE_ARGUMENT)}}else if(Gne(e)){if(isNaN(e.getTime()))throw mo(Cn.INVALID_DATE_ARGUMENT);a=e}else if($r(e))a=e;else throw mo(Cn.INVALID_ARGUMENT);return we(r)?n.key=r:He(r)&&Object.keys(r).forEach(l=>{v9.includes(l)?o[l]=r[l]:n[l]=r[l]}),we(i)?n.locale=i:He(i)&&(o=i),He(s)&&(o=s),[n.key||"",a,n,o]}function tO(t,e,r){const i=t;for(const s in r){const n=`${e}__${s}`;i.__datetimeFormatters.has(n)&&i.__datetimeFormatters.delete(n)}}function rO(t,...e){const{numberFormats:r,unresolving:i,fallbackLocale:s,onWarn:n,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,c,f,d]=Px(...e),p=it(f.missingWarn)?f.missingWarn:t.missingWarn;it(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn;const y=!!f.part,v=H3(t,f),b=o(t,s,v);if(!we(l)||l==="")return new Intl.NumberFormat(v,d).format(c);let S={},E,T=null;const w="number format";for(let $=0;$<b.length&&(E=b[$],S=r[E]||{},T=S[l],!He(T));$++)W3(t,l,E,p,w);if(!He(T)||!we(E))return i?H1:l;let _=`${E}__${l}`;z1(d)||(_=`${_}__${JSON.stringify(d)}`);let M=a.get(_);return M||(M=new Intl.NumberFormat(E,gi({},T,d)),a.set(_,M)),y?M.formatToParts(c):M.format(c)}const b9=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Px(...t){const[e,r,i,s]=t,n=kt();let o=kt();if(!$r(e))throw mo(Cn.INVALID_ARGUMENT);const a=e;return we(r)?n.key=r:He(r)&&Object.keys(r).forEach(l=>{b9.includes(l)?o[l]=r[l]:n[l]=r[l]}),we(i)?n.locale=i:He(i)&&(o=i),He(s)&&(o=s),[n.key||"",a,n,o]}function iO(t,e,r){const i=t;for(const s in r){const n=`${e}__${s}`;i.__numberFormatters.has(n)&&i.__numberFormatters.delete(n)}}Toe();/*!
  * vue-i18n v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Oae="9.14.3";function Iae(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(ua().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(ua().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(ua().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ua().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ua().__INTLIFY_PROD_DEVTOOLS__=!1)}const Cae=Yoe.__EXTEND_POINT__,Vo=q1(Cae);Vo(),Vo(),Vo(),Vo(),Vo(),Vo(),Vo(),Vo(),Vo();const _9=Cn.__EXTEND_POINT__,Qi=q1(_9),Xr={UNEXPECTED_RETURN_TYPE:_9,INVALID_ARGUMENT:Qi(),MUST_BE_CALL_SETUP_TOP:Qi(),NOT_INSTALLED:Qi(),NOT_AVAILABLE_IN_LEGACY_MODE:Qi(),REQUIRED_VALUE:Qi(),INVALID_VALUE:Qi(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Qi(),NOT_INSTALLED_WITH_PROVIDE:Qi(),UNEXPECTED_ERROR:Qi(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Qi(),BRIDGE_SUPPORT_VUE_2_ONLY:Qi(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Qi(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Qi(),__EXTEND_POINT__:Qi()};function ai(t,...e){return Nf(t,null,void 0)}const Lx=jl("__translateVNode"),kx=jl("__datetimeParts"),Rx=jl("__numberParts"),w9=jl("__setPluralRules"),x9=jl("__injectWithOption"),Dx=jl("__dispose");function im(t){if(!yt(t))return t;for(const e in t)if(In(t,e))if(!e.includes("."))yt(t[e])&&im(t[e]);else{const r=e.split("."),i=r.length-1;let s=t,n=!1;for(let o=0;o<i;o++){if(r[o]==="__proto__")throw new Error(`unsafe key: ${r[o]}`);if(r[o]in s||(s[r[o]]=kt()),!yt(s[r[o]])){n=!0;break}s=s[r[o]]}n||(s[r[i]]=t[e],delete t[e]),yt(s[r[i]])&&im(s[r[i]])}return t}function W1(t,e){const{messages:r,__i18n:i,messageResolver:s,flatJson:n}=e,o=He(r)?r:Zt(i)?kt():{[t]:kt()};if(Zt(i)&&i.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||kt(),U0(c,o[l])):U0(c,o)}else we(a)&&U0(JSON.parse(a),o)}),s==null&&n)for(const a in o)In(o,a)&&im(o[a]);return o}function E9(t){return t.type}function S9(t,e,r){let i=yt(e.messages)?e.messages:kt();"__i18nGlobal"in r&&(i=W1(t.locale.value,{messages:i,__i18n:r.__i18nGlobal}));const s=Object.keys(i);s.length&&s.forEach(n=>{t.mergeLocaleMessage(n,i[n])});{if(yt(e.datetimeFormats)){const n=Object.keys(e.datetimeFormats);n.length&&n.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(yt(e.numberFormats)){const n=Object.keys(e.numberFormats);n.length&&n.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function sO(t){return Ze(_o,null,t,0)}const nO="__INTLIFY_META__",oO=()=>[],Nae=()=>!1;let aO=0;function lO(t){return(e,r,i,s)=>t(r,i,Ur()||void 0,s)}const Pae=()=>{const t=Ur();let e=null;return t&&(e=E9(t)[nO])?{[nO]:e}:null};function J3(t={},e){const{__root:r,__injectWithOption:i}=t,s=r===void 0,n=t.flatJson,o=ov?X:If,a=!!t.translateExistCompatible;let l=it(t.inheritLocale)?t.inheritLocale:!0;const c=o(r&&l?r.locale.value:we(t.locale)?t.locale:tf),f=o(r&&l?r.fallbackLocale.value:we(t.fallbackLocale)||Zt(t.fallbackLocale)||He(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:c.value),d=o(W1(c.value,t)),p=o(He(t.datetimeFormats)?t.datetimeFormats:{[c.value]:{}}),y=o(He(t.numberFormats)?t.numberFormats:{[c.value]:{}});let v=r?r.missingWarn:it(t.missingWarn)||Ol(t.missingWarn)?t.missingWarn:!0,b=r?r.fallbackWarn:it(t.fallbackWarn)||Ol(t.fallbackWarn)?t.fallbackWarn:!0,S=r?r.fallbackRoot:it(t.fallbackRoot)?t.fallbackRoot:!0,E=!!t.fallbackFormat,T=Bt(t.missing)?t.missing:null,w=Bt(t.missing)?lO(t.missing):null,_=Bt(t.postTranslation)?t.postTranslation:null,M=r?r.warnHtmlMessage:it(t.warnHtmlMessage)?t.warnHtmlMessage:!0,$=!!t.escapeParameter;const C=r?r.modifiers:He(t.modifiers)?t.modifiers:{};let P=t.pluralRules||r&&r.pluralRules,N;N=(()=>{s&&J$(null);const H={version:Oae,locale:c.value,fallbackLocale:f.value,messages:d.value,modifiers:C,pluralRules:P,missing:w===null?void 0:w,missingWarn:v,fallbackWarn:b,fallbackFormat:E,unresolving:!0,postTranslation:_===null?void 0:_,warnHtmlMessage:M,escapeParameter:$,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};H.datetimeFormats=p.value,H.numberFormats=y.value,H.__datetimeFormatters=He(N)?N.__datetimeFormatters:void 0,H.__numberFormatters=He(N)?N.__numberFormatters:void 0;const Z=nae(H);return s&&J$(Z),Z})(),Kf(N,c.value,f.value);function q(){return[c.value,f.value,d.value,p.value,y.value]}const U=tt({get:()=>c.value,set:H=>{c.value=H,N.locale=c.value}}),B=tt({get:()=>f.value,set:H=>{f.value=H,N.fallbackLocale=f.value,Kf(N,c.value,H)}}),K=tt(()=>d.value),h=tt(()=>p.value),m=tt(()=>y.value);function x(){return Bt(_)?_:null}function I(H){_=H,N.postTranslation=H}function V(){return T}function Y(H){H!==null&&(w=lO(H)),T=H,N.missing=w}const de=(H,Z,Ae,Le,Ut,qt)=>{q();let hr;try{__INTLIFY_PROD_DEVTOOLS__,s||(N.fallbackContext=r?sae():void 0),hr=H(N)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(N.fallbackContext=void 0)}if(Ae!=="translate exists"&&$r(hr)&&hr===H1||Ae==="translate exists"&&!hr){const[jr,Q]=Z();return r&&S?Le(r):Ut(jr)}else{if(qt(hr))return hr;throw ai(Xr.UNEXPECTED_RETURN_TYPE)}};function oe(...H){return de(Z=>Reflect.apply(Q$,null,[Z,...H]),()=>Cx(...H),"translate",Z=>Reflect.apply(Z.t,Z,[...H]),Z=>Z,Z=>we(Z))}function Me(...H){const[Z,Ae,Le]=H;if(Le&&!yt(Le))throw ai(Xr.INVALID_ARGUMENT);return oe(Z,Ae,gi({resolvedMessage:!0},Le||{}))}function je(...H){return de(Z=>Reflect.apply(eO,null,[Z,...H]),()=>Nx(...H),"datetime format",Z=>Reflect.apply(Z.d,Z,[...H]),()=>H$,Z=>we(Z))}function qe(...H){return de(Z=>Reflect.apply(rO,null,[Z,...H]),()=>Px(...H),"number format",Z=>Reflect.apply(Z.n,Z,[...H]),()=>H$,Z=>we(Z))}function lt(H){return H.map(Z=>we(Z)||$r(Z)||it(Z)?sO(String(Z)):Z)}const It={normalize:lt,interpolate:H=>H,type:"vnode"};function _r(...H){return de(Z=>{let Ae;const Le=Z;try{Le.processor=It,Ae=Reflect.apply(Q$,null,[Le,...H])}finally{Le.processor=null}return Ae},()=>Cx(...H),"translate",Z=>Z[Lx](...H),Z=>[sO(Z)],Z=>Zt(Z))}function Ft(...H){return de(Z=>Reflect.apply(rO,null,[Z,...H]),()=>Px(...H),"number format",Z=>Z[Rx](...H),oO,Z=>we(Z)||Zt(Z))}function nr(...H){return de(Z=>Reflect.apply(eO,null,[Z,...H]),()=>Nx(...H),"datetime format",Z=>Z[kx](...H),oO,Z=>we(Z)||Zt(Z))}function ei(H){P=H,N.pluralRules=P}function j(H,Z){return de(()=>{if(!H)return!1;const Ae=we(Z)?Z:c.value,Le=ae(Ae),Ut=N.messageResolver(Le,H);return a?Ut!=null:rf(Ut)||Qs(Ut)||we(Ut)},()=>[H],"translate exists",Ae=>Reflect.apply(Ae.te,Ae,[H,Z]),Nae,Ae=>it(Ae))}function D(H){let Z=null;const Ae=l9(N,f.value,c.value);for(let Le=0;Le<Ae.length;Le++){const Ut=d.value[Ae[Le]]||{},qt=N.messageResolver(Ut,H);if(qt!=null){Z=qt;break}}return Z}function W(H){const Z=D(H);return Z??(r?r.tm(H)||{}:{})}function ae(H){return d.value[H]||{}}function te(H,Z){if(n){const Ae={[H]:Z};for(const Le in Ae)In(Ae,Le)&&im(Ae[Le]);Z=Ae[H]}d.value[H]=Z,N.messages=d.value}function ue(H,Z){d.value[H]=d.value[H]||{};const Ae={[H]:Z};if(n)for(const Le in Ae)In(Ae,Le)&&im(Ae[Le]);Z=Ae[H],U0(Z,d.value[H]),N.messages=d.value}function ye(H){return p.value[H]||{}}function L(H,Z){p.value[H]=Z,N.datetimeFormats=p.value,tO(N,H,Z)}function k(H,Z){p.value[H]=gi(p.value[H]||{},Z),N.datetimeFormats=p.value,tO(N,H,Z)}function G(H){return y.value[H]||{}}function re(H,Z){y.value[H]=Z,N.numberFormats=y.value,iO(N,H,Z)}function se(H,Z){y.value[H]=gi(y.value[H]||{},Z),N.numberFormats=y.value,iO(N,H,Z)}aO++,r&&ov&&(Zr(r.locale,H=>{l&&(c.value=H,N.locale=H,Kf(N,c.value,f.value))}),Zr(r.fallbackLocale,H=>{l&&(f.value=H,N.fallbackLocale=H,Kf(N,c.value,f.value))}));const ne={id:aO,locale:U,fallbackLocale:B,get inheritLocale(){return l},set inheritLocale(H){l=H,H&&r&&(c.value=r.locale.value,f.value=r.fallbackLocale.value,Kf(N,c.value,f.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:K,get modifiers(){return C},get pluralRules(){return P||{}},get isGlobal(){return s},get missingWarn(){return v},set missingWarn(H){v=H,N.missingWarn=v},get fallbackWarn(){return b},set fallbackWarn(H){b=H,N.fallbackWarn=b},get fallbackRoot(){return S},set fallbackRoot(H){S=H},get fallbackFormat(){return E},set fallbackFormat(H){E=H,N.fallbackFormat=E},get warnHtmlMessage(){return M},set warnHtmlMessage(H){M=H,N.warnHtmlMessage=H},get escapeParameter(){return $},set escapeParameter(H){$=H,N.escapeParameter=H},t:oe,getLocaleMessage:ae,setLocaleMessage:te,mergeLocaleMessage:ue,getPostTranslationHandler:x,setPostTranslationHandler:I,getMissingHandler:V,setMissingHandler:Y,[w9]:ei};return ne.datetimeFormats=h,ne.numberFormats=m,ne.rt=Me,ne.te=j,ne.tm=W,ne.d=je,ne.n=qe,ne.getDateTimeFormat=ye,ne.setDateTimeFormat=L,ne.mergeDateTimeFormat=k,ne.getNumberFormat=G,ne.setNumberFormat=re,ne.mergeNumberFormat=se,ne[x9]=i,ne[Lx]=_r,ne[kx]=nr,ne[Rx]=Ft,ne}function Lae(t){const e=we(t.locale)?t.locale:tf,r=we(t.fallbackLocale)||Zt(t.fallbackLocale)||He(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,i=Bt(t.missing)?t.missing:void 0,s=it(t.silentTranslationWarn)||Ol(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,n=it(t.silentFallbackWarn)||Ol(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=it(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=He(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,f=Bt(t.postTranslation)?t.postTranslation:void 0,d=we(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,p=!!t.escapeParameterHtml,y=it(t.sync)?t.sync:!0;let v=t.messages;if(He(t.sharedMessages)){const $=t.sharedMessages;v=Object.keys($).reduce((P,N)=>{const F=P[N]||(P[N]={});return gi(F,$[N]),P},v||{})}const{__i18n:b,__root:S,__injectWithOption:E}=t,T=t.datetimeFormats,w=t.numberFormats,_=t.flatJson,M=t.translateExistCompatible;return{locale:e,fallbackLocale:r,messages:v,flatJson:_,datetimeFormats:T,numberFormats:w,missing:i,missingWarn:s,fallbackWarn:n,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:f,warnHtmlMessage:d,escapeParameter:p,messageResolver:t.messageResolver,inheritLocale:y,translateExistCompatible:M,__i18n:b,__root:S,__injectWithOption:E}}function Fx(t={},e){{const r=J3(Lae(t)),{__extender:i}=t,s={id:r.id,get locale(){return r.locale.value},set locale(n){r.locale.value=n},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(n){r.fallbackLocale.value=n},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(n){},get missing(){return r.getMissingHandler()},set missing(n){r.setMissingHandler(n)},get silentTranslationWarn(){return it(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(n){r.missingWarn=it(n)?!n:n},get silentFallbackWarn(){return it(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(n){r.fallbackWarn=it(n)?!n:n},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(n){r.fallbackFormat=n},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(n){r.setPostTranslationHandler(n)},get sync(){return r.inheritLocale},set sync(n){r.inheritLocale=n},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(n){r.warnHtmlMessage=n!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(n){r.escapeParameter=n},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(n){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...n){const[o,a,l]=n,c={};let f=null,d=null;if(!we(o))throw ai(Xr.INVALID_ARGUMENT);const p=o;return we(a)?c.locale=a:Zt(a)?f=a:He(a)&&(d=a),Zt(l)?f=l:He(l)&&(d=l),Reflect.apply(r.t,r,[p,f||d||{},c])},rt(...n){return Reflect.apply(r.rt,r,[...n])},tc(...n){const[o,a,l]=n,c={plural:1};let f=null,d=null;if(!we(o))throw ai(Xr.INVALID_ARGUMENT);const p=o;return we(a)?c.locale=a:$r(a)?c.plural=a:Zt(a)?f=a:He(a)&&(d=a),we(l)?c.locale=l:Zt(l)?f=l:He(l)&&(d=l),Reflect.apply(r.t,r,[p,f||d||{},c])},te(n,o){return r.te(n,o)},tm(n){return r.tm(n)},getLocaleMessage(n){return r.getLocaleMessage(n)},setLocaleMessage(n,o){r.setLocaleMessage(n,o)},mergeLocaleMessage(n,o){r.mergeLocaleMessage(n,o)},d(...n){return Reflect.apply(r.d,r,[...n])},getDateTimeFormat(n){return r.getDateTimeFormat(n)},setDateTimeFormat(n,o){r.setDateTimeFormat(n,o)},mergeDateTimeFormat(n,o){r.mergeDateTimeFormat(n,o)},n(...n){return Reflect.apply(r.n,r,[...n])},getNumberFormat(n){return r.getNumberFormat(n)},setNumberFormat(n,o){r.setNumberFormat(n,o)},mergeNumberFormat(n,o){r.mergeNumberFormat(n,o)},getChoiceIndex(n,o){return-1}};return s.__extender=i,s}}const K3={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function kae({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((i,s)=>[...i,...s.type===Lt?s.children:[s]],[]):e.reduce((r,i)=>{const s=t[i];return s&&(r[i]=s()),r},kt())}function A9(t){return Lt}const Rae=st({name:"i18n-t",props:gi({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>$r(t)||!isNaN(t)}},K3),setup(t,e){const{slots:r,attrs:i}=e,s=t.i18n||sr({useScope:t.scope,__useComponent:!0});return()=>{const n=Object.keys(r).filter(d=>d!=="_"),o=kt();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=we(t.plural)?+t.plural:t.plural);const a=kae(e,n),l=s[Lx](t.keypath,a,o),c=gi(kt(),i),f=we(t.tag)||yt(t.tag)?t.tag:A9();return rn(f,c,l)}}}),cO=Rae;function Dae(t){return Zt(t)&&!we(t[0])}function T9(t,e,r,i){const{slots:s,attrs:n}=e;return()=>{const o={part:!0};let a=kt();t.locale&&(o.locale=t.locale),we(t.format)?o.key=t.format:yt(t.format)&&(we(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((p,y)=>r.includes(y)?gi(kt(),p,{[y]:t.format[y]}):p,kt()));const l=i(t.value,o,a);let c=[o.key];Zt(l)?c=l.map((p,y)=>{const v=s[p.type],b=v?v({[p.type]:p.value,index:y,parts:l}):[p.value];return Dae(b)&&(b[0].key=`${p.type}-${y}`),b}):we(l)&&(c=[l]);const f=gi(kt(),n),d=we(t.tag)||yt(t.tag)?t.tag:A9();return rn(d,f,c)}}const Fae=st({name:"i18n-n",props:gi({value:{type:Number,required:!0},format:{type:[String,Object]}},K3),setup(t,e){const r=t.i18n||sr({useScope:t.scope,__useComponent:!0});return T9(t,e,b9,(...i)=>r[Rx](...i))}}),uO=Fae,Uae=st({name:"i18n-d",props:gi({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},K3),setup(t,e){const r=t.i18n||sr({useScope:t.scope,__useComponent:!0});return T9(t,e,v9,(...i)=>r[kx](...i))}}),hO=Uae;function jae(t,e){const r=t;if(t.mode==="composition")return r.__getInstance(e)||t.global;{const i=r.__getInstance(e);return i!=null?i.__composer:t.global.__composer}}function Bae(t){const e=o=>{const{instance:a,modifiers:l,value:c}=o;if(!a||!a.$)throw ai(Xr.UNEXPECTED_ERROR);const f=jae(t,a.$),d=fO(c);return[Reflect.apply(f.t,f,[...dO(d)]),f]};return{created:(o,a)=>{const[l,c]=e(a);ov&&t.global===c&&(o.__i18nWatcher=Zr(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{ov&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=fO(a);o.textContent=Reflect.apply(l.t,l,[...dO(c)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function fO(t){if(we(t))return{path:t};if(He(t)){if(!("path"in t))throw ai(Xr.REQUIRED_VALUE,"path");return t}else throw ai(Xr.INVALID_VALUE)}function dO(t){const{path:e,locale:r,args:i,choice:s,plural:n}=t,o={},a=i||{};return we(r)&&(o.locale=r),$r(s)&&(o.plural=s),$r(n)&&(o.plural=n),[e,a,o]}function Vae(t,e,...r){const i=He(r[0])?r[0]:{},s=!!i.useI18nComponentName;(it(i.globalInstall)?i.globalInstall:!0)&&([s?"i18n":cO.name,"I18nT"].forEach(o=>t.component(o,cO)),[uO.name,"I18nN"].forEach(o=>t.component(o,uO)),[hO.name,"I18nD"].forEach(o=>t.component(o,hO))),t.directive("t",Bae(e))}function Gae(t,e,r){return{beforeCreate(){const i=Ur();if(!i)throw ai(Xr.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const n=s.i18n;if(s.__i18n&&(n.__i18n=s.__i18n),n.__root=e,this===this.$root)this.$i18n=pO(t,n);else{n.__injectWithOption=!0,n.__extender=r.__vueI18nExtend,this.$i18n=Fx(n);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=pO(t,s);else{this.$i18n=Fx({__i18n:s.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:e});const n=this.$i18n;n.__extender&&(n.__disposer=n.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&S9(e,s,s),this.$t=(...n)=>this.$i18n.t(...n),this.$rt=(...n)=>this.$i18n.rt(...n),this.$tc=(...n)=>this.$i18n.tc(...n),this.$te=(n,o)=>this.$i18n.te(n,o),this.$d=(...n)=>this.$i18n.d(...n),this.$n=(...n)=>this.$i18n.n(...n),this.$tm=n=>this.$i18n.tm(n),r.__setInstance(i,this.$i18n)},mounted(){},unmounted(){const i=Ur();if(!i)throw ai(Xr.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),r.__deleteInstance(i),delete this.$i18n}}}function pO(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[w9](e.pluralizationRules||t.pluralizationRules);const r=W1(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(i=>t.mergeLocaleMessage(i,r[i])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(i=>t.mergeDateTimeFormat(i,e.datetimeFormats[i])),e.numberFormats&&Object.keys(e.numberFormats).forEach(i=>t.mergeNumberFormat(i,e.numberFormats[i])),t}const zae=jl("global-vue-i18n");function qae(t={},e){const r=__VUE_I18N_LEGACY_API__&&it(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,i=it(t.globalInjection)?t.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&r?!!t.allowComposition:!0,n=new Map,[o,a]=Hae(t,r),l=jl("");function c(p){return n.get(p)||null}function f(p,y){n.set(p,y)}function d(p){n.delete(p)}{const p={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return s},async install(y,...v){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,p),He(v[0])){const E=v[0];p.__composerExtend=E.__composerExtend,p.__vueI18nExtend=E.__vueI18nExtend}let b=null;!r&&i&&(b=tle(y,p.global)),__VUE_I18N_FULL_INSTALL__&&Vae(y,p,...v),__VUE_I18N_LEGACY_API__&&r&&y.mixin(Gae(a,a.__composer,p));const S=y.unmount;y.unmount=()=>{b&&b(),p.dispose(),S()}},get global(){return a},dispose(){o.stop()},__instances:n,__getInstance:c,__setInstance:f,__deleteInstance:d};return p}}function sr(t={}){const e=Ur();if(e==null)throw ai(Xr.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw ai(Xr.NOT_INSTALLED);const r=Wae(e),i=Jae(r),s=E9(e),n=Yae(t,s);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!t.__useComponent){if(!r.allowComposition)throw ai(Xr.NOT_AVAILABLE_IN_LEGACY_MODE);return Qae(e,n,i,t)}if(n==="global")return S9(i,t,s),i;if(n==="parent"){let l=Kae(r,e,t.__useComponent);return l==null&&(l=i),l}const o=r;let a=o.__getInstance(e);if(a==null){const l=gi({},t);"__i18n"in s&&(l.__i18n=s.__i18n),i&&(l.__root=i),a=J3(l),o.__composerExtend&&(a[Dx]=o.__composerExtend(a)),Xae(o,e,a),o.__setInstance(e,a)}return a}function Hae(t,e,r){const i=Lm();{const s=__VUE_I18N_LEGACY_API__&&e?i.run(()=>Fx(t)):i.run(()=>J3(t));if(s==null)throw ai(Xr.UNEXPECTED_ERROR);return[i,s]}}function Wae(t){{const e=Fr(t.isCE?zae:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw ai(t.isCE?Xr.NOT_INSTALLED_WITH_PROVIDE:Xr.UNEXPECTED_ERROR);return e}}function Yae(t,e){return z1(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function Jae(t){return t.mode==="composition"?t.global:t.global.__composer}function Kae(t,e,r=!1){let i=null;const s=e.root;let n=Zae(e,r);for(;n!=null;){const o=t;if(t.mode==="composition")i=o.__getInstance(n);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(n);a!=null&&(i=a.__composer,r&&i&&!i[x9]&&(i=null))}if(i!=null||s===n)break;n=n.parent}return i}function Zae(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function Xae(t,e,r){vi(()=>{},e),du(()=>{const i=r;t.__deleteInstance(e);const s=i[Dx];s&&(s(),delete i[Dx])},e)}function Qae(t,e,r,i={}){const s=e==="local",n=If(null);if(s&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw ai(Xr.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=it(i.inheritLocale)?i.inheritLocale:!we(i.locale),a=X(!s||o?r.locale.value:we(i.locale)?i.locale:tf),l=X(!s||o?r.fallbackLocale.value:we(i.fallbackLocale)||Zt(i.fallbackLocale)||He(i.fallbackLocale)||i.fallbackLocale===!1?i.fallbackLocale:a.value),c=X(W1(a.value,i)),f=X(He(i.datetimeFormats)?i.datetimeFormats:{[a.value]:{}}),d=X(He(i.numberFormats)?i.numberFormats:{[a.value]:{}}),p=s?r.missingWarn:it(i.missingWarn)||Ol(i.missingWarn)?i.missingWarn:!0,y=s?r.fallbackWarn:it(i.fallbackWarn)||Ol(i.fallbackWarn)?i.fallbackWarn:!0,v=s?r.fallbackRoot:it(i.fallbackRoot)?i.fallbackRoot:!0,b=!!i.fallbackFormat,S=Bt(i.missing)?i.missing:null,E=Bt(i.postTranslation)?i.postTranslation:null,T=s?r.warnHtmlMessage:it(i.warnHtmlMessage)?i.warnHtmlMessage:!0,w=!!i.escapeParameter,_=s?r.modifiers:He(i.modifiers)?i.modifiers:{},M=i.pluralRules||s&&r.pluralRules;function $(){return[a.value,l.value,c.value,f.value,d.value]}const C=tt({get:()=>n.value?n.value.locale.value:a.value,set:D=>{n.value&&(n.value.locale.value=D),a.value=D}}),P=tt({get:()=>n.value?n.value.fallbackLocale.value:l.value,set:D=>{n.value&&(n.value.fallbackLocale.value=D),l.value=D}}),N=tt(()=>n.value?n.value.messages.value:c.value),F=tt(()=>f.value),q=tt(()=>d.value);function U(){return n.value?n.value.getPostTranslationHandler():E}function B(D){n.value&&n.value.setPostTranslationHandler(D)}function K(){return n.value?n.value.getMissingHandler():S}function h(D){n.value&&n.value.setMissingHandler(D)}function m(D){return $(),D()}function x(...D){return n.value?m(()=>Reflect.apply(n.value.t,null,[...D])):m(()=>"")}function I(...D){return n.value?Reflect.apply(n.value.rt,null,[...D]):""}function V(...D){return n.value?m(()=>Reflect.apply(n.value.d,null,[...D])):m(()=>"")}function Y(...D){return n.value?m(()=>Reflect.apply(n.value.n,null,[...D])):m(()=>"")}function de(D){return n.value?n.value.tm(D):{}}function oe(D,W){return n.value?n.value.te(D,W):!1}function Me(D){return n.value?n.value.getLocaleMessage(D):{}}function je(D,W){n.value&&(n.value.setLocaleMessage(D,W),c.value[D]=W)}function qe(D,W){n.value&&n.value.mergeLocaleMessage(D,W)}function lt(D){return n.value?n.value.getDateTimeFormat(D):{}}function zt(D,W){n.value&&(n.value.setDateTimeFormat(D,W),f.value[D]=W)}function It(D,W){n.value&&n.value.mergeDateTimeFormat(D,W)}function _r(D){return n.value?n.value.getNumberFormat(D):{}}function Ft(D,W){n.value&&(n.value.setNumberFormat(D,W),d.value[D]=W)}function nr(D,W){n.value&&n.value.mergeNumberFormat(D,W)}const ei={get id(){return n.value?n.value.id:-1},locale:C,fallbackLocale:P,messages:N,datetimeFormats:F,numberFormats:q,get inheritLocale(){return n.value?n.value.inheritLocale:o},set inheritLocale(D){n.value&&(n.value.inheritLocale=D)},get availableLocales(){return n.value?n.value.availableLocales:Object.keys(c.value)},get modifiers(){return n.value?n.value.modifiers:_},get pluralRules(){return n.value?n.value.pluralRules:M},get isGlobal(){return n.value?n.value.isGlobal:!1},get missingWarn(){return n.value?n.value.missingWarn:p},set missingWarn(D){n.value&&(n.value.missingWarn=D)},get fallbackWarn(){return n.value?n.value.fallbackWarn:y},set fallbackWarn(D){n.value&&(n.value.missingWarn=D)},get fallbackRoot(){return n.value?n.value.fallbackRoot:v},set fallbackRoot(D){n.value&&(n.value.fallbackRoot=D)},get fallbackFormat(){return n.value?n.value.fallbackFormat:b},set fallbackFormat(D){n.value&&(n.value.fallbackFormat=D)},get warnHtmlMessage(){return n.value?n.value.warnHtmlMessage:T},set warnHtmlMessage(D){n.value&&(n.value.warnHtmlMessage=D)},get escapeParameter(){return n.value?n.value.escapeParameter:w},set escapeParameter(D){n.value&&(n.value.escapeParameter=D)},t:x,getPostTranslationHandler:U,setPostTranslationHandler:B,getMissingHandler:K,setMissingHandler:h,rt:I,d:V,n:Y,tm:de,te:oe,getLocaleMessage:Me,setLocaleMessage:je,mergeLocaleMessage:qe,getDateTimeFormat:lt,setDateTimeFormat:zt,mergeDateTimeFormat:It,getNumberFormat:_r,setNumberFormat:Ft,mergeNumberFormat:nr};function j(D){D.locale.value=a.value,D.fallbackLocale.value=l.value,Object.keys(c.value).forEach(W=>{D.mergeLocaleMessage(W,c.value[W])}),Object.keys(f.value).forEach(W=>{D.mergeDateTimeFormat(W,f.value[W])}),Object.keys(d.value).forEach(W=>{D.mergeNumberFormat(W,d.value[W])}),D.escapeParameter=w,D.fallbackFormat=b,D.fallbackRoot=v,D.fallbackWarn=y,D.missingWarn=p,D.warnHtmlMessage=T}return O1(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw ai(Xr.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const D=n.value=t.proxy.$i18n.__composer;e==="global"?(a.value=D.locale.value,l.value=D.fallbackLocale.value,c.value=D.messages.value,f.value=D.datetimeFormats.value,d.value=D.numberFormats.value):s&&j(D)}),ei}const ele=["locale","fallbackLocale","availableLocales"],mO=["t","rt","d","n","tm","te"];function tle(t,e){const r=Object.create(null);return ele.forEach(s=>{const n=Object.getOwnPropertyDescriptor(e,s);if(!n)throw ai(Xr.UNEXPECTED_ERROR);const o=dt(n.value)?{get(){return n.value.value},set(a){n.value.value=a}}:{get(){return n.get&&n.get()}};Object.defineProperty(r,s,o)}),t.config.globalProperties.$i18n=r,mO.forEach(s=>{const n=Object.getOwnPropertyDescriptor(e,s);if(!n||!n.value)throw ai(Xr.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,n)}),()=>{delete t.config.globalProperties.$i18n,mO.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}Iae();__INTLIFY_JIT_COMPILATION__?Y$(Sae):Y$(Eae);eae(Loe);tae(l9);if(__INTLIFY_PROD_DEVTOOLS__){const t=ua();t.__INTLIFY__=!0,Goe(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const rle={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","ramp.reload":"Reload RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"Franais","map.language.curr":"current","map.export":"export map","map.layerSwipe.drag":"Drag and slide to move","map.layerSwipe.label":"Layer swipe","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"franais","lang-native":"Franais","ramp.about.open":"Ouvrir  propos de PCAR","ramp.about":" propos de PCAR","ramp.reload":"Recharger PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous dplacer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un lment de la liste est slectionn, vous pouvez appuyer sur  Espace  ou  Entre  pour cliquer sur l'lment. Vous pouvez galement vous dplacer au sein de l'lment de la liste au moyen de la touche  Tab .","keyboardInstructions.map":"Lorsque la carte est slectionne, utilisez le pav curseur pour vous dplacer et appuyez sur  Entre   pour slectionner un point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer  l'chelle mtrique","map.toggleScaleToImperial":"Passer  l'chelle impriale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"Franais","map.language.curr":"actuel","map.export":"exporter la carte","map.layerSwipe.drag":"Faites glisser et glissez pour dplacer","map.layerSwipe.label":"Glissement de calque","notifications.open":"Ouvrir la fentre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"Dvelopper","notifications.controls.collapse":"Rduire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur Entre ou sur la barre d'espacement pour accder au panneau","panels.controls.close":"Fermer","panels.controls.pin":"pingler","panels.controls.unpin":"Dspingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"Rduire","panels.controls.expand":"Dvelopper","panels.controls.collapse":"Rduire","panels.controls.moveRight":"Aller  droite","panels.controls.moveLeft":"Aller  gauche","panels.controls.items":"Utilisez les touches flches pour naviguer entre les lments","panels.alert.open":"Fentre {name} ouverte","panels.alert.close":"Fentre {name} ferme","panels.alert.minimize":"Fentre {name} rduite","layer.error":"chec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que prvu","layer.longdraw":"{id} prend plus de temps que prvu  extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont t dsactivs pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement dsactiv.","layer.noexportmap":"La tentative dajouter {name} comme couche dimagerie cartographique a choue car elle na pu tre activ pour ce service","caption.attributionDefaultText":"Propuls par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home"}},yO="en",ile={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function sle(){return qae({legacy:!1,locale:document.documentElement.getAttribute("lang")||yO,fallbackLocale:yO,globalInjection:!0,messages:rle,numberFormats:ile})}var v_={exports:{}};/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/var gO;function nle(){return gO||(gO=1,function(t){(function(){var e=typeof window<"u"&&typeof window.document<"u"?window.document:{},r=t.exports,i=function(){for(var o,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,c=a.length,f={};l<c;l++)if(o=a[l],o&&o[1]in e){for(l=0;l<o.length;l++)f[a[0][l]]=o[l];return f}return!1}(),s={change:i.fullscreenchange,error:i.fullscreenerror},n={request:function(o){return new Promise(function(a,l){var c=function(){this.off("change",c),a()}.bind(this);this.on("change",c),o=o||e.documentElement;var f=o[i.requestFullscreen]();f instanceof Promise&&f.then(c).catch(l)}.bind(this))},exit:function(){return new Promise(function(o,a){if(!this.isFullscreen){o();return}var l=function(){this.off("change",l),o()}.bind(this);this.on("change",l);var c=e[i.exitFullscreen]();c instanceof Promise&&c.then(l).catch(a)}.bind(this))},toggle:function(o){return this.isFullscreen?this.exit():this.request(o)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,a){var l=s[o];l&&e.addEventListener(l,a,!1)},off:function(o,a){var l=s[o];l&&e.removeEventListener(l,a,!1)},raw:i};if(!i){r?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(n,{isFullscreen:{get:function(){return!!e[i.fullscreenElement]}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!e[i.fullscreenEnabled]}}}),r?t.exports=n:window.screenfull=n})()}(v_)),v_.exports}var ole=nle();const eo=h1(ole);var Id={exports:{}};Id.exports;var vO;function ale(){return vO||(vO=1,function(t,e){var r=200,i="__lodash_hash_undefined__",s=9007199254740991,n="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",y="[object Number]",v="[object Object]",b="[object Promise]",S="[object RegExp]",E="[object Set]",T="[object String]",w="[object Symbol]",_="[object WeakMap]",M="[object ArrayBuffer]",$="[object DataView]",C="[object Float32Array]",P="[object Float64Array]",N="[object Int8Array]",F="[object Int16Array]",q="[object Int32Array]",U="[object Uint8Array]",B="[object Uint8ClampedArray]",K="[object Uint16Array]",h="[object Uint32Array]",m=/[\\^$.*+?()[\]{}|]/g,x=/\w*$/,I=/^\[object .+?Constructor\]$/,V=/^(?:0|[1-9]\d*)$/,Y={};Y[n]=Y[o]=Y[M]=Y[$]=Y[a]=Y[l]=Y[C]=Y[P]=Y[N]=Y[F]=Y[q]=Y[p]=Y[y]=Y[v]=Y[S]=Y[E]=Y[T]=Y[w]=Y[U]=Y[B]=Y[K]=Y[h]=!0,Y[c]=Y[f]=Y[_]=!1;var de=typeof gy=="object"&&gy&&gy.Object===Object&&gy,oe=typeof self=="object"&&self&&self.Object===Object&&self,Me=de||oe||Function("return this")(),je=e&&!e.nodeType&&e,qe=je&&!0&&t&&!t.nodeType&&t,lt=qe&&qe.exports===je;function zt(R,J){return R.set(J[0],J[1]),R}function It(R,J){return R.add(J),R}function _r(R,J){for(var le=-1,Ne=R?R.length:0;++le<Ne&&J(R[le],le,R)!==!1;);return R}function Ft(R,J){for(var le=-1,Ne=J.length,ci=R.length;++le<Ne;)R[ci+le]=J[le];return R}function nr(R,J,le,Ne){for(var ci=-1,Zi=R?R.length:0;++ci<Zi;)le=J(le,R[ci],ci,R);return le}function ei(R,J){for(var le=-1,Ne=Array(R);++le<R;)Ne[le]=J(le);return Ne}function j(R,J){return R?.[J]}function D(R){var J=!1;if(R!=null&&typeof R.toString!="function")try{J=!!(R+"")}catch{}return J}function W(R){var J=-1,le=Array(R.size);return R.forEach(function(Ne,ci){le[++J]=[ci,Ne]}),le}function ae(R,J){return function(le){return R(J(le))}}function te(R){var J=-1,le=Array(R.size);return R.forEach(function(Ne){le[++J]=Ne}),le}var ue=Array.prototype,ye=Function.prototype,L=Object.prototype,k=Me["__core-js_shared__"],G=function(){var R=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""}(),re=ye.toString,se=L.hasOwnProperty,ne=L.toString,H=RegExp("^"+re.call(se).replace(m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z=lt?Me.Buffer:void 0,Ae=Me.Symbol,Le=Me.Uint8Array,Ut=ae(Object.getPrototypeOf,Object),qt=Object.create,hr=L.propertyIsEnumerable,jr=ue.splice,Q=Object.getOwnPropertySymbols,Te=Z?Z.isBuffer:void 0,Oe=ae(Object.keys,Object),Ye=_u(Me,"DataView"),Xe=_u(Me,"Map"),Br=_u(Me,"Promise"),bi=_u(Me,"Set"),Kn=_u(Me,"WeakMap"),Sa=_u(Object,"create"),ko=Yl(Ye),Pf=Yl(Xe),yu=Yl(Br),Aa=Yl(bi),nb=Yl(Kn),gu=Ae?Ae.prototype:void 0,ql=gu?gu.valueOf:void 0;function Hl(R){var J=-1,le=R?R.length:0;for(this.clear();++J<le;){var Ne=R[J];this.set(Ne[0],Ne[1])}}function H7(){this.__data__=Sa?Sa(null):{}}function W7(R){return this.has(R)&&delete this.__data__[R]}function Y7(R){var J=this.__data__;if(Sa){var le=J[R];return le===i?void 0:le}return se.call(J,R)?J[R]:void 0}function J7(R){var J=this.__data__;return Sa?J[R]!==void 0:se.call(J,R)}function K7(R,J){var le=this.__data__;return le[R]=Sa&&J===void 0?i:J,this}Hl.prototype.clear=H7,Hl.prototype.delete=W7,Hl.prototype.get=Y7,Hl.prototype.has=J7,Hl.prototype.set=K7;function Ro(R){var J=-1,le=R?R.length:0;for(this.clear();++J<le;){var Ne=R[J];this.set(Ne[0],Ne[1])}}function Z7(){this.__data__=[]}function X7(R){var J=this.__data__,le=Km(J,R);if(le<0)return!1;var Ne=J.length-1;return le==Ne?J.pop():jr.call(J,le,1),!0}function Q7(R){var J=this.__data__,le=Km(J,R);return le<0?void 0:J[le][1]}function eD(R){return Km(this.__data__,R)>-1}function tD(R,J){var le=this.__data__,Ne=Km(le,R);return Ne<0?le.push([R,J]):le[Ne][1]=J,this}Ro.prototype.clear=Z7,Ro.prototype.delete=X7,Ro.prototype.get=Q7,Ro.prototype.has=eD,Ro.prototype.set=tD;function vu(R){var J=-1,le=R?R.length:0;for(this.clear();++J<le;){var Ne=R[J];this.set(Ne[0],Ne[1])}}function rD(){this.__data__={hash:new Hl,map:new(Xe||Ro),string:new Hl}}function iD(R){return Zm(this,R).delete(R)}function sD(R){return Zm(this,R).get(R)}function nD(R){return Zm(this,R).has(R)}function oD(R,J){return Zm(this,R).set(R,J),this}vu.prototype.clear=rD,vu.prototype.delete=iD,vu.prototype.get=sD,vu.prototype.has=nD,vu.prototype.set=oD;function bu(R){this.__data__=new Ro(R)}function aD(){this.__data__=new Ro}function lD(R){return this.__data__.delete(R)}function cD(R){return this.__data__.get(R)}function uD(R){return this.__data__.has(R)}function hD(R,J){var le=this.__data__;if(le instanceof Ro){var Ne=le.__data__;if(!Xe||Ne.length<r-1)return Ne.push([R,J]),this;le=this.__data__=new vu(Ne)}return le.set(R,J),this}bu.prototype.clear=aD,bu.prototype.delete=lD,bu.prototype.get=cD,bu.prototype.has=uD,bu.prototype.set=hD;function fD(R,J){var le=lb(R)||RD(R)?ei(R.length,String):[],Ne=le.length,ci=!!Ne;for(var Zi in R)se.call(R,Zi)&&!(ci&&(Zi=="length"||ND(Zi,Ne)))&&le.push(Zi);return le}function BA(R,J,le){var Ne=R[J];(!(se.call(R,J)&&qA(Ne,le))||le===void 0&&!(J in R))&&(R[J]=le)}function Km(R,J){for(var le=R.length;le--;)if(qA(R[le][0],J))return le;return-1}function dD(R,J){return R&&VA(J,cb(J),R)}function ob(R,J,le,Ne,ci,Zi,Do){var Xi;if(Ne&&(Xi=Zi?Ne(R,ci,Zi,Do):Ne(R)),Xi!==void 0)return Xi;if(!Xm(R))return R;var YA=lb(R);if(YA){if(Xi=OD(R),!J)return TD(R,Xi)}else{var wu=Wl(R),JA=wu==f||wu==d;if(FD(R))return bD(R,J);if(wu==v||wu==n||JA&&!Zi){if(D(R))return Zi?R:{};if(Xi=ID(JA?{}:R),!J)return MD(R,dD(Xi,R))}else{if(!Y[wu])return Zi?R:{};Xi=CD(R,wu,ob,J)}}Do||(Do=new bu);var KA=Do.get(R);if(KA)return KA;if(Do.set(R,Xi),!YA)var ZA=le?$D(R):cb(R);return _r(ZA||R,function(ub,Qm){ZA&&(Qm=ub,ub=R[Qm]),BA(Xi,Qm,ob(ub,J,le,Ne,Qm,R,Do))}),Xi}function pD(R){return Xm(R)?qt(R):{}}function mD(R,J,le){var Ne=J(R);return lb(R)?Ne:Ft(Ne,le(R))}function yD(R){return ne.call(R)}function gD(R){if(!Xm(R)||LD(R))return!1;var J=WA(R)||D(R)?H:I;return J.test(Yl(R))}function vD(R){if(!zA(R))return Oe(R);var J=[];for(var le in Object(R))se.call(R,le)&&le!="constructor"&&J.push(le);return J}function bD(R,J){if(J)return R.slice();var le=new R.constructor(R.length);return R.copy(le),le}function ab(R){var J=new R.constructor(R.byteLength);return new Le(J).set(new Le(R)),J}function _D(R,J){var le=J?ab(R.buffer):R.buffer;return new R.constructor(le,R.byteOffset,R.byteLength)}function wD(R,J,le){var Ne=J?le(W(R),!0):W(R);return nr(Ne,zt,new R.constructor)}function xD(R){var J=new R.constructor(R.source,x.exec(R));return J.lastIndex=R.lastIndex,J}function ED(R,J,le){var Ne=J?le(te(R),!0):te(R);return nr(Ne,It,new R.constructor)}function SD(R){return ql?Object(ql.call(R)):{}}function AD(R,J){var le=J?ab(R.buffer):R.buffer;return new R.constructor(le,R.byteOffset,R.length)}function TD(R,J){var le=-1,Ne=R.length;for(J||(J=Array(Ne));++le<Ne;)J[le]=R[le];return J}function VA(R,J,le,Ne){le||(le={});for(var ci=-1,Zi=J.length;++ci<Zi;){var Do=J[ci],Xi=void 0;BA(le,Do,Xi===void 0?R[Do]:Xi)}return le}function MD(R,J){return VA(R,GA(R),J)}function $D(R){return mD(R,cb,GA)}function Zm(R,J){var le=R.__data__;return PD(J)?le[typeof J=="string"?"string":"hash"]:le.map}function _u(R,J){var le=j(R,J);return gD(le)?le:void 0}var GA=Q?ae(Q,Object):BD,Wl=yD;(Ye&&Wl(new Ye(new ArrayBuffer(1)))!=$||Xe&&Wl(new Xe)!=p||Br&&Wl(Br.resolve())!=b||bi&&Wl(new bi)!=E||Kn&&Wl(new Kn)!=_)&&(Wl=function(R){var J=ne.call(R),le=J==v?R.constructor:void 0,Ne=le?Yl(le):void 0;if(Ne)switch(Ne){case ko:return $;case Pf:return p;case yu:return b;case Aa:return E;case nb:return _}return J});function OD(R){var J=R.length,le=R.constructor(J);return J&&typeof R[0]=="string"&&se.call(R,"index")&&(le.index=R.index,le.input=R.input),le}function ID(R){return typeof R.constructor=="function"&&!zA(R)?pD(Ut(R)):{}}function CD(R,J,le,Ne){var ci=R.constructor;switch(J){case M:return ab(R);case a:case l:return new ci(+R);case $:return _D(R,Ne);case C:case P:case N:case F:case q:case U:case B:case K:case h:return AD(R,Ne);case p:return wD(R,Ne,le);case y:case T:return new ci(R);case S:return xD(R);case E:return ED(R,Ne,le);case w:return SD(R)}}function ND(R,J){return J=J??s,!!J&&(typeof R=="number"||V.test(R))&&R>-1&&R%1==0&&R<J}function PD(R){var J=typeof R;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?R!=="__proto__":R===null}function LD(R){return!!G&&G in R}function zA(R){var J=R&&R.constructor,le=typeof J=="function"&&J.prototype||L;return R===le}function Yl(R){if(R!=null){try{return re.call(R)}catch{}try{return R+""}catch{}}return""}function kD(R){return ob(R,!0,!0)}function qA(R,J){return R===J||R!==R&&J!==J}function RD(R){return DD(R)&&se.call(R,"callee")&&(!hr.call(R,"callee")||ne.call(R)==n)}var lb=Array.isArray;function HA(R){return R!=null&&UD(R.length)&&!WA(R)}function DD(R){return jD(R)&&HA(R)}var FD=Te||VD;function WA(R){var J=Xm(R)?ne.call(R):"";return J==f||J==d}function UD(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=s}function Xm(R){var J=typeof R;return!!R&&(J=="object"||J=="function")}function jD(R){return!!R&&typeof R=="object"}function cb(R){return HA(R)?fD(R):vD(R)}function BD(){return[]}function VD(){return!1}t.exports=kD}(Id,Id.exports)),Id.exports}var lle=ale();const bO=h1(lle),lv=ur("maptip",()=>{const t=X(void 0),e=X(void 0),r=X("");function i(o){t.value=o}function s(o){e.value=o}function n(o){r.value=o}return{maptipInstance:t,maptipPoint:e,content:r,setMaptipInstance:i,setMaptipPoint:s,setMaptipContent:n}}),cle=st({__name:"esri-map",setup(t){const e=lv(),r=Fr("iApi"),i=tt(()=>e.maptipPoint),s=tt(()=>e.maptipInstance),n=tt(()=>e.content),o=li([]),a=X(!1);o.push(Zr(i,()=>{if(i.value){const c=r.geo.map.getPixelWidth()/2,f=0,d=r.geo.map.mapPointToScreenPoint(i.value),p=d.screenX-c,y=f-d.screenY;s.value.setProps({offset:a.value?[p,y+25]:[p,y]}),n.value&&n.value!==""&&s.value.show()}else s.value.hide()})),o.push(Zr(n,c=>{c&&c!==""&&i?(s.value.setContent(c),s.value.show()):s.value.hide()})),Yn(()=>{o.forEach(c=>c())});const l=()=>{r.geo.map.setMouseFocus()};return(c,f)=>{const d=Ot("tippy");return $t((fe(),xe("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:l,onTouchstart:f[0]||(f[0]=p=>a.value=!0),onTouchend:f[1]||(f[1]=p=>a.value=!1),onKeydown:f[2]||(f[2]=x3(Bm(()=>{},["prevent"]),["up","down","left","right"]))},null,544)),[[d,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var M9={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},Z3={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},ule=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],cv={CSS:{},springs:{}};function yo(t,e,r){return Math.min(Math.max(t,e),r)}function sp(t,e){return t.indexOf(e)>-1}function b_(t,e){return t.apply(null,e)}var Re={arr:function(t){return Array.isArray(t)},obj:function(t){return sp(Object.prototype.toString.call(t),"Object")},pth:function(t){return Re.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||Re.svg(t)},str:function(t){return typeof t=="string"},fnc:function(t){return typeof t=="function"},und:function(t){return typeof t>"u"},nil:function(t){return Re.und(t)||t===null},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return Re.hex(t)||Re.rgb(t)||Re.hsl(t)},key:function(t){return!M9.hasOwnProperty(t)&&!Z3.hasOwnProperty(t)&&t!=="targets"&&t!=="keyframes"}};function $9(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(r){return parseFloat(r)}):[]}function O9(t,e){var r=$9(t),i=yo(Re.und(r[0])?1:r[0],.1,100),s=yo(Re.und(r[1])?100:r[1],.1,100),n=yo(Re.und(r[2])?10:r[2],.1,100),o=yo(Re.und(r[3])?0:r[3],.1,100),a=Math.sqrt(s/i),l=n/(2*Math.sqrt(s*i)),c=l<1?a*Math.sqrt(1-l*l):0,f=1,d=l<1?(l*a+-o)/c:-o+a;function p(v){var b=e?e*v/1e3:v;return l<1?b=Math.exp(-b*l*a)*(f*Math.cos(c*b)+d*Math.sin(c*b)):b=(f+d*b)*Math.exp(-b*a),v===0||v===1?v:1-b}function y(){var v=cv.springs[t];if(v)return v;for(var b=1/6,S=0,E=0;;)if(S+=b,p(S)===1){if(E++,E>=16)break}else E=0;var T=S*b*1e3;return cv.springs[t]=T,T}return e?p:y}function hle(t){return t===void 0&&(t=10),function(e){return Math.ceil(yo(e,1e-6,1)*t)*(1/t)}}var fle=function(){var t=11,e=1/(t-1);function r(f,d){return 1-3*d+3*f}function i(f,d){return 3*d-6*f}function s(f){return 3*f}function n(f,d,p){return((r(d,p)*f+i(d,p))*f+s(d))*f}function o(f,d,p){return 3*r(d,p)*f*f+2*i(d,p)*f+s(d)}function a(f,d,p,y,v){var b,S,E=0;do S=d+(p-d)/2,b=n(S,y,v)-f,b>0?p=S:d=S;while(Math.abs(b)>1e-7&&++E<10);return S}function l(f,d,p,y){for(var v=0;v<4;++v){var b=o(d,p,y);if(b===0)return d;var S=n(d,p,y)-f;d-=S/b}return d}function c(f,d,p,y){if(!(0<=f&&f<=1&&0<=p&&p<=1))return;var v=new Float32Array(t);if(f!==d||p!==y)for(var b=0;b<t;++b)v[b]=n(b*e,f,p);function S(E){for(var T=0,w=1,_=t-1;w!==_&&v[w]<=E;++w)T+=e;--w;var M=(E-v[w])/(v[w+1]-v[w]),$=T+M*e,C=o($,f,p);return C>=.001?l(E,$,f,p):C===0?$:a(E,T,T+e,f,p)}return function(E){return f===d&&p===y||E===0||E===1?E:n(S(E),d,y)}}return c}(),I9=function(){var t={linear:function(){return function(i){return i}}},e={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var s,n=4;i<((s=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((s*3-2)/22-i,2)}},Elastic:function(i,s){i===void 0&&(i=1),s===void 0&&(s=.5);var n=yo(i,1,10),o=yo(s,.1,2);return function(a){return a===0||a===1?a:-n*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/n))*(Math.PI*2)/o)}}},r=["Quad","Cubic","Quart","Quint","Expo"];return r.forEach(function(i,s){e[i]=function(){return function(n){return Math.pow(n,s+2)}}}),Object.keys(e).forEach(function(i){var s=e[i];t["easeIn"+i]=s,t["easeOut"+i]=function(n,o){return function(a){return 1-s(n,o)(1-a)}},t["easeInOut"+i]=function(n,o){return function(a){return a<.5?s(n,o)(a*2)/2:1-s(n,o)(a*-2+2)/2}},t["easeOutIn"+i]=function(n,o){return function(a){return a<.5?(1-s(n,o)(1-a*2))/2:(s(n,o)(a*2-1)+1)/2}}}),t}();function X3(t,e){if(Re.fnc(t))return t;var r=t.split("(")[0],i=I9[r],s=$9(t);switch(r){case"spring":return O9(t,e);case"cubicBezier":return b_(fle,s);case"steps":return b_(hle,s);default:return b_(i,s)}}function C9(t){try{var e=document.querySelectorAll(t);return e}catch{return}}function Y1(t,e){for(var r=t.length,i=arguments.length>=2?arguments[1]:void 0,s=[],n=0;n<r;n++)if(n in t){var o=t[n];e.call(i,o,n,t)&&s.push(o)}return s}function J1(t){return t.reduce(function(e,r){return e.concat(Re.arr(r)?J1(r):r)},[])}function _O(t){return Re.arr(t)?t:(Re.str(t)&&(t=C9(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function Q3(t,e){return t.some(function(r){return r===e})}function eA(t){var e={};for(var r in t)e[r]=t[r];return e}function Ux(t,e){var r=eA(t);for(var i in t)r[i]=e.hasOwnProperty(i)?e[i]:t[i];return r}function K1(t,e){var r=eA(t);for(var i in e)r[i]=Re.und(t[i])?e[i]:t[i];return r}function dle(t){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return e?"rgba("+e[1]+",1)":t}function ple(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=t.replace(e,function(a,l,c,f){return l+l+c+c+f+f}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),s=parseInt(i[1],16),n=parseInt(i[2],16),o=parseInt(i[3],16);return"rgba("+s+","+n+","+o+",1)"}function mle(t){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),r=parseInt(e[1],10)/360,i=parseInt(e[2],10)/100,s=parseInt(e[3],10)/100,n=e[4]||1;function o(p,y,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?p+(y-p)*6*v:v<1/2?y:v<2/3?p+(y-p)*(2/3-v)*6:p}var a,l,c;if(i==0)a=l=c=s;else{var f=s<.5?s*(1+i):s+i-s*i,d=2*s-f;a=o(d,f,r+1/3),l=o(d,f,r),c=o(d,f,r-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+n+")"}function yle(t){if(Re.rgb(t))return dle(t);if(Re.hex(t))return ple(t);if(Re.hsl(t))return mle(t)}function pa(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function gle(t){if(sp(t,"translate")||t==="perspective")return"px";if(sp(t,"rotate")||sp(t,"skew"))return"deg"}function jx(t,e){return Re.fnc(t)?t(e.target,e.id,e.total):t}function go(t,e){return t.getAttribute(e)}function tA(t,e,r){var i=pa(e);if(Q3([r,"deg","rad","turn"],i))return e;var s=cv.CSS[e+r];if(!Re.und(s))return s;var n=100,o=document.createElement(t.tagName),a=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=n+r;var l=n/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(e);return cv.CSS[e+r]=c,c}function N9(t,e,r){if(e in t.style){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=t.style[e]||getComputedStyle(t).getPropertyValue(i)||"0";return r?tA(t,s,r):s}}function rA(t,e){if(Re.dom(t)&&!Re.inp(t)&&(!Re.nil(go(t,e))||Re.svg(t)&&t[e]))return"attribute";if(Re.dom(t)&&Q3(ule,e))return"transform";if(Re.dom(t)&&e!=="transform"&&N9(t,e))return"css";if(t[e]!=null)return"object"}function P9(t){if(Re.dom(t)){for(var e=t.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map,s;s=r.exec(e);)i.set(s[1],s[2]);return i}}function vle(t,e,r,i){var s=sp(e,"scale")?1:0+gle(e),n=P9(t).get(e)||s;return r&&(r.transforms.list.set(e,n),r.transforms.last=e),i?tA(t,n,i):n}function iA(t,e,r,i){switch(rA(t,e)){case"transform":return vle(t,e,i,r);case"css":return N9(t,e,r);case"attribute":return go(t,e);default:return t[e]||0}}function sA(t,e){var r=/^(\*=|\+=|-=)/.exec(t);if(!r)return t;var i=pa(t)||0,s=parseFloat(e),n=parseFloat(t.replace(r[0],""));switch(r[0][0]){case"+":return s+n+i;case"-":return s-n+i;case"*":return s*n+i}}function L9(t,e){if(Re.col(t))return yle(t);if(/\s/g.test(t))return t;var r=pa(t),i=r?t.substr(0,t.length-r.length):t;return e?i+e:i}function nA(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ble(t){return Math.PI*2*go(t,"r")}function _le(t){return go(t,"width")*2+go(t,"height")*2}function wle(t){return nA({x:go(t,"x1"),y:go(t,"y1")},{x:go(t,"x2"),y:go(t,"y2")})}function k9(t){for(var e=t.points,r=0,i,s=0;s<e.numberOfItems;s++){var n=e.getItem(s);s>0&&(r+=nA(i,n)),i=n}return r}function xle(t){var e=t.points;return k9(t)+nA(e.getItem(e.numberOfItems-1),e.getItem(0))}function R9(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return ble(t);case"rect":return _le(t);case"line":return wle(t);case"polyline":return k9(t);case"polygon":return xle(t)}}function Ele(t){var e=R9(t);return t.setAttribute("stroke-dasharray",e),e}function Sle(t){for(var e=t.parentNode;Re.svg(e)&&Re.svg(e.parentNode);)e=e.parentNode;return e}function D9(t,e){var r=e||{},i=r.el||Sle(t),s=i.getBoundingClientRect(),n=go(i,"viewBox"),o=s.width,a=s.height,l=r.viewBox||(n?n.split(" "):[0,0,o,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function Ale(t,e){var r=Re.str(t)?C9(t)[0]:t,i=e||100;return function(s){return{property:s,el:r,svg:D9(r),totalLength:R9(r)*(i/100)}}}function Tle(t,e,r){function i(f){f===void 0&&(f=0);var d=e+f>=1?e+f:0;return t.el.getPointAtLength(d)}var s=D9(t.el,t.svg),n=i(),o=i(-1),a=i(1),l=r?1:s.w/s.vW,c=r?1:s.h/s.vH;switch(t.property){case"x":return(n.x-s.x)*l;case"y":return(n.y-s.y)*c;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function wO(t,e){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=L9(Re.pth(t)?t.totalLength:t,e)+"";return{original:i,numbers:i.match(r)?i.match(r).map(Number):[0],strings:Re.str(t)||e?i.split(r):[]}}function oA(t){var e=t?J1(Re.arr(t)?t.map(_O):_O(t)):[];return Y1(e,function(r,i,s){return s.indexOf(r)===i})}function F9(t){var e=oA(t);return e.map(function(r,i){return{target:r,id:i,total:e.length,transforms:{list:P9(r)}}})}function Mle(t,e){var r=eA(e);if(/^spring/.test(r.easing)&&(r.duration=O9(r.easing)),Re.arr(t)){var i=t.length,s=i===2&&!Re.obj(t[0]);s?t={value:t}:Re.fnc(e.duration)||(r.duration=e.duration/i)}var n=Re.arr(t)?t:[t];return n.map(function(o,a){var l=Re.obj(o)&&!Re.pth(o)?o:{value:o};return Re.und(l.delay)&&(l.delay=a?0:e.delay),Re.und(l.endDelay)&&(l.endDelay=a===n.length-1?e.endDelay:0),l}).map(function(o){return K1(o,r)})}function $le(t){for(var e=Y1(J1(t.map(function(n){return Object.keys(n)})),function(n){return Re.key(n)}).reduce(function(n,o){return n.indexOf(o)<0&&n.push(o),n},[]),r={},i=function(n){var o=e[n];r[o]=t.map(function(a){var l={};for(var c in a)Re.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},s=0;s<e.length;s++)i(s);return r}function Ole(t,e){var r=[],i=e.keyframes;i&&(e=K1($le(i),e));for(var s in e)Re.key(s)&&r.push({name:s,tweens:Mle(e[s],t)});return r}function Ile(t,e){var r={};for(var i in t){var s=jx(t[i],e);Re.arr(s)&&(s=s.map(function(n){return jx(n,e)}),s.length===1&&(s=s[0])),r[i]=s}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function Cle(t,e){var r;return t.tweens.map(function(i){var s=Ile(i,e),n=s.value,o=Re.arr(n)?n[1]:n,a=pa(o),l=iA(e.target,t.name,a,e),c=r?r.to.original:l,f=Re.arr(n)?n[0]:c,d=pa(f)||pa(l),p=a||d;return Re.und(o)&&(o=c),s.from=wO(f,p),s.to=wO(sA(o,f),p),s.start=r?r.end:0,s.end=s.start+s.delay+s.duration+s.endDelay,s.easing=X3(s.easing,s.duration),s.isPath=Re.pth(n),s.isPathTargetInsideSVG=s.isPath&&Re.svg(e.target),s.isColor=Re.col(s.from.original),s.isColor&&(s.round=1),r=s,s})}var U9={css:function(t,e,r){return t.style[e]=r},attribute:function(t,e,r){return t.setAttribute(e,r)},object:function(t,e,r){return t[e]=r},transform:function(t,e,r,i,s){if(i.list.set(e,r),e===i.last||s){var n="";i.list.forEach(function(o,a){n+=a+"("+o+") "}),t.style.transform=n}}};function j9(t,e){var r=F9(t);r.forEach(function(i){for(var s in e){var n=jx(e[s],i),o=i.target,a=pa(n),l=iA(o,s,a,i),c=a||pa(l),f=sA(L9(n,c),l),d=rA(o,s);U9[d](o,s,f,i.transforms,!0)}})}function Nle(t,e){var r=rA(t.target,e.name);if(r){var i=Cle(e,t),s=i[i.length-1];return{type:r,property:e.name,animatable:t,tweens:i,duration:s.end,delay:i[0].delay,endDelay:s.endDelay}}}function Ple(t,e){return Y1(J1(t.map(function(r){return e.map(function(i){return Nle(r,i)})})),function(r){return!Re.und(r)})}function B9(t,e){var r=t.length,i=function(n){return n.timelineOffset?n.timelineOffset:0},s={};return s.duration=r?Math.max.apply(Math,t.map(function(n){return i(n)+n.duration})):e.duration,s.delay=r?Math.min.apply(Math,t.map(function(n){return i(n)+n.delay})):e.delay,s.endDelay=r?s.duration-Math.max.apply(Math,t.map(function(n){return i(n)+n.duration-n.endDelay})):e.endDelay,s}var xO=0;function Lle(t){var e=Ux(M9,t),r=Ux(Z3,t),i=Ole(r,t),s=F9(t.targets),n=Ple(s,i),o=B9(n,r),a=xO;return xO++,K1(e,{id:a,children:[],animatables:s,animations:n,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var An=[],V9=function(){var t;function e(){!t&&(!EO()||!cr.suspendWhenDocumentHidden)&&An.length>0&&(t=requestAnimationFrame(r))}function r(s){for(var n=An.length,o=0;o<n;){var a=An[o];a.paused?(An.splice(o,1),n--):(a.tick(s),o++)}t=o>0?requestAnimationFrame(r):void 0}function i(){cr.suspendWhenDocumentHidden&&(EO()?t=cancelAnimationFrame(t):(An.forEach(function(s){return s._onDocumentVisibility()}),V9()))}return typeof document<"u"&&document.addEventListener("visibilitychange",i),e}();function EO(){return!!document&&document.hidden}function cr(t){t===void 0&&(t={});var e=0,r=0,i=0,s,n=0,o=null;function a(T){var w=window.Promise&&new Promise(function(_){return o=_});return T.finished=w,w}var l=Lle(t);a(l);function c(){var T=l.direction;T!=="alternate"&&(l.direction=T!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,s.forEach(function(w){return w.reversed=l.reversed})}function f(T){return l.reversed?l.duration-T:T}function d(){e=0,r=f(l.currentTime)*(1/cr.speed)}function p(T,w){w&&w.seek(T-w.timelineOffset)}function y(T){if(l.reversePlayback)for(var _=n;_--;)p(T,s[_]);else for(var w=0;w<n;w++)p(T,s[w])}function v(T){for(var w=0,_=l.animations,M=_.length;w<M;){var $=_[w],C=$.animatable,P=$.tweens,N=P.length-1,F=P[N];N&&(F=Y1(P,function(lt){return T<lt.end})[0]||F);for(var q=yo(T-F.start-F.delay,0,F.duration)/F.duration,U=isNaN(q)?1:F.easing(q),B=F.to.strings,K=F.round,h=[],m=F.to.numbers.length,x=void 0,I=0;I<m;I++){var V=void 0,Y=F.to.numbers[I],de=F.from.numbers[I]||0;F.isPath?V=Tle(F.value,U*Y,F.isPathTargetInsideSVG):V=de+U*(Y-de),K&&(F.isColor&&I>2||(V=Math.round(V*K)/K)),h.push(V)}var oe=B.length;if(!oe)x=h[0];else{x=B[0];for(var Me=0;Me<oe;Me++){B[Me];var je=B[Me+1],qe=h[Me];isNaN(qe)||(je?x+=qe+je:x+=qe+" ")}}U9[$.type](C.target,$.property,x,C.transforms),$.currentValue=x,w++}}function b(T){l[T]&&!l.passThrough&&l[T](l)}function S(){l.remaining&&l.remaining!==!0&&l.remaining--}function E(T){var w=l.duration,_=l.delay,M=w-l.endDelay,$=f(T);l.progress=yo($/w*100,0,100),l.reversePlayback=$<l.currentTime,s&&y($),!l.began&&l.currentTime>0&&(l.began=!0,b("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,b("loopBegin")),$<=_&&l.currentTime!==0&&v(0),($>=M&&l.currentTime!==w||!w)&&v(w),$>_&&$<M?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,b("changeBegin")),b("change"),v($)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,b("changeComplete")),l.currentTime=yo($,0,w),l.began&&b("update"),T>=w&&(r=0,S(),l.remaining?(e=i,b("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&c()):(l.paused=!0,l.completed||(l.completed=!0,b("loopComplete"),b("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var T=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=T==="reverse",l.remaining=l.loop,s=l.children,n=s.length;for(var w=n;w--;)l.children[w].reset();(l.reversed&&l.loop!==!0||T==="alternate"&&l.loop===1)&&l.remaining++,v(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(T,w){return j9(T,w),l},l.tick=function(T){i=T,e||(e=i),E((i+(r-e))*cr.speed)},l.seek=function(T){E(f(T))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,An.push(l),d(),V9())},l.reverse=function(){c(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(T){var w=oA(T);G9(w,l)},l.reset(),l.autoplay&&l.play(),l}function SO(t,e){for(var r=e.length;r--;)Q3(t,e[r].animatable.target)&&e.splice(r,1)}function G9(t,e){var r=e.animations,i=e.children;SO(t,r);for(var s=i.length;s--;){var n=i[s],o=n.animations;SO(t,o),!o.length&&!n.children.length&&i.splice(s,1)}!r.length&&!i.length&&e.pause()}function kle(t){for(var e=oA(t),r=An.length;r--;){var i=An[r];G9(e,i)}}function Rle(t,e){e===void 0&&(e={});var r=e.direction||"normal",i=e.easing?X3(e.easing):null,s=e.grid,n=e.axis,o=e.from||0,a=o==="first",l=o==="center",c=o==="last",f=Re.arr(t),d=parseFloat(f?t[0]:t),p=f?parseFloat(t[1]):0,y=pa(f?t[1]:t)||0,v=e.start||0+(f?d:0),b=[],S=0;return function(E,T,w){if(a&&(o=0),l&&(o=(w-1)/2),c&&(o=w-1),!b.length){for(var _=0;_<w;_++){if(!s)b.push(Math.abs(o-_));else{var M=l?(s[0]-1)/2:o%s[0],$=l?(s[1]-1)/2:Math.floor(o/s[0]),C=_%s[0],P=Math.floor(_/s[0]),N=M-C,F=$-P,q=Math.sqrt(N*N+F*F);n==="x"&&(q=-N),n==="y"&&(q=-F),b.push(q)}S=Math.max.apply(Math,b)}i&&(b=b.map(function(B){return i(B/S)*S})),r==="reverse"&&(b=b.map(function(B){return n?B<0?B*-1:-B:Math.abs(S-B)}))}var U=f?(p-d)/S:d;return v+U*(Math.round(b[T]*100)/100)+y}}function Dle(t){t===void 0&&(t={});var e=cr(t);return e.duration=0,e.add=function(r,i){var s=An.indexOf(e),n=e.children;s>-1&&An.splice(s,1);function o(p){p.passThrough=!0}for(var a=0;a<n.length;a++)o(n[a]);var l=K1(r,Ux(Z3,t));l.targets=l.targets||t.targets;var c=e.duration;l.autoplay=!1,l.direction=e.direction,l.timelineOffset=Re.und(i)?c:sA(i,c),o(e),e.seek(l.timelineOffset);var f=cr(l);o(f),n.push(f);var d=B9(n,t);return e.delay=d.delay,e.endDelay=d.endDelay,e.duration=d.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e}cr.version="3.2.1";cr.speed=1;cr.suspendWhenDocumentHidden=!0;cr.running=An;cr.remove=kle;cr.get=iA;cr.set=j9;cr.convertPx=tA;cr.path=Ale;cr.setDashoffset=Ele;cr.stagger=Rle;cr.timeline=Dle;cr.easing=X3;cr.penner=I9;cr.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};const Fle={xs:200,sm:576,md:768,lg:960};class z9{resizeObserver;constructor(e){this.resizeObserver=new ResizeObserver(r=>{r.length&&window.requestAnimationFrame(()=>{r.forEach(i=>{const s=i.target.dataset.breakpoints,n=s?JSON.parse(s):e??Fle;Object.keys(n).forEach(o=>{const a=n[o];i.contentRect.width>=a?i.target.classList.add(o):i.target.classList.remove(o)})})})})}observe(e){this.resizeObserver?.observe(e)}}const Ule=["data-cy"],q9=st({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(t){const e=X(null),r=t,i=X(!1);vi(()=>{r.panel.teleport&&new z9({xs:0,sm:461,...r.panel.teleport.breakpoints}).observe(e.value)});const s=(l,c,f)=>{if(i.value)return c();cr({targets:l,opacity:{value:f,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:c})},n=(l,c)=>{s(l,c,[0,1])},o=l=>{l.classList.contains("screen-spinner")||(i.value=r.panel.isScreenLoaded(r.panel.route.screen),e.value.querySelectorAll("[focus-item").forEach(c=>c.classList.remove("default-focus-style")))},a=(l,c)=>{s(l,c,[0,1])};return(l,c)=>{const f=Ot("focus-container");return fe(),xe("div",{class:lr(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",t.panel.expanded?"flex-grow max-w-full":""]),style:kl(t.panel.style),"data-cy":t.panel.id,ref_key:"componentEl",ref:e},[Ze(L1,{onBeforeLeave:o,onLeave:a,onEnter:n},{default:Nr(()=>[$t((fe(),Vt(QS(t.panel.route.screen),P1({class:"h-full"},t.panel.route.props,{panel:t.panel}),null,16,["panel"])),[[f]])]),_:1})],14,Ule)}}}),su=ur("panel",()=>{const t=X(void 0),e=X(void 0),r=X(0),i=X(0),s=X(!1),n=X(!0),o=X({}),a=X({}),l=X([]),c=X([]),f=X([]),d=X(1),p=tt(()=>i.value);function y(B){return B==="xs"&&f.value.length>0?[f.value.slice().pop()]:f.value}function v(B){const K=[];return B.forEach(h=>{h in a.value&&K.push(a.value[h].getPromise())}),K}function b(B){P(B),$(),e.value=void 0}function S(B){N(B),$()}function E(B,K){F(B,K),$()}function T(B){q(B),$()}function w(B){d.value=B}function _(B){r.value=B,$()}function M(B){s.value=B}function $(){let B=r.value;const K=[],h=350,m=12,x=600;for(let I=l.value.length-1;I>=0;I--){const V=l.value[I];let Y=V.width||h;if(s.value?Y=B:Y+=m,V.id==="grid"&&(Y=Math.max(Math.min(Y,B),x)),(B>=Y&&!s.value||K.length===0)&&(B-=Y,K.unshift(V)),V.id==="grid"&&B<x)break}if(t.value&&!K.includes(t.value)&&!s.value){let I;for(let oe=0;oe<K.length-1&&B<(t.value.width||h)+m;oe++)I=K.shift(),B+=I.width||h;B>=(t.value.width||h)?K.unshift(t.value):e.value||(I=K.shift(),K.unshift(t.value));const V=l.value.indexOf(t.value),Y=l.value.indexOf(I),de=l.value.slice();Y>-1&&(de.splice(V,1),de.splice(Y,0,t.value)),l.value=de}i.value=B,f.value=K}function C(B){if(o.value={...o.value,[B.id]:B},B.id in a.value)a.value[B.id].resolveMe(B);else{const K=new Or;K.resolveMe(B),a.value={...a.value,[B.id]:K}}}function P(B){B.teleport?c.value=[...c.value,B]:(l.value=[...l.value,B],e.value=B)}function N(B){if(B.teleport){const K=c.value.indexOf(B);K!==-1&&(c.value=[...c.value.slice(0,K),...c.value.slice(K+1)])}else{const K=l.value.indexOf(B);K!==-1&&(l.value=[...l.value.slice(0,K),...l.value.slice(K+1)])}}function F(B,K){const h=l.value.indexOf(B),m=K==="right"?1:-1;f.value.includes(l.value[h+m])&&([l.value[h],l.value[h+m]]=[l.value[h+m],l.value[h]])}function q(B){o.value[B.id]!==void 0&&delete o.value[B.id],a.value[B.id]!==void 0&&delete a.value[B.id];const K=f.value.indexOf(B);K!==-1&&(f.value=[...f.value.slice(0,K),...f.value.slice(K+1)]),t.value&&t.value.id==B.id&&(t.value=void 0)}function U(B){a.value={...a.value,[B]:new Or}}return{items:o,regPromises:a,orderedItems:l,pinned:t,priority:e,visible:f,opacity:d,stackWidth:r,remWidth:i,mobileView:s,reorderable:n,teleported:c,getRemainingWidth:p,getVisible:y,getRegPromises:v,openPanel:b,closePanel:S,movePanel:E,removePanel:T,setOpacity:w,setStackWidth:_,setMobileView:M,updateVisible:$,registerPanel:C,addRegPromise:U}}),jle=st({__name:"panel-stack",setup(t){g3(f=>({"1fa2f422":s.value}));const e=su(),r=Fr("iApi"),i=X(),s=tt(()=>e.opacity),n=tt(()=>e.mobileView);vi(()=>{new ResizeObserver(d=>{const p=!(r.$vApp.$root?.$refs["app-size"]).classList.contains("sm");n.value!==p&&(e.mobileView=p,r.event.emit(Ie.RAMP_MOBILEVIEW_CHANGE,p)),e.setStackWidth(d[0].contentRect.width)}).observe(i.value?.$el)});const o=f=>e.getVisible(f),a=(f,d)=>{c(f,d,[[6,0],[0,1]])},l=(f,d)=>{const[p,y]=[f.children[0].getBoundingClientRect(),f.parentElement.getBoundingClientRect()];f.style.width=`${p.width}px`,f.style.height=`${p.height}px`,f.style.left=`${p.left-y.left}px`,f.style.position="absolute",c(f,d,[[0,-6],[1,0]])},c=(f,d,p)=>{cr({targets:f,duration:300,translateY:{value:p[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:p[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:d})};return(f,d)=>(fe(),Vt(R1,{onEnter:a,onLeave:l,name:"panel-container",tag:"div",ref_key:"el",ref:i,class:"panel-container"},{default:Nr(()=>[(fe(!0),xe(Lt,null,Ul(o($e(r).screenSize),p=>(fe(),Vt(q9,{key:`${p.id}`,panel:p},null,8,["panel"]))),128))]),_:1},512))}}),Ea=(t,e)=>{const r=t.__vccOpts||t;for(const[i,s]of e)r[i]=s;return r},Ble=Ea(jle,[["__scopeId","data-v-ca958595"]]);var bs="top",ln="bottom",cn="right",_s="left",aA="auto",qm=[bs,ln,cn,_s],sf="start",sm="end",Vle="clippingParents",H9="viewport",Zf="popper",Gle="reference",AO=qm.reduce(function(t,e){return t.concat([e+"-"+sf,e+"-"+sm])},[]),W9=[].concat(qm,[aA]).reduce(function(t,e){return t.concat([e,e+"-"+sf,e+"-"+sm])},[]),zle="beforeRead",qle="read",Hle="afterRead",Wle="beforeMain",Yle="main",Jle="afterMain",Kle="beforeWrite",Zle="write",Xle="afterWrite",Qle=[zle,qle,Hle,Wle,Yle,Jle,Kle,Zle,Xle];function Io(t){return t?(t.nodeName||"").toLowerCase():null}function Us(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function nu(t){var e=Us(t).Element;return t instanceof e||t instanceof Element}function on(t){var e=Us(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function lA(t){if(typeof ShadowRoot>"u")return!1;var e=Us(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ece(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var i=e.styles[r]||{},s=e.attributes[r]||{},n=e.elements[r];!on(n)||!Io(n)||(Object.assign(n.style,i),Object.keys(s).forEach(function(o){var a=s[o];a===!1?n.removeAttribute(o):n.setAttribute(o,a===!0?"":a)}))})}function tce(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(i){var s=e.elements[i],n=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:r[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!on(s)||!Io(s)||(Object.assign(s.style,a),Object.keys(n).forEach(function(l){s.removeAttribute(l)}))})}}const rce={name:"applyStyles",enabled:!0,phase:"write",fn:ece,effect:tce,requires:["computeStyles"]};function xo(t){return t.split("-")[0]}var Uc=Math.max,uv=Math.min,nf=Math.round;function Bx(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Y9(){return!/^((?!chrome|android).)*safari/i.test(Bx())}function of(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var i=t.getBoundingClientRect(),s=1,n=1;e&&on(t)&&(s=t.offsetWidth>0&&nf(i.width)/t.offsetWidth||1,n=t.offsetHeight>0&&nf(i.height)/t.offsetHeight||1);var o=nu(t)?Us(t):window,a=o.visualViewport,l=!Y9()&&r,c=(i.left+(l&&a?a.offsetLeft:0))/s,f=(i.top+(l&&a?a.offsetTop:0))/n,d=i.width/s,p=i.height/n;return{width:d,height:p,top:f,right:c+d,bottom:f+p,left:c,x:c,y:f}}function cA(t){var e=of(t),r=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:i}}function J9(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&lA(r)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ba(t){return Us(t).getComputedStyle(t)}function ice(t){return["table","td","th"].indexOf(Io(t))>=0}function Gl(t){return((nu(t)?t.ownerDocument:t.document)||window.document).documentElement}function Z1(t){return Io(t)==="html"?t:t.assignedSlot||t.parentNode||(lA(t)?t.host:null)||Gl(t)}function TO(t){return!on(t)||ba(t).position==="fixed"?null:t.offsetParent}function sce(t){var e=/firefox/i.test(Bx()),r=/Trident/i.test(Bx());if(r&&on(t)){var i=ba(t);if(i.position==="fixed")return null}var s=Z1(t);for(lA(s)&&(s=s.host);on(s)&&["html","body"].indexOf(Io(s))<0;){var n=ba(s);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||e&&n.willChange==="filter"||e&&n.filter&&n.filter!=="none")return s;s=s.parentNode}return null}function Hm(t){for(var e=Us(t),r=TO(t);r&&ice(r)&&ba(r).position==="static";)r=TO(r);return r&&(Io(r)==="html"||Io(r)==="body"&&ba(r).position==="static")?e:r||sce(t)||e}function uA(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function np(t,e,r){return Uc(t,uv(e,r))}function nce(t,e,r){var i=np(t,e,r);return i>r?r:i}function K9(){return{top:0,right:0,bottom:0,left:0}}function Z9(t){return Object.assign({},K9(),t)}function X9(t,e){return e.reduce(function(r,i){return r[i]=t,r},{})}var oce=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,Z9(typeof e!="number"?e:X9(e,qm))};function ace(t){var e,r=t.state,i=t.name,s=t.options,n=r.elements.arrow,o=r.modifiersData.popperOffsets,a=xo(r.placement),l=uA(a),c=[_s,cn].indexOf(a)>=0,f=c?"height":"width";if(!(!n||!o)){var d=oce(s.padding,r),p=cA(n),y=l==="y"?bs:_s,v=l==="y"?ln:cn,b=r.rects.reference[f]+r.rects.reference[l]-o[l]-r.rects.popper[f],S=o[l]-r.rects.reference[l],E=Hm(n),T=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,w=b/2-S/2,_=d[y],M=T-p[f]-d[v],$=T/2-p[f]/2+w,C=np(_,$,M),P=l;r.modifiersData[i]=(e={},e[P]=C,e.centerOffset=C-$,e)}}function lce(t){var e=t.state,r=t.options,i=r.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||J9(e.elements.popper,s)&&(e.elements.arrow=s))}const cce={name:"arrow",enabled:!0,phase:"main",fn:ace,effect:lce,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function af(t){return t.split("-")[1]}var uce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hce(t,e){var r=t.x,i=t.y,s=e.devicePixelRatio||1;return{x:nf(r*s)/s||0,y:nf(i*s)/s||0}}function MO(t){var e,r=t.popper,i=t.popperRect,s=t.placement,n=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,f=t.roundOffsets,d=t.isFixed,p=o.x,y=p===void 0?0:p,v=o.y,b=v===void 0?0:v,S=typeof f=="function"?f({x:y,y:b}):{x:y,y:b};y=S.x,b=S.y;var E=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),w=_s,_=bs,M=window;if(c){var $=Hm(r),C="clientHeight",P="clientWidth";if($===Us(r)&&($=Gl(r),ba($).position!=="static"&&a==="absolute"&&(C="scrollHeight",P="scrollWidth")),$=$,s===bs||(s===_s||s===cn)&&n===sm){_=ln;var N=d&&$===M&&M.visualViewport?M.visualViewport.height:$[C];b-=N-i.height,b*=l?1:-1}if(s===_s||(s===bs||s===ln)&&n===sm){w=cn;var F=d&&$===M&&M.visualViewport?M.visualViewport.width:$[P];y-=F-i.width,y*=l?1:-1}}var q=Object.assign({position:a},c&&uce),U=f===!0?hce({x:y,y:b},Us(r)):{x:y,y:b};if(y=U.x,b=U.y,l){var B;return Object.assign({},q,(B={},B[_]=T?"0":"",B[w]=E?"0":"",B.transform=(M.devicePixelRatio||1)<=1?"translate("+y+"px, "+b+"px)":"translate3d("+y+"px, "+b+"px, 0)",B))}return Object.assign({},q,(e={},e[_]=T?b+"px":"",e[w]=E?y+"px":"",e.transform="",e))}function fce(t){var e=t.state,r=t.options,i=r.gpuAcceleration,s=i===void 0?!0:i,n=r.adaptive,o=n===void 0?!0:n,a=r.roundOffsets,l=a===void 0?!0:a,c={placement:xo(e.placement),variation:af(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,MO(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,MO(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const dce={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:fce,data:{}};var Ry={passive:!0};function pce(t){var e=t.state,r=t.instance,i=t.options,s=i.scroll,n=s===void 0?!0:s,o=i.resize,a=o===void 0?!0:o,l=Us(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return n&&c.forEach(function(f){f.addEventListener("scroll",r.update,Ry)}),a&&l.addEventListener("resize",r.update,Ry),function(){n&&c.forEach(function(f){f.removeEventListener("scroll",r.update,Ry)}),a&&l.removeEventListener("resize",r.update,Ry)}}const mce={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:pce,data:{}};var yce={left:"right",right:"left",bottom:"top",top:"bottom"};function j0(t){return t.replace(/left|right|bottom|top/g,function(e){return yce[e]})}var gce={start:"end",end:"start"};function $O(t){return t.replace(/start|end/g,function(e){return gce[e]})}function hA(t){var e=Us(t),r=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:r,scrollTop:i}}function fA(t){return of(Gl(t)).left+hA(t).scrollLeft}function vce(t,e){var r=Us(t),i=Gl(t),s=r.visualViewport,n=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){n=s.width,o=s.height;var c=Y9();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:n,height:o,x:a+fA(t),y:l}}function bce(t){var e,r=Gl(t),i=hA(t),s=(e=t.ownerDocument)==null?void 0:e.body,n=Uc(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Uc(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+fA(t),l=-i.scrollTop;return ba(s||r).direction==="rtl"&&(a+=Uc(r.clientWidth,s?s.clientWidth:0)-n),{width:n,height:o,x:a,y:l}}function dA(t){var e=ba(t),r=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+i)}function Q9(t){return["html","body","#document"].indexOf(Io(t))>=0?t.ownerDocument.body:on(t)&&dA(t)?t:Q9(Z1(t))}function op(t,e){var r;e===void 0&&(e=[]);var i=Q9(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),n=Us(i),o=s?[n].concat(n.visualViewport||[],dA(i)?i:[]):i,a=e.concat(o);return s?a:a.concat(op(Z1(o)))}function Vx(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function _ce(t,e){var r=of(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function OO(t,e,r){return e===H9?Vx(vce(t,r)):nu(e)?_ce(e,r):Vx(bce(Gl(t)))}function wce(t){var e=op(Z1(t)),r=["absolute","fixed"].indexOf(ba(t).position)>=0,i=r&&on(t)?Hm(t):t;return nu(i)?e.filter(function(s){return nu(s)&&J9(s,i)&&Io(s)!=="body"}):[]}function xce(t,e,r,i){var s=e==="clippingParents"?wce(t):[].concat(e),n=[].concat(s,[r]),o=n[0],a=n.reduce(function(l,c){var f=OO(t,c,i);return l.top=Uc(f.top,l.top),l.right=uv(f.right,l.right),l.bottom=uv(f.bottom,l.bottom),l.left=Uc(f.left,l.left),l},OO(t,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function e7(t){var e=t.reference,r=t.element,i=t.placement,s=i?xo(i):null,n=i?af(i):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,l;switch(s){case bs:l={x:o,y:e.y-r.height};break;case ln:l={x:o,y:e.y+e.height};break;case cn:l={x:e.x+e.width,y:a};break;case _s:l={x:e.x-r.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?uA(s):null;if(c!=null){var f=c==="y"?"height":"width";switch(n){case sf:l[c]=l[c]-(e[f]/2-r[f]/2);break;case sm:l[c]=l[c]+(e[f]/2-r[f]/2);break}}return l}function lf(t,e){e===void 0&&(e={});var r=e,i=r.placement,s=i===void 0?t.placement:i,n=r.strategy,o=n===void 0?t.strategy:n,a=r.boundary,l=a===void 0?Vle:a,c=r.rootBoundary,f=c===void 0?H9:c,d=r.elementContext,p=d===void 0?Zf:d,y=r.altBoundary,v=y===void 0?!1:y,b=r.padding,S=b===void 0?0:b,E=Z9(typeof S!="number"?S:X9(S,qm)),T=p===Zf?Gle:Zf,w=t.rects.popper,_=t.elements[v?T:p],M=xce(nu(_)?_:_.contextElement||Gl(t.elements.popper),l,f,o),$=of(t.elements.reference),C=e7({reference:$,element:w,placement:s}),P=Vx(Object.assign({},w,C)),N=p===Zf?P:$,F={top:M.top-N.top+E.top,bottom:N.bottom-M.bottom+E.bottom,left:M.left-N.left+E.left,right:N.right-M.right+E.right},q=t.modifiersData.offset;if(p===Zf&&q){var U=q[s];Object.keys(F).forEach(function(B){var K=[cn,ln].indexOf(B)>=0?1:-1,h=[bs,ln].indexOf(B)>=0?"y":"x";F[B]+=U[h]*K})}return F}function Ece(t,e){e===void 0&&(e={});var r=e,i=r.placement,s=r.boundary,n=r.rootBoundary,o=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?W9:l,f=af(i),d=f?a?AO:AO.filter(function(v){return af(v)===f}):qm,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var y=p.reduce(function(v,b){return v[b]=lf(t,{placement:b,boundary:s,rootBoundary:n,padding:o})[xo(b)],v},{});return Object.keys(y).sort(function(v,b){return y[v]-y[b]})}function Sce(t){if(xo(t)===aA)return[];var e=j0(t);return[$O(t),e,$O(e)]}function Ace(t){var e=t.state,r=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var s=r.mainAxis,n=s===void 0?!0:s,o=r.altAxis,a=o===void 0?!0:o,l=r.fallbackPlacements,c=r.padding,f=r.boundary,d=r.rootBoundary,p=r.altBoundary,y=r.flipVariations,v=y===void 0?!0:y,b=r.allowedAutoPlacements,S=e.options.placement,E=xo(S),T=E===S,w=l||(T||!v?[j0(S)]:Sce(S)),_=[S].concat(w).reduce(function(je,qe){return je.concat(xo(qe)===aA?Ece(e,{placement:qe,boundary:f,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:b}):qe)},[]),M=e.rects.reference,$=e.rects.popper,C=new Map,P=!0,N=_[0],F=0;F<_.length;F++){var q=_[F],U=xo(q),B=af(q)===sf,K=[bs,ln].indexOf(U)>=0,h=K?"width":"height",m=lf(e,{placement:q,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),x=K?B?cn:_s:B?ln:bs;M[h]>$[h]&&(x=j0(x));var I=j0(x),V=[];if(n&&V.push(m[U]<=0),a&&V.push(m[x]<=0,m[I]<=0),V.every(function(je){return je})){N=q,P=!1;break}C.set(q,V)}if(P)for(var Y=v?3:1,de=function(qe){var lt=_.find(function(zt){var It=C.get(zt);if(It)return It.slice(0,qe).every(function(_r){return _r})});if(lt)return N=lt,"break"},oe=Y;oe>0;oe--){var Me=de(oe);if(Me==="break")break}e.placement!==N&&(e.modifiersData[i]._skip=!0,e.placement=N,e.reset=!0)}}const Tce={name:"flip",enabled:!0,phase:"main",fn:Ace,requiresIfExists:["offset"],data:{_skip:!1}};function IO(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function CO(t){return[bs,cn,ln,_s].some(function(e){return t[e]>=0})}function Mce(t){var e=t.state,r=t.name,i=e.rects.reference,s=e.rects.popper,n=e.modifiersData.preventOverflow,o=lf(e,{elementContext:"reference"}),a=lf(e,{altBoundary:!0}),l=IO(o,i),c=IO(a,s,n),f=CO(l),d=CO(c);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}const $ce={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Mce};function Oce(t,e,r){var i=xo(t),s=[_s,bs].indexOf(i)>=0?-1:1,n=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=n[0],a=n[1];return o=o||0,a=(a||0)*s,[_s,cn].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function Ice(t){var e=t.state,r=t.options,i=t.name,s=r.offset,n=s===void 0?[0,0]:s,o=W9.reduce(function(f,d){return f[d]=Oce(d,e.rects,n),f},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const Cce={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ice};function Nce(t){var e=t.state,r=t.name;e.modifiersData[r]=e7({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Pce={name:"popperOffsets",enabled:!0,phase:"read",fn:Nce,data:{}};function Lce(t){return t==="x"?"y":"x"}function kce(t){var e=t.state,r=t.options,i=t.name,s=r.mainAxis,n=s===void 0?!0:s,o=r.altAxis,a=o===void 0?!1:o,l=r.boundary,c=r.rootBoundary,f=r.altBoundary,d=r.padding,p=r.tether,y=p===void 0?!0:p,v=r.tetherOffset,b=v===void 0?0:v,S=lf(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),E=xo(e.placement),T=af(e.placement),w=!T,_=uA(E),M=Lce(_),$=e.modifiersData.popperOffsets,C=e.rects.reference,P=e.rects.popper,N=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,F=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if($){if(n){var B,K=_==="y"?bs:_s,h=_==="y"?ln:cn,m=_==="y"?"height":"width",x=$[_],I=x+S[K],V=x-S[h],Y=y?-P[m]/2:0,de=T===sf?C[m]:P[m],oe=T===sf?-P[m]:-C[m],Me=e.elements.arrow,je=y&&Me?cA(Me):{width:0,height:0},qe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:K9(),lt=qe[K],zt=qe[h],It=np(0,C[m],je[m]),_r=w?C[m]/2-Y-It-lt-F.mainAxis:de-It-lt-F.mainAxis,Ft=w?-C[m]/2+Y+It+zt+F.mainAxis:oe+It+zt+F.mainAxis,nr=e.elements.arrow&&Hm(e.elements.arrow),ei=nr?_==="y"?nr.clientTop||0:nr.clientLeft||0:0,j=(B=q?.[_])!=null?B:0,D=x+_r-j-ei,W=x+Ft-j,ae=np(y?uv(I,D):I,x,y?Uc(V,W):V);$[_]=ae,U[_]=ae-x}if(a){var te,ue=_==="x"?bs:_s,ye=_==="x"?ln:cn,L=$[M],k=M==="y"?"height":"width",G=L+S[ue],re=L-S[ye],se=[bs,_s].indexOf(E)!==-1,ne=(te=q?.[M])!=null?te:0,H=se?G:L-C[k]-P[k]-ne+F.altAxis,Z=se?L+C[k]+P[k]-ne-F.altAxis:re,Ae=y&&se?nce(H,L,Z):np(y?H:G,L,y?Z:re);$[M]=Ae,U[M]=Ae-L}e.modifiersData[i]=U}}const Rce={name:"preventOverflow",enabled:!0,phase:"main",fn:kce,requiresIfExists:["offset"]};function Dce(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Fce(t){return t===Us(t)||!on(t)?hA(t):Dce(t)}function Uce(t){var e=t.getBoundingClientRect(),r=nf(e.width)/t.offsetWidth||1,i=nf(e.height)/t.offsetHeight||1;return r!==1||i!==1}function jce(t,e,r){r===void 0&&(r=!1);var i=on(e),s=on(e)&&Uce(e),n=Gl(e),o=of(t,s,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!r)&&((Io(e)!=="body"||dA(n))&&(a=Fce(e)),on(e)?(l=of(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):n&&(l.x=fA(n))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Bce(t){var e=new Map,r=new Set,i=[];t.forEach(function(n){e.set(n.name,n)});function s(n){r.add(n.name);var o=[].concat(n.requires||[],n.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var l=e.get(a);l&&s(l)}}),i.push(n)}return t.forEach(function(n){r.has(n.name)||s(n)}),i}function Vce(t){var e=Bce(t);return Qle.reduce(function(r,i){return r.concat(e.filter(function(s){return s.phase===i}))},[])}function Gce(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function zce(t){var e=t.reduce(function(r,i){var s=r[i.name];return r[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,r},{});return Object.keys(e).map(function(r){return e[r]})}var NO={placement:"bottom",modifiers:[],strategy:"absolute"};function PO(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function qce(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,i=r===void 0?[]:r,s=e.defaultOptions,n=s===void 0?NO:s;return function(a,l,c){c===void 0&&(c=n);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},NO,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(E){var T=typeof E=="function"?E(f.options):E;b(),f.options=Object.assign({},n,f.options,T),f.scrollParents={reference:nu(a)?op(a):a.contextElement?op(a.contextElement):[],popper:op(l)};var w=Vce(zce([].concat(i,f.options.modifiers)));return f.orderedModifiers=w.filter(function(_){return _.enabled}),v(),y.update()},forceUpdate:function(){if(!p){var E=f.elements,T=E.reference,w=E.popper;if(PO(T,w)){f.rects={reference:jce(T,Hm(w),f.options.strategy==="fixed"),popper:cA(w)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(F){return f.modifiersData[F.name]=Object.assign({},F.data)});for(var _=0;_<f.orderedModifiers.length;_++){if(f.reset===!0){f.reset=!1,_=-1;continue}var M=f.orderedModifiers[_],$=M.fn,C=M.options,P=C===void 0?{}:C,N=M.name;typeof $=="function"&&(f=$({state:f,options:P,name:N,instance:y})||f)}}}},update:Gce(function(){return new Promise(function(S){y.forceUpdate(),S(f)})}),destroy:function(){b(),p=!0}};if(!PO(a,l))return y;y.setOptions(c).then(function(S){!p&&c.onFirstUpdate&&c.onFirstUpdate(S)});function v(){f.orderedModifiers.forEach(function(S){var E=S.name,T=S.options,w=T===void 0?{}:T,_=S.effect;if(typeof _=="function"){var M=_({state:f,name:E,instance:y,options:w}),$=function(){};d.push(M||$)}})}function b(){d.forEach(function(S){return S()}),d=[]}return y}}var Hce=[mce,Pce,dce,rce,Cce,Tce,Rce,cce,$ce],Wce=qce({defaultModifiers:Hce});const Yce=["content","aria-label"],pA=st({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(t){const e=X(!1),r=X(null),i=li([]),s=X(),n=X(),o=X(),a=t;i.push(Zr(e,()=>{r.value.update()}));const l=()=>{e.value=!e.value,o.value._tippy.hide()},c=()=>{o.value._tippy.setProps({placement:e.value?a.tooltipPlacementAlt:a.tooltipPlacement}),o.value._tippy.show()},f=()=>{o.value._tippy.hide()};return vi(()=>{window.addEventListener("click",d=>{(!s.value||!s.value.contains(d.target))&&(e.value=!1)},{capture:!0}),window.addEventListener("blur",()=>{e.value=!1}),window.addEventListener("focusin",d=>{(!s.value||!s.value.contains(d.target))&&(e.value=!1)}),o.value.addEventListener("focus",c),o.value.addEventListener("blur",f),o.value.addEventListener("mouseover",c),o.value.addEventListener("mouseleave",f),Wn(()=>{const d={name:"overflowScroll",enabled:!0,phase:"main",fn({state:p}){const{bottom:y}=lf(p);y>0?(p.styles.popper.overflowY=y>100?"auto":void 0,p.styles.popper.overflowX="hidden",p.styles.popper.height=`${p.rects.popper.height-y-8}px`):p.styles.popper.height="auto"}};o.value&&n.value&&(r.value=Wce(o.value,n.value,{placement:a.position||"bottom",modifiers:[d,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))})}),Yn(()=>{i.forEach(d=>d()),window.removeEventListener("click",d=>{(!s.value||!s.value.contains(d.target))&&(e.value=!1)},{capture:!0}),window.removeEventListener("blur",()=>{e.value=!1}),window.removeEventListener("focusin",d=>{(!s.value||!s.value.contains(d.target))&&(e.value=!1)}),o.value.removeEventListener("focus",c),o.value.removeEventListener("blur",f),o.value.removeEventListener("mouseover",c),o.value.removeEventListener("mouseleave",f),e.value=!1}),(d,p)=>{const y=Ot("tippy");return fe(),xe("div",{ref_key:"el",ref:s},[$t((fe(),xe("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:t.tooltip,"aria-label":t.ariaLabel?String(t.ariaLabel):String(t.tooltip),ref_key:"dropdownTrigger",ref:o},[On(d.$slots,"header")],8,Yce)),[[y,{placement:t.tooltipPlacement,theme:t.tooltipTheme,animation:t.tooltipAnimation,trigger:"manual"}]]),$t(ce("div",{onClick:p[0]||(p[0]=v=>r.value.update()),class:lr(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":t.centered}]),ref_key:"dropdown",ref:n},[On(d.$slots,"default",{close:()=>e.value=!e.value})],2),[[k1,e.value]])],512)}}}),Eo=ur("notification",()=>{const t=X([]),e=X({}),r=tt(()=>t.value.length>=99?99:t.value.length);function i(c){t.value=[c,...t.value]}function s(c){if(t.value.includes(c)){const f=t.value.indexOf(c);c instanceof t7&&l(c),f>-1&&t.value.splice(f,1)}}function n(c){e.value[c.id]=c}function o(c,f){e.value[c]&&(e.value[c].messageList.push(f),t.value.includes(e.value[c])||(t.value=[e.value[c],...t.value]))}function a(){Object.values(e.value).forEach(c=>l(c)),t.value=[]}function l(c){const f=t.value.indexOf(c);f>-1&&t.value.splice(f,1),c.messageList=[]}return{notificationStack:t,groups:e,notificationNumber:r,showNotification:i,removeNotification:s,registerGroup:n,addToGroup:o,clearAll:a}}),Jce={class:"h-full flex flex-col"},Kce={class:"w-full flex mb-6"},Zce=["content","aria-label"],Xce=st({__name:"screen",props:{panel:{type:Object,required:!0}},setup(t){const e=Eo(),{t:r}=sr(),i=tt(()=>e.notificationNumber),s=()=>e.clearAll();return(n,o)=>{const a=Ar("panel-screen"),l=Ot("tippy");return fe(),Vt(a,{panel:t.panel},{header:Nr(()=>[wo(Dt($e(r)("notifications.title")),1)]),content:Nr(()=>[ce("div",Jce,[ce("div",Kce,[$t((fe(),xe("button",{type:"button",onClick:s,class:lr(["p-4 ml-auto",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:$e(r)("notifications.controls.clearAll"),"aria-label":$e(r)("notifications.controls.clearAll")},o[0]||(o[0]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ce("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ce("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ce("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ce("path",{d:"M22 22l-5 -5"}),ce("path",{d:"M17 22l5 -5"})],-1)]),10,Zce)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),Ze(r7,{class:"overflow-y-auto"})])]),_:1},8,["panel"])}}});var Ds=(t=>(t.ERROR="error",t.INFO="info",t.WARNING="warning",t))(Ds||{});class Qce extends Pr{notificationStore;constructor(e){super(e),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":br(Xce)},alertName:"notifications.title"}}),this.notificationStore=Eo(this.$vApp.$pinia)}show(e,r){this.notificationStore.showNotification({type:e,message:r})}addGroup(e,r,i){if(this.getGroup(e))throw new Error("Duplicate notification group id registration: "+e);const s=new t7(this.$iApi,e,r,i);return this.notificationStore.registerGroup(s),s}getGroup(e){return this.notificationStore.groups[e]}}class t7 extends Pr{notificationStore=Eo(this.$vApp.$pinia);id;message;type;messageList=[];constructor(e,r,i,s){super(e),this.id=r,this.type=i,this.message=s}show(e){this.notificationStore.addToGroup(this.id,e)}}const eue=["content"],tue={class:"flex items-center text-left"},rue={class:"select-text cursor-text"},iue=["content"],sue={key:0,class:"text-left"},nue=st({__name:"notification-item",props:{notification:{type:Object,required:!0}},setup(t){const e=Eo(),{t:r}=sr(),i=t,s=X(!1),n=li({[Ds.WARNING]:"",[Ds.INFO]:"",[Ds.ERROR]:""}),o=l=>{e.removeNotification(l)},a=()=>{if(!i.notification.messageList)return!1};return(l,c)=>{const f=Ot("tippy");return $t((fe(),xe("li",{class:lr(["flex-col default-focus-style p-4",t.notification.messageList?"cursor-pointer":""]),content:$e(r)(s.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:c[1]||(c[1]=d=>s.value=!s.value)},[ce("div",tue,[ce("span",null,[wo(Dt(n[t.notification.type])+" ",1),ce("span",rue,Dt(t.notification.message),1)]),c[4]||(c[4]=ce("span",{class:"flex-grow"},null,-1)),t.notification.messageList?(fe(),xe("div",{key:0,class:lr(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":s.value}])},c[2]||(c[2]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[ce("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):Wt("",!0),$t((fe(),xe("button",{type:"button",onClick:c[0]||(c[0]=Bm(d=>o(t.notification),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:$e(r)("notifications.controls.dismiss")},c[3]||(c[3]=[ce("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[ce("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,iue)),[[f,{theme:"ramp4",animation:"scale"}]])]),t.notification.messageList&&s.value?(fe(),xe("div",sue,[(fe(!0),xe(Lt,null,Ul(t.notification.messageList,(d,p)=>(fe(),xe("p",{key:t.notification.id+d+p},Dt(d),1))),128))])):Wt("",!0)],10,eue)),[[f,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),oue=["content"],aue={key:0,class:"w-full border-b border-black"},lue={key:1,class:"flex flex-col items-center h-full"},r7=st({__name:"notification-list",setup(t){const e=Eo(),{t:r}=sr(),i=X(),s=()=>{i.value._tippy.hide()},n=a=>{a.key==="Tab"&&i.value?.matches(":focus")&&i.value._tippy.show()};vi(()=>{i.value?.addEventListener("blur",s),i.value?.addEventListener("keyup",n)}),Yn(()=>{i.value?.removeEventListener("blur",s),i.value?.removeEventListener("keyup",n)});const o=tt(()=>e.notificationStack);return(a,l)=>{const c=Ot("focus-item"),f=Ot("focus-list"),d=Ot("tippy");return fe(),xe("div",null,[o.value.length>0?$t((fe(),xe("ul",{key:0,content:$e(r)("panels.controls.items"),ref_key:"el",ref:i,class:"h-full overflow-y-auto"},[(fe(!0),xe(Lt,null,Ul(o.value,(p,y)=>(fe(),xe(Lt,{key:p.message+y},[y>0?(fe(),xe("div",aue)):Wt("",!0),$t(Ze(nue,{class:lr([p.type]),notification:p},null,8,["class","notification"]),[[c]])],64))),128))],8,oue)),[[f],[d,{trigger:"manual",placement:"top-start",touch:!1}]]):(fe(),xe("div",lue,[l[0]||(l[0]=ce("span",{class:"flex-grow"},null,-1)),l[1]||(l[1]=ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[ce("path",{d:"M0 0h24v24H0z",fill:"none"}),ce("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),ce("span",null,Dt($e(r)("notifications.empty")),1),l[2]||(l[2]=ce("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),cue={class:"flex items-center hover:text-white"},uue=["aria-label"],hue={key:0,class:"number rounded-full w-18 text-white"},fue={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},due={class:"pb-8 border-b border-gray-600"},pue={class:"absolute flex right-3 top-3"},mue=["content","aria-label"],yue=st({__name:"caption-button",setup(t){const e=Eo(),{t:r}=sr(),i=tt(()=>e.notificationNumber),s=()=>e.clearAll();return(n,o)=>{const a=Ar("close"),l=Ot("tippy");return fe(),Vt(pA,{position:"top-start",tooltip:$e(r)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:Nr(()=>[ce("div",cue,[(fe(),xe("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":$e(r)("notifications.open")},o[0]||(o[0]=[ce("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,uue)),i.value&&i.value>0?(fe(),xe("span",hue,Dt(i.value),1)):Wt("",!0)])]),default:Nr(c=>[ce("div",fue,[ce("div",null,[ce("h4",due,Dt($e(r)("notifications.title")),1),ce("div",pue,[$t((fe(),xe("button",{type:"button",onClick:s,class:lr(["p-4 mr-6",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:$e(r)("notifications.controls.clearAll"),"aria-label":$e(r)("notifications.controls.clearAll")},o[1]||(o[1]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ce("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ce("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ce("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ce("path",{d:"M22 22l-5 -5"}),ce("path",{d:"M17 22l5 -5"})],-1)]),10,mue)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),Ze(a,{onClick:c.close},null,8,["onClick"])])]),Ze(r7,{class:"overflow-y-auto h-230"})])]),_:1},8,["tooltip"])}}}),gue=Ea(yue,[["__scopeId","data-v-77b1750c"]]),vue={class:"flex hover:text-white"},bue=["aria-label"],_ue={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},wue=["aria-label","content"],xue={class:"pb-8 border-b border-gray-600 mb-10"},Eue={class:"absolute right-5 top-5"},Sue={class:"select-text"},Aue={class:"font-bold cursor-text"},Tue={class:"text-sm cursor-text"},Mue={class:"font-bold cursor-text"},$ue={class:"ml-5 cursor-text"},Oue=st({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(t){const{t:e}=sr(),r=Fr("iApi"),i=()=>{r.reload()},s=tt(()=>`${Qf.major}.${Qf.minor}.${Qf.patch}`),n=tt(()=>Qf.hash.slice(0,9)),o=tt(()=>{const a=new Date(Qf.timestamp);if(isNaN(a.getTime()))return["dev mode","no date"];{const l=c=>c<10?"0"+c.toString():c.toString();return[`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`,`${a.getHours()}:${l(a.getMinutes())}:${l(a.getSeconds())}`]}});return(a,l)=>{const c=Ar("close"),f=Ar("dropdown-menu"),d=Ot("tippy"),p=Ot("focus-item");return $t((fe(),Vt(f,{class:"pointer-events-auto sm:flex",position:t.position,tooltip:$e(e)("ramp.about"),tooltipPlacement:t.position},{header:Nr(()=>[ce("div",vue,[(fe(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":$e(e)("ramp.about.open")},l[0]||(l[0]=[ce("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,bue))])]),default:Nr(y=>[ce("div",_ue,[ce("div",null,[$t((fe(),xe("button",{class:"absolute left-5 top-5 text-gray-500 hover:text-black focus:text-black p-8",onClick:i,"aria-label":$e(e)("ramp.reload"),content:$e(e)("ramp.reload")},l[1]||(l[1]=[ce("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ce("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)]),8,wue)),[[d,{placement:"bottom-start",theme:"ramp4",animation:"scale"}]]),ce("h4",xue,Dt($e(e)("ramp.about")),1),ce("div",Eue,[Ze(c,{onClick:y.close},null,8,["onClick"])]),ce("div",Sue,[ce("div",null,[ce("span",Aue,Dt(s.value),1),ce("span",Tue," ["+Dt(n.value)+"] ",1)]),ce("div",null,[ce("span",Mue,Dt(o.value[0]),1),ce("span",$ue,Dt(o.value[1]),1)]),l[2]||(l[2]=ce("div",{class:"mt-5"},[ce("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[ce("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),wo(" ramp4-pcar4 ")])],-1))])])])]),_:1},8,["position","tooltip","tooltipPlacement"])),[[p]])}}}),Iue=Ea(Oue,[["__scopeId","data-v-bfefdf86"]]),Cue={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},Nue={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},Pue=["href","aria-label"],Lue=["src","alt"],kue={key:1,class:"relative ml-10 top-2 text-sm sm:text-base"},Rue={class:"flex min-w-fit justify-end"},Due={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},Fue=["aria-pressed","aria-label","content"],Uue={class:"relative top-1 text-sm sm:text-base"},jue={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},Bue=["onClick"],Vue={key:0,class:"sr-only"},Gue=st({__name:"map-caption",setup(t){const e=hl(),r=ms(),{t:i}=sr(),s=Fr("iApi"),n=tt(()=>e.scale),o=tt(()=>e.attribution),a=tt(()=>e.coords),l=tt(()=>e.langtoggle),c=tt(()=>r.config.map),f=X([]),d=li([]);d.push(Zr(c,S=>{S&&s.geo.map.caption.createCaption(c.value?.caption)})),Yn(()=>{d.forEach(S=>S())}),Cf(()=>{Wn(()=>{s.$i18n.locale.value&&f.value.length==0&&(f.value=s.$i18n.availableLocales)})});const p=()=>o.value?.logo?.link&&o.value?.logo?.value&&!o.value?.logo?.disabled,y=S=>{s.$i18n.locale.value!=S&&s.setLanguage(S)},v=()=>{e.toggleScale(),s.geo.map.caption.updateScale()},b=(S=!1)=>i(S?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(S,E)=>{const T=Ar("dropdown-menu"),w=Ot("truncate"),_=Ot("tippy");return fe(),xe("div",Cue,[Ze(Iue,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),Ze(gue,{class:"sm:block display-none"}),p()?(fe(),xe("span",Nue,[ce("a",{class:"pointer-events-auto cursor-pointer",href:o.value?.logo.link,target:"_blank","aria-label":o.value?.logo.altText},[ce("img",{class:"object-contain h-18 sm:h-26",src:o.value?.logo.value,alt:o.value?.logo.altText},null,8,Lue)],8,Pue)])):Wt("",!0),o.value?.text.disabled?Wt("",!0):$t((fe(),xe("span",kue,[wo(Dt(o.value?.text.value),1)])),[[w,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),E[0]||(E[0]=ce("span",{class:"flex-grow w-15"},null,-1)),ce("div",Rue,[a.value?.disabled?Wt("",!0):$t((fe(),xe("div",Due,[wo(Dt(a.value?.formattedString),1)])),[[w,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),n.value?.disabled?Wt("",!0):$t((fe(),xe("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:v,"aria-pressed":n.value?.isImperialScale,"aria-label":`
                    ${n.value?.label} - ${b(n.value?.isImperialScale)}
                `,content:b(n.value?.isImperialScale)},[ce("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:kl({width:n.value?.width})},null,4),ce("span",Uue,Dt(n.value?.label),1)],8,Fue)),[[_,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),l.value?.disabled?Wt("",!0):(fe(),Vt(T,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:$e(i)("map.changeLanguage"),ariaLabel:`${$e(i)("map.language.short")} - ${$e(i)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:Nr(()=>[ce("span",jue,Dt($e(i)("map.language.short")),1)]),default:Nr(()=>[(fe(!0),xe(Lt,null,Ul(f.value,(M,$)=>(fe(),xe("a",{key:`${M}-${$}`,class:lr(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":M===$e(s).$i18n.locale.value}]),href:"javascript:;",onClick:C=>y(M)},[wo(Dt($e(i)("map.language."+M))+" ",1),M===$e(s).$i18n.locale.value?(fe(),xe("span",Vue,Dt($e(i)("map.language.curr")),1)):Wt("",!0)],10,Bue))),128))]),_:1},8,["tooltip","ariaLabel"]))])])}}}),zue=["content","aria-label"],que={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},Hue=st({__name:"floating-button",setup(t){const e=Eo(),r=Fr("iApi"),{t:i}=sr(),s=tt(()=>e.notificationNumber);return(n,o)=>{const a=Ot("tippy");return $t((fe(),xe("button",{type:"button",onClick:o[0]||(o[0]=l=>$e(r).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:$e(i)("notifications.title"),"aria-label":$e(i)("notifications.title")},[o[1]||(o[1]=ce("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ce("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),s.value&&s.value>0?(fe(),xe("span",que,Dt(s.value),1)):Wt("",!0)],8,zue)),[[a]])}}}),Wue=Ea(Hue,[["__scopeId","data-v-db7ed22c"]]),Yue={class:"flex items-center mb-20"},Jue={class:"text-xl"},Kue=st({__name:"keyboard-instructions",setup(t){const e=Fr("iApi"),{t:r}=sr(),i=X(!1),s=X(["app","lists","map"]),n=X([]),o=X(null),a=X(null);vi(()=>{n.value.push(e.event.on("openKeyboardInstructions",()=>{i.value=!0,Wn(()=>{o.value.focus()})}))}),Yn(()=>{n.value.forEach(c=>e.event.off(c))});const l=c=>{c.key==="Tab"?c.shiftKey&&c.target===o.value?(c.preventDefault(),a.value.focus()):!c.shiftKey&&c.target===a.value&&(c.preventDefault(),o.value.focus()):c.key==="Escape"&&(c.preventDefault(),i.value=!1)};return(c,f)=>{const d=Ar("close");return i.value?(fe(),xe("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:f[3]||(f[3]=p=>i.value=!1),onKeydown:l},[ce("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col keyboard-instructions-modal-content",onClick:f[2]||(f[2]=Bm(()=>{},["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:o},[ce("div",Yue,[ce("h2",Jue,Dt($e(r)("keyboardInstructions.title")),1),Ze(d,{class:"ml-auto",onClick:f[0]||(f[0]=p=>i.value=!1)})]),(fe(!0),xe(Lt,null,Ul(s.value,p=>(fe(),xe("p",{class:"whitespace-pre-line pb-10",key:p},Dt($e(r)(`keyboardInstructions.${p}`)),1))),128)),ce("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:f[1]||(f[1]=p=>i.value=!1),ref_key:"lastEl",ref:a},Dt($e(r)("keyboardInstructions.OK")),513)],512)],32)):Wt("",!0)}}}),Gu=ur("instance",()=>({started:X(!1)})),Zue={class:"h-full relative"},Xue={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},Que={class:"absolute top-8 w-full flex justify-center"},ehe={key:1,class:"w-full h-full"},the=st({__name:"shell",setup(t){const e=Fr("iApi"),r=Gu(),i=Ks(),s=su(),{t:n}=sr(),o=tt(()=>i.items.appbar),a=()=>{e.event.emit("openKeyboardInstructions")},l=()=>s.teleported;return(c,f)=>(fe(),xe("div",Zue,[ce("div",Xue,[f[0]||(f[0]=ce("div",{class:"sr-only screen-reader-alert"},null,-1)),ce("div",Que,[ce("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},Dt($e(n)("keyboardInstructions.open")),1)]),Ze(Kue,{class:"keyboard-instructions-modal"}),Ze(Ble,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),o.value?Wt("",!0):(fe(),Vt(Wue,{key:0})),Ze(Gue,{class:"z-30"})]),$e(r).started?(fe(),Vt(cle,{key:0})):(fe(),xe("div",ehe,f[1]||(f[1]=[ce("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(fe(!0),xe(Lt,null,Ul(l(),d=>(fe(),Vt(VS,{to:d.teleport?.target,key:d.id},[(fe(),Vt(q9,{key:`${d.id}`,panel:d},null,8,["panel"]))],8,["to"]))),128))]))}}),rhe=Ea(the,[["__scopeId","data-v-60f43222"]]);/*!
  * vue-tippy v6.4.4
  * (c) 2024 
  * @license MIT
  */var ws="top",un="bottom",hn="right",xs="left",mA="auto",Wm=[ws,un,hn,xs],cf="start",nm="end",ihe="clippingParents",i7="viewport",Xf="popper",she="reference",LO=Wm.reduce(function(t,e){return t.concat([e+"-"+cf,e+"-"+nm])},[]),s7=[].concat(Wm,[mA]).reduce(function(t,e){return t.concat([e,e+"-"+cf,e+"-"+nm])},[]),nhe="beforeRead",ohe="read",ahe="afterRead",lhe="beforeMain",che="main",uhe="afterMain",hhe="beforeWrite",fhe="write",dhe="afterWrite",phe=[nhe,ohe,ahe,lhe,che,uhe,hhe,fhe,dhe];function Co(t){return t?(t.nodeName||"").toLowerCase():null}function Jn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function uf(t){var e=Jn(t).Element;return t instanceof e||t instanceof Element}function an(t){var e=Jn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function n7(t){if(typeof ShadowRoot>"u")return!1;var e=Jn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function mhe(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var i=e.styles[r]||{},s=e.attributes[r]||{},n=e.elements[r];!an(n)||!Co(n)||(Object.assign(n.style,i),Object.keys(s).forEach(function(o){var a=s[o];a===!1?n.removeAttribute(o):n.setAttribute(o,a===!0?"":a)}))})}function yhe(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(i){var s=e.elements[i],n=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:r[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!an(s)||!Co(s)||(Object.assign(s.style,a),Object.keys(n).forEach(function(l){s.removeAttribute(l)}))})}}var o7={name:"applyStyles",enabled:!0,phase:"write",fn:mhe,effect:yhe,requires:["computeStyles"]};function So(t){return t.split("-")[0]}var jc=Math.max,hv=Math.min,hf=Math.round;function ff(t,e){e===void 0&&(e=!1);var r=t.getBoundingClientRect(),i=1,s=1;if(an(t)&&e){var n=t.offsetHeight,o=t.offsetWidth;o>0&&(i=hf(r.width)/o||1),n>0&&(s=hf(r.height)/n||1)}return{width:r.width/i,height:r.height/s,top:r.top/s,right:r.right/i,bottom:r.bottom/s,left:r.left/i,x:r.left/i,y:r.top/s}}function yA(t){var e=ff(t),r=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:i}}function a7(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&n7(r)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function No(t){return Jn(t).getComputedStyle(t)}function ghe(t){return["table","td","th"].indexOf(Co(t))>=0}function zl(t){return((uf(t)?t.ownerDocument:t.document)||window.document).documentElement}function X1(t){return Co(t)==="html"?t:t.assignedSlot||t.parentNode||(n7(t)?t.host:null)||zl(t)}function kO(t){return!an(t)||No(t).position==="fixed"?null:t.offsetParent}function vhe(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&an(t)){var i=No(t);if(i.position==="fixed")return null}for(var s=X1(t);an(s)&&["html","body"].indexOf(Co(s))<0;){var n=No(s);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||e&&n.willChange==="filter"||e&&n.filter&&n.filter!=="none")return s;s=s.parentNode}return null}function Ym(t){for(var e=Jn(t),r=kO(t);r&&ghe(r)&&No(r).position==="static";)r=kO(r);return r&&(Co(r)==="html"||Co(r)==="body"&&No(r).position==="static")?e:r||vhe(t)||e}function gA(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ap(t,e,r){return jc(t,hv(e,r))}function bhe(t,e,r){var i=ap(t,e,r);return i>r?r:i}function l7(){return{top:0,right:0,bottom:0,left:0}}function c7(t){return Object.assign({},l7(),t)}function u7(t,e){return e.reduce(function(r,i){return r[i]=t,r},{})}var _he=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,c7(typeof e!="number"?e:u7(e,Wm))};function whe(t){var e,r=t.state,i=t.name,s=t.options,n=r.elements.arrow,o=r.modifiersData.popperOffsets,a=So(r.placement),l=gA(a),c=[xs,hn].indexOf(a)>=0,f=c?"height":"width";if(!(!n||!o)){var d=_he(s.padding,r),p=yA(n),y=l==="y"?ws:xs,v=l==="y"?un:hn,b=r.rects.reference[f]+r.rects.reference[l]-o[l]-r.rects.popper[f],S=o[l]-r.rects.reference[l],E=Ym(n),T=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,w=b/2-S/2,_=d[y],M=T-p[f]-d[v],$=T/2-p[f]/2+w,C=ap(_,$,M),P=l;r.modifiersData[i]=(e={},e[P]=C,e.centerOffset=C-$,e)}}function xhe(t){var e=t.state,r=t.options,i=r.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||a7(e.elements.popper,s)&&(e.elements.arrow=s))}var Ehe={name:"arrow",enabled:!0,phase:"main",fn:whe,effect:xhe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function df(t){return t.split("-")[1]}var She={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ahe(t){var e=t.x,r=t.y,i=window,s=i.devicePixelRatio||1;return{x:hf(e*s)/s||0,y:hf(r*s)/s||0}}function RO(t){var e,r=t.popper,i=t.popperRect,s=t.placement,n=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,f=t.roundOffsets,d=t.isFixed,p=f===!0?Ahe(o):typeof f=="function"?f(o):o,y=p.x,v=y===void 0?0:y,b=p.y,S=b===void 0?0:b,E=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),w=xs,_=ws,M=window;if(c){var $=Ym(r),C="clientHeight",P="clientWidth";if($===Jn(r)&&($=zl(r),No($).position!=="static"&&a==="absolute"&&(C="scrollHeight",P="scrollWidth")),$=$,s===ws||(s===xs||s===hn)&&n===nm){_=un;var N=d&&M.visualViewport?M.visualViewport.height:$[C];S-=N-i.height,S*=l?1:-1}if(s===xs||(s===ws||s===un)&&n===nm){w=hn;var F=d&&M.visualViewport?M.visualViewport.width:$[P];v-=F-i.width,v*=l?1:-1}}var q=Object.assign({position:a},c&&She);if(l){var U;return Object.assign({},q,(U={},U[_]=T?"0":"",U[w]=E?"0":"",U.transform=(M.devicePixelRatio||1)<=1?"translate("+v+"px, "+S+"px)":"translate3d("+v+"px, "+S+"px, 0)",U))}return Object.assign({},q,(e={},e[_]=T?S+"px":"",e[w]=E?v+"px":"",e.transform="",e))}function The(t){var e=t.state,r=t.options,i=r.gpuAcceleration,s=i===void 0?!0:i,n=r.adaptive,o=n===void 0?!0:n,a=r.roundOffsets,l=a===void 0?!0:a,c={placement:So(e.placement),variation:df(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,RO(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,RO(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Mhe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:The,data:{}},Dy={passive:!0};function $he(t){var e=t.state,r=t.instance,i=t.options,s=i.scroll,n=s===void 0?!0:s,o=i.resize,a=o===void 0?!0:o,l=Jn(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return n&&c.forEach(function(f){f.addEventListener("scroll",r.update,Dy)}),a&&l.addEventListener("resize",r.update,Dy),function(){n&&c.forEach(function(f){f.removeEventListener("scroll",r.update,Dy)}),a&&l.removeEventListener("resize",r.update,Dy)}}var Ohe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$he,data:{}},Ihe={left:"right",right:"left",bottom:"top",top:"bottom"};function B0(t){return t.replace(/left|right|bottom|top/g,function(e){return Ihe[e]})}var Che={start:"end",end:"start"};function DO(t){return t.replace(/start|end/g,function(e){return Che[e]})}function vA(t){var e=Jn(t),r=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:r,scrollTop:i}}function bA(t){return ff(zl(t)).left+vA(t).scrollLeft}function Nhe(t){var e=Jn(t),r=zl(t),i=e.visualViewport,s=r.clientWidth,n=r.clientHeight,o=0,a=0;return i&&(s=i.width,n=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,a=i.offsetTop)),{width:s,height:n,x:o+bA(t),y:a}}function Phe(t){var e,r=zl(t),i=vA(t),s=(e=t.ownerDocument)==null?void 0:e.body,n=jc(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=jc(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+bA(t),l=-i.scrollTop;return No(s||r).direction==="rtl"&&(a+=jc(r.clientWidth,s?s.clientWidth:0)-n),{width:n,height:o,x:a,y:l}}function _A(t){var e=No(t),r=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+i)}function h7(t){return["html","body","#document"].indexOf(Co(t))>=0?t.ownerDocument.body:an(t)&&_A(t)?t:h7(X1(t))}function lp(t,e){var r;e===void 0&&(e=[]);var i=h7(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),n=Jn(i),o=s?[n].concat(n.visualViewport||[],_A(i)?i:[]):i,a=e.concat(o);return s?a:a.concat(lp(X1(o)))}function Gx(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Lhe(t){var e=ff(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function FO(t,e){return e===i7?Gx(Nhe(t)):uf(e)?Lhe(e):Gx(Phe(zl(t)))}function khe(t){var e=lp(X1(t)),r=["absolute","fixed"].indexOf(No(t).position)>=0,i=r&&an(t)?Ym(t):t;return uf(i)?e.filter(function(s){return uf(s)&&a7(s,i)&&Co(s)!=="body"&&(r?No(s).position!=="static":!0)}):[]}function Rhe(t,e,r){var i=e==="clippingParents"?khe(t):[].concat(e),s=[].concat(i,[r]),n=s[0],o=s.reduce(function(a,l){var c=FO(t,l);return a.top=jc(c.top,a.top),a.right=hv(c.right,a.right),a.bottom=hv(c.bottom,a.bottom),a.left=jc(c.left,a.left),a},FO(t,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function f7(t){var e=t.reference,r=t.element,i=t.placement,s=i?So(i):null,n=i?df(i):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,l;switch(s){case ws:l={x:o,y:e.y-r.height};break;case un:l={x:o,y:e.y+e.height};break;case hn:l={x:e.x+e.width,y:a};break;case xs:l={x:e.x-r.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?gA(s):null;if(c!=null){var f=c==="y"?"height":"width";switch(n){case cf:l[c]=l[c]-(e[f]/2-r[f]/2);break;case nm:l[c]=l[c]+(e[f]/2-r[f]/2);break}}return l}function om(t,e){e===void 0&&(e={});var r=e,i=r.placement,s=i===void 0?t.placement:i,n=r.boundary,o=n===void 0?ihe:n,a=r.rootBoundary,l=a===void 0?i7:a,c=r.elementContext,f=c===void 0?Xf:c,d=r.altBoundary,p=d===void 0?!1:d,y=r.padding,v=y===void 0?0:y,b=c7(typeof v!="number"?v:u7(v,Wm)),S=f===Xf?she:Xf,E=t.rects.popper,T=t.elements[p?S:f],w=Rhe(uf(T)?T:T.contextElement||zl(t.elements.popper),o,l),_=ff(t.elements.reference),M=f7({reference:_,element:E,placement:s}),$=Gx(Object.assign({},E,M)),C=f===Xf?$:_,P={top:w.top-C.top+b.top,bottom:C.bottom-w.bottom+b.bottom,left:w.left-C.left+b.left,right:C.right-w.right+b.right},N=t.modifiersData.offset;if(f===Xf&&N){var F=N[s];Object.keys(P).forEach(function(q){var U=[hn,un].indexOf(q)>=0?1:-1,B=[ws,un].indexOf(q)>=0?"y":"x";P[q]+=F[B]*U})}return P}function Dhe(t,e){e===void 0&&(e={});var r=e,i=r.placement,s=r.boundary,n=r.rootBoundary,o=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?s7:l,f=df(i),d=f?a?LO:LO.filter(function(v){return df(v)===f}):Wm,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var y=p.reduce(function(v,b){return v[b]=om(t,{placement:b,boundary:s,rootBoundary:n,padding:o})[So(b)],v},{});return Object.keys(y).sort(function(v,b){return y[v]-y[b]})}function Fhe(t){if(So(t)===mA)return[];var e=B0(t);return[DO(t),e,DO(e)]}function Uhe(t){var e=t.state,r=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var s=r.mainAxis,n=s===void 0?!0:s,o=r.altAxis,a=o===void 0?!0:o,l=r.fallbackPlacements,c=r.padding,f=r.boundary,d=r.rootBoundary,p=r.altBoundary,y=r.flipVariations,v=y===void 0?!0:y,b=r.allowedAutoPlacements,S=e.options.placement,E=So(S),T=E===S,w=l||(T||!v?[B0(S)]:Fhe(S)),_=[S].concat(w).reduce(function(je,qe){return je.concat(So(qe)===mA?Dhe(e,{placement:qe,boundary:f,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:b}):qe)},[]),M=e.rects.reference,$=e.rects.popper,C=new Map,P=!0,N=_[0],F=0;F<_.length;F++){var q=_[F],U=So(q),B=df(q)===cf,K=[ws,un].indexOf(U)>=0,h=K?"width":"height",m=om(e,{placement:q,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),x=K?B?hn:xs:B?un:ws;M[h]>$[h]&&(x=B0(x));var I=B0(x),V=[];if(n&&V.push(m[U]<=0),a&&V.push(m[x]<=0,m[I]<=0),V.every(function(je){return je})){N=q,P=!1;break}C.set(q,V)}if(P)for(var Y=v?3:1,de=function(qe){var lt=_.find(function(zt){var It=C.get(zt);if(It)return It.slice(0,qe).every(function(_r){return _r})});if(lt)return N=lt,"break"},oe=Y;oe>0;oe--){var Me=de(oe);if(Me==="break")break}e.placement!==N&&(e.modifiersData[i]._skip=!0,e.placement=N,e.reset=!0)}}var jhe={name:"flip",enabled:!0,phase:"main",fn:Uhe,requiresIfExists:["offset"],data:{_skip:!1}};function UO(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function jO(t){return[ws,hn,un,xs].some(function(e){return t[e]>=0})}function Bhe(t){var e=t.state,r=t.name,i=e.rects.reference,s=e.rects.popper,n=e.modifiersData.preventOverflow,o=om(e,{elementContext:"reference"}),a=om(e,{altBoundary:!0}),l=UO(o,i),c=UO(a,s,n),f=jO(l),d=jO(c);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}var Vhe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Bhe};function Ghe(t,e,r){var i=So(t),s=[xs,ws].indexOf(i)>=0?-1:1,n=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=n[0],a=n[1];return o=o||0,a=(a||0)*s,[xs,hn].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function zhe(t){var e=t.state,r=t.options,i=t.name,s=r.offset,n=s===void 0?[0,0]:s,o=s7.reduce(function(f,d){return f[d]=Ghe(d,e.rects,n),f},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}var qhe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:zhe};function Hhe(t){var e=t.state,r=t.name;e.modifiersData[r]=f7({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var Whe={name:"popperOffsets",enabled:!0,phase:"read",fn:Hhe,data:{}};function Yhe(t){return t==="x"?"y":"x"}function Jhe(t){var e=t.state,r=t.options,i=t.name,s=r.mainAxis,n=s===void 0?!0:s,o=r.altAxis,a=o===void 0?!1:o,l=r.boundary,c=r.rootBoundary,f=r.altBoundary,d=r.padding,p=r.tether,y=p===void 0?!0:p,v=r.tetherOffset,b=v===void 0?0:v,S=om(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),E=So(e.placement),T=df(e.placement),w=!T,_=gA(E),M=Yhe(_),$=e.modifiersData.popperOffsets,C=e.rects.reference,P=e.rects.popper,N=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,F=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if($){if(n){var B,K=_==="y"?ws:xs,h=_==="y"?un:hn,m=_==="y"?"height":"width",x=$[_],I=x+S[K],V=x-S[h],Y=y?-P[m]/2:0,de=T===cf?C[m]:P[m],oe=T===cf?-P[m]:-C[m],Me=e.elements.arrow,je=y&&Me?yA(Me):{width:0,height:0},qe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:l7(),lt=qe[K],zt=qe[h],It=ap(0,C[m],je[m]),_r=w?C[m]/2-Y-It-lt-F.mainAxis:de-It-lt-F.mainAxis,Ft=w?-C[m]/2+Y+It+zt+F.mainAxis:oe+It+zt+F.mainAxis,nr=e.elements.arrow&&Ym(e.elements.arrow),ei=nr?_==="y"?nr.clientTop||0:nr.clientLeft||0:0,j=(B=q?.[_])!=null?B:0,D=x+_r-j-ei,W=x+Ft-j,ae=ap(y?hv(I,D):I,x,y?jc(V,W):V);$[_]=ae,U[_]=ae-x}if(a){var te,ue=_==="x"?ws:xs,ye=_==="x"?un:hn,L=$[M],k=M==="y"?"height":"width",G=L+S[ue],re=L-S[ye],se=[ws,xs].indexOf(E)!==-1,ne=(te=q?.[M])!=null?te:0,H=se?G:L-C[k]-P[k]-ne+F.altAxis,Z=se?L+C[k]+P[k]-ne-F.altAxis:re,Ae=y&&se?bhe(H,L,Z):ap(y?H:G,L,y?Z:re);$[M]=Ae,U[M]=Ae-L}e.modifiersData[i]=U}}var Khe={name:"preventOverflow",enabled:!0,phase:"main",fn:Jhe,requiresIfExists:["offset"]};function Zhe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Xhe(t){return t===Jn(t)||!an(t)?vA(t):Zhe(t)}function Qhe(t){var e=t.getBoundingClientRect(),r=hf(e.width)/t.offsetWidth||1,i=hf(e.height)/t.offsetHeight||1;return r!==1||i!==1}function efe(t,e,r){r===void 0&&(r=!1);var i=an(e),s=an(e)&&Qhe(e),n=zl(e),o=ff(t,s),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!r)&&((Co(e)!=="body"||_A(n))&&(a=Xhe(e)),an(e)?(l=ff(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):n&&(l.x=bA(n))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function tfe(t){var e=new Map,r=new Set,i=[];t.forEach(function(n){e.set(n.name,n)});function s(n){r.add(n.name);var o=[].concat(n.requires||[],n.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var l=e.get(a);l&&s(l)}}),i.push(n)}return t.forEach(function(n){r.has(n.name)||s(n)}),i}function rfe(t){var e=tfe(t);return phe.reduce(function(r,i){return r.concat(e.filter(function(s){return s.phase===i}))},[])}function ife(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function sfe(t){var e=t.reduce(function(r,i){var s=r[i.name];return r[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,r},{});return Object.keys(e).map(function(r){return e[r]})}var BO={placement:"bottom",modifiers:[],strategy:"absolute"};function VO(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function nfe(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,i=r===void 0?[]:r,s=e.defaultOptions,n=s===void 0?BO:s;return function(a,l,c){c===void 0&&(c=n);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},BO,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(E){var T=typeof E=="function"?E(f.options):E;b(),f.options=Object.assign({},n,f.options,T),f.scrollParents={reference:uf(a)?lp(a):a.contextElement?lp(a.contextElement):[],popper:lp(l)};var w=rfe(sfe([].concat(i,f.options.modifiers)));return f.orderedModifiers=w.filter(function(_){return _.enabled}),v(),y.update()},forceUpdate:function(){if(!p){var E=f.elements,T=E.reference,w=E.popper;if(VO(T,w)){f.rects={reference:efe(T,Ym(w),f.options.strategy==="fixed"),popper:yA(w)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(F){return f.modifiersData[F.name]=Object.assign({},F.data)});for(var _=0;_<f.orderedModifiers.length;_++){if(f.reset===!0){f.reset=!1,_=-1;continue}var M=f.orderedModifiers[_],$=M.fn,C=M.options,P=C===void 0?{}:C,N=M.name;typeof $=="function"&&(f=$({state:f,options:P,name:N,instance:y})||f)}}}},update:ife(function(){return new Promise(function(S){y.forceUpdate(),S(f)})}),destroy:function(){b(),p=!0}};if(!VO(a,l))return y;y.setOptions(c).then(function(S){!p&&c.onFirstUpdate&&c.onFirstUpdate(S)});function v(){f.orderedModifiers.forEach(function(S){var E=S.name,T=S.options,w=T===void 0?{}:T,_=S.effect;if(typeof _=="function"){var M=_({state:f,name:E,instance:y,options:w}),$=function(){};d.push(M||$)}})}function b(){d.forEach(function(S){return S()}),d=[]}return y}}var ofe=[Ohe,Whe,Mhe,o7,qhe,jhe,Khe,Ehe,Vhe],afe=nfe({defaultModifiers:ofe}),lfe="tippy-box",d7="tippy-content",p7="tippy-backdrop",m7="tippy-arrow",y7="tippy-svg-arrow",vc={passive:!0,capture:!0},g7=function(){return document.body};function __(t,e,r){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(r)?r[e]:r)}return t}function wA(t,e){var r={}.toString.call(t);return r.indexOf("[object")===0&&r.indexOf(e+"]")>-1}function v7(t,e){return typeof t=="function"?t.apply(void 0,e):t}function GO(t,e){if(e===0)return t;var r;return function(i){clearTimeout(r),r=setTimeout(function(){t(i)},e)}}function cfe(t,e){var r=Object.assign({},t);return e.forEach(function(i){delete r[i]}),r}function ufe(t){return t.split(/\s+/).filter(Boolean)}function wc(t){return[].concat(t)}function zO(t,e){t.indexOf(e)===-1&&t.push(e)}function hfe(t){return t.filter(function(e,r){return t.indexOf(e)===r})}function b7(t){return t.split("-")[0]}function pf(t){return[].slice.call(t)}function qO(t){return Object.keys(t).reduce(function(e,r){return t[r]!==void 0&&(e[r]=t[r]),e},{})}function Bc(){return document.createElement("div")}function Q1(t){return["Element","Fragment"].some(function(e){return wA(t,e)})}function ffe(t){return wA(t,"NodeList")}function xA(t){return wA(t,"MouseEvent")}function dfe(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function pfe(t){return Q1(t)?[t]:ffe(t)?pf(t):Array.isArray(t)?t:pf(document.querySelectorAll(t))}function w_(t,e){t.forEach(function(r){r&&(r.style.transitionDuration=e+"ms")})}function am(t,e){t.forEach(function(r){r&&r.setAttribute("data-state",e)})}function _7(t){var e,r=wc(t),i=r[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function mfe(t,e){var r=e.clientX,i=e.clientY;return t.every(function(s){var n=s.popperRect,o=s.popperState,a=s.props,l=a.interactiveBorder,c=b7(o.placement),f=o.modifiersData.offset;if(!f)return!0;var d=c==="bottom"?f.top.y:0,p=c==="top"?f.bottom.y:0,y=c==="right"?f.left.x:0,v=c==="left"?f.right.x:0,b=n.top-i+d>l,S=i-n.bottom-p>l,E=n.left-r+y>l,T=r-n.right-v>l;return b||S||E||T})}function x_(t,e,r){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(s){t[i](s,r)})}function HO(t,e){for(var r=e;r;){var i;if(t.contains(r))return!0;r=r.getRootNode==null||(i=r.getRootNode())==null?void 0:i.host}return!1}var uo={isTouch:!1},WO=0;function yfe(){uo.isTouch||(uo.isTouch=!0,window.performance&&document.addEventListener("mousemove",w7))}function w7(){var t=performance.now();t-WO<20&&(uo.isTouch=!1,document.removeEventListener("mousemove",w7)),WO=t}function gfe(){var t=document.activeElement;if(dfe(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function vfe(){document.addEventListener("touchstart",yfe,vc),window.addEventListener("blur",gfe)}var bfe=typeof window<"u"&&typeof document<"u",_fe=bfe?!!window.msCrypto:!1,wfe={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},xfe={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Nn=Object.assign({appendTo:g7,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},wfe,xfe),Efe=Object.keys(Nn),Sfe=function(e){var r=Object.keys(e);r.forEach(function(i){Nn[i]=e[i]})};function x7(t){var e=t.plugins||[],r=e.reduce(function(i,s){var n=s.name,o=s.defaultValue;if(n){var a;i[n]=t[n]!==void 0?t[n]:(a=Nn[n])!=null?a:o}return i},{});return Object.assign({},t,r)}function Afe(t,e){var r=e?Object.keys(x7(Object.assign({},Nn,{plugins:e}))):Efe,i=r.reduce(function(s,n){var o=(t.getAttribute("data-tippy-"+n)||"").trim();if(!o)return s;if(n==="content")s[n]=o;else try{s[n]=JSON.parse(o)}catch{s[n]=o}return s},{});return i}function YO(t,e){var r=Object.assign({},e,{content:v7(e.content,[t])},e.ignoreAttributes?{}:Afe(t,e.plugins));return r.aria=Object.assign({},Nn.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?e.interactive:r.aria.expanded,content:r.aria.content==="auto"?e.interactive?null:"describedby":r.aria.content},r}var Tfe=function(){return"innerHTML"};function zx(t,e){t[Tfe()]=e}function JO(t){var e=Bc();return t===!0?e.className=m7:(e.className=y7,Q1(t)?e.appendChild(t):zx(e,t)),e}function KO(t,e){Q1(e.content)?(zx(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?zx(t,e.content):t.textContent=e.content)}function fv(t){var e=t.firstElementChild,r=pf(e.children);return{box:e,content:r.find(function(i){return i.classList.contains(d7)}),arrow:r.find(function(i){return i.classList.contains(m7)||i.classList.contains(y7)}),backdrop:r.find(function(i){return i.classList.contains(p7)})}}function E7(t){var e=Bc(),r=Bc();r.className=lfe,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var i=Bc();i.className=d7,i.setAttribute("data-state","hidden"),KO(i,t.props),e.appendChild(r),r.appendChild(i),s(t.props,t.props);function s(n,o){var a=fv(e),l=a.box,c=a.content,f=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(n.content!==o.content||n.allowHTML!==o.allowHTML)&&KO(c,t.props),o.arrow?f?n.arrow!==o.arrow&&(l.removeChild(f),l.appendChild(JO(o.arrow))):l.appendChild(JO(o.arrow)):f&&l.removeChild(f)}return{popper:e,onUpdate:s}}E7.$$tippy=!0;var Mfe=1,Fy=[],E_=[];function $fe(t,e){var r=YO(t,Object.assign({},Nn,x7(qO(e)))),i,s,n,o=!1,a=!1,l=!1,c=!1,f,d,p,y=[],v=GO(D,r.interactiveDebounce),b,S=Mfe++,E=null,T=hfe(r.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:S,reference:t,popper:Bc(),popperInstance:E,props:r,state:w,plugins:T,clearDelayTimeouts:H,setProps:Z,setContent:Ae,show:Le,hide:Ut,hideWithInteractivity:qt,enable:se,disable:ne,unmount:hr,destroy:jr};if(!r.render)return _;var M=r.render(_),$=M.popper,C=M.onUpdate;$.setAttribute("data-tippy-root",""),$.id="tippy-"+_.id,_.popper=$,t._tippy=_,$._tippy=_;var P=T.map(function(Q){return Q.fn(_)}),N=t.hasAttribute("aria-expanded");return nr(),Y(),x(),I("onCreate",[_]),r.showOnCreate&&G(),$.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),$.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&K().addEventListener("mousemove",v)}),_;function F(){var Q=_.props.touch;return Array.isArray(Q)?Q:[Q,0]}function q(){return F()[0]==="hold"}function U(){var Q;return!!((Q=_.props.render)!=null&&Q.$$tippy)}function B(){return b||t}function K(){var Q=B().parentNode;return Q?_7(Q):document}function h(){return fv($)}function m(Q){return _.state.isMounted&&!_.state.isVisible||uo.isTouch||f&&f.type==="focus"?0:__(_.props.delay,Q?0:1,Nn.delay)}function x(Q){Q===void 0&&(Q=!1),$.style.pointerEvents=_.props.interactive&&!Q?"":"none",$.style.zIndex=""+_.props.zIndex}function I(Q,Te,Oe){if(Oe===void 0&&(Oe=!0),P.forEach(function(Xe){Xe[Q]&&Xe[Q].apply(Xe,Te)}),Oe){var Ye;(Ye=_.props)[Q].apply(Ye,Te)}}function V(){var Q=_.props.aria;if(Q.content){var Te="aria-"+Q.content,Oe=$.id,Ye=wc(_.props.triggerTarget||t);Ye.forEach(function(Xe){var Br=Xe.getAttribute(Te);if(_.state.isVisible)Xe.setAttribute(Te,Br?Br+" "+Oe:Oe);else{var bi=Br&&Br.replace(Oe,"").trim();bi?Xe.setAttribute(Te,bi):Xe.removeAttribute(Te)}})}}function Y(){if(!(N||!_.props.aria.expanded)){var Q=wc(_.props.triggerTarget||t);Q.forEach(function(Te){_.props.interactive?Te.setAttribute("aria-expanded",_.state.isVisible&&Te===B()?"true":"false"):Te.removeAttribute("aria-expanded")})}}function de(){K().removeEventListener("mousemove",v),Fy=Fy.filter(function(Q){return Q!==v})}function oe(Q){if(!(uo.isTouch&&(l||Q.type==="mousedown"))){var Te=Q.composedPath&&Q.composedPath()[0]||Q.target;if(!(_.props.interactive&&HO($,Te))){if(wc(_.props.triggerTarget||t).some(function(Oe){return HO(Oe,Te)})){if(uo.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else I("onClickOutside",[_,Q]);_.props.hideOnClick===!0&&(_.clearDelayTimeouts(),_.hide(),a=!0,setTimeout(function(){a=!1}),_.state.isMounted||lt())}}}function Me(){l=!0}function je(){l=!1}function qe(){var Q=K();Q.addEventListener("mousedown",oe,!0),Q.addEventListener("touchend",oe,vc),Q.addEventListener("touchstart",je,vc),Q.addEventListener("touchmove",Me,vc)}function lt(){var Q=K();Q.removeEventListener("mousedown",oe,!0),Q.removeEventListener("touchend",oe,vc),Q.removeEventListener("touchstart",je,vc),Q.removeEventListener("touchmove",Me,vc)}function zt(Q,Te){_r(Q,function(){!_.state.isVisible&&$.parentNode&&$.parentNode.contains($)&&Te()})}function It(Q,Te){_r(Q,Te)}function _r(Q,Te){var Oe=h().box;function Ye(Xe){Xe.target===Oe&&(x_(Oe,"remove",Ye),Te())}if(Q===0)return Te();x_(Oe,"remove",d),x_(Oe,"add",Ye),d=Ye}function Ft(Q,Te,Oe){Oe===void 0&&(Oe=!1);var Ye=wc(_.props.triggerTarget||t);Ye.forEach(function(Xe){Xe.addEventListener(Q,Te,Oe),y.push({node:Xe,eventType:Q,handler:Te,options:Oe})})}function nr(){q()&&(Ft("touchstart",j,{passive:!0}),Ft("touchend",W,{passive:!0})),ufe(_.props.trigger).forEach(function(Q){if(Q!=="manual")switch(Ft(Q,j),Q){case"mouseenter":Ft("mouseleave",W);break;case"focus":Ft(_fe?"focusout":"blur",ae);break;case"focusin":Ft("focusout",ae);break}})}function ei(){y.forEach(function(Q){var Te=Q.node,Oe=Q.eventType,Ye=Q.handler,Xe=Q.options;Te.removeEventListener(Oe,Ye,Xe)}),y=[]}function j(Q){var Te,Oe=!1;if(!(!_.state.isEnabled||te(Q)||a)){var Ye=((Te=f)==null?void 0:Te.type)==="focus";f=Q,b=Q.currentTarget,Y(),!_.state.isVisible&&xA(Q)&&Fy.forEach(function(Xe){return Xe(Q)}),Q.type==="click"&&(_.props.trigger.indexOf("mouseenter")<0||o)&&_.props.hideOnClick!==!1&&_.state.isVisible?Oe=!0:G(Q),Q.type==="click"&&(o=!Oe),Oe&&!Ye&&re(Q)}}function D(Q){var Te=Q.target,Oe=B().contains(Te)||$.contains(Te);if(!(Q.type==="mousemove"&&Oe)){var Ye=k().concat($).map(function(Xe){var Br,bi=Xe._tippy,Kn=(Br=bi.popperInstance)==null?void 0:Br.state;return Kn?{popperRect:Xe.getBoundingClientRect(),popperState:Kn,props:r}:null}).filter(Boolean);mfe(Ye,Q)&&(de(),re(Q))}}function W(Q){var Te=te(Q)||_.props.trigger.indexOf("click")>=0&&o;if(!Te){if(_.props.interactive){_.hideWithInteractivity(Q);return}re(Q)}}function ae(Q){_.props.trigger.indexOf("focusin")<0&&Q.target!==B()||_.props.interactive&&Q.relatedTarget&&$.contains(Q.relatedTarget)||re(Q)}function te(Q){return uo.isTouch?q()!==Q.type.indexOf("touch")>=0:!1}function ue(){ye();var Q=_.props,Te=Q.popperOptions,Oe=Q.placement,Ye=Q.offset,Xe=Q.getReferenceClientRect,Br=Q.moveTransition,bi=U()?fv($).arrow:null,Kn=Xe?{getBoundingClientRect:Xe,contextElement:Xe.contextElement||B()}:t,Sa={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(yu){var Aa=yu.state;if(U()){var nb=h(),gu=nb.box;["placement","reference-hidden","escaped"].forEach(function(ql){ql==="placement"?gu.setAttribute("data-placement",Aa.placement):Aa.attributes.popper["data-popper-"+ql]?gu.setAttribute("data-"+ql,""):gu.removeAttribute("data-"+ql)}),Aa.attributes.popper={}}}},ko=[{name:"offset",options:{offset:Ye}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Br}},Sa];U()&&bi&&ko.push({name:"arrow",options:{element:bi,padding:3}}),ko.push.apply(ko,Te?.modifiers||[]),_.popperInstance=afe(Kn,$,Object.assign({},Te,{placement:Oe,onFirstUpdate:p,modifiers:ko}))}function ye(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function L(){var Q=_.props.appendTo,Te,Oe=B();_.props.interactive&&Q===g7||Q==="parent"?Te=Oe.parentNode:Te=v7(Q,[Oe]),Te.contains($)||Te.appendChild($),_.state.isMounted=!0,ue()}function k(){return pf($.querySelectorAll("[data-tippy-root]"))}function G(Q){_.clearDelayTimeouts(),Q&&I("onTrigger",[_,Q]),qe();var Te=m(!0),Oe=F(),Ye=Oe[0],Xe=Oe[1];uo.isTouch&&Ye==="hold"&&Xe&&(Te=Xe),Te?i=setTimeout(function(){_.show()},Te):_.show()}function re(Q){if(_.clearDelayTimeouts(),I("onUntrigger",[_,Q]),!_.state.isVisible){lt();return}if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Q.type)>=0&&o)){var Te=m(!1);Te?s=setTimeout(function(){_.state.isVisible&&_.hide()},Te):n=requestAnimationFrame(function(){_.hide()})}}function se(){_.state.isEnabled=!0}function ne(){_.hide(),_.state.isEnabled=!1}function H(){clearTimeout(i),clearTimeout(s),cancelAnimationFrame(n)}function Z(Q){if(!_.state.isDestroyed){I("onBeforeUpdate",[_,Q]),ei();var Te=_.props,Oe=YO(t,Object.assign({},Te,qO(Q),{ignoreAttributes:!0}));_.props=Oe,nr(),Te.interactiveDebounce!==Oe.interactiveDebounce&&(de(),v=GO(D,Oe.interactiveDebounce)),Te.triggerTarget&&!Oe.triggerTarget?wc(Te.triggerTarget).forEach(function(Ye){Ye.removeAttribute("aria-expanded")}):Oe.triggerTarget&&t.removeAttribute("aria-expanded"),Y(),x(),C&&C(Te,Oe),_.popperInstance&&(ue(),k().forEach(function(Ye){requestAnimationFrame(Ye._tippy.popperInstance.forceUpdate)})),I("onAfterUpdate",[_,Q])}}function Ae(Q){_.setProps({content:Q})}function Le(){var Q=_.state.isVisible,Te=_.state.isDestroyed,Oe=!_.state.isEnabled,Ye=uo.isTouch&&!_.props.touch,Xe=__(_.props.duration,0,Nn.duration);if(!(Q||Te||Oe||Ye)&&!B().hasAttribute("disabled")&&(I("onShow",[_],!1),_.props.onShow(_)!==!1)){if(_.state.isVisible=!0,U()&&($.style.visibility="visible"),x(),qe(),_.state.isMounted||($.style.transition="none"),U()){var Br=h(),bi=Br.box,Kn=Br.content;w_([bi,Kn],0)}p=function(){var ko;if(!(!_.state.isVisible||c)){if(c=!0,$.offsetHeight,$.style.transition=_.props.moveTransition,U()&&_.props.animation){var Pf=h(),yu=Pf.box,Aa=Pf.content;w_([yu,Aa],Xe),am([yu,Aa],"visible")}V(),Y(),zO(E_,_),(ko=_.popperInstance)==null||ko.forceUpdate(),I("onMount",[_]),_.props.animation&&U()&&It(Xe,function(){_.state.isShown=!0,I("onShown",[_])})}},L()}}function Ut(){var Q=!_.state.isVisible,Te=_.state.isDestroyed,Oe=!_.state.isEnabled,Ye=__(_.props.duration,1,Nn.duration);if(!(Q||Te||Oe)&&(I("onHide",[_],!1),_.props.onHide(_)!==!1)){if(_.state.isVisible=!1,_.state.isShown=!1,c=!1,o=!1,U()&&($.style.visibility="hidden"),de(),lt(),x(!0),U()){var Xe=h(),Br=Xe.box,bi=Xe.content;_.props.animation&&(w_([Br,bi],Ye),am([Br,bi],"hidden"))}V(),Y(),_.props.animation?U()&&zt(Ye,_.unmount):_.unmount()}}function qt(Q){K().addEventListener("mousemove",v),zO(Fy,v),v(Q)}function hr(){_.state.isVisible&&_.hide(),_.state.isMounted&&(ye(),k().forEach(function(Q){Q._tippy.unmount()}),$.parentNode&&$.parentNode.removeChild($),E_=E_.filter(function(Q){return Q!==_}),_.state.isMounted=!1,I("onHidden",[_]))}function jr(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),ei(),delete t._tippy,_.state.isDestroyed=!0,I("onDestroy",[_]))}}function Pe(t,e){e===void 0&&(e={});var r=Nn.plugins.concat(e.plugins||[]);vfe();var i=Object.assign({},e,{plugins:r}),s=pfe(t),n=s.reduce(function(o,a){var l=a&&$fe(a,i);return l&&o.push(l),o},[]);return Q1(t)?n[0]:n}Pe.defaultProps=Nn;Pe.setDefaultProps=Sfe;Pe.currentInput=uo;var Ofe=Object.assign({},o7,{effect:function(e){var r=e.state,i={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,i.popper),r.styles=i,r.elements.arrow&&Object.assign(r.elements.arrow.style,i.arrow)}}),Ife=function(e,r){var i;r===void 0&&(r={});var s=e,n=[],o=[],a,l=r.overrides,c=[],f=!1;function d(){o=s.map(function(_){return wc(_.props.triggerTarget||_.reference)}).reduce(function(_,M){return _.concat(M)},[])}function p(){n=s.map(function(_){return _.reference})}function y(_){s.forEach(function(M){_?M.enable():M.disable()})}function v(_){return s.map(function(M){var $=M.setProps;return M.setProps=function(C){$(C),M.reference===a&&_.setProps(C)},function(){M.setProps=$}})}function b(_,M){var $=o.indexOf(M);if(M!==a){a=M;var C=(l||[]).concat("content").reduce(function(P,N){return P[N]=s[$].props[N],P},{});_.setProps(Object.assign({},C,{getReferenceClientRect:typeof C.getReferenceClientRect=="function"?C.getReferenceClientRect:function(){var P;return(P=n[$])==null?void 0:P.getBoundingClientRect()}}))}}y(!1),p(),d();var S={fn:function(){return{onDestroy:function(){y(!0)},onHidden:function(){a=null},onClickOutside:function($){$.props.showOnCreate&&!f&&(f=!0,a=null)},onShow:function($){$.props.showOnCreate&&!f&&(f=!0,b($,n[0]))},onTrigger:function($,C){b($,C.currentTarget)}}}},E=Pe(Bc(),Object.assign({},cfe(r,["overrides"]),{plugins:[S].concat(r.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},r.popperOptions,{modifiers:[].concat(((i=r.popperOptions)==null?void 0:i.modifiers)||[],[Ofe])})})),T=E.show;E.show=function(_){if(T(),!a&&_==null)return b(E,n[0]);if(!(a&&_==null)){if(typeof _=="number")return n[_]&&b(E,n[_]);if(s.indexOf(_)>=0){var M=_.reference;return b(E,M)}if(n.indexOf(_)>=0)return b(E,_)}},E.showNext=function(){var _=n[0];if(!a)return E.show(0);var M=n.indexOf(a);E.show(n[M+1]||_)},E.showPrevious=function(){var _=n[n.length-1];if(!a)return E.show(_);var M=n.indexOf(a),$=n[M-1]||_;E.show($)};var w=E.setProps;return E.setProps=function(_){l=_.overrides||l,w(_)},E.setInstances=function(_){y(!0),c.forEach(function(M){return M()}),s=_,y(!1),p(),d(),c=v(E),E.setProps({triggerTarget:o})},c=v(E),E},Cfe={name:"animateFill",defaultValue:!1,fn:function(e){var r;if(!((r=e.props.render)!=null&&r.$$tippy))return{};var i=fv(e.popper),s=i.box,n=i.content,o=e.props.animateFill?Nfe():null;return{onCreate:function(){o&&(s.insertBefore(o,s.firstElementChild),s.setAttribute("data-animatefill",""),s.style.overflow="hidden",e.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var l=s.style.transitionDuration,c=Number(l.replace("ms",""));n.style.transitionDelay=Math.round(c/10)+"ms",o.style.transitionDuration=l,am([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&am([o],"hidden")}}}};function Nfe(){var t=Bc();return t.className=p7,am([t],"hidden"),t}var qx={clientX:0,clientY:0},Uy=[];function S7(t){var e=t.clientX,r=t.clientY;qx={clientX:e,clientY:r}}function Pfe(t){t.addEventListener("mousemove",S7)}function Lfe(t){t.removeEventListener("mousemove",S7)}var kfe={name:"followCursor",defaultValue:!1,fn:function(e){var r=e.reference,i=_7(e.props.triggerTarget||r),s=!1,n=!1,o=!0,a=e.props;function l(){return e.props.followCursor==="initial"&&e.state.isVisible}function c(){i.addEventListener("mousemove",p)}function f(){i.removeEventListener("mousemove",p)}function d(){s=!0,e.setProps({getReferenceClientRect:null}),s=!1}function p(b){var S=b.target?r.contains(b.target):!0,E=e.props.followCursor,T=b.clientX,w=b.clientY,_=r.getBoundingClientRect(),M=T-_.left,$=w-_.top;(S||!e.props.interactive)&&e.setProps({getReferenceClientRect:function(){var P=r.getBoundingClientRect(),N=T,F=w;E==="initial"&&(N=P.left+M,F=P.top+$);var q=E==="horizontal"?P.top:F,U=E==="vertical"?P.right:N,B=E==="horizontal"?P.bottom:F,K=E==="vertical"?P.left:N;return{width:U-K,height:B-q,top:q,right:U,bottom:B,left:K}}})}function y(){e.props.followCursor&&(Uy.push({instance:e,doc:i}),Pfe(i))}function v(){Uy=Uy.filter(function(b){return b.instance!==e}),Uy.filter(function(b){return b.doc===i}).length===0&&Lfe(i)}return{onCreate:y,onDestroy:v,onBeforeUpdate:function(){a=e.props},onAfterUpdate:function(S,E){var T=E.followCursor;s||T!==void 0&&a.followCursor!==T&&(v(),T?(y(),e.state.isMounted&&!n&&!l()&&c()):(f(),d()))},onMount:function(){e.props.followCursor&&!n&&(o&&(p(qx),o=!1),l()||c())},onTrigger:function(S,E){xA(E)&&(qx={clientX:E.clientX,clientY:E.clientY}),n=E.type==="focus"},onHidden:function(){e.props.followCursor&&(d(),f(),o=!0)}}}};function Rfe(t,e){var r;return{popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((((r=t.popperOptions)==null?void 0:r.modifiers)||[]).filter(function(i){var s=i.name;return s!==e.name}),[e])})}}var Dfe={name:"inlinePositioning",defaultValue:!1,fn:function(e){var r=e.reference;function i(){return!!e.props.inlinePositioning}var s,n=-1,o=!1,a=[],l={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(y){var v=y.state;i()&&(a.indexOf(v.placement)!==-1&&(a=[]),s!==v.placement&&a.indexOf(v.placement)===-1&&(a.push(v.placement),e.setProps({getReferenceClientRect:function(){return c(v.placement)}})),s=v.placement)}};function c(p){return Ffe(b7(p),r.getBoundingClientRect(),pf(r.getClientRects()),n)}function f(p){o=!0,e.setProps(p),o=!1}function d(){o||f(Rfe(e.props,l))}return{onCreate:d,onAfterUpdate:d,onTrigger:function(y,v){if(xA(v)){var b=pf(e.reference.getClientRects()),S=b.find(function(T){return T.left-2<=v.clientX&&T.right+2>=v.clientX&&T.top-2<=v.clientY&&T.bottom+2>=v.clientY}),E=b.indexOf(S);n=E>-1?E:n}},onHidden:function(){n=-1}}}};function Ffe(t,e,r,i){if(r.length<2||t===null)return e;if(r.length===2&&i>=0&&r[0].left>r[1].right)return r[i]||e;switch(t){case"top":case"bottom":{var s=r[0],n=r[r.length-1],o=t==="top",a=s.top,l=n.bottom,c=o?s.left:n.left,f=o?s.right:n.right,d=f-c,p=l-a;return{top:a,bottom:l,left:c,right:f,width:d,height:p}}case"left":case"right":{var y=Math.min.apply(Math,r.map(function($){return $.left})),v=Math.max.apply(Math,r.map(function($){return $.right})),b=r.filter(function($){return t==="left"?$.left===y:$.right===v}),S=b[0].top,E=b[b.length-1].bottom,T=y,w=v,_=w-T,M=E-S;return{top:S,bottom:E,left:T,right:w,width:_,height:M}}default:return e}}var Ufe={name:"sticky",defaultValue:!1,fn:function(e){var r=e.reference,i=e.popper;function s(){return e.popperInstance?e.popperInstance.state.elements.reference:r}function n(c){return e.props.sticky===!0||e.props.sticky===c}var o=null,a=null;function l(){var c=n("reference")?s().getBoundingClientRect():null,f=n("popper")?i.getBoundingClientRect():null;(c&&ZO(o,c)||f&&ZO(a,f))&&e.popperInstance&&e.popperInstance.update(),o=c,a=f,e.state.isMounted&&requestAnimationFrame(l)}return{onMount:function(){e.props.sticky&&l()}}}};function ZO(t,e){return t&&e?t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left:!0}Pe.setDefaultProps({render:E7});Pe.setDefaultProps({onShow:t=>{if(!t.props.content)return!1}});function EA(t,e={},r={mount:!0,appName:"Tippy"}){r=Object.assign({mount:!0,appName:"Tippy"},r);const i=Ur(),s=X(),n=X({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=If();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=C=>{let P,N=dt(C)?C.value:C;return Gn(N)?(o.value||(o.value=$l({name:r.appName,setup:()=>()=>dt(C)?C.value:C}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),P=()=>l()):typeof N=="object"?(o.value||(o.value=$l({name:r.appName,setup:()=>()=>rn(dt(C)?C.value:C)}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),P=()=>l()):P=N,P},f=C=>{let P={};return dt(C)?P=C.value||{}:Rs(C)?P={...C}:P={...C},P.content&&(P.content=c(P.content)),P.triggerTarget&&(P.triggerTarget=dt(P.triggerTarget)?P.triggerTarget.value:P.triggerTarget),(!P.plugins||!Array.isArray(P.plugins))&&(P.plugins=[]),P.plugins=P.plugins.filter(N=>N.name!=="vueTippyReactiveState"),P.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){n.value.isEnabled=!0},onMount(){n.value.isMounted=!0},onShow(){n.value.isMounted=!0,n.value.isVisible=!0},onShown(){n.value.isShown=!0},onHide(){n.value.isMounted=!1,n.value.isVisible=!1},onHidden(){n.value.isShown=!1},onUnmounted(){n.value.isMounted=!1},onDestroy(){n.value.isDestroyed=!0}})}),P},d=()=>{s.value&&s.value.setProps(f(e))},p=()=>{!s.value||!e.content||s.value.setContent(c(e.content))},y=C=>{var P;(P=s.value)===null||P===void 0||P.setContent(c(C))},v=C=>{var P;(P=s.value)===null||P===void 0||P.setProps(f(C))},b=()=>{var C;s.value&&(s.value.destroy(),s.value=void 0),a=null,(C=o.value)===null||C===void 0||C.unmount(),o.value=void 0},S=()=>{var C;(C=s.value)===null||C===void 0||C.show()},E=()=>{var C;(C=s.value)===null||C===void 0||C.hide()},T=()=>{var C;(C=s.value)===null||C===void 0||C.disable(),n.value.isEnabled=!1},w=()=>{var C;(C=s.value)===null||C===void 0||C.enable(),n.value.isEnabled=!0},_=()=>{var C;(C=s.value)===null||C===void 0||C.unmount()},M=()=>{if(!t)return;let C=dt(t)?t.value:t;typeof C=="function"&&(C=C()),C&&(s.value=Pe(C,f(e)),C.$tippy=$)},$={tippy:s,refresh:d,refreshContent:p,setContent:y,setProps:v,destroy:b,hide:E,show:S,disable:T,enable:w,unmount:_,mount:M,state:n};return r.mount&&(i?i.isMounted?M():vi(M):M()),i&&du(()=>{b()}),dt(e)||Rs(e)?Zr(e,d,{immediate:!1}):dt(e.content)&&Zr(e.content,p,{immediate:!1}),$}function jfe(t,e){const r=X();return vi(()=>{const s=(Array.isArray(t)?t.map(n=>n.value):typeof t=="function"?t():t.value).map(n=>n instanceof Element?n._tippy:n).filter(Boolean);r.value=Ife(s,e?{allowHTML:!0,...e}:{allowHTML:!0})}),{singleton:r}}function Bfe(t){return typeof t=="function"?t():$e(t)}function Vfe(t){var e,r;const i=Bfe(t);return(r=(e=i)===null||e===void 0?void 0:e.$el)!==null&&r!==void 0?r:i}const Gfe=st({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>Pe.defaultProps.appendTo},aria:{default:()=>Pe.defaultProps.aria},delay:{default:()=>Pe.defaultProps.delay},duration:{default:()=>Pe.defaultProps.duration},getReferenceClientRect:{default:()=>Pe.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>Pe.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>Pe.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>Pe.defaultProps.interactive},interactiveBorder:{default:()=>Pe.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>Pe.defaultProps.interactiveDebounce},moveTransition:{default:()=>Pe.defaultProps.moveTransition},offset:{default:()=>Pe.defaultProps.offset},onAfterUpdate:{default:()=>Pe.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>Pe.defaultProps.onBeforeUpdate},onCreate:{default:()=>Pe.defaultProps.onCreate},onDestroy:{default:()=>Pe.defaultProps.onDestroy},onHidden:{default:()=>Pe.defaultProps.onHidden},onHide:{default:()=>Pe.defaultProps.onHide},onMount:{default:()=>Pe.defaultProps.onMount},onShow:{default:()=>Pe.defaultProps.onShow},onShown:{default:()=>Pe.defaultProps.onShown},onTrigger:{default:()=>Pe.defaultProps.onTrigger},onUntrigger:{default:()=>Pe.defaultProps.onUntrigger},onClickOutside:{default:()=>Pe.defaultProps.onClickOutside},placement:{default:()=>Pe.defaultProps.placement},plugins:{default:()=>Pe.defaultProps.plugins},popperOptions:{default:()=>Pe.defaultProps.popperOptions},render:{default:()=>Pe.defaultProps.render},showOnCreate:{type:Boolean,default:()=>Pe.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>Pe.defaultProps.touch},trigger:{default:()=>Pe.defaultProps.trigger},triggerTarget:{default:()=>Pe.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>Pe.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>Pe.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>Pe.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>Pe.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>Pe.defaultProps.allowHTML},animation:{default:()=>Pe.defaultProps.animation},arrow:{default:()=>Pe.defaultProps.arrow},content:{default:()=>Pe.defaultProps.content},inertia:{default:()=>Pe.defaultProps.inertia},maxWidth:{default:()=>Pe.defaultProps.maxWidth},role:{default:()=>Pe.defaultProps.role},theme:{default:()=>Pe.defaultProps.theme},zIndex:{default:()=>Pe.defaultProps.zIndex}},emits:["state"],setup(t,{slots:e,emit:r,expose:i}){const s=X(),n=X(),o=X(),a=X(!1),l=()=>{let y={...t};for(const v of["to","tag","contentTag","contentClass"])y.hasOwnProperty(v)&&delete y[v];return y};let c=()=>Vfe(s);t.to&&(typeof Element<"u"&&t.to instanceof Element?c=()=>t.to:t.to==="parent"?c=()=>{let y=s.value;return y||(y=s.value=n.value.parentElement),y}:(typeof t.to=="string"||t.to instanceof String)&&(c=()=>document.querySelector(t.to)));const f=EA(c,l());let d=e.content;!d&&t.to==="parent"&&(d=e.default),vi(()=>{a.value=!0,Wn(()=>{d&&f.setContent(()=>o.value)})}),Zr(f.state,()=>{r("state",$e(f.state))},{immediate:!0,deep:!0}),Zr(()=>t,()=>{f.setProps(l()),d&&f.setContent(()=>o.value)},{deep:!0});let p=li({elem:s,contentElem:o,mounted:a,...f});return i(p),()=>{const y=(typeof t.contentTag=="string",t.contentTag),v=d?rn(y,{ref:o,style:{display:a.value?"inherit":"none"},class:t.contentClass},d(p)):null;if(t.to==="parent"){const E=[];if(!s.value){const T=rn("span",{ref:n,"data-v-tippy":"",style:{display:"none"}});E.push(T)}return v&&E.push(v),E}const b=e.default?e.default(p):[];if(!t.tag){const E=rn(b[0],{ref:s,"data-v-tippy":""});return v?[E,v]:E}const S=(typeof t.tag=="string",t.tag);return rn(S,{ref:s,"data-v-tippy":""},v?[b,v]:b)}}}),zfe=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let Hx={};Object.keys(Pe.defaultProps).forEach(t=>{zfe.includes(t)?Hx[t]={type:Boolean,default:function(){return Pe.defaultProps[t]}}:Hx[t]={default:function(){return Pe.defaultProps[t]}}});const qfe=st({props:Hx,setup(t){const e=X([]),{singleton:r}=jfe(e,t);return{instances:e,singleton:r}},mounted(){var t;const r=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(r).map(i=>i._tippy).filter(Boolean),(t=this.singleton)===null||t===void 0||t.setInstances(this.instances)},render(){let t=this.$slots.default?this.$slots.default():[];return rn(()=>t)}}),Hfe={mounted(t,e,r){const i=typeof e.value=="string"?{content:e.value}:e.value||{},s=Object.keys(e.modifiers||{}),n=s.find(a=>a!=="arrow"),o=s.findIndex(a=>a==="arrow")!==-1;n&&(i.placement=i.placement||n),o&&(i.arrow=i.arrow!==void 0?i.arrow:!0),r.props&&r.props.onTippyShow&&(i.onShow=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),r.props&&r.props.onTippyShown&&(i.onShown=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),r.props&&r.props.onTippyHidden&&(i.onHidden=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),r.props&&r.props.onTippyHide&&(i.onHide=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),r.props&&r.props.onTippyMount&&(i.onMount=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),t.getAttribute("title")&&!i.content&&(i.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!i.content&&(i.content=t.getAttribute("content")),EA(t,i)},unmounted(t){t.$tippy?t.$tippy.destroy():t._tippy&&t._tippy.destroy()},updated(t,e){const r=typeof e.value=="string"?{content:e.value}:e.value||{};t.getAttribute("title")&&!r.content&&(r.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!r.content&&(r.content=t.getAttribute("content")),t.$tippy?t.$tippy.setProps(r||{}):t._tippy&&t._tippy.setProps(r||{})}},Wfe={install(t,e={}){Pe.setDefaultProps(e.defaultProps||{}),t.directive(e.directive||"tippy",Hfe),t.component(e.component||"tippy",Gfe),t.component(e.componentSingleton||"tippy-singleton",qfe)}},A7=Pe.setDefaultProps;A7({ignoreAttributes:!0,plugins:[Ufe,Dfe,kfe,Cfe]});const Yfe=st({name:"App",components:{Shell:rhe},setup(){const t=Ur();vi(()=>{new z9().observe(t?.proxy?.$refs["app-size"]),A7({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})})}}),Jfe=["lang"],Kfe={class:"h-full",ref:"app-size"};function Zfe(t,e,r,i,s,n){const o=Ar("shell");return fe(),xe("div",{class:"ramp-app ramp-styles animation-enabled",lang:t.$i18n.locale},[ce("div",Kfe,[Ze(o)],512)],8,Jfe)}const Xfe=Ea(Yfe,[["render",Zfe]]),ho="focus-list",rc="focus-item",Qfe="focus-icon",ede="focus-container",Oh=`[${ho}],[${ede}]`,jy="truncate-text",By="show-truncate",ch="focused",Wx=`button,input,select,a,textarea,[contenteditable],[${ho}],[${Qfe}],[tabIndex]`,tde={mounted(t,e){+t.getAttribute("tabindex")<=0&&t.setAttribute("tabindex","0"),t.toggleAttribute(ho,!0),new rde(t,e.value)},updated(t){T7(t)}};function T7(t){t.querySelectorAll(Wx).forEach(r=>{if(r.closest(Oh)===t||r.closest(Oh)===r&&r.parentElement.closest(Oh)===t)if(r.closest(`[${ho}],.${ch}`).classList.contains(ch))r.setAttribute("tabindex","0");else{r.setAttribute("tabindex","-1");return}})}class rde{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(e,r){this.element=e,this.highlightedItem=this.element,this.isHorizontal=r==="horizontal",this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const i=this;e.addEventListener("keydown",function(s){i.onKeydown(s)}),e.addEventListener("focus",function(){i.onFocus()}),e.addEventListener("blur",function(){i.onBlur()}),e.addEventListener("mousedown",function(){i.onMousedown()}),e.addEventListener("touchstart",function(){i.onTouchstart()}),e.addEventListener("refocusLegendItem",s=>{const o=s.detail.focusItem;i.element.focus(),i.focusItem(o),this.highlightedItem=o}),document.addEventListener("click",function(s){s.target&&e.contains(s.target)?i.onClick(s):i.defocusItem(i.highlightedItem)})}setTabIndex(e,r=this.element){r.querySelectorAll(Wx).forEach(s=>{(e===-1||s.closest(Oh)===this.element||s.closest(Oh)===s&&s.parentElement.closest(Oh)===this.element||s.closest(`[${ho}],.${ch}`).classList.contains(ch))&&s.setAttribute("tabindex",e.toString())})}defocusItem(e){e.classList.remove(ch),this.setTabIndex(-1,e),e._tippy&&e._tippy.hide(),e.getAttribute(rc)===By&&e.querySelector(`[${jy}]`)?._tippy?.hide()}focusItem(e){e.classList.add(ch),this.setAriaActiveDescendant(e),this.setTabIndex(0,e),e.scrollIntoView({block:"nearest"}),e._tippy&&!this.isTapped&&e._tippy.show(),e.getAttribute(rc)===By&&e.querySelector(`[${jy}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(e){this.element.setAttribute("aria-activedescendant",e.getAttribute("id"))}shiftHighlight(e,r=!1){if(this.defocusItem(this.highlightedItem),r)if(this.highlightedItem===this.element)this.highlightedItem=e[e.length-1];else{const i=Array.prototype.indexOf.call(e,this.highlightedItem);this.highlightedItem=e[i-1]||e[e.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=e[0];else{const i=Array.prototype.indexOf.call(e,this.highlightedItem);this.highlightedItem=e[i+1]||e[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(e){const r=this,i=Array.prototype.filter.call(this.element.querySelectorAll(`[${rc}]`),s=>s.closest(`[${ho}]`)===r.element&&!!s.offsetParent);if(i.length!==0)switch(e.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&(e.preventDefault(),e.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":e.target===this.element&&this.highlightedItem!==this.element&&(e.preventDefault(),e.stopPropagation(),this.highlightedItem.click());break;case"Tab":const s=this.highlightedItem.querySelectorAll(Wx).length===0,n=this.element.isEqualNode(e.target);this.highlightedItem!==this.element&&n&&(s&&this.defocusItem(this.highlightedItem),e.shiftKey&&(e.preventDefault(),e.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(e){this.defocusItem(this.highlightedItem);let r=e.target;if(!r.hasAttribute(ho))for(;r.parentElement.closest(`[${ho}]`)!==this.element;)r=r.parentElement.closest(`[${ho}]`);this.highlightedItem=r.closest(`[${rc}]`)||r.closest(`[${ho}]`)||this.highlightedItem,r.hasAttribute(`${rc}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(rc)===By&&this.highlightedItem.querySelector(`[${jy}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),T7(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(rc)===By&&this.highlightedItem.querySelector(`[${jy}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const XO="focus-item",ide={beforeMount(t,e){t.hasAttribute("id")||t.setAttribute("id",sde()),e.value?t.setAttribute(XO,e.value):t.toggleAttribute(XO,!0)}};function sde(){let t;do t="focus-item-"+Math.random().toString(36).substring(2,9);while(document.getElementById(t)!==null);return t}const SA="focus-container",M7="focus-list",nde="focus-icon",S_=`[${M7}],[${SA}]`,QO=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${M7}],[${SA}],[${nde}],[tabIndex]`;let A_=[];const ode={mounted(t){[...document.querySelectorAll(".inner-shell")].some(r=>r.contains(t))&&A_.push(new ade(t))},beforeUnmount(t){A_=A_.filter(e=>e.element===t?(e.removeEventListeners(),!1):!0)}};class ade{element;constructor(e){this.element=e,this.element.toggleAttribute(SA,!0),this.element.tabIndex=0,setTimeout(()=>this.disableTabbing(),600);const r=this;this.element.addEventListener("keypress",function(i){r.onKeypress(i)}),this.element.addEventListener("click",function(){r.onClick()}),this.element.addEventListener("focusout",function(i){r.onFocusOut(i)}),this.element.addEventListener("focus",function(){r.onFocus()})}removeEventListeners(){const e=this;this.element.removeEventListener("keypress",function(r){e.onKeypress(r)}),this.element.removeEventListener("click",function(){e.onClick()}),this.element.removeEventListener("focusout",function(r){e.onFocusOut(r)}),this.element.removeEventListener("focus",function(){e.onFocus()})}onKeypress(e){e.target===this.element&&(e.key==="Enter"||e.key===" ")&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(e){this.element.contains(e.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){if(this.element.contains(document.activeElement))return;Array.prototype.filter.call(this.element.querySelectorAll(QO),()=>!0).forEach(r=>{r.tabIndex=-1})}enableTabbing(){let e;return Array.prototype.map.call(this.element.querySelectorAll(QO),r=>{(r.closest(S_)===this.element||r.closest(S_)===r&&r.parentElement.closest(S_)===this.element)&&r.offsetParent&&(r.tabIndex=0,e===void 0&&(e=r))}),e}}const lde="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5mgensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",cde="121342632165322333335356545565555243543542246363257457433_355524444661154543332344423364211133222221212112_52232222232212222223222241112222224322321222",mf=(t,e)=>{for(const r in e)t[r]=e[r];return t},Yx="numeric",Jx="ascii",Kx="alpha",V0="asciinumeric",Vy="alphanumeric",Zx="domain",$7="emoji",ude="scheme",hde="slashscheme",eI="whitespace";function fde(t,e){return t in e||(e[t]=[]),e[t]}function Oc(t,e,r){e[Yx]&&(e[V0]=!0,e[Vy]=!0),e[Jx]&&(e[V0]=!0,e[Kx]=!0),e[V0]&&(e[Vy]=!0),e[Kx]&&(e[Vy]=!0),e[Vy]&&(e[Zx]=!0),e[$7]&&(e[Zx]=!0);for(const i in e){const s=fde(i,r);s.indexOf(t)<0&&s.push(t)}}function dde(t,e){const r={};for(const i in e)e[i].indexOf(t)>=0&&(r[i]=!0);return r}function Cs(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}Cs.groups={};Cs.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let i=0;i<e.jr.length;i++){const s=e.jr[i][0],n=e.jr[i][1];if(n&&s.test(t))return n}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,r,i){for(let s=0;s<t.length;s++)this.tt(t[s],e,r,i)},tr(t,e,r,i){i=i||Cs.groups;let s;return e&&e.j?s=e:(s=new Cs(e),r&&i&&Oc(e,r,i)),this.jr.push([t,s]),s},ts(t,e,r,i){let s=this;const n=t.length;if(!n)return s;for(let o=0;o<n-1;o++)s=s.tt(t[o]);return s.tt(t[n-1],e,r,i)},tt(t,e,r,i){i=i||Cs.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const n=e;let o,a=s.go(t);if(a?(o=new Cs,mf(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Cs,n){if(i)if(o.t&&typeof o.t=="string"){const l=mf(dde(o.t,i),r);Oc(n,l,i)}else r&&Oc(n,r,i);o.t=n}return s.j[t]=o,o}};const ke=(t,e,r,i,s)=>t.ta(e,r,i,s),Hs=(t,e,r,i,s)=>t.tr(e,r,i,s),tI=(t,e,r,i,s)=>t.ts(e,r,i,s),me=(t,e,r,i,s)=>t.tt(e,r,i,s),Jo="WORD",Xx="UWORD",lm="LOCALHOST",Qx="TLD",eE="UTLD",G0="SCHEME",zu="SLASH_SCHEME",dv="NUM",O7="WS",AA="NL",uh="OPENBRACE",cp="OPENBRACKET",up="OPENANGLEBRACKET",hp="OPENPAREN",xc="CLOSEBRACE",hh="CLOSEBRACKET",fh="CLOSEANGLEBRACKET",Ec="CLOSEPAREN",pv="AMPERSAND",mv="APOSTROPHE",yv="ASTERISK",el="AT",gv="BACKSLASH",vv="BACKTICK",bv="CARET",ol="COLON",TA="COMMA",_v="DOLLAR",oo="DOT",wv="EQUALS",MA="EXCLAMATION",ao="HYPHEN",xv="PERCENT",Ev="PIPE",Sv="PLUS",Av="POUND",Tv="QUERY",$A="QUOTE",OA="SEMI",ta="SLASH",fp="TILDE",Mv="UNDERSCORE",I7="EMOJI",$v="SYM";var C7=Object.freeze({__proto__:null,WORD:Jo,UWORD:Xx,LOCALHOST:lm,TLD:Qx,UTLD:eE,SCHEME:G0,SLASH_SCHEME:zu,NUM:dv,WS:O7,NL:AA,OPENBRACE:uh,OPENBRACKET:cp,OPENANGLEBRACKET:up,OPENPAREN:hp,CLOSEBRACE:xc,CLOSEBRACKET:hh,CLOSEANGLEBRACKET:fh,CLOSEPAREN:Ec,AMPERSAND:pv,APOSTROPHE:mv,ASTERISK:yv,AT:el,BACKSLASH:gv,BACKTICK:vv,CARET:bv,COLON:ol,COMMA:TA,DOLLAR:_v,DOT:oo,EQUALS:wv,EXCLAMATION:MA,HYPHEN:ao,PERCENT:xv,PIPE:Ev,PLUS:Sv,POUND:Av,QUERY:Tv,QUOTE:$A,SEMI:OA,SLASH:ta,TILDE:fp,UNDERSCORE:Mv,EMOJI:I7,SYM:$v});const Nu=/[a-z]/,T_=/\p{L}/u,M_=/\p{Emoji}/u,$_=/\d/,rI=/\s/,iI=`
`,pde="",mde="";let Gy=null,zy=null;function yde(t){t===void 0&&(t=[]);const e={};Cs.groups=e;const r=new Cs;Gy==null&&(Gy=sI(lde)),zy==null&&(zy=sI(cde)),me(r,"'",mv),me(r,"{",uh),me(r,"[",cp),me(r,"<",up),me(r,"(",hp),me(r,"}",xc),me(r,"]",hh),me(r,">",fh),me(r,")",Ec),me(r,"&",pv),me(r,"*",yv),me(r,"@",el),me(r,"`",vv),me(r,"^",bv),me(r,":",ol),me(r,",",TA),me(r,"$",_v),me(r,".",oo),me(r,"=",wv),me(r,"!",MA),me(r,"-",ao),me(r,"%",xv),me(r,"|",Ev),me(r,"+",Sv),me(r,"#",Av),me(r,"?",Tv),me(r,'"',$A),me(r,"/",ta),me(r,";",OA),me(r,"~",fp),me(r,"_",Mv),me(r,"\\",gv);const i=Hs(r,$_,dv,{[Yx]:!0});Hs(i,$_,i);const s=Hs(r,Nu,Jo,{[Jx]:!0});Hs(s,Nu,s);const n=Hs(r,T_,Xx,{[Kx]:!0});Hs(n,Nu),Hs(n,T_,n);const o=Hs(r,rI,O7,{[eI]:!0});me(r,iI,AA,{[eI]:!0}),me(o,iI),Hs(o,rI,o);const a=Hs(r,M_,I7,{[$7]:!0});Hs(a,M_,a),me(a,pde,a);const l=me(a,mde);Hs(l,M_,a);const c=[[Nu,s]],f=[[Nu,null],[T_,n]];for(let d=0;d<Gy.length;d++)Da(r,Gy[d],Qx,Jo,c);for(let d=0;d<zy.length;d++)Da(r,zy[d],eE,Xx,f);Oc(Qx,{tld:!0,ascii:!0},e),Oc(eE,{utld:!0,alpha:!0},e),Da(r,"file",G0,Jo,c),Da(r,"mailto",G0,Jo,c),Da(r,"http",zu,Jo,c),Da(r,"https",zu,Jo,c),Da(r,"ftp",zu,Jo,c),Da(r,"ftps",zu,Jo,c),Oc(G0,{scheme:!0,ascii:!0},e),Oc(zu,{slashscheme:!0,ascii:!0},e),t=t.sort((d,p)=>d[0]>p[0]?1:-1);for(let d=0;d<t.length;d++){const p=t[d][0],v=t[d][1]?{[ude]:!0}:{[hde]:!0};p.indexOf("-")>=0?v[Zx]=!0:Nu.test(p)?$_.test(p)?v[V0]=!0:v[Jx]=!0:v[Yx]=!0,tI(r,p,p,v)}return tI(r,"localhost",lm,{ascii:!0}),r.jd=new Cs($v),{start:r,tokens:mf({groups:e},C7)}}function gde(t,e){const r=vde(e.replace(/[A-Z]/g,a=>a.toLowerCase())),i=r.length,s=[];let n=0,o=0;for(;o<i;){let a=t,l=null,c=0,f=null,d=-1,p=-1;for(;o<i&&(l=a.go(r[o]));)a=l,a.accepts()?(d=0,p=0,f=a):d>=0&&(d+=r[o].length,p++),c+=r[o].length,n+=r[o].length,o++;n-=d,o-=p,c-=d,s.push({t:f.t,v:e.slice(n-c,n),s:n-c,e:n})}return s}function vde(t){const e=[],r=t.length;let i=0;for(;i<r;){let s=t.charCodeAt(i),n,o=s<55296||s>56319||i+1===r||(n=t.charCodeAt(i+1))<56320||n>57343?t[i]:t.slice(i,i+2);e.push(o),i+=o.length}return e}function Da(t,e,r,i,s){let n;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?n=t.j[l]:(n=new Cs(i),n.jr=s.slice(),t.j[l]=n),t=n}return n=new Cs(r),n.jr=s.slice(),t.j[e[o-1]]=n,n}function sI(t){const e=[],r=[];let i=0,s="0123456789";for(;i<t.length;){let n=0;for(;s.indexOf(t[i+n])>=0;)n++;if(n>0){e.push(r.join(""));let o=parseInt(t.substring(i,i+n),10);for(;o>0;o--)r.pop();i+=n}else t[i]==="_"?(e.push(r.join("")),i++):(r.push(t[i]),i++)}return e}const cm={defaultProtocol:"http",events:null,format:nI,formatHref:nI,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function IA(t,e){e===void 0&&(e=null);let r=mf({},cm);t&&(r=mf(r,t instanceof IA?t.o:t));const i=r.ignoreTags,s=[];for(let n=0;n<i.length;n++)s.push(i[n].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=s}IA.prototype={o:cm,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const i=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=r.t in s?s[r.t]:cm[t],typeof s=="function"&&i&&(s=s(e,r))):typeof s=="function"&&i&&(s=s(e,r.t,r)),s)},getObj(t,e,r){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,r.t,r)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function nI(t){return t}function N7(t,e){this.t="token",this.v=t,this.tk=e}N7.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),i=t.get("format",e,this);return r&&i.length>r?i.substring(0,r)+"":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=cm.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toFormattedHref(t),i=t.get("tagName",r,e),s=this.toFormattedString(t),n={},o=t.get("className",r,e),a=t.get("target",r,e),l=t.get("rel",r,e),c=t.getObj("attributes",r,e),f=t.getObj("events",r,e);return n.href=r,o&&(n.class=o),a&&(n.target=a),l&&(n.rel=l),c&&mf(n,c),{tagName:i,attributes:n,content:s,eventListeners:f}}};function eb(t,e){class r extends N7{constructor(s,n){super(s,n),this.t=t}}for(const i in e)r.prototype[i]=e[i];return r.t=t,r}const oI=eb("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),aI=eb("text"),bde=eb("nl"),ic=eb("url",{isLink:!0,toHref(t){return t===void 0&&(t=cm.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==lm&&t[1].t===ol}}),ri=t=>new Cs(t);function _de(t){let{groups:e}=t;const r=e.domain.concat([pv,yv,el,gv,vv,bv,_v,wv,ao,dv,xv,Ev,Sv,Av,ta,$v,fp,Mv]),i=[mv,fh,xc,hh,Ec,ol,TA,oo,MA,up,uh,cp,hp,Tv,$A,OA],s=[pv,mv,yv,gv,vv,bv,xc,_v,wv,ao,dv,uh,xv,Ev,Sv,Av,Tv,ta,$v,fp,Mv],n=ri(),o=me(n,fp);ke(o,s,o),ke(o,e.domain,o);const a=ri(),l=ri(),c=ri();ke(n,e.domain,a),ke(n,e.scheme,l),ke(n,e.slashscheme,c),ke(a,s,o),ke(a,e.domain,a);const f=me(a,el);me(o,el,f),me(l,el,f),me(c,el,f);const d=me(o,oo);ke(d,s,o),ke(d,e.domain,o);const p=ri();ke(f,e.domain,p),ke(p,e.domain,p);const y=me(p,oo);ke(y,e.domain,p);const v=ri(oI);ke(y,e.tld,v),ke(y,e.utld,v),me(f,lm,v);const b=me(p,ao);ke(b,e.domain,p),ke(v,e.domain,p),me(v,oo,y),me(v,ao,b);const S=me(v,ol);ke(S,e.numeric,oI);const E=me(a,ao),T=me(a,oo);ke(E,e.domain,a),ke(T,s,o),ke(T,e.domain,a);const w=ri(ic);ke(T,e.tld,w),ke(T,e.utld,w),ke(w,e.domain,a),ke(w,s,o),me(w,oo,T),me(w,ao,E),me(w,el,f);const _=me(w,ol),M=ri(ic);ke(_,e.numeric,M);const $=ri(ic),C=ri();ke($,r,$),ke($,i,C),ke(C,r,$),ke(C,i,C),me(w,ta,$),me(M,ta,$);const P=me(l,ol),N=me(c,ol),F=me(N,ta);me(F,ta,P),ke(l,e.domain,a),me(l,oo,T),me(l,ao,E),ke(c,e.domain,a),me(c,oo,T),me(c,ao,E),ke(P,e.domain,$),me(P,ta,$);const q=me($,uh),U=me($,cp),B=me($,up),K=me($,hp);me(C,uh,q),me(C,cp,U),me(C,up,B),me(C,hp,K),me(q,xc,$),me(U,hh,$),me(B,fh,$),me(K,Ec,$),me(q,xc,$);const h=ri(ic),m=ri(ic),x=ri(ic),I=ri(ic);ke(q,r,h),ke(U,r,m),ke(B,r,x),ke(K,r,I);const V=ri(),Y=ri(),de=ri(),oe=ri();return ke(q,i),ke(U,i),ke(B,i),ke(K,i),ke(h,r,h),ke(m,r,m),ke(x,r,x),ke(I,r,I),ke(h,i,h),ke(m,i,m),ke(x,i,x),ke(I,i,I),ke(V,r,V),ke(Y,r,m),ke(de,r,x),ke(oe,r,I),ke(V,i,V),ke(Y,i,Y),ke(de,i,de),ke(oe,i,oe),me(m,hh,$),me(x,fh,$),me(I,Ec,$),me(h,xc,$),me(Y,hh,$),me(de,fh,$),me(oe,Ec,$),me(V,Ec,$),me(n,lm,w),me(n,AA,bde),{start:n,tokens:C7}}function wde(t,e,r){let i=r.length,s=0,n=[],o=[];for(;s<i;){let a=t,l=null,c=null,f=0,d=null,p=-1;for(;s<i&&!(l=a.go(r[s].t));)o.push(r[s++]);for(;s<i&&(c=l||a.go(r[s].t));)l=null,a=c,a.accepts()?(p=0,d=a):p>=0&&p++,s++,f++;if(p<0)s-=f,s<i&&(o.push(r[s]),s++);else{o.length>0&&(n.push(O_(aI,e,o)),o=[]),s-=p,f-=p;const y=d.t,v=r.slice(s-f,s);n.push(O_(y,e,v))}}return o.length>0&&n.push(O_(aI,e,o)),n}function O_(t,e,r){const i=r[0].s,s=r[r.length-1].e,n=e.slice(i,s);return new t(n,r)}const Fi={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function xde(){Fi.scanner=yde(Fi.customSchemes);for(let t=0;t<Fi.tokenQueue.length;t++)Fi.tokenQueue[t][1]({scanner:Fi.scanner});Fi.parser=_de(Fi.scanner.tokens);for(let t=0;t<Fi.pluginQueue.length;t++)Fi.pluginQueue[t][1]({scanner:Fi.scanner,parser:Fi.parser});Fi.initialized=!0}function Ede(t){return Fi.initialized||xde(),wde(Fi.parser.start,t,gde(Fi.scanner.start,t))}var Sde={amp:"&",gt:">",lt:"<",nbsp:"",quot:'"'},Ade=/^#[xX]([A-Fa-f0-9]+)$/,Tde=/^#([0-9]+)$/,Mde=/^([A-Za-z0-9]+)$/,$de=function(){function t(e){this.named=e}return t.prototype.parse=function(e){if(e){var r=e.match(Ade);if(r)return String.fromCharCode(parseInt(r[1],16));if(r=e.match(Tde),r)return String.fromCharCode(parseInt(r[1],10));if(r=e.match(Mde),r)return this.named[r[1]]||"&"+r[1]+";"}},t}(),Ode=/[\t\n\f ]/,Ide=/[A-Za-z]/,Cde=/\r\n?/g;function wi(t){return Ode.test(t)}function lI(t){return Ide.test(t)}function Nde(t){return t.replace(Cde,`
`)}var Pde=function(){function t(e,r,i){i===void 0&&(i="precompile"),this.delegate=e,this.entityParser=r,this.mode=i,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var s=this.peek();if(s==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&s===`
`){var n=this.tagNameBuffer.toLowerCase();(n==="pre"||n==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var s=this.peek(),n=this.tagNameBuffer;s==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):s==="&"&&n!=="script"&&n!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(s))},tagOpen:function(){var s=this.consume();s==="!"?this.transitionTo("markupDeclarationOpen"):s==="/"?this.transitionTo("endTagOpen"):(s==="@"||s===":"||lI(s))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(s))},markupDeclarationOpen:function(){var s=this.consume();if(s==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var n=s.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();n==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var s=this.consume();wi(s)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var s=this.consume();wi(s)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase()))},doctypeName:function(){var s=this.consume();wi(s)?this.transitionTo("afterDoctypeName"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase())},afterDoctypeName:function(){var s=this.consume();if(!wi(s))if(s===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var n=s.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=n.toUpperCase()==="PUBLIC",a=n.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var s=this.peek();wi(s)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):s==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):s==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):s===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},doctypePublicIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},afterDoctypePublicIdentifier:function(){var s=this.consume();wi(s)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var s=this.consume();wi(s)||(s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},doctypeSystemIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},afterDoctypeSystemIdentifier:function(){var s=this.consume();wi(s)||s===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var s=this.consume();s==="-"?this.transitionTo("commentStartDash"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(s),this.transitionTo("comment"))},commentStartDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var s=this.consume();s==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(s)},commentEndDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+s),this.transitionTo("comment"))},commentEnd:function(){var s=this.consume();s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+s),this.transitionTo("comment"))},tagName:function(){var s=this.consume();wi(s)?this.transitionTo("beforeAttributeName"):s==="/"?this.transitionTo("selfClosingStartTag"):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(s)},endTagName:function(){var s=this.consume();wi(s)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):s==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(s)},beforeAttributeName:function(){var s=this.peek();if(wi(s)){this.consume();return}else s==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var s=this.peek();wi(s)?(this.transitionTo("afterAttributeName"),this.consume()):s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==='"'||s==="'"||s==="<"?(this.delegate.reportSyntaxError(s+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(s)):(this.consume(),this.delegate.appendToAttributeName(s))},afterAttributeName:function(){var s=this.peek();if(wi(s)){this.consume();return}else s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s))},beforeAttributeValue:function(){var s=this.peek();wi(s)?this.consume():s==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(s))},attributeValueDoubleQuoted:function(){var s=this.consume();s==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueSingleQuoted:function(){var s=this.consume();s==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueUnquoted:function(){var s=this.peek();wi(s)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):s===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(s))},afterAttributeValueQuoted:function(){var s=this.peek();wi(s)?(this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var s=this.peek();s===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var s=this.consume();(s==="@"||s===":"||lI(s))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(s))}},this.reset()}return t.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},t.prototype.transitionTo=function(e){this.state=e},t.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},t.prototype.tokenizePart=function(e){for(this.input+=Nde(e);this.index<this.input.length;){var r=this.states[this.state];if(r!==void 0)r.call(this);else throw new Error("unhandled state "+this.state)}},t.prototype.tokenizeEOF=function(){this.flushData()},t.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},t.prototype.peek=function(){return this.input.charAt(this.index)},t.prototype.consume=function(){var e=this.peek();return this.index++,e===`
`?(this.line++,this.column=0):this.column++,e},t.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(e!==-1){var r=this.input.slice(this.index,e),i=this.entityParser.parse(r);if(i){for(var s=r.length;s;)this.consume(),s--;return this.consume(),i}}},t.prototype.markTagStart=function(){this.delegate.tagOpen()},t.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},t.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return e==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||e==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||e==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},t}(),Lde=function(){function t(e,r){r===void 0&&(r={}),this.options=r,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new Pde(this,e,r.mode),this._currentAttribute=void 0}return t.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},t.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},t.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},t.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},t.prototype.current=function(){var e=this.token;if(e===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return e;for(var r=0;r<arguments.length;r++)if(e.type===arguments[r])return e;throw new Error("token type was unexpectedly "+e.type)},t.prototype.push=function(e){this.token=e,this.tokens.push(e)},t.prototype.currentAttribute=function(){return this._currentAttribute},t.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},t.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},t.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},t.prototype.appendToDoctypePublicIdentifier=function(e){var r=this.current("Doctype");r.publicIdentifier===void 0?r.publicIdentifier=e:r.publicIdentifier+=e},t.prototype.appendToDoctypeSystemIdentifier=function(e){var r=this.current("Doctype");r.systemIdentifier===void 0?r.systemIdentifier=e:r.systemIdentifier+=e},t.prototype.endDoctype=function(){this.addLocInfo()},t.prototype.beginData=function(){this.push({type:"Chars",chars:""})},t.prototype.appendToData=function(e){this.current("Chars").chars+=e},t.prototype.finishData=function(){this.addLocInfo()},t.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},t.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},t.prototype.finishComment=function(){this.addLocInfo()},t.prototype.tagOpen=function(){},t.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},t.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},t.prototype.finishTag=function(){this.addLocInfo()},t.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},t.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},t.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},t.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},t.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},t.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},t.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},t.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},t}();function kde(t,e){var r=new Lde(new $de(Sde),e);return r.tokenize(t)}const P7="LinkifyResult",Ov="StartTag",L7="EndTag",tE="Chars",Rde="Comment",Dde="Doctype";function Fde(t,e){e===void 0&&(e={});const r=kde(t),i=[],s=[],n=new IA(e,Bde);for(let o=0;o<r.length;o++){const a=r[o];if(a.type===Ov){i.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||n.ignoreTags.indexOf(l)>=0))continue;let f=i.length;jde(l,r,++o,i),o+=i.length-f-1}else if(a.type!==tE)i.push(a);else{const l=Ude(a.chars,n);i.push.apply(i,l)}}for(let o=0;o<i.length;o++){const a=i[o];switch(a.type){case P7:s.push(a.rendered);break;case Ov:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+Gde(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",s.push(l);break}case L7:s.push(`</${a.tagName}>`);break;case tE:s.push(rE(a.chars));break;case Rde:s.push(`<!--${rE(a.chars)}-->`);break;case Dde:{let l=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(l+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(l+=` "${a.systemIdentifier}"`),l+=">",s.push(l);break}}}return s.join("")}function Ude(t,e){const r=Ede(t),i=[];for(let s=0;s<r.length;s++){const n=r[s];n.t==="nl"&&e.get("nl2br")?i.push({type:Ov,tagName:"br",attributes:[],selfClosing:!0}):!n.isLink||!e.check(n)?i.push({type:tE,chars:n.toString()}):i.push({type:P7,rendered:e.render(n)})}return i}function jde(t,e,r,i){let s=1;for(;r<e.length&&s>0;){let n=e[r];n.type===Ov&&n.tagName.toUpperCase()===t?s++:n.type===L7&&n.tagName.toUpperCase()===t&&s--,i.push(n),r++}return i}function Bde(t){let{tagName:e,attributes:r,content:i}=t;return`<${e} ${Vde(r)}>${rE(i)}</${e}>`}function rE(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function k7(t){return t.replace(/"/g,"&quot;")}function Vde(t){const e=[];for(const r in t){const i=t[r]+"";e.push(`${r}="${k7(i)}"`)}return e.join(" ")}function Gde(t){const e=[];for(let r=0;r<t.length;r++){const i=t[r][0],s=t[r][1]+"";e.push(`${i}="${k7(s)}"`)}return e}const zde="truncate-text",qde="truncate-trigger",Hde={beforeMount(t,e){!t.classList.contains("truncate")&&!e.value?.noTruncateClass&&t.classList.add("truncate"),t.toggleAttribute(zde,!0)},mounted(t,e){let r;e.value&&e.value.externalTrigger&&(r=t.closest(`[${qde}]`)),EA(t,{content:cI(t.textContent),onShow:Wde,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:r,...e.value?.options||{}})},updated(t,e){t._tippy&&(t._tippy.setContent(cI(t.textContent)),e.value&&e.value.options&&t._tippy.setProps(e.value.options))},unmounted(t){t._tippy&&t._tippy.destroy()}};function Wde(t){if(!(t.reference.clientWidth<t.reference.scrollWidth||t.reference.clientHeight<t.reference.scrollHeight))return!1}function cI(t){if(t===null)return"";let e=Fde(t,{target:"_blank",validate:{url:r=>/^https?:\/\//.test(r)}});return e=`<div style='word-break: break-word;'>${e}</div>`,e}const Yde=["content"],Jde={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},Kde={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},Zde={key:1},Xde={key:0,class:"flex"},Qde=["innerHTML"],epe={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},tpe=st({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(t,{expose:e}){const{t:r}=sr(),i=su(),s=sv(),n=Fr("iApi"),o=jg("el"),a=jg("contentEl"),l=X();e({el:o});const c=t,f=tt(()=>n.fixture.get("appbar")?s.temporary:[]),d=tt(()=>i.mobileView),p=tt(()=>i.reorderable),y=E=>E.scrollHeight>E.clientHeight,v=()=>!d.value&&!c.panel.teleport,b=E=>{c.panel.move(E),E==="left"&&Wn(()=>{(o.value?.querySelector(".move-left")).focus()})},S=tt(()=>c.screenId?c.panel.screens[c.screenId][n.$i18n.locale.value??"en"]:null);return vi(()=>{o.value?.addEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.addEventListener("keyup",E=>{E.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value=new ResizeObserver(()=>{y(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")}),l.value.observe(a.value)}),Yn(()=>{o.value?.removeEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.removeEventListener("keyup",E=>{E.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value.disconnect()}),(E,T)=>{const w=Ar("back"),_=Ar("panel-options-menu"),M=Ar("left"),$=Ar("right"),C=Ar("pin"),P=Ar("expand"),N=Ar("minimize"),F=Ar("close"),q=Ot("truncate"),U=Ot("focus-item"),B=Ot("tippy");return $t((fe(),xe("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${$e(r)(t.panel.alertName)+". "+$e(r)("panels.access")}</div>`,ref_key:"el",ref:o},[t.header?(fe(),xe("header",Jde,[Ze(w,{class:lr(t.panel.teleport?"display-none":"block sm:display-none"),onClick:T[0]||(T[0]=K=>t.panel.close())},null,8,["class"]),$t((fe(),xe("h2",Kde,[E.$slots.header?On(E.$slots,"header",{key:0}):(fe(),xe("div",Zde,Dt($e(r)(t.panel.alertName)),1))])),[[q]]),E.$slots.controls?(fe(),Vt(_,{key:0},{default:Nr(()=>[On(E.$slots,"controls")]),_:3})):Wt("",!0),ce("div",{class:lr(t.panel.teleport?"flex":"display-none sm:flex")},[t.panel.teleport?Wt("",!0):(fe(),xe("div",Xde,[p.value?(fe(),Vt(M,{key:0,onClick:T[1]||(T[1]=K=>b("left")),active:!t.panel.isLeftMostPanel},null,8,["active"])):Wt("",!0),p.value?(fe(),Vt($,{key:1,onClick:T[2]||(T[2]=K=>b("right")),active:!t.panel.isRightMostPanel},null,8,["active"])):Wt("",!0),Ze(C,{onClick:T[3]||(T[3]=K=>t.panel.pin()),active:t.panel.isPinned},null,8,["active"]),t.panel.controls&&t.panel.controls.expand?(fe(),Vt(P,{key:2,onClick:T[4]||(T[4]=K=>t.panel.expand()),active:t.panel.expanded},null,8,["active"])):Wt("",!0)])),t.panel.button&&f.value?.includes(t.panel.id)?(fe(),Vt(N,{key:1,onClick:T[5]||(T[5]=K=>t.panel.minimize())})):Wt("",!0),Ze(F,{onClick:T[6]||(T[6]=K=>t.panel.close())})],2)])):Wt("",!0),t.content?(fe(),xe("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[E.$slots.content?On(E.$slots,"content",{key:0}):S.value?(fe(),xe("div",{key:1,innerHTML:S.value.innerHTML},null,8,Qde)):Wt("",!0)],512)):Wt("",!0),t.footer?$t((fe(),xe("div",epe,[On(E.$slots,"footer")])),[[U]]):Wt("",!0)],8,Yde)),[[B,{trigger:"manual",touch:!1,onShow:v,allowHTML:!0,maxWidth:t.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),rpe={class:"relative"},ipe=["content","aria-label"],spe=["transform"],npe=st({__name:"pin",props:{active:Boolean},setup(t){const{t:e}=sr();return(r,i)=>{const s=Ot("tippy");return fe(),xe("div",rpe,[$t((fe(),xe("button",{type:"button",class:lr(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:$e(e)(t.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":$e(e)(t.active?"panels.controls.unpin":"panels.controls.pin")},[(fe(),xe("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${t.active?30:0})`},i[0]||(i[0]=[ce("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,spe))],10,ipe)),[[s,{placement:"bottom",hideOnClick:!1}]])])}}}),ope={class:"relative"},ape=["content","aria-label"],lpe=st({__name:"close",props:{active:Boolean},setup(t){const{t:e}=sr();return(r,i)=>{const s=Ot("tippy");return fe(),xe("div",ope,[$t((fe(),xe("button",{type:"button",class:lr(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:$e(e)("panels.controls.close"),"aria-label":$e(e)("panels.controls.close")},i[0]||(i[0]=[ce("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[ce("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,ape)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),cpe={class:"relative"},upe=["content","aria-label"],hpe=st({__name:"back",props:{active:Boolean},setup(t){const{t:e}=sr();return(r,i)=>{const s=Ot("tippy");return fe(),xe("div",cpe,[$t((fe(),xe("button",{type:"button",class:lr(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:$e(e)("panels.controls.back"),"aria-label":$e(e)("panels.controls.back")},i[0]||(i[0]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[ce("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,upe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),fpe={class:"w-32 h-32"},dpe=["content","aria-label"],ppe={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},mpe={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},ype=st({__name:"expand",props:{active:Boolean},setup(t){const{t:e}=sr();return(r,i)=>{const s=Ot("tippy");return fe(),xe("div",fpe,[$t((fe(),xe("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:$e(e)(`panels.controls.${t.active?"collapse":"expand"}`),"aria-label":$e(e)(`panels.controls.${t.active?"collapse":"expand"}`)},[t.active?(fe(),xe("svg",mpe,i[1]||(i[1]=[ce("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ce("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ce("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),ce("path",{d:"M4 12h16v2H4z"},null,-1)]))):(fe(),xe("svg",ppe,i[0]||(i[0]=[ce("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ce("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ce("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,dpe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),gpe={class:"relative"},vpe=["content","aria-label"],bpe=st({__name:"minimize",props:{active:Boolean},setup(t){const{t:e}=sr();return(r,i)=>{const s=Ot("tippy");return fe(),xe("div",gpe,[$t((fe(),xe("button",{type:"button",class:lr(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":t.active}]),content:$e(e)("panels.controls.minimize"),"aria-label":$e(e)("panels.controls.minimize")},i[0]||(i[0]=[ce("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ce("path",{d:"M0 0h24v24H0V0z",fill:"none"}),ce("path",{d:"M6 19h12v2H6z"})],-1)]),10,vpe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),_pe={class:"relative"},wpe=["content","aria-label"],xpe=st({__name:"right",props:{active:Boolean},setup(t){const{t:e}=sr();return(r,i)=>{const s=Ot("tippy");return fe(),xe("div",_pe,[$t((fe(),xe("button",{type:"button",class:lr(["p-8",{"text-gray-500 hover:text-black focus:text-black":t.active,"text-gray-300":!t.active}]),content:$e(e)("panels.controls.moveRight"),"aria-label":$e(e)("panels.controls.moveRight")},i[0]||(i[0]=[ce("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ce("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,wpe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Epe={class:"relative"},Spe=["content","aria-label"],Ape=st({__name:"left",props:{active:Boolean},setup(t){const{t:e}=sr();return(r,i)=>{const s=Ot("tippy");return fe(),xe("div",Epe,[$t((fe(),xe("button",{type:"button",class:lr(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":t.active,"text-gray-300":!t.active}]),content:$e(e)("panels.controls.moveLeft"),"aria-label":$e(e)("panels.controls.moveLeft")},i[0]||(i[0]=[ce("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ce("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,Spe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Tpe=st({__name:"panel-options-menu",setup(t){const{t:e}=sr();return(r,i)=>(fe(),Vt(pA,{class:"flex",tooltip:$e(e)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:Nr(()=>i[0]||(i[0]=[ce("div",{class:"p-6"},[ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[ce("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)])),default:Nr(()=>[On(r.$slots,"default",{},void 0,!0)]),_:3},8,["tooltip"]))}}),Mpe=Ea(Tpe,[["__scopeId","data-v-5a275ac2"]]),$pe={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},Ope={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},Ipe=st({__name:"fullscreen-nav",setup(t){const{t:e}=sr(),r=Fr("iApi"),i=()=>{r.toggleFullscreen()};return(s,n)=>{const o=Ar("mapnav-button");return fe(),Vt(o,{onClickFunction:i,tooltip:$e(e)("mapnav.fullscreen")},{default:Nr(()=>[$e(r).isFullscreen?(fe(),xe("svg",$pe,n[0]||(n[0]=[ce("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ce("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(fe(),xe("svg",Ope,n[1]||(n[1]=[ce("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ce("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))]),_:1},8,["tooltip"])}}}),Cpe=st({__name:"geolocator-nav",setup(t){const{t:e}=sr(),r=Fr("iApi");let i=li([]);const s=async()=>{if(i.length)n(i);else{const a=await o({maximumAge:1/0,timeout:5e3}).catch(l=>{l.code===GeolocationPositionError.PERMISSION_DENIED?r.notify.show(Ds.ERROR,e("mapnav.geolocator.error.permission")):r.notify.show(Ds.ERROR,e("mapnav.geolocator.error.internal"))});a&&(i=[a.coords.longitude,a.coords.latitude],n(i))}},n=a=>{const l=new Ji("geolocation",a,Be.latLongSR(),!0);r.geo.map.zoomMapTo(l)},o=a=>new Promise((l,c)=>navigator.geolocation.getCurrentPosition(l,c,a));return(a,l)=>{const c=Ar("mapnav-button");return fe(),Vt(c,{onClickFunction:s,tooltip:$e(e)("mapnav.geolocator")},{default:Nr(()=>l[0]||(l[0]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ce("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)])),_:1},8,["tooltip"])}}}),Npe=st({__name:"home-nav",setup(t){const{t:e}=sr(),r=Fr("iApi"),i=()=>{const s=r.geo.map.getExtentSet();r.geo.map.zoomMapTo(s.fullExtent)};return(s,n)=>{const o=Ar("mapnav-button");return fe(),Vt(o,{onClickFunction:i,tooltip:$e(e)("mapnav.home")},{default:Nr(()=>n[0]||(n[0]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ce("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),ce("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)])),_:1},8,["tooltip"])}}}),Ppe={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},Lpe=["content","aria-label"],kpe=st({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1},showOutline:{type:Boolean,default:!1}},setup(t){return(e,r)=>{const i=Ot("focus-item"),s=Ot("tippy");return fe(),xe("div",Ppe,[$t((fe(),xe("button",{type:"button",class:lr(["w-full h-full default-focus-style",[t.showOutline?"focus:outline focus:outline-2 focus:outline-blue-400":"focus:outline-none"]]),onClick:r[0]||(r[0]=n=>t.onClickFunction()),content:t.tooltip,"aria-label":typeof t.tooltip=="string"?t.tooltip:""},[On(e.$slots,"default")],10,Lpe)),[[i],[s,{placement:"left"}]])])}}}),Rpe={class:"relative",tabindex:"-1"},Dpe=["aria-label","content"],Fpe=st({__name:"button",props:{onClickFunction:{type:Function,required:!0},buttonId:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(t){const e=Fr("iApi"),r=t,i=()=>e.event.emit(Ie.APPBAR_BUTTON_CLICK,r.buttonId);return(s,n)=>{const o=Ot("focus-item"),a=Ot("tippy");return fe(),xe("div",Rpe,[$t((fe(),xe("button",{type:"button",class:"py-6 w-full h-full",onClick:n[0]||(n[0]=()=>{t.onClickFunction(),i()}),"aria-label":String(t.tooltip),content:`<div style='word-break: break-word;'>${t.tooltip}</div>`},[On(s.$slots,"default",{},void 0,!0)],8,Dpe)),[[o],[a,{allowHTML:!0,placement:"right"}]])])}}}),Upe=Ea(Fpe,[["__scopeId","data-v-397fda05"]]),jpe=ur("areas-of-interest",()=>({areas:X([])})),Bpe=ur("export",()=>{const t=X({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),e=X("");function r(i){if(t.value[i.name]!==void 0){const s=t.value[i.name];t.value[i.name]=i.selected!==void 0?i.selected:!s}}return{componentSelectedState:t,fileName:e,toggleSelected:r}}),Vpe=ur("extentguard",()=>{const t=X(!1);function e(l){t.value=l}const r=X(!1);function i(l){r.value=l}const s=X(!1);function n(l){s.value=l}const o=X([]);function a(l){o.value=l}return{active:t,setActive:e,enforcing:r,setEnforcing:i,alwaysOn:s,setAlwaysOn:n,extentSetIds:o,setExtentSetIds:a}}),Jm=function t(e){function r(s,n,o){var a,l={};if(Array.isArray(s))return s.concat(n);for(a in s)l[o?a.toLowerCase():a]=s[a];for(a in n){var c=o?a.toLowerCase():a,f=n[a];l[c]=c in l&&typeof f=="object"?r(l[c],f,c=="headers"):f}return l}function i(s,n,o,a,l){var c=typeof s!="string"?(n=s).url:s,f={config:n},d=r(e,n),p={};a=a||d.data,(d.transformRequest||[]).map(function(y){a=y(a,d.headers)||a}),d.auth&&(p.authorization=d.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),p["content-type"]="application/json");try{p[d.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+d.xsrfCookieName+"=([^;]*)"))[2])}catch{}return d.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,d.baseURL+"/")),d.params&&(c+=(~c.indexOf("?")?"&":"?")+(d.paramsSerializer?d.paramsSerializer(d.params):new URLSearchParams(d.params))),(d.fetch||fetch)(c,{method:(o||d.method||"get").toUpperCase(),body:a,headers:r(d.headers,p,!0),credentials:d.withCredentials?"include":l}).then(function(y){for(var v in y)typeof y[v]!="function"&&(f[v]=y[v]);return d.responseType=="stream"?(f.data=y.body,f):y[d.responseType||"text"]().then(function(b){f.data=b,f.data=JSON.parse(b)}).catch(Object).then(function(){return(d.validateStatus?d.validateStatus(y.status):y.ok)?f:Promise.reject(f)})})}return e=e||{},i.request=i,i.get=function(s,n){return i(s,n,"get")},i.delete=function(s,n){return i(s,n,"delete")},i.head=function(s,n){return i(s,n,"head")},i.options=function(s,n){return i(s,n,"options")},i.post=function(s,n,o){return i(s,o,"post",n)},i.put=function(s,n,o){return i(s,o,"put",n)},i.patch=function(s,n,o){return i(s,o,"patch",n)},i.all=Promise.all.bind(Promise),i.spread=function(s){return s.apply.bind(s,s)},i.CancelToken=typeof AbortController=="function"?AbortController:Object,i.defaults=e,i.create=t,i}(),Gpe={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,Y:60},zpe={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class qpe{provinceList=[];listFetched=!1;constructor(e){Jm.get(e).then(r=>{this.provinceList=r.data.definitions.map(s=>{const n=parseInt(s.code);return{code:n,abbr:zpe[n],name:s.description}});const i={code:-1,abbr:"...",name:"..."};this.provinceList.push(i),this.provinceList.sort((s,n)=>s.name>n.name?1:-1),this.listFetched=!0})}codeToProvince(e){return this.provinceList.find(r=>r.code===e)}nameToProvince(e){return this.provinceList.find(r=>r.name===e)}fsaToProvince(e){let r;const i=e.toUpperCase(),s=i.substring(0,1);return s==="X"?i==="X0A"||i==="X0B"||i==="X0C"?r=62:r=61:r=Gpe[s],this.codeToProvince(r)}}function Hpe(t){return new qpe(t)}const qy={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"Rgion De Tri D'Acheminement",NTS:"Systme National De Rfrence Cartographique",COORD:"Latitude/Longitude",SCALE:"chelle"}};class Wpe{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(e,r){Jm.get(r).then(i=>{i.data.definitions.forEach(s=>{qy[e][s.code]=s.term.split(`${s.code}-`)[1]}),Object.keys(qy[e]).forEach(s=>{this.allTypes[s]=qy[e][s],this.validTypes[s]=qy[e][s]}),this.typesFetched=!0})}filterValidTypes(e){if(this.filterComplete)return this.validTypes;if(e=typeof e=="string"?[e]:e,e&&e.length>0)for(const r of e)delete this.validTypes[r];return this.filterComplete=!0,this.validTypes}}function Ype(t,e){return new Wpe(t,e)}function qn(t,e){return t.then(function(r){return[null,r]}).catch(function(r){return[r,void 0]})}class Hy{config;query;failedServs=[];results=[];constructor(e,r=""){this.query=r,this.config=e}addResult(e){Array.isArray(e)?this.results=this.results.concat(e):this.results.push(e)}}async function Jpe(t,e){let r,i;const s=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,n=/^\d{2,3}[A-P]/,o=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;return s.test(e)&&!t.disabledSearchTypes.includes("LAT/LNG")?(i=e.slice(0,-1),r=new Hy(t,i),await Xpe(r)):o.test(e)&&!t.disabledSearchTypes.includes("FSA")?(i=e.substring(0,3).toUpperCase(),r=new Hy(t,i),await Qpe(r)):n.test(e)&&!t.disabledSearchTypes.includes("NTS")?(i=e.substring(0,6).toUpperCase(),r=new Hy(t,i),await eme(r)):(i=encodeURIComponent(e.trim()),r=new Hy(t,i),await tme(r)),r}const CA=async t=>{const[e,r]=await qn(Jm.get(t));return e?(console.error("Request error from "+t),console.error(e),Promise.reject("Could not load results from remote service.")):r.data},tb=(t,e,r)=>[t+r,e-r,t-r,e+r],NA=(t,e,r,i)=>{let s="";const n=t.config;return e?s=n.geoLocateUrl+"?q="+t.query:(r&&i?s=`${n.geoNameUrl}?lat=${r}&lon=${i}&num=${n.maxResults}`:s=`${n.geoNameUrl}?q=${t.query}&num=${n.maxResults}`,n.categories.length>0&&(s+=`&concise=${n.categories.join(",")}`),n.officialOnly&&(s+="&category=O")),s},R7=(t,e)=>e.filter(r=>t.types.validTypes[r.concise.code]).map(r=>({name:r.name,flav:"nme",bbox:r.bbox,type:t.types.allTypes[r.concise.code],position:[r.longitude,r.latitude],location:{city:r.location,province:t.provinces.codeToProvince(parseInt(r.province.code))},order:t.sortOrder.indexOf(r.concise.code)>=0?t.sortOrder.indexOf(r.concise.code):t.sortOrder.length})),PA=async t=>{const[e,r]=await qn(CA(NA(t,!0)));return e?(console.error("Geolocation service failed"),t.failedServs.push("geolocation"),[]):r},Kpe=async t=>{const[e,r]=await qn(CA(NA(t,!1)));let i;e?(console.error("GeoName service targeting Name failed"),t.failedServs.push("geoname"),i=[]):i=r.items,t.addResult(R7(t.config,i))},Zpe=async(t,e,r)=>{const[i,s]=await qn(CA(NA(t,!1,e,r)));let n;i?(console.error("GeoName service targeting Lat Lon failed"),t.failedServs.push("geoname"),n=[]):n=s.items,t.addResult(R7(t.config,n))},Xpe=async t=>{const e=t.query.split(/[\s|,|;|]/).filter(n=>!isNaN(n)&&n!=="").map(n=>parseFloat(n)),r=e[0],i=e[1],s={name:`${r},${i}`,flav:"llg",location:{},type:"Latitude/Longitude",position:[i,r],bbox:tb(i,r,.015),order:-1};await Zpe(t,r,i),t.addResult(s)},Qpe=async t=>{const e=t.config,r=await PA(t);if(r.length){const s=r[0].geometry.coordinates,n=s[1],o=s[0],a={name:t.query,flav:"fsa",bbox:tb(o,n,.03),type:e.types.allTypes.FSA,position:[o,n],location:{province:e.provinces.fsaToProvince(t.query)},order:-1};t.addResult(a)}},eme=async t=>{const e=t.config,r=await PA(t);if(r.length){const i=r[0],s=i.title.split(" "),n=s.shift()||"",o=s.join(" "),a=i.geometry.coordinates,l=a[1],c=a[0],f={name:n,flav:"nts",bbox:i.bbox??tb(c,l,.03),type:e.types.allTypes.NTS,position:[c,l],location:{city:o},order:-1};t.addResult(f)}},tme=async t=>{const e=t.config;if(await Kpe(t),e.categories.length===0||e.categories.includes("ADDR")){const r=await PA(t),i=e.sortOrder.indexOf("ADDR"),s=i>=0?i:e.sortOrder.length,n=r.filter(o=>o.type?.includes("Street")).map(o=>{const[a,l,c]=o.title.split(", "),f=o.geometry.coordinates,d=f[1],p=f[0];return{name:a,flav:"add",bbox:tb(p,d,.002),type:e.types.allTypes.ADDRESS,position:[p,d],location:{city:l.split(" Of ").pop(),province:e.provinces.nameToProvince(c)},order:s}});t.addResult(n)}},rme="~FSA~",uI="https://geogratis.gc.ca/services/geolocation/@{language}/locate",hI="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",fI="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",dI="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json";class pI{config;constructor(e,r){let i,s,n,o;const a=r?.serviceUrls;a?(i=a.geoLocation?a.geoLocation:uI,s=a.geoNames?a.geoNames:hI,n=a.geoProvince?a.geoProvince:fI,o=a.geoTypes?a.geoTypes:dI):(i=uI,s=hI,n=fI,o=dI),i=i.replace("@{language}",e),s=s.replace("@{language}",e),n=n.replace("@{language}",e),o=o.replace("@{language}",e);let l="";const c=r?.fsaBoundaries;if(c&&c.serviceUrl){const S=c.keyField||"CFSAUID";l=`${c.serviceUrl}/query/?where=${S}%3D'${rme}'&outFields=${S}&returnGeometry=true&f=json`}const f=r?.settings;let d,p,y,v,b;f?(d=f.categories?f.categories:[],p=f.sortOrder?f.sortOrder:[],y=f.disabledSearchTypes?f.disabledSearchTypes:[],v=f.maxResults>0?f.maxResults:100,b=!!f.officialOnly):(d=[],p=[],y=[],v=100,b=!1),this.config={language:e,geoNameUrl:s,geoLocateUrl:i,fsaUrl:l,types:Ype(e,o),provinces:Hpe(n),categories:d,sortOrder:p,disabledSearchTypes:y,maxResults:v,officialOnly:b},this.config.types.filterValidTypes(r?.excludeTypes),this._typeList=[],this._excludedTypes=r?.excludeTypes||[]}get typeList(){return this._typeList}set typeList(e){this._typeList=e}levenshteinDistance(e,r){r=r.toLowerCase().trim(),e=decodeURI(e.toLowerCase().replace("*",""));const i=[];for(let s=0;s<=r.length;s++){i[s]=[s];for(let n=1;n<=e.length;n++)i[s][n]=s===0?n:Math.min(i[s][n-1]+1,i[s-1][n]+.2,i[s-1][n-1]+(e[n-1]===r[s-1]?0:1))}return i[r.length][e.length]}async query(e){const r=await Jpe(this.config,e.toUpperCase()),i=this.config.sortOrder.length,s=r.results.filter(l=>l.order<i),n=r.results.filter(l=>l.order>=i);s.sort((l,c)=>l.order-c.order);const o=this.config.maxResults;let a;return s.length>=o?a=s.slice(0,o):(n.forEach(l=>l.order=this.levenshteinDistance(r.query,l.name)),n.sort((l,c)=>l.order-c.order),a=s.concat(n.slice(0,o-s.length))),{results:a,failedServs:r.failedServs}}fetchProvinces(){return new Promise(e=>{const r=setInterval(()=>{this.config.provinces.listFetched&&(clearInterval(r),e(this.config.provinces.provinceList))},100)})}fetchTypes(){return new Promise(e=>{const r=setInterval(()=>{if(this.config.types.typesFetched){clearInterval(r);const i=[],s={code:-1,name:"..."};i.push(s);const n=this.config.types.allTypes;for(const o in n)this._excludedTypes.includes(o)||i.push({code:o,name:n[o]});this.typeList=i,e(this.typeList)}},100)})}}function mI(t,e,r){return t&&e.extent&&(r=r.filter(i=>i.bbox[0]<=e.extent.xmax&&i.bbox[1]<=e.extent.ymax&&i.bbox[2]>=e.extent.xmin&&i.bbox[3]>=e.extent.ymin)),e.province&&e.province!=="..."&&(r=r.filter(i=>i.location.province?.name&&i.location.province.name===e.province)),e.type&&e.type!=="..."&&(r=r.filter(i=>i.type===e.type)),r}const ime=ur("geosearch",()=>{const t=X(new pI("en",void 0)),e=X({type:"",province:"",extent:void 0}),r=X(!1),i=X(""),s=X(""),n=X(""),o=X([]),a=X([]),l=X(!1),c=X([]),f=tt(()=>t.value.fetchProvinces().then(w=>(w.sort((_,M)=>_.name.localeCompare(M.name,void 0,{sensitivity:"case"})),w))),d=tt(()=>new Promise(w=>{t.value.fetchTypes().then(_=>{_.sort((M,$)=>M.name.localeCompare($.name,void 0,{sensitivity:"case"})),w(_)})}));function p(w,_){t.value=new pI(w,_)}function y(w){l.value=!0;const _=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(!_)o.value=[],a.value=[],l.value=!1;else if(_&&_!==n.value||w){const M=setInterval(()=>{t.value.config.provinces.listFetched&&t.value.config.types.typesFetched&&(clearInterval(M),t.value.query(`${_}*`).then($=>{c.value=$.failedServs,n.value=_,a.value=$.results;const C=mI(r.value,e.value,a.value);o.value=C||[],l.value=!1}))},250)}else{const M=mI(r.value,e.value,a.value);o.value=M||[],l.value=!1}}function v(w){e.value.province=typeof w.province>"u"?"":w.province,y(w.forceReRun)}function b(w){e.value.type=typeof w.type>"u"?"":w.type,y(w.forceReRun)}function S(w){n.value=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),i.value=w,y()}function E(w){const _={a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:""};w=w.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),s.value=Array.from(w).map(M=>Object.keys(_).includes(M)?"["+M+_[M]+"]":M.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim()).join("")}function T(w){if(w.visible!==void 0&&(r.value=w.visible),w.extent.sr.wkid!==4326)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");e.value.extent=w.extent,y()}return{GSservice:t,queryParams:e,resultsVisible:r,searchVal:i,searchRegex:s,lastSearchVal:n,searchResults:o,savedResults:a,loadingResults:l,failedServices:c,getProvinces:f,getTypes:d,initService:p,runQuery:y,setProvince:v,setType:b,setSearchTerm:S,setSearchRegex:E,setMapExtent:T}}),sme=ur("help",()=>({location:X("./help/")}));var D7=(t=>(t.Visibility="visibilityButton",t.Expand="expandButton",t))(D7||{}),iE=(t=>(t.Item="item",t.Placeholder="placeholder",t.Error="error",t))(iE||{});class F7 extends Pr{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(e,r,i){super(e),this._uid=Ih.sharedUtils.generateUUID(),this._name=r.name,this._type=r.type??"placeholder",this._parent=i,this._children=[],this._loadPromise=new Or,this._hidden=r.hidden??!1,this._expanded=r.expanded??!0,this._visibility=!0,this._exclusive=r.exclusive??!1,this._controls=r.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=r.disabledControls?.slice(),this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(e){this._name=e}get type(){return this._type}get children(){return this._children}set children(e){this._children=e}get parent(){return this._parent}set parent(e){this._parent=e}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(e){return this._disabledControls?.includes(e)?!1:this._controls?.includes(e)}setControl(e,r){r&&this._disabledControls?.includes(e)?(this._disabledControls=this._disabledControls.filter(i=>i!==e),this._controls?.push(e)):!r&&this._controls?.includes(e)&&(this._controls=this._controls.filter(i=>i!==e),this._disabledControls?.push(e))}toggleHidden(e){this._hidden=e??!this.hidden}toggleExpanded(e){this._expanded=e??!this.expanded}toggleVisibility(e,r=!0){if(this.visibility!==e){if(this._visibility=e??!this.visibility,!this.exclusive)this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!1,!1));else if(this.visibility)if(this._lastVisible&&(!(this._lastVisible instanceof Ga)||this._lastVisible.layerControlAvailable(wr.Visibility)))this._lastVisible.toggleVisibility(!0);else{const i=this.children.find(s=>!(s instanceof Ga)||s.layerControlAvailable(wr.Visibility));i&&i.toggleVisibility(!0)}else this._lastVisible=this.children.find(i=>i.visibility),this._lastVisible?.toggleVisibility(!1);this.parent&&r&&this.parent.checkVisibility(this)}}checkVisibilityRules(){this.parent&&!this.parent.visibility?this.toggleVisibility(!1,!1):this.parent?.exclusive&&this.parent.children.some(r=>r.visibility&&r!==this&&r.type==="item")&&this.toggleVisibility(!1,!1)}checkVisibility(e){this instanceof Ga&&!this.layerControlAvailable(wr.Visibility)||(this.exclusive?e.visibility?(this.children.forEach(r=>{r.uid!==e.uid&&r.toggleVisibility(!1,!1)}),this._lastVisible=e,this._visibility=!0,this instanceof Ga&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof Ga&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=e):this.children.some(r=>r.visibility)?(this._visibility=!0,this._visibleChildren=this.children.filter(r=>r.visibility),this instanceof Ga&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof Ga&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const e={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},r=[];return this.children.forEach(i=>{r.push(i.getConfig())}),this.exclusive?e.exclusiveVisibility=r:e.children=r,e}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new Or}error(){this._type!=="error"&&(this._type="error",this._loadPromise.getPromise().catch(()=>{}),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class Ga extends F7{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(e,r,i){if(super(e,r,i),this._type=iE.Placeholder,this._layerId=r.layerId,this._layerIdx=r.sublayerIndex,this._isSublayer=r.sublayerIndex!==void 0,this._layerControls=r.layerControls??[],this._origLayerControls=r.layerControls,this._layerDisabledControls=r.disabledLayerControls??[],this._origLayerDisabledControls=r.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=r.symbologyExpanded||!1,r.coverIcon&&(this._coverIcon=r.coverIcon),r.description&&(this._description=r.description),this._symbologyRenderStyle=r.symbologyRenderStyle??"icons",this._customSymbology=!!r.symbologyStack,this._symbologyStack=r.symbologyStack?.map(s=>({uid:this.$iApi.geo.shared.generateUUID(),label:s.text,definitionClause:s.sqlQuery,imgUrl:s.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0})),this._maxLines=r.maxLines&&[1,2,3,4,5,6].includes(r.maxLines)?r.maxLines:void 0,!this._name){const s=this.$iApi.getConfig()?.layers;if(s&&Array.isArray(s)){const n=s.find(o=>o.id===this._layerId);if(n)if(this._isSublayer){if(n.sublayers&&Array.isArray(n.sublayers)){const o=n.sublayers.find(a=>a.index===this._layerIdx);o&&o.name&&(this._name=o.name)}}else n.name&&(this._name=n.name)}}}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(e){this._layer=e,this._layerId=e.id,this._layerIdx=e.isSublayer?e.layerIdx:void 0,this._layerUid=e.uid,this._name=this._name||e.name,this._symbologyStack=this._customSymbology?this._symbologyStack:e.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(e){this._layerOffscale=e}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(e){this._layerRedrawing=e}get coverIcon(){return this._coverIcon}set coverIcon(e){this._coverIcon=e}get description(){return this._description}set description(e){this._description=e}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(e){this._treeGrown=e}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(e){this._symbologyRenderStyle=e}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(e){this._symbologyStack=e}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const e={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...e}}toggleVisibility(e,r=!0,i=!1){if(!(!this.layerControlAvailable(wr.Visibility)&&!i)&&(super.toggleVisibility(e,r),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const s=this._symbologyStack.some(n=>n.lastVisbility);this._symbologyStack.forEach(n=>{s||(n.lastVisbility=!0),n.visibility=this.visibility?n.lastVisbility:!1})}}toggleSymbology(e){return this._symbologyExpanded=e??!this._symbologyExpanded,this._symbologyExpanded}setSymbologyVisibility(e,r){this._symbologyStack.some(i=>((e===void 0||i.uid===e)&&(i.visibility=r,i.lastVisbility=r),e!==void 0&&i.uid===e))}load(e){const r=e instanceof RA?e:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);r&&(this.layer=r,this._layerRedrawing=r.mapLayer&&r.drawState!==fs.UP_TO_DATE,r.loadPromise().then(()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:r.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),r.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on(Ie.LAYER_VISIBILITYCHANGE,i=>{i.layer.uid===this.layer.uid&&this._type===iE.Item&&this.toggleVisibility(i.visibility,!0,!0)})),this.handlers.push(this.$iApi.event.on(Ie.LAYER_DRAWSTATECHANGE,i=>{this.layer.uid===i.layer.uid&&(i.layer.drawState===fs.REFRESH?this.layerRedrawing=!0:setTimeout(()=>{this.layerRedrawing=i.layer.drawState===fs.REFRESH},500))})),this._layerOffscale=this.$iApi.geo.map.created?r.isOffscale():!1,this.handlers.push(this.$iApi.event.on(Ie.MAP_SCALECHANGE,()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())}))}).catch(()=>{this.error()}))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(e){return this._layerDisabledControls?.includes(e)?!1:!!this._layerControls?.includes(e)}updateLayerControls(){const e=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=e?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=e?.disabledControls??[])}}var nme=(t=>(t.Title="title",t.Text="text",t.Image="image",t.Markdown="markdown",t.Template="template",t))(nme||{});class yI extends F7{_infoType;_content;constructor(e,r,i){super(e,r,i),this._infoType=r.infoType??"title",this._content=r.content??"",r.infoType==="template"&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(r.infoType||r.content)&&(this._controls=r.controls?.slice()??[D7.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(e){this._content=e}getConfig(){const e={infoType:this._infoType,content:this._content};return{...super.getConfig(),...e}}}const ome=ur("legend",()=>{const t=X(),e=X([]),r=X([]),i=X(!0),s=X(3);function n(l){if(l.parent===void 0)e.value.push(l.item);else{if(!(l.item instanceof yI)&&!(l.item instanceof Ga)){console.error("attempted to add an unsupported legend item type");return}l.parent.children.push(l.item)}}function o(l){const c=f=>(f=f.filter(d=>(d===l&&!d.children.length&&d.onRemoved(),d!==l)),f.forEach(d=>{d.children=c(d.children)}),f=f.filter(d=>!(d instanceof yI&&!d.children.length&&d.content==="")),f);e.value=c(e.value)}function a(l){if(l.oldItem.parent===void 0){const c=e.value,f=c.indexOf(l.oldItem);f>-1&&(e.value[f]=l.newItem),e.value=c}else{const c=l.oldItem.parent.children,f=c.indexOf(l.oldItem);f>-1&&(c[f]=l.newItem),l.oldItem.parent.children=c}}return{legendConfig:t,multilineItems:i,maxLines:s,children:e,headerControls:r,addItem:n,removeItem:o,replaceItem:a}}),ame=ur("mapnav",()=>{const t=X({}),e=X([]);function r(i){i in t.value&&delete t.value[i];const s=e.value.indexOf(i);s!==-1&&e.value.splice(s,1)}return{items:t,order:e,removeItem:r}}),lme=ur("metadata",()=>{const t=X(""),e=X({type:"LineString",coordinates:[]});return{status:t,response:e}}),cme=ur("northarrow",()=>{const t=X(""),e=X("");return{arrowIcon:t,poleIcon:e}}),ume=ur("overviewmap",()=>{const t=X({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),e=X({}),r=X(!0),i=X(1.5),s=X("#FF0000"),n=X(1),o=X("#000000"),a=X(.25);function l(c){t.value.initialBasemapId=c}return{mapConfig:t,basemaps:e,startMinimized:r,expandFactor:i,borderColour:s,borderWidth:n,areaColour:o,areaOpacity:a,updateInitialBasemap:l}}),hme=ur("scrollguard",()=>{const t=X(!1);function e(r){t.value=r}return{enabled:t,setEnabled:e}});var xi=(t=>(t[t.UPLOAD=0]="UPLOAD",t[t.FORMAT=1]="FORMAT",t[t.CONFIGURE=2]="CONFIGURE",t))(xi||{});const fme=ur("wizard",()=>{const t={id:"Placeholder",layerType:Ce.UNKNOWN,url:""},e=X(),r=X(""),i=X(""),s=X(!0),n=X(null),o=X({config:t,configOptions:[]}),a=X(xi.UPLOAD);function l(c){switch(a.value){case xi.UPLOAD:c===xi.UPLOAD?r.value="":c===xi.FORMAT&&(a.value=xi.FORMAT);break;case xi.FORMAT:c===xi.UPLOAD?(n.value&&(r.value="",n.value=null),i.value="",a.value=xi.UPLOAD):c===xi.CONFIGURE&&(a.value=xi.CONFIGURE);break;case xi.CONFIGURE:c===xi.UPLOAD?(r.value="",i.value="",n.value=null,s.value=!0,o.value={config:t,configOptions:[]},a.value=xi.UPLOAD):c===xi.FORMAT&&(o.value={config:t,configOptions:[]},s.value=!0,a.value=xi.FORMAT);break}}return{layerSource:e,url:r,typeSelection:i,nested:s,fileData:n,layerInfo:o,currStep:a,goToStep:l}});class dme{fixture;panel;event;geo;notify;dev;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(e,r,i){this.event=new jne(this);const s=pme(e,this);this.$vApp=s.app,this.$element=s.element,this.$i18n=s.i18n,this.$rootEl=s.app.$root?.$el,this.fixture=new Oye(this),this.panel=new Iye(this),this.geo=new Mye(this),this.dev=new Rye(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new Qce(this),this._isFullscreen=eo.isEnabled&&!!this.$vApp.$root&&eo.isFullscreen&&eo.element===this.$vApp.$root.$el,eo.isEnabled&&eo.onchange(()=>{this._isFullscreen=eo.isEnabled&&!!this.$vApp.$root&&eo.isFullscreen&&eo.element===this.$vApp.$root.$el}),this.initialize(!0,r,i)}initialize(e,r,i){const s=ms(this.$vApp.$pinia),n=su(this.$vApp.$pinia),o=lv(this.$vApp.$pinia);if(r?.configs!==void 0){const l=Object.keys(this.$i18n.messages.value);s.registerAllConfigs(r,l);const c=s.registeredConfigs[s.registeredLangs[this.$i18n.locale.value]];s.newConfig(c),s.activeBasemapConfig=c.map.basemaps.find(v=>v.id===c.map.initialBasemapId);const f=setInterval(()=>{const v=this.$vApp.$el.querySelector("#esriMap");v&&(clearInterval(f),this.geo.map.createMap(c.map,v).then(()=>{if(v._tippy.hide(0),o.setMaptipInstance(v._tippy),c.layers&&c.layers.length>0){let b=0;c.layers.forEach(S=>{const E=this.geo.layer.createLayer(S);this.geo.map.addLayer(E,b).catch(()=>{}),E.mapLayer&&b++})}}))},100);if(c.panels){if(c.panels.open&&c.panels.open.length>0){const v=c.panels.open.map(b=>b.id);this.panel.isRegistered(v).then(()=>{c.panels?.open?.forEach(b=>{this.panel.open({id:b.id,screen:b.screen}),b.pin&&this.panel.pin(b.id)})})}n.reorderable=c.panels.reorderable??!0}!c.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),c.system?.proxyUrl&&(this.geo.proxy=c.system.proxyUrl),c.system?.exposeOid&&(this.ui.exposeOids=c.system.exposeOid),c.system?.exposeMeasurements!=null&&(this.ui.exposeMeasurements=c.system.exposeMeasurements),c.system?.scrollToInstance&&(this.ui.scrollToInstance=c.system?.scrollToInstance),c.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=c.system?.suppressNumberLocalization);const d={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},p=c.system?.zoomIcon||"globe",y=d[p]||p;this.ui.getZoomIcon=()=>y,this.ui.formatNumber=v=>this.ui.suppressNumberLocalization?v.toString():this.$i18n.n(v,"number"),this.ui.escapeHtml=v=>{const b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return v.replace(/[<>"']/g,S=>b[S])},this.ui.isPlainText=v=>typeof v=="string"?!this.containsValidHtml(v)&&!this.representsObject(v):!1}i||(i={});const a=Gu(this.$vApp.$pinia);i?.startRequired?(this.startRequired=!0,a.started=!1):(this.startRequired=!1,a.started=!0,this.event.emit(Ie.MAP_START)),e&&(i.loadDefaultFixtures!==!1||r?.startingFixtures!==void 0)?this.fixture.addDefaultFixtures(r?.startingFixtures):e||this.fixture.restore(),i.loadDefaultEvents!==!1&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reloadWorker(e,r){const i=Gu(this.$vApp.$pinia),s=Eo(this.$vApp.$pinia),n=ms(this.$vApp.$pinia),o=Ks(this.$vApp.$pinia),a=po(this.$vApp.$pinia),l=$x(this.$vApp.$pinia),c=!!e;c?Object.keys(o.items).forEach(p=>{this.fixture.exists(p)&&this.fixture.remove(p)}):this.fixture.flush(),Object.keys(l.grids).forEach(d=>{l.removeGrid(d)}),i.started=!1,this.geo.map.destroyMap(),a.$reset(),r?.loadDefaultEvents===!1&&(this.event.removeDefaultEvents(),this._eventsOn=!1),c||(e=JSON.parse(JSON.stringify({startingFixtures:n.startingFixtures,configs:n.registeredConfigs}))),s.clearAll(),this.geo.map.maptip.clear(),this.initialize(c,e,r),c&&this.event.emit(Ie.CONFIG_CHANGE,this.getConfig())}reload(e,r){this.reloadWorker(e,r),this.event.emit(Ie.RAMP_RELOAD)}component(e,r){if(r){const i=this.$element.component(e,r);return this.event.emit(Ie.COMPONENT,e),i}return this.$element.component(e)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const e=this.$vApp.$root.$refs["app-size"].classList;return e.contains("lg")?"lg":e.contains("md")?"md":e.contains("sm")?"sm":"xs"}getConfig(){const e=ms(this.$vApp.$pinia);return JSON.parse(JSON.stringify(e.getActiveConfig(this.language)))}useStore(e){if(!(["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(e)&&!this.fixture.exists(e)))switch(e){case"appbar":return sv(this.$vApp.$pinia);case"areas-of-interest":return jpe(this.$vApp.$pinia);case"details":return t9(this.$vApp.$pinia);case"export":return Bpe(this.$vApp.$pinia);case"extentguard":return Vpe(this.$vApp.$pinia);case"geosearch":return ime(this.$vApp.$pinia);case"grid":return $x(this.$vApp.$pinia);case"help":return sme(this.$vApp.$pinia);case"legend":return ome(this.$vApp.$pinia);case"mapnav":return ame(this.$vApp.$pinia);case"metadata":return lme(this.$vApp.$pinia);case"northarrow":return cme(this.$vApp.$pinia);case"overviewmap":return ume(this.$vApp.$pinia);case"scrollguard":return hme(this.$vApp.$pinia);case"wizard":return fme(this.$vApp.$pinia);case"config":return ms(this.$vApp.$pinia);case"fixture":return Ks(this.$vApp.$pinia);case"instance":return Gu(this.$vApp.$pinia);case"layer":return po(this.$vApp.$pinia);case"map-caption":return hl(this.$vApp.$pinia);case"maptip":return lv(this.$vApp.$pinia);case"notification":return Eo(this.$vApp.$pinia);case"panel":return su(this.$vApp.$pinia);default:console.error(`The store ${e} does not exist.`);return}}setLanguage(e){if(this.$i18n.locale.value===e)return;const r=ms(this.$vApp.$pinia),i=Eo(this.$vApp.$pinia),s=r.registeredLangs;Object.keys(r.registeredConfigs).length===1&&i.clearAll();const n=this.$i18n.locale.value;this.$i18n.locale.value=e;const o=this.getConfig();s[n]!==s[e]&&(this.reloadWorker(),this.event.emit(Ie.CONFIG_CHANGE,o)),this.event.emit(Ie.LANG_CHANGE,{oldLang:n,newLang:e})}get language(){return this.$vApp.$i18n.locale}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){eo.isEnabled&&eo.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return Gu(this.$vApp.$pinia).started}updateAlert(e){const r=this.$vApp.$el.querySelector(".screen-reader-alert");r.childNodes.length>0&&(r.innerHTML="");const i=document.createElement("span");i.setAttribute("role","alert");const s=document.createTextNode(e);i.appendChild(s),r.insertBefore(i,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const e=Gu(this.$vApp.$pinia);!e.started&&this.startRequired?(this.event.emit(Ie.MAP_START),e.started=!0):e.started&&console.warn("start has already been called")}containsValidHtml(e){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(e)}representsObject(e){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(e)}}function pme(t,e){const r=Pne();r.use(({store:o})=>{const a=bO(o.$state);o.$reset=()=>o.$patch(bO(a))});const i=sle(),s=$l(Xfe).use(i).use(Wfe,{directive:"tippy",component:"tippy"}).use(r);s.directive("focus-container",ode),s.directive("focus-list",tde),s.directive("focus-item",ide),s.directive("truncate",Hde),s.component("panel-screen",tpe),s.component("pin",npe),s.component("close",lpe),s.component("back",hpe),s.component("expand",ype),s.component("panel-options-menu",Mpe),s.component("dropdown-menu",pA),s.component("minimize",bpe),s.component("right",xpe),s.component("left",Ape),s.component("fullscreen-nav-button",Ipe),s.component("geolocator-nav-button",Cpe),s.component("home-nav-button",Npe),s.component("mapnav-button",kpe),s.component("appbar-button",Upe),s.component("transition",L1),s.component("transition-group",R1),s.config.globalProperties.$iApi=e,s.config.globalProperties.$pinia=r,s.config.idPrefix=`ramp-${t.id||e.geo.shared.generateUUID()}`,s.provide("iApi",e);const n=s.mount(t);return{element:s,app:n,i18n:i.global}}class LA{esriBasemap;config;createErr=!1;constructor(e){this.config=e}static async create(e){const r=new LA(e),i=e.layers.map(o=>{if(o.layerType===Ce.TILE)return Nt.TileLayer({url:o.url,opacity:o.opacity});if(o.layerType===Ce.MAPIMAGE)return Nt.MapImageLayer({url:o.url,opacity:o.opacity});if(o.layerType===Ce.OSM)return Nt.OpenStreetMapLayer({opacity:o.opacity});throw new Error(`Unsupported layer type provided to basemap config: ${o.layerType}`)}),n=(await Promise.allSettled(i)).filter(o=>o.status==="rejected"?(console.error(o.reason),r.createErr=!0,!1):!0).map(o=>{if(o.status==="fulfilled")return o.value;throw new Error("TS is fun")});return r.esriBasemap=await Nt.Basemap({baseLayers:n,title:e.name||"",id:e.id}),r}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(e){this.config.name=e||""}get description(){return this.config.description}set description(e){this.config.description=e||""}get altText(){return this.config.altText}set altText(e){this.config.altText=e||""}get attribution(){return this.config.attribution}set attribution(e){this.config.attribution=e}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class mme extends Pr{esriMap;_basemapStore;created=!1;name;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(e,r=""){super(e),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new Or,this.handlers=[],this.pointZoomScale=5e4,this.name=r}noMapErr(){console.error(`Attempted to manipulate the ${this.name} map before calling createMap()`),console.trace()}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};async createMap(e,r){const i=l=>{this.$iApi.notify.show(Ds.ERROR,this.$iApi.$i18n.t("layer.error",{id:l.name}))},s=e.basemaps.map(l=>LA.create(l)),o=(await Promise.all(s)).filter(l=>(l.createErr&&i(l),l.esriBasemap.baseLayers.length>0));o.forEach(l=>{l.esriBasemap.baseLayers.forEach(c=>{Jr(()=>c.loadStatus,()=>{c.loadStatus==="loaded"?this.trackFirstBasemap=!1:c.loadStatus==="failed"&&(i(l),this.trackFirstBasemap&&this.recoverBasemap(l.tileSchemaId))})})}),this._basemapStore=o,e.labelsDefault&&(this.labelsDefault.visible=e.labelsDefault.visible);const a={};this.esriMap=br(await Nt.Map(a)),this.pointZoomScale=e.pointZoomScale&&e.pointZoomScale>0?e.pointZoomScale:5e4,this._targetDiv=r,this.createMapView(e.initialBasemapId)}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach(e=>e.esriBasemap.destroy()),this._basemapStore=[]}async reloadMap(e,r){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMap(),await this.createMap(e,r)}async createMapView(e){this.abstractError()}destroyMapView(){if(!this.esriView){this.noMapErr();return}this._viewPromise=new Or,this.created=!1,this.handlers.forEach(e=>e.handler.remove()),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView}async findBasemap(e){const r=this._basemapStore.find(i=>i.id===e);if(r)return r;throw new Error(`Invalid basemap id requested: ${e}`)}async applyBasemap(e){if(!this.esriMap){this.noMapErr();return}const r=typeof e=="string"?await this.findBasemap(e):e;this.esriMap.basemap=ze(r.esriBasemap)}async setBasemap(e){return this.abstractError(),!1}async recoverBasemap(e){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap?.id??void 0;this.noMapErr()}geomToMapSR(e){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(e.sr)?Promise.resolve(e):this.$iApi.geo.proj.projectGeometry(this._rampSR,e)}async zoomMapTo(e,r,i=!0,s=200,n="ease"){if(this.esriView){if(e.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(e),a={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===Ke.POINT&&(a.scale=r||this.pointZoomScale);const l={animate:i,duration:s,easing:n};return this.viewPromise.then(()=>this.esriView.goTo(a,l))}else this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?er.fromESRI(this.esriView.extent):(this.noMapErr(),er.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),Rp.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),Be.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(e){return e>0?(this.pointZoomScale=e,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${e}.`),!1)}}class yme extends Pr{maptipStore;constructor(e){super(e),this.maptipStore=lv(this.$vApp.$pinia)}#e=void 0;#t=void 0;async checkAtCoord(e){this.#t=e;const r=await this.$iApi.geo.map.getGraphicAtCoord(e);if(this.#t!==e)return;if(!r){this.clear(),this.maptipStore.maptipInstance.disable();return}const i=this.$iApi.geo.layer.getLayer(r.layerId);if(i?.geomType!=Ke.POLYGON&&this.#e&&this.#e.layerId===r.layerId&&this.#e.oid===r.oid&&this.#e.layerIdx===r.layerIdx)return;if(this.clear(),this.#e=r,!i){console.error(`graphic hit test returned non-existent layer id: ${r.layerId}`);return}if(!i.hovertips)return;const s=await i.getIcon(r.oid),n=await i.getGraphic(r.oid,{getAttribs:!0});this.maptipStore.maptipInstance.enable(),this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(e)),this.$iApi.event.emit(Ie.MAP_GRAPHICHIT,{layer:i,graphicHit:r,attributes:n.attributes,icon:s,screenPoint:e})}generateDefaultMaptip(e){this.setContent(`<div class="flex items-center space-x-5"><span>${e.icon}</span><span class="line-clamp-3">${e.layer.tooltipValue(e.attributes)}</span></div>`)}clear(){this.#e=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(e){this.maptipStore.setMaptipPoint(e)}setContent(e){this.maptipStore.setMaptipContent(e)}}class gme extends Pr{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(e){super(e),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(e){if(!e)return;const r=hl(this.$vApp.$pinia);if(r.coords.disabled=!1,r.scale.disabled=!1,r.scale.isImperialScale=!1,e.mapCoords)if(e.mapCoords.disabled)r.coords.disabled=!0;else{const i=e.mapCoords.formatter;i!==void 0&&this.setPointFormatter(i)}if(e.scaleBar)if(e.scaleBar.disabled)r.scale.disabled=!0;else{const i=e.scaleBar.imperialScale;i!==void 0&&(r.toggleScale(i),this.$iApi.geo.map.viewPromise.then(()=>{this.updateScale()}))}r.langtoggle={disabled:e?.langToggle?.disabled??!1}}updateAttribution(e){const r={value:this.$iApi.$i18n.t("caption.attributionDefaultText")},i={altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},s={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(e?(e.logo?e.logo.disabled?s.logo.disabled=!0:(s.logo.altText=e.logo.altText||i.altText,s.logo.link=e.logo.link||i.link,s.logo.value=e.logo.value||i.value):(s.logo.altText=i.altText,s.logo.link=i.link,s.logo.value=i.value),e.text?e.text.disabled?s.text.disabled=!0:s.text.value=e.text.value||r.value:s.text.value=r.value,hl(this.$vApp.$pinia).setAttribution(s)):(s.logo.altText=i.altText,s.logo.link=i.link,s.logo.value=i.value,s.text.value=r.value),!e||e.text?.disabled||!e.text){if(!this.$iApi.geo.map.esriMap){console.warn("Attempted to fetch map attribution with undefined map");return}let n="";const o=5e3,a=20,l=this.$iApi.geo.map.esriMap.basemap;if(l){const c=l.baseLayers.map(f=>new Promise(d=>{let p=0;const y=o/a,v=setInterval(function(){f.loaded&&!f.loadError?(clearInterval(v),d(f)):p>y&&(clearInterval(v),d(null)),p++},a)})).toArray();Promise.all(c).then(f=>{n=f.filter(p=>p?.copyright).map(p=>p.copyright).join(" | "),s.text.value=n||s.text.value||r.value,hl(this.$vApp.$pinia).setAttribution(s)})}}}updateScale(){const e=hl(this.$vApp.$pinia),r=e.scale;if(r?.disabled)return;const i=r?.isImperialScale||!1,s=this.scaleHelper().find(n=>n.isImperialScale===i)??{units:"error",pixels:1,distance:1};e.scale={width:`${s.pixels}px`,label:`${this.$iApi.$i18n.n(s.distance,"number")}${s.units}`,isImperialScale:i}}async formatPoint(e){return e?await this.pointFormatter(e):""}setPointFormatter(e){if(typeof e=="string"){if(!(e in this.DEFAULT_POINT_FORMATTERS)){console.warn(`Could not find point formatter with id: ${e}`);return}this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[e]}else this.pointFormatter=e}scaleHelper(){const e=window.innerWidth>600?70:35,r=this.$iApi.geo.map.getResolution(),i=[],s=r*e,n=1609.34,o=3.28084,a=s>1e3?["km","mi"]:["m","ft"];for(let l=0;l<2;l++){const c=l===1;if(i.push({isImperialScale:c,units:a[l],pixels:0,distance:0}),s>1e3){const f=r*e/(c?n:1e3),d=Math.round(f).toString().length,p=Math.pow(10,d-1);i[l].distance=Math.ceil(f/p)*p,i[l].pixels=i[l].distance*(c?n:1e3)/r}else i[l].distance=Math.ceil(c?s*o:s),i[l].pixels=s/r}return i}wrapValue(e,r,i){return((e-r)%(i-r)+(i-r))%(i-r)+r}async formatLatLongDMS(e){const r=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(r.y,-90,90),s=this.wrapValue(r.x,-180,180),n="",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.floor(Math.abs((i-o)*60)),l=Math.floor((Math.abs(i)-Math.abs(o)-a/60)*3600),c=Math.floor(Math.abs(s))*(s<0?-1:1),f=Math.floor(Math.abs((s-c)*60)),d=Math.floor((Math.abs(s)-Math.abs(c)-f/60)*3600);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${n} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(c),"number")}${n} ${this.$iApi.$i18n.n(f,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(d,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatLatLongDDM(e){const r=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(r.y,-90,90),s=this.wrapValue(r.x,-180,180),n="",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.abs((i-o)*60),l=Math.floor(Math.abs(s))*(s<0?-1:1),c=Math.abs((s-l)*60);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${n} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${n} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatLatLongDD(e){const r=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(r.y,-90,90),s=this.wrapValue(r.x,-180,180),n="",o=Math.abs(i),a=Math.abs(s);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${n} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${n} ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatMercator(e){const r=await this.$iApi.geo.proj.projectGeometry(102100,e);return`${this.$iApi.$i18n.n(Math.floor(r.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(r.y),"number")} m`}async formatLambert(e){const r=await this.$iApi.geo.proj.projectGeometry(3978,e);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(r.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>r.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(r.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(r.y>0?"north":"south"))}`}async formatUTM(e){const r=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(r.y,-90,90),s=this.wrapValue(r.x,-180,180),n=Math.ceil((s+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+n),e);return`${this.$iApi.$i18n.n(n,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(e){const r=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),e);return`${this.$iApi.$i18n.n(r.x,"number")} | ${this.$iApi.$i18n.n(r.y,"number")}`}}class vme extends mme{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:12e3,load:12e3,fail:9e4};constructor(e){super(e,"main"),this.maptip=new yme(e),this.caption=new gme(e),this.mapMouseThrottle=0}async createMap(e,r){this.setMapMouseThrottle(e.mapMouseThrottle??0),this.trackFirstBasemap=!0,this.layerDefaultTimes.draw=e.layerTimeDefault?.expectedDrawTime??12e3,this.layerDefaultTimes.load=e.layerTimeDefault?.expectedLoadTime??12e3,this.layerDefaultTimes.fail=e.layerTimeDefault?.maxLoadTime||9e4,await super.createMap(e,r),this.viewPromise.then(()=>{this.$iApi.event.emit(Ie.MAP_CREATED)})}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.$iApi.geo.layer.allLayersOnMap(!1).map(e=>e.uid).forEach(e=>this.removeLayer(e)),super.destroyMap(),this.$iApi.event.emit(Ie.MAP_DESTROYED)}async createMapView(e){const i=ms(this.$vApp.$pinia).config.map;if(!i)throw new Error("Attempted to create map view without a map config");const s=(typeof e=="string"?await this.findBasemap(e):e)||await this.findBasemap(i.initialBasemapId),n=i.tileSchemas.find(l=>l.id===s.tileSchemaId);if(!n)throw new Error(`Could not find tile schema for the given basemap id: ${s.id}`);const o=i.extentSets.find(l=>l.id===n.extentSetId);if(!o)throw new Error(`Could not find extent set with the given id: ${n.extentSetId}`);this._rampExtentSet=Rp.fromConfig(o),this._rampSR=this._rampExtentSet.sr.clone();const a=i.lodSets.find(l=>l.id===n.lodSetId);if(!a)throw new Error(`Could not find lod set with the given id: ${n.lodSetId}`);this.esriView=br(await Nt.MapView({map:this.esriMap,container:this._targetDiv,constraints:{lods:a.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:s.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:Jr(()=>this.esriView.extent,l=>{if(l){const c=this.$iApi.geo.geom.geomEsriToRamp(l,"map_extent_event");this.$iApi.event.emit(Ie.MAP_EXTENTCHANGE,c),this.$iApi.event.emit(Ie.FILTER_CHANGE,{extent:c,filterKey:Vi.EXTENT})}})}),this.handlers.push({type:"scale",handler:Jr(()=>this.esriView.scale,l=>{this.$iApi.event.emit(Ie.MAP_SCALECHANGE,l)})}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",l=>{this.$iApi.event.emit(Ie.MAP_RESIZED,{height:l.height,width:l.width})})}),this.handlers.push({type:"click",handler:this.esriView.on("click",l=>{this.$iApi.event.emit(Ie.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_click_point"))})}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",l=>{this.$iApi.event.emit(Ie.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_doubleclick_point"))})}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",nv(100,!0,l=>{this.$iApi.event.emit(Ie.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",nv(100,l=>{this.$iApi.event.emit(Ie.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",l=>{setTimeout(()=>{this.$iApi.event.emit(Ie.MAP_MOUSELEAVE,l.native)},Math.max(this.mapMouseThrottle,100)+1)})}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",l=>{this.$iApi.event.emit(Ie.MAP_MOUSEDOWN,l.native)})}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",l=>{this.$iApi.event.emit(Ie.MAP_KEYDOWN,l.native),l.stopPropagation()})}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",l=>{this.$iApi.event.emit(Ie.MAP_KEYUP,l.native),l.stopPropagation()})}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",l=>{this.$iApi.event.emit(Ie.MAP_FOCUS,l.native)})}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",l=>{this.$iApi.event.emit(Ie.MAP_BLUR,l.native)})}),this.esriView.container?this.esriView.container.addEventListener("touchmove",l=>{l.preventDefault()}):console.error("ESRI Map View is missing its container"),Jr(()=>this.esriView.fatalError,()=>{const l=new IntersectionObserver(c=>{c.forEach(f=>{f.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),l.disconnect())})});l.observe(this.esriView.container)}),this.esriView.when(()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(s),n.recoveryBasemap?.basemapId){const l=n.recoveryBasemap.timeout??8e3;l>0&&setTimeout(()=>{this.trackFirstBasemap&&this.recoverBasemap(n.id)},l)}})}destroyMapView(){this.esriView?.container?.removeEventListener("touchmove",e=>{e.preventDefault()}),super.destroyMapView()}async applyBasemap(e){if(!this.esriMap){this.noMapErr();return}const r=typeof e=="string"?await this.findBasemap(e):e;this.esriMap.basemap=ze(r.esriBasemap);const i=ms(this.$vApp.$pinia);i.activeBasemapConfig=r.config}async setBasemap(e){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const r=ms(this.$vApp.$pinia),i=await this.findBasemap(e),n=r.activeBasemapConfig.tileSchemaId!==i.tileSchemaId;if(n){const o=this.getExtent().center(),a=this.getScale();this._viewPromise=new Or,this.created=!1,this.$iApi.event.emit(Ie.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(i),await this.viewPromise.then(()=>{this.$iApi.event.emit(Ie.MAP_REFRESH_END),this.$iApi.event.emit(Ie.MAP_BASEMAPCHANGE,{basemapId:e,schemaChanged:n});const l=this.findClosestScale(a);this.$iApi.geo.proj.projectGeometry(this._rampSR,o).then(c=>this.zoomMapTo(c,l,!1))})}else{await this.applyBasemap(i);const o=await Nt.ColorBackground({color:new ga(i.backgroundColour).toESRI()});this.esriView.background=o,this.$iApi.event.emit(Ie.MAP_BASEMAPCHANGE,{basemapId:e,schemaChanged:n})}return n}async recoverBasemap(e){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const i=ms(this.$vApp.$pinia).config.map;if(i){const s=i.tileSchemas.find(n=>n.id===e);if(s?.recoveryBasemap?.basemapId){const n=await this.findBasemap(s.recoveryBasemap.basemapId);await this.applyBasemap(n)}}}addLayer(e,r=void 0){return new Promise((i,s)=>{if(this.esriMap||(this.noMapErr(),s()),e.initiationState!==Qt.INITIATING&&e.initiationState!==Qt.INITIATED&&e.layerState!==yr.ERROR&&e.initiate(),e.mapLayer&&r===void 0){const c=this.$iApi.geo.layer.layerOrderIds();if(e.isCosmetic)r=c.length;else{const f=this.$iApi.geo.layer.allLayers();let d=!0;for(let p=c.length-1;p>=0&&d;p--){const y=f.find(v=>v.id===c[p]);y&&!y.isCosmetic&&(r=p+1,d=!1)}d&&(r=0)}}po(this.$vApp.$pinia).addLayer(e,r),this.$iApi.event.emit(Ie.LAYER_REGISTERED,e);const o=Date.now();let a=0;const l=setInterval(()=>{a+=250,a>=e.expectedTime.fail||e.layerState===yr.ERROR?(clearInterval(l),e.lastCancel<o&&console.error(`Failed to add layer: ${e.id}.`),s()):e.initiationState===Qt.INITIATED&&(e.esriLayer||!e.mapLayer)&&(clearInterval(l),e.mapLayer?this.insertToEsriMap(e):e.onLoad(),i())},250)})}insertToEsriMap(e){let r=0;const i=this.$iApi.geo.layer.getLayerPosition(e.id)??-1;if(i>0){const s=this.$iApi.geo.layer.layerOrderIds(),n=this.$iApi.geo.layer.allLayers();for(let o=i-1;o>-1;o--){const a=s[o],l=n.find(c=>c.id===a);if(l&&l.esriLayer){const c=this.esriMap.layers.indexOf(l.esriLayer);if(c>-1){r=c+1;break}}else l||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}i>-1&&this.esriMap?.add(e.esriLayer,r)}reorder(e,r,i=!1){if(r<0){console.error("Negative index passed to map reorder");return}if(!this.esriMap){this.noMapErr();return}if(e.isSublayer&&(e=e.parentLayer),!e.mapLayer){console.error("Attempted to reorder a data layer");return}const s=this.$iApi.geo.layer.allLayers();let n=this.$iApi.geo.layer.layerOrderIds();if(i){if(e.isCosmetic)return;if(r>0){const l=n.filter(c=>{const f=s.find(d=>d.id===c);return f?!f.isCosmetic:(console.error("Layer reorder had critical error"),!1)});r>=l.length&&(console.error("non-cosmetic reorder index was too high"),r=l.length-1),r=n.indexOf(l[r])}}else r>=n.length&&(console.error("reorder index was too high"),r=n.length-1);const o=n.indexOf(e.id);if(o===r)return;if(po(this.$vApp.$pinia).reorderLayer(e,r),e.esriLayer&&this.esriMap.layers.indexOf(e.esriLayer)>-1){let l=0;if(r>0){n=this.$iApi.geo.layer.layerOrderIds();for(let c=r-1;c>-1;c--){const f=n[c],d=s.find(p=>p.id===f);if(d&&d.esriLayer){const p=this.esriMap.layers.indexOf(d.esriLayer);if(p>-1){const y=r<o?1:0;l=p+y;break}}else d||console.error("Layer reorder had critical error")}}this.esriMap.reorder(e.esriLayer,l)}this.$iApi.event.emit(Ie.MAP_REORDER,{layer:e,newIndex:r})}removeSublayer(e){let r,i;if(typeof e=="string")r=e,i=this.$iApi.geo.layer.getLayer(r);else{if(!e.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${e}`);r=e.uid,i=e}if(!i)throw new Error("Sublayer could not be found for removal.");i.visibility=!1,i.isRemoved=!0,this.$iApi.event.emit(Ie.LAYER_REMOVE,e),i.parentLayer?.sublayers.every(s=>s.isRemoved)&&this.removeLayer(i.parentLayer)}removeLayer(e){if(!this.esriMap){this.noMapErr();return}let r;if(e instanceof RA?r=e:r=this.$iApi.geo.layer.getLayer(e),!r)throw new Error("Layer could not be found for removal.");if(r.isSublayer){this.removeSublayer(r);return}r.supportsSublayers&&r.sublayers.forEach(s=>{s.isRemoved||this.removeSublayer(s)});const i=po(this.$vApp.$pinia);i.removeLayer(r),i.removeLayerConfig(r.id),r.removeEsriLayer(),r.initiationState===Qt.INITIATED&&r.terminate(),r.isRemoved=!0,this.$iApi.event.emit(Ie.LAYER_REMOVE,r)}setMapMouseThrottle(e){if(e<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=e;const r=this.handlers.findIndex(i=>i.type==="pointer-move");if(r!==-1){const i=this.handlers[r];this.handlers.splice(r,1),i.handler.remove()}return r!==-1&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(!this.esriView){this.noMapErr();return}return nl(this.mapMouseThrottle,e=>{this.$iApi.event.emit(Ie.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(e))})}async zoomToLevel(e){if(this.esriView)return this.esriView.goTo({zoom:e});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(e){if(!this.esriView){this.noMapErr();return}const r=e.isOffScale(this.getScale());if(!r.offScale)return;const i=this.esriView.constraints.lods;if(!i)return this.zoomMapTo(this.getExtent().center(),(r.zoomIn,e.minScale));const s=r.zoomIn?i:[...i].reverse(),n=s.find(o=>r.zoomIn?o.scale<e.minScale:o.scale>e.maxScale)||s[s.length-1];return this.zoomToLevel(n.level)}findClosestScale(e){const r=this.esriView?.constraints.lods;if(!r)return e;const i=r.map(n=>Math.abs(n.scale-e)),s=i.indexOf(Math.min(...i));return r[s].scale}async takeScreenshot(e){if(this.esriView)return e.quality||(e.quality=1),e.format||(e.format="png"),this.esriView.takeScreenshot(e);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(e){return this.esriView?Ji.fromESRI(this.esriView.toMap({x:e.screenX,y:e.screenY}),"mappoint"):(this.noMapErr(),new Ji("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(e){if(this.esriView){const r=this.esriView.toScreen(e.toESRI());return{screenX:r.x,screenY:r.y}}else return this.noMapErr(),{screenX:1,screenY:1}}async symbolIdentify(e,r){await this.viewPromise;const s=(await this.esriView.hitTest({x:e,y:r})).results.filter(o=>o.type==="graphic").map(async o=>{const a=o.layer;if(o.graphic.isAggregate===!0){const l=await this.esriView.whenLayerView(a),c=l.createQuery();return c.aggregateIds=[o.graphic.getObjectId()],(await l.queryFeatures(c)).features.map(d=>({layerId:a.id,layerIdx:0,oid:d.getObjectId()}))}else return{layerId:a.id,layerIdx:0,oid:o.graphic.getObjectId()}});return(await Promise.all(s)).flat()}runIdentify(e){const r=this.$iApi.geo.layer.allLayersOnMap(!1).filter(f=>f.canIdentify());let i;if(e instanceof Ji){const f=this.mapPointToScreenPoint(e);i={mapPoint:e,screenX:f.screenX,screenY:f.screenY,button:0,input:"mouse",clickTime:Date.now()}}else i=e;const s=this.$iApi.fixture.get("draw");if(s&&this.esriView&&(s.store.activeTool||s.store.selectedGraphicId!==null))return{click:i,results:[]};if(r===void 0)return{click:i,results:[]};let n=Promise.resolve([]);r.some(f=>f.identifyMode===Hr.HYBRID||f.identifyMode===Hr.SYMBOLIC)&&(n=this.symbolIdentify(i.screenX,i.screenY));const o={geometry:i.mapPoint,hitTest:n},a=r.filter(f=>f.supportsIdentify).map(f=>(o.tolerance=i.input=="touch"?f.touchTolerance:f.mouseTolerance,f.runIdentify(o))).flat(),l=Date.now();a.forEach(f=>{f.requestTime=l});const c={results:a,click:i};return this.$iApi.event.emit(Ie.MAP_IDENTIFY,c),c}async getGraphicAtCoord(e){if(!this.esriView){this.noMapErr();return}const r=this.$iApi.geo.layer.allLayersOnMap(!1).filter(l=>l.supportsFeatures||l.layerType===Ce.GRAPHIC);if(r.length===0)return;const i=await this.esriView.hitTest({x:e.screenX,y:e.screenY});if(i.results.length===0)return;const s=i.results.filter(l=>l.type==="graphic");let n,o;const a=new Set;if(s.some(l=>{if(!l.layer||a.has(l.layer.id))return!1;const c=r.find(f=>f.id===l.layer.id);return c?(c.isCosmetic||c.layerType===Ce.GRAPHIC||l.graphic.isAggregate||(n=c,o=l.graphic),!0):(a.add(l.layer.id),!1)}),n&&o)return{oid:o.getObjectId(),layerId:n.id,layerIdx:n.layerIdx}}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(e){const r=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(e.key)&&!this._activeKeys.includes(e.key)?(this._activeKeys.push(e.key),this._activeKeys.some(s=>r.includes(s))||this.keyPan()):r.includes(e.key)&&!this._activeKeys.includes(e.key)?(this._activeKeys.push(e.key),this.keyZoom(e)):e.key==="Enter"?this.runIdentify(this.getExtent().center()):e.key==="Tab"&&this._activeKeys.push(e.key)}mapKeyUp(e){const r=["=","-"];this._activeKeys.includes(e.key)&&!r.includes(e.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(e.key),1),this._activeKeys.some(i=>r.includes(i))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return this._activeKeys.filter(e=>!["Control","Shift"].includes(e)).length!==0}get mouseFocus(){return this._mouseFocus}async keyZoom(e){clearInterval(this._panInterval),e.key==="="?await this.zoomIn():e.key==="-"&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(e.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const e=this.getExtent().center(),r=this.mapPointToScreenPoint(e),i=this.screenPointToMapPoint({screenX:r.screenX+5,screenY:r.screenY+5}),s=Math.abs(i.x-e.x),n=Math.abs(i.y-e.y);let o=0,a=0,l=1;for(let f=0;f<this._activeKeys.length;++f)switch(this._activeKeys[f]){case"ArrowLeft":o-=s;break;case"ArrowRight":o+=s;break;case"ArrowUp":a+=n;break;case"ArrowDown":a-=n;break;case"Shift":l=2;break;case"Control":l=.25;break}const c=this.getScale();this._panInterval=setInterval(()=>{e.x+=l*o,e.y+=l*a,this.zoomMapTo(e,c,!1)},25)}}const bme={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},_me={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},wme={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},xme={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},Eme={circlePoint:bme,solidLine:_me,outlinedPoly:wme,boundingBoxPoly:xme};/* @preserve
* @terraformer/arcgis - v2.1.1 - MIT
* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.
* Tue Aug 02 2022 14:23:48 GMT-0700 (Pacific Daylight Time)
*/var Sme=function(e,r){for(var i=0;i<e.length;i++)if(e[i]!==r[i])return!1;return!0},gI=function(e){return Sme(e[0],e[e.length-1])||e.push(e[0]),e},vI=function(e){var r=0,i=0,s=e.length,n=e[i],o;for(i;i<s-1;i++)o=e[i+1],r+=(o[0]-n[0])*(o[1]+n[1]),n=o;return r>=0},Ame=function(e){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);return r},U7=function(e){var r=[],i=e.slice(0),s=gI(i.shift().slice(0));if(s.length>=4){vI(s)||s.reverse(),r.push(s);for(var n=0;n<i.length;n++){var o=gI(i[n].slice(0));o.length>=4&&(vI(o)&&o.reverse(),r.push(o))}}return r},Tme=function(e){for(var r=[],i=0;i<e.length;i++)for(var s=U7(e[i]),n=s.length-1;n>=0;n--){var o=s[n].slice(0);r.push(o)}return r},Mme=function t(e,r){r=r||"OBJECTID";var i={wkid:4326},s={},n;switch(e.type){case"Point":s.x=e.coordinates[0],s.y=e.coordinates[1],e.coordinates[2]!=null&&(s.z=e.coordinates[2]),s.spatialReference=i;break;case"MultiPoint":s.points=e.coordinates.slice(0),e.coordinates[0][2]!=null&&(s.hasZ=!0),s.spatialReference=i;break;case"LineString":s.paths=[e.coordinates.slice(0)],e.coordinates[0][2]!=null&&(s.hasZ=!0),s.spatialReference=i;break;case"MultiLineString":s.paths=e.coordinates.slice(0),e.coordinates[0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=i;break;case"Polygon":s.rings=U7(e.coordinates.slice(0)),e.coordinates[0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=i;break;case"MultiPolygon":s.rings=Tme(e.coordinates.slice(0)),e.coordinates[0][0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=i;break;case"Feature":e.geometry&&(s.geometry=t(e.geometry,r)),s.attributes=e.properties?Ame(e.properties):{},e.id&&(s.attributes[r]=e.id);break;case"FeatureCollection":for(s=[],n=0;n<e.features.length;n++)s.push(t(e.features[n],r));break;case"GeometryCollection":for(s=[],n=0;n<e.geometries.length;n++)s.push(t(e.geometries[n],r));break}return s};function j7(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+"]"}).join(",")+"}")}function $me(t,e){var r=j7(t);return function(i,s){return e(r(i),s,t)}}function Ome(t){var e=Object.create(null),r=[];return t.forEach(function(i){for(var s in i)s in e||r.push(e[s]=s)}),r}function kA(t){var e=new RegExp('["'+t+`
]`),r=t.charCodeAt(0);function i(c,f){var d,p,y=s(c,function(v,b){if(d)return d(v,b-1);p=v,d=f?$me(v,f):j7(v)});return y.columns=p,y}function s(c,f){var d={},p={},y=[],v=c.length,b=0,S=0,E,T;function w(){if(b>=v)return p;if(T)return T=!1,d;var M=b,$;if(c.charCodeAt(M)===34){for(var C=M;C++<v;)if(c.charCodeAt(C)===34){if(c.charCodeAt(C+1)!==34)break;++C}return b=C+2,$=c.charCodeAt(C+1),$===13?(T=!0,c.charCodeAt(C+2)===10&&++b):$===10&&(T=!0),c.slice(M+1,C).replace(/""/g,'"')}for(;b<v;){var P=1;if($=c.charCodeAt(b++),$===10)T=!0;else if($===13)T=!0,c.charCodeAt(b)===10&&(++b,++P);else if($!==r)continue;return c.slice(M,b-P)}return c.slice(M)}for(;(E=w())!==p;){for(var _=[];E!==d&&E!==p;)_.push(E),E=w();f&&(_=f(_,S++))==null||y.push(_)}return y}function n(c,f){return f==null&&(f=Ome(c)),[f.map(l).join(t)].concat(c.map(function(d){return f.map(function(p){return l(d[p])}).join(t)})).join(`
`)}function o(c){return c.map(a).join(`
`)}function a(c){return c.map(l).join(t)}function l(c){return c==null?"":e.test(c+="")?'"'+c.replace(/\"/g,'""')+'"':c}return{parse:i,parseRows:s,format:n,formatRows:o}}var rb=kA(","),Ime=rb.parse,Cme=rb.parseRows,Nme=rb.format,Pme=rb.formatRows,ib=kA("	"),Lme=ib.parse,kme=ib.parseRows,Rme=ib.format,Dme=ib.formatRows;const Fme=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:Nme,csvFormatRows:Pme,csvParse:Ime,csvParseRows:Cme,dsvFormat:kA,tsvFormat:Rme,tsvFormatRows:Dme,tsvParse:Lme,tsvParseRows:kme},Symbol.toStringTag,{value:"Module"})),Ume=nK(Fme);var sc={exports:{}},bI;function jme(){if(bI)return sc.exports;bI=1,sc.exports=t,sc.exports.pair=n,sc.exports.format=r,sc.exports.formatPair=e,sc.exports.coordToDMS=i;function t(a,l){var c=s(a,l);return c===null?null:c.val}function e(a){return r(a.lat,"lat")+" "+r(a.lon,"lon")}function r(a,l){var c=i(a,l);return c.whole+" "+(c.minutes?c.minutes+"' ":"")+(c.seconds?c.seconds+'" ':"")+c.dir}function i(a,l){var c={lat:["N","S"],lon:["E","W"]}[l]||"",f=c[a>=0?0:1],d=Math.abs(a),p=Math.floor(d),y=d-p,v=y*60,b=Math.floor(v),S=Math.floor((v-b)*60);return{whole:p,minutes:b,seconds:S,dir:f}}function s(a,l){if(l||(l="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var c=/^[\s\,]*([NSEW])?\s*([\-|\|\]?[0-9.]+)[]?\s*(?:([0-9.]+)[']\s*)?(?:([0-9.]+)(?:''|"||)\s*)?([NSEW])?/,f=a.match(c);if(!f)return null;var d=f[0],p;if(f[1]&&f[5]?(p=f[1],d=d.slice(0,-1)):p=f[1]||f[5],p&&l.indexOf(p)===-1)return null;var y=f[2]?parseFloat(f[2]):0,v=f[3]?parseFloat(f[3])/60:0,b=f[4]?parseFloat(f[4])/3600:0,S=y<0?-1:1;return(p==="S"||p==="W")&&(S*=-1),{val:(Math.abs(y)+v+b)*S,dim:p,matched:d,remain:a.slice(d.length)}}function n(a,l){a=a.trim();var c=s(a,l);if(!c)return null;a=c.remain.trim();var f=s(a,l);return!f||f.remain?null:c.dim?o(c.val,f.val,c.dim):[c.val,f.val]}function o(a,l,c){if(c==="N"||c==="S")return[a,l];if(c==="W"||c==="E")return[l,a]}return sc.exports}var I_,_I;function Bme(){if(_I)return I_;_I=1;var t=Ume,e=jme(),r=/(Lat)(itude)?/gi,i=/(L)(on|ng)(gitude)?/i;function s(S,E){var T,w,_;for(var M in S)w=M.match(E),w&&(!T||w[0].length/M.length>_)&&(_=w[0].length/M.length,T=M);return T}function n(S){return s(S,r)}function o(S){return s(S,i)}function a(S){return!!S.match(r)}function l(S){return!!S.match(i)}function c(S){return typeof S=="object"?Object.keys(S).length:0}function f(S){var E=[",",";","	","|"],T=[];return E.forEach(function(w){var _=t.dsvFormat(w).parse(S);if(_.length>=1){for(var M=c(_[0]),$=0;$<_.length;$++)if(c(_[$])!==M)return;T.push({delimiter:w,arity:Object.keys(_[0]).length})}}),T.length?T.sort(function(w,_){return _.arity-w.arity})[0].delimiter:null}function d(S){return delete S.columns,S}function p(S){var E=f(S);return E?d(t.dsvFormat(E).parse(S)):null}function y(S,E,T){T||(T=E,E={}),E.delimiter=E.delimiter||",";var w=E.latfield||"",_=E.lonfield||"",M=E.crs||"",$=[],C={type:"FeatureCollection",features:$};if(M!==""&&(C.crs={type:"name",properties:{name:M}}),E.delimiter==="auto"&&typeof S=="string"&&(E.delimiter=f(S),!E.delimiter)){T({type:"Error",message:"Could not autodetect delimiter"});return}var P=E.numericFields?E.numericFields.split(","):null,N=typeof S=="string"?t.dsvFormat(E.delimiter).parse(S,function(I){if(P)for(var V in I)P.includes(V)&&(I[V]=+I[V]);return I}):S;if(!N.length){T(null,C);return}var F=[],q;w||(w=n(N[0])),_||(_=o(N[0]));var U=!w||!_;if(U){for(q=0;q<N.length;q++)$.push({type:"Feature",properties:N[q],geometry:null});T(F.length?F:null,C);return}for(q=0;q<N.length;q++)if(N[q][_]!==void 0&&N[q][w]!==void 0){var B=N[q][_],K=N[q][w],h,m,x;x=e(B,"EW"),x&&(B=x),x=e(K,"NS"),x&&(K=x),h=parseFloat(B),m=parseFloat(K),isNaN(h)||isNaN(m)?F.push({message:"A row contained an invalid value for latitude or longitude",row:N[q],index:q}):(E.includeLatLon||(delete N[q][_],delete N[q][w]),$.push({type:"Feature",properties:N[q],geometry:{type:"Point",coordinates:[parseFloat(h),parseFloat(m)]}}))}T(F.length?F:null,C)}function v(S){for(var E=S.features,T={type:"Feature",geometry:{type:"LineString",coordinates:[]}},w=0;w<E.length;w++)T.geometry.coordinates.push(E[w].geometry.coordinates);return T.properties=E.reduce(function(_,M){for(var $ in M.properties)_[$]||(_[$]=[]),_[$].push(M.properties[$]);return _},{}),{type:"FeatureCollection",features:[T]}}function b(S){for(var E=S.features,T={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},w=0;w<E.length;w++)T.geometry.coordinates[0].push(E[w].geometry.coordinates);return T.properties=E.reduce(function(_,M){for(var $ in M.properties)_[$]||(_[$]=[]),_[$].push(M.properties[$]);return _},{}),{type:"FeatureCollection",features:[T]}}return I_={isLon:l,isLat:a,guessLatHeader:n,guessLonHeader:o,csv:t.csvParse,tsv:t.tsvParse,dsv:t,auto:p,csv2geojson:y,toLine:v,toPolygon:b},I_}var C_=Bme();const Vme={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function Gme(t){if(t.type!=="FeatureCollection")throw new Error("GeoJSON is not in FeatureCollection format");let e=!0,r=!0;for(let i=0;i<t.features.length;i++){const s=t.features[i];Object.assign(s.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in s&&typeof s.id<"u"&&(s.properties.ID_FILE=s.id,e=!1),"OBJECTID"in s.properties&&(s.properties.OBJECTID_FILE=s.properties.OBJECTID,delete s.properties.OBJECTID,r=!1),s.id=i+1}if(e)for(let i=0;i<t.features.length;i++)delete t.features[i].properties.ID_FILE;if(r)for(let i=0;i<t.features.length;i++)delete t.features[i].properties.OBJECTID_FILE}function zme(t,e){const r=i=>i.indexOf(" ")>-1;e.fields?.forEach(i=>{if(i.name&&r(i.name)){const s=i.name;let n,o="_",a;do n=s.replace(/ /g,o),a=e.fields?.find(l=>l.name===n),a&&(o+="_");while(a);i.alias=s,i.name=n;for(let l=0;l<t.features.length;l++){const c=t.features[l];c.properties[n]=c.properties[s],delete c.properties[s]}}})}function qme(t,e){const r=t.features[e].geometry.geometries;if(r.length===1)t.features[e].geometry={type:r[0].type,coordinates:r[0].coordinates};else{const i=r.map(s=>s.coordinates);t.features[e].geometry={type:`Multi${r[0].type}`,coordinates:i}}}function Hme(t){return t==="MultiLineString"?"LineString":t==="MultiPolygon"?"Polygon":t}class Wme extends Pr{async fetchFileData(e,r){const i=await Jm.get(e,{responseType:"arrayBuffer"});switch(r){case Ce.GEOJSON:case Ce.DATAJSON:return JSON.parse(this.arbToStr(i.data));case Ce.SHAPEFILE:case Ce.GEOJSONZIPPED:case Ce.FLATGEOBUF:case Ce.FLATGEOBUFZIPPED:return i.data;case Ce.CSV:case Ce.DATACSV:return this.arbToStr(i.data);default:console.error(`Unsupported file type passed to fetchFileData- '${r}'`)}}extractGeoJsonFields(e){if(e.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let r="";for(let o=0;o<e.features.length;o++){const a=e.features[o];if(a.geometry.type==="GeometryCollection"){const f=a.geometry.geometries;if(f===void 0||f.length===0)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const d=f[0].type;for(let p=0;p<f.length;p++)if(f[p].type!==d)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");qme(e,o)}const c=Hme(a.geometry.type);if(r==="")r=c;else if(r!==c)throw new Error("GeoJSON file contains multiple geometry types")}const i=Object.keys(e.features[0].properties).map(o=>({name:o,type:"string"}));let s=0;const n=Object.keys(e.features[0].properties);for(;s<e.features.length;){const o=e.features[s];if(o.properties&&Object.keys(o.properties).filter(a=>n.includes(a)).forEach(a=>{const l=o.properties[a];if(l!=null){const c=i.findIndex(f=>f.name===a);i[c]={name:a,type:this.inferType(l)},n.splice(n.indexOf(a),1)}}),n.length===0)break;s++}return i}extractCsvFields(e,r=","){return C_.dsv.dsvFormat(r).parseRows(e)[0].map(s=>({name:s,type:ra.STRING}))}filterCsvLatLonFields(e,r=","){const i=C_.dsv.dsvFormat(r).parseRows(e),s=i[0],n={lat:JSON.parse(JSON.stringify(s)),lon:JSON.parse(JSON.stringify(s))};for(let o=0;o<s.length;o++)for(let a=1;a<i.length;a++){const l=Number(i[a][o]),c=n.lat.indexOf(s[o]),f=n.lon.indexOf(s[o]);if((isNaN(l)||l<-90||l>90)&&c!==-1&&n.lat.splice(c,1),(isNaN(l)||l<-180||l>180)&&f!==-1&&n.lon.splice(f,1),c===-1&&f===-1)break}return n}async geoJsonToEsriJson(e,r){let i,s="",n;const o={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:ra.OID}]};Gme(e);const a=e.features[0].geometry.type,l=Vme[a],c=JSON.parse(JSON.stringify(Eme[l]));if(r){if(r.sourceProjection&&(s=this.$iApi.geo.proj.normalizeProj(r.sourceProjection)),r.targetSR)i=r.targetSR;else throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");r.layerId?n=r.layerId:n=this.$iApi.geo.shared.generateUUID(),r.colour&&(c.renderer.symbol.color=new ga(r.colour).toArcServer())}else throw new Error("geoJsonToEsriJson - missing opts arguement");s||(s=Be.parseGeoJsonCrs(e.crs)),o.renderer=await Nt.RendererFromJson(c.renderer),o.fields=(o.fields||[]).concat(r.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(e).filter(b=>r.fieldMetadata?.fieldInfo?.find(S=>S.name===b.name)):this.extractGeoJsonFields(e)),r.fieldMetadata?.enforceOrder&&r.fieldMetadata?.fieldInfo&&r.fieldMetadata?.fieldInfo.length>0&&(o.fields=this.$iApi.geo.attributes.orderFields(o.fields,r.fieldMetadata?.fieldInfo)),zme(e,o);const f=this.$iApi.geo.proj.normalizeProj(i);if(r){if(r.latField){const b=o.fields.find(S=>S.name===r.latField||S.alias===r.latField);b&&(b.type=ra.DOUBLE)}if(r.lonField){const b=o.fields.find(S=>S.name===r.lonField||S.alias===r.lonField);b&&(b.type=ra.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([s,i]);const d=Be.parseSR(i).toESRI();await this.$iApi.geo.proj.projectGeoJson(e,s,f);const p=Mme(e,{sr:8888});o.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const y=o.fields.map(b=>b.name);for(let b=0;b<p.length;b++){const S=p[b];S.geometry.spatialReference=d,S.geometry.type=o.geometryType,Object.keys(S.attributes).forEach(E=>{y.includes(E)?(Array.isArray(S.attributes[E])||typeof S.attributes[E]=="object")&&S.attributes[E]!=null&&(S.attributes[E]=JSON.stringify(S.attributes[E])):delete S.attributes[E]})}return(r.fieldMetadata?.fieldInfo&&r.fieldMetadata?.fieldInfo.length>0?r.fieldMetadata.fieldInfo.filter(b=>b.trim&&y.includes(b.name)).map(b=>b.name):[]).forEach(b=>{for(let S=0;S<p.length;S++){const E=p[S].attributes;typeof E[b]=="string"&&(E[b]=E[b].trim())}}),o.source=p,o.spatialReference=d,o.id=n,o}async csvToGeoJson(e,r){const i={latfield:"Lat",lonfield:"Long",delimiter:","};return r&&(r.latfield&&(i.latfield=r.latfield),r.lonfield&&(i.lonfield=r.lonfield),r.delimiter&&(i.delimiter=r.delimiter)),new Promise((s,n)=>{C_.csv2geojson(e,i,(o,a)=>{o?(console.error("csv conversion error"),console.error(o),n(o)):(a.features.map(l=>{l.properties[i.lonfield]=l.geometry.coordinates[0],l.properties[i.latfield]=l.geometry.coordinates[1]}),s(a))})})}async shapefileToGeoJson(e){return(await ve(()=>import("./shp.min-BO_RUEZg.js").then(i=>i.s),__vite__mapDeps([224,225]),import.meta.url)).default(e)}fgbToGeoJson(e,r){return ve(async()=>{const{geojson:s}=await import("./flatgeobuf-B3uq3Mri.js");return{geojson:s}},[],import.meta.url).then(({geojson:s})=>new Promise(n=>{let o=!1,a=null;const l=s.deserialize(new Uint8Array(e),void 0,d=>{a=d.crs,o=!0});let c=0;const f=setInterval(()=>{if(l&&o){clearInterval(f);let d;a&&(a.code&&a.code!==4326&&a.org==="EPSG"?d=new Be(a.code):a.wkt?d=new Be(a.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",a)),d&&(l.crs=d.toGeoJSON()),n(l)}else c+=60,c>r&&(clearInterval(f),n({}))},60)}))}inferType(e){return typeof e=="number"?ra.DOUBLE:ra.STRING}rawDataJsonParser(e,r=!1){let i;return typeof e=="string"?i=JSON.parse(e):r?i=structuredClone(e):i=e,i}async unzipSingleFile(e){const r=await ve(()=>import("./jszip.min-nAt9AH8p.js").then(o=>o.j),__vite__mapDeps([226,225]),import.meta.url),s=await new r.default().loadAsync(e),n=Object.keys(s.files)[0];if(n&&s.file(n))return await s.file(n).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(e){if(e.rawData&&e.rawData instanceof ArrayBuffer)return e.rawData;if(e.url)return this.$iApi.geo.layer.files.fetchFileData(e.url,e.layerType);throw new Error(`${e.layerType} config contains no url or invalid/missing raw data`)}arbToStr(e){return new TextDecoder("utf-8").decode(new Uint8Array(e))}}const Yme=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");class Jme extends Pr{async loadWfsData(e,r=-1,i=0,s=1e3,n={type:"FeatureCollection",features:[]},o=!1){let a={offset:i.toString(),limit:s.toString()};r===-1&&(a={resulttype:"hits"});const c=new Mg(e).updateQuery(a),[f,d]=await qn(Jm.get(c));if(!d)return console.error(`WFS data failed to load for ${e}`,f),Promise.reject(f);const p=d.data;if(r===-1)return r=d.data.numberMatched,this.loadWfsData(e,r,i,s,n,o);if(n.features=n.features.concat(p.features),p.features.length<r-i){const y=Math.min(s,r-i-p.features.length);return this.loadWfsData(c,r,p.features.length+i,y,n,o)}else return o&&n.features.length>0&&n.features[0].geometry.type===pr.POINT&&n.features.forEach(y=>{const v=y.geometry.coordinates;y.properties.rvInternalCoordX=v[0],y.properties.rvInternalCoordY=v[1]}),n}reversedAxisWKIDs(){return Yme}parseCapabilities(e){const r=()=>{let o=e;if(e.indexOf("?")===-1)o+="?service=WMS&request=GetCapabilities";else{const a=new Mg(e.toUpperCase());"SERVICE"in a.queryMap||(o+="&service=WMS"),"REQUEST"in a.queryMap||(o+="&request=GetCapabilities")}return Dr(o,{responseType:"xml"}).then(a=>a.data)},i=new Promise(o=>{r().then(a=>o(a)).catch(()=>{console.error("Get capabilities failed; trying the second time;"),o(r())})}),s=o=>{let a=o.Layer;return a?(Array.isArray(a)||(a=[a]),a.map(l=>{const c=l.Name,f=l.Title;let d=l.Style;const p=[],y={};return d&&(Array.isArray(d)||(d=[d]),d.forEach(v=>{const b=v.Name;if(p.push(b),v.LegendURL){const E=v.LegendURL.OnlineResource["@_xlink:href"];y[b]=E.replaceAll("&amp;","&")}})),{name:c?.toString()??null,title:f,queryable:l["@_queryable"]==="1",layers:s(l),allStyles:p,styleToURL:y,currentStyle:p[0]}})):[]},n=o=>{let a=o.Format;return Array.isArray(a)||(a=[a]),a};return ve(async()=>{const{XMLParser:o}=await import("./fxp-rjvO85py.js").then(a=>a.f);return{XMLParser:o}},[],import.meta.url).then(({XMLParser:o})=>i.then(a=>{if(!a)return[];const l=new XMLSerializer().serializeToString(a),c={ignoreAttributes:!1},f=new o(c).parse(l);if("ServiceExceptionReport"in f)return console.error(f.ServiceExceptionReport.ServiceException),[];const d=f.WMS_Capabilities.Capability;return{layers:s(d),queryTypes:n(d.Request.GetFeatureInfo)}}))}}class um{static makeRawItem(e,r){const i=Promise.resolve();return li({format:e,data:r,started:!0,loaded:!0,loading:i,load(){return i}})}static makeOidItem(e,r){const i=new Or,s={format:dh.ESRI,data:void 0,started:!1,loaded:!1,loading:i.getPromise(),async load(){if(!this.started){this.started=!0;const n=await r.getGraphic(e,{getAttribs:!0});this.data=n.attributes,this.loaded=!0,i.resolveMe()}return i.getPromise()}};return li(s)}}class Kme extends Pr{files;ogc;constructor(e){super(e),this.files=new Wme(e),this.ogc=new Jme(e)}createLayer(e){let r;switch(e.layerType){case Ce.FEATURE:r=nye;break;case Ce.MAPIMAGE:r=oye;break;case Ce.GRAPHIC:r=Xme;break;case Ce.TILE:r=uye;break;case Ce.WFS:r=fye;break;case Ce.DATATABLE:r=pye;break;case Ce.WMS:r=hye;break;case Ce.GEOJSON:r=Qme;break;case Ce.GEOJSONZIPPED:r=rye;break;case Ce.FLATGEOBUFZIPPED:r=sye;break;case Ce.CSV:r=tye;break;case Ce.DATAJSON:r=dye;break;case Ce.IMAGERY:r=cye;break;case Ce.SHAPEFILE:r=eye;break;case Ce.FLATGEOBUF:r=iye;break;case Ce.OSM:r=lye;break;default:throw new Error("Unsupported Layer Type "+e.layerType)}return new r(e,this.$iApi)}sublayerId(e,r){return`${e}-${r}`}getLayer(e){return po(this.$vApp.$pinia).getLayerByAny(e)}getSublayer(e,r){const i=po(this.$vApp.$pinia).getLayerById(e);if(i&&i.supportsSublayers&&r<i.sublayers.length)return i.sublayers[r]}async awaitLayer(e,r=!1){let i=this.getLayer(e);if(!i){const s=new Or;let n=0;const o=300,a=setInterval(()=>{n+=o;const l=this.getLayer(e);if(l)clearInterval(a),s.resolveMe(l);else if(n>8e3){clearInterval(a);const c=setInterval(()=>{const f=this.getLayer(e);f&&(clearInterval(c),s.resolveMe(f))},1500)}},o);i=await s.getPromise()}return r&&await i.viewPromise(),i}async awaitSublayer(e,r){return this.awaitLayer(this.sublayerId(e,r))}getLayerPosition(e){const r=this.getLayer(e);if(r&&r.mapLayer){const i=r.isSublayer?r.parentLayer.id:r.id,s=this.layerOrderIds().findIndex(n=>n===i);return s===-1?void 0:s}else return}layerOrderIds(){return po(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return po(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter(e=>e.layerState!==yr.ERROR&&e.initiationState===Qt.INITIATED)}allLayersOnMap(e=!0){const r=this.allLayers().filter(i=>i.mapLayer&&i.initiationState===Qt.INITIATED);if(e){const i=this.layerOrderIds(),s=new Map(i.map((n,o)=>[n,o]));r.sort((n,o)=>s.get(n.id)-s.get(o.id))}return r}allDataLayers(){return this.allLayers().filter(e=>!e.mapLayer&&e.initiationState===Qt.INITIATED)}allErrorLayers(){return this.allLayers().filter(e=>e.layerState===yr.ERROR)}allInitiatingLayers(){return this.allLayers().filter(e=>e.initiationState===Qt.INITIATING)}getLayerControls(e){const r=this.getLayer(e);if(!r)return;const i=r.config.controls?.slice()??[wr.BoundaryZoom,wr.Datatable,wr.Identify,wr.Metadata,wr.Opacity,wr.Refresh,wr.Reload,wr.Remove,wr.Settings,wr.Symbology,wr.Visibility],s=[];return r.supportsFeatures||s.push(wr.Datatable),r.extent===void 0&&s.push(wr.BoundaryZoom),(r.config?.metadata||(r.isSublayer?r.parentLayer?.config?.metadata:{})||{}).url||s.push(wr.Metadata),!r.mapLayer&&!r.config.controls?.includes(wr.Settings)&&s.push(wr.Settings),s.forEach(o=>{const a=i?.indexOf(o)??-1;a!==-1&&i?.splice(a,1)}),{controls:i,disabledControls:r.config.disabledControls??[]}}async loadLayerMetadata(e){if(!e.trim())throw new Error("url missing on layer server metadata request.");const[r,i]=await qn(Dr(e,{query:{f:"json"}}));if(!i)throw console.error(`Service metadata load error: ${e}`,r),new Error(`Service metadata load error: ${e}`);if(!i.data)throw console.error(`Service metadata load error: ${e}`),new Error(`Service metadata load error: ${e}`);const s=i.data,n={geometryType:Ke.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:mi.UNKNOWN,mapLayer:!0};if(n.name=s.name||"",n.currentVersion=s.currentVersion||-1,n.minScale=s.effectiveMinScale||s.minScale||0,n.maxScale=s.effectiveMaxScale||s.maxScale||0,n.extent=s.extent?er.fromArcServer(s.extent,"layer_extent"):void 0,n.defaultVisibility=s.defaultVisibility??!0,n.canModifyLayer=s.canModifyLayer??!0,s.type==="Feature Layer"||s.type==="Table"){if(n.dataFormat=mi.ESRI_FEATURE,n.displayField=s.displayField||"",Array.isArray(s.fields)){const o=await Promise.all(s.fields.map(l=>Nt.FieldFromJson(l)));n.fields=o.map(l=>({name:l.name,alias:l.alias,type:l.type,length:l.length})),o.every(l=>l.type==="oid"?(n.objectIdField=l.name,!1):!0)&&(n.objectIdField=s.objectIdField||(console.error(`Encountered service with no OID defined: ${e}`),"")),s.type==="Feature Layer"?(n.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(s.geometryType),s.drawingInfo?.renderer&&(n.renderer=await Nt.RendererFromJson(s.drawingInfo.renderer)),s.sourceSpatialReference&&(n.sourceSR=Be.fromConfig(s.sourceSpatialReference))):n.mapLayer=!1}}else n.dataFormat=mi.ESRI_RASTER;return n}async loadFeatureCount(e,r=""){if(!e)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const i={query:{f:"json",where:r||"1=1",returnCountOnly:!0,returnGeometry:!1}},[s,n]=await qn(Dr(`${e}/query`,i));return n?n.data?Number.isInteger(n.data.count)?n.data.count:(console.error(`Funny result (${n.data.count}) during feature count: ${e}`),0):(console.error(`Unable to load feature count: ${e}`),0):(console.error(`Feature count request unsuccessful: ${e}`,s),0)}}class RA extends Pr{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;get nameArcade(){return""}async setNameArcade(e){}tooltipField;get tooltipArcade(){return""}async setTooltipArcade(e){}oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;isSystem;userAdded;identify;identifyMode;hovertips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(e,r){super(r),this.config=e,this.id="",this.uid="",this.name="error",this.layerState=yr.NEW,this.drawState=fs.NOT_LOADED,this.initiationState=Qt.NEW,this.layerIdx=-1,this.layerFormat=js.UNKNOWN,this.layerType=Ce.UNKNOWN,this.dataFormat=mi.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=Hr.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.tooltipField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.isSystem=!1,this.userAdded=!1,this.identify=!1,this.hovertips=!1,this.geomType=Ke.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}viewPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new Tg(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return Be.latLongSR()}get visibility(){return!1}set visibility(e){}get opacity(){return 0}set opacity(e){}get scaleSet(){return new aL}set scaleSet(e){}isOffscale(e=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(e){}get touchTolerance(){return 0}set touchTolerance(e){}get drawOrder(){return[]}canIdentify(){return!1}nameValue(e){return""}tooltipValue(e){return""}runIdentify(e){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(e,r){return Promise.resolve(new Fn(new Nl))}getIcon(e){return Promise.resolve("")}getSqlFilter(e){return""}setSqlFilter(e,r){}applySqlFilter(e=[]){}getFilterOIDs(e=[],r=void 0){return Promise.resolve(void 0)}getGraphicExtent(e){return Promise.resolve(er.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(e){if(!this.isSublayer&&e)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=e}get sublayers(){return this._sublayers}onLoad(){}onError(e=!0){}updateLayerState(e,r=!1){}updateDrawState(e){}updateInitiationState(e){}uidToIdx(e){if(e===this.uid)return-1;{const r=this._sublayers.findIndex(i=>i?.uid===e);if(r===-1)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${e}]`);return r}}getSublayer(e){if(!this.supportsSublayers){console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);return}let r;if(typeof e=="string"?r=this.uidToIdx(e):r=e,this._sublayers[r]===void 0)throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${e}]`);return this._sublayers[r]}controlAvailable(e){const r=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(e,r)}}class B7 extends RA{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;nameArcadeFormula;nameArcadeExecutor;tooltipArcadeFormula;tooltipArcadeExecutor;constructor(e,r){super(e,r),this.name=e.name||"",this.geomType=Ke.NONE,this.dataFormat=mi.UNKNOWN,this.layerType=Ce.UNKNOWN,this.layerFormat=js.UNKNOWN;const i=r.geo.map.layerDefaultTimes;this.expectedTime.draw=e.expectedDrawTime??i.draw,this.expectedTime.load=e.expectedLoadTime??i.load,this.expectedTime.fail=e.maxLoadTime||i.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=e,this.id=e.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isSystem=e.system||!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=Hr.NONE,this.supportsFeatures=!1,this.hovertips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=yr.NEW,this.initiationState=Qt.NEW,this.drawState=fs.NOT_LOADED,this.loadDefProm=new Or,this.url=this.origRampConfig.url,this.canReload=!!(this.url||this.origRampConfig.caching),this.loadPromDone=!1,this.nameArcadeFormula="",this.tooltipArcadeFormula="",this.layerTree=new Tg(0,this.uid,this.name,!0)}updateInitiationState(e){this.initiationState=e,this.$iApi.event.emit(Ie.LAYER_INITIATIONSTATECHANGE,{state:e,layer:this})}updateLayerState(e,r=!1){this.layerState=e,this.$iApi.event.emit(Ie.LAYER_LAYERSTATECHANGE,{state:e,layer:this,userCancel:r})}updateDrawState(e){this.drawState=e,e===fs.REFRESH?this.startTimer("draw"):e===fs.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit(Ie.LAYER_DRAWSTATECHANGE,{state:e,layer:this})}async initiate(){this.updateInitiationState(Qt.INITIATING),this.startTimer("load");const e=n=>{this.layerState!==yr.ERROR&&(console.error(n),this.onError())},r=Date.now(),i=setTimeout(()=>{r>this.lastCancel&&(this.lastCancel=Date.now(),e("Layer timed out during initialize. Id: "+this.id))},this.expectedTime.fail),[s]=await qn(this.onInitiate());clearTimeout(i),r>this.lastCancel&&(this.drawState!==fs.UP_TO_DATE&&this.startTimer("draw"),s?e(`Init error on layer id: ${this.id} . ${s.message}`):this.updateInitiationState(Qt.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===Qt.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState(Qt.TERMINATING),await Promise.all(this.sublayers.map(e=>e.terminate())),this.loadDefProm=new Or,this.loadPromDone=!1,this.updateLayerState(yr.NEW),this.updateDrawState(fs.NOT_LOADED),this.updateInitiationState(Qt.TERMINATED)}onLoad(){const e=Date.now();let r=!1;const i=setTimeout(()=>{r=!0,this.onError()},this.expectedTime.fail);try{const s=this.onLoadActions();Promise.all(s).then(()=>{clearTimeout(i),r?this.visibility=!1:(this.stopTimer("load"),e>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new Or),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach(n=>n.onLoad()),this.updateLayerState(yr.LOADED)))}).catch(()=>{clearTimeout(i),this.onError()})}catch(s){console.error("Encountered error on layer load: ",s),clearTimeout(i),this.onError()}}onError(e=!0){this.layerState!==yr.ERROR&&(this.initiationState===Qt.INITIATING&&this.updateInitiationState(Qt.NEW),this.loadPromDone&&(this.loadDefProm=new Or),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach(r=>r.onError(e)),e&&this.$iApi.notify.show(Ds.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(yr.ERROR,!e))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===Qt.NEW||this.initiationState===Qt.TERMINATING||this.initiationState===Qt.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&this.esriLayer.loadStatus==="loading"&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===yr.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(e,r){return this.stubError(),Promise.resolve(new Fn(new Nl))}getIcon(e){return this.stubError(),Promise.resolve("")}getSqlFilter(e){return this.stubError(),""}setSqlFilter(e,r){this.stubError()}getFilterOIDs(e=[],r=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(e){return this.stubError(),Promise.resolve(er.fromParams("fake",0,0,0,0))}applySqlFilter(e=[]){this.stubError()}setCustomParameter(e,r,i=!0){this.stubError()}startTimer(e){this.stopTimer(e),this.expectedTime[e]>0&&(this.timers[e]=window.setTimeout(()=>this.$iApi.notify.show(Ds.WARNING,this.$iApi.$i18n.t(`layer.long${e}`,{id:this.name||this.id})),this.expectedTime[e]))}stopTimer(e){this.timers[e]&&(clearTimeout(this.timers[e]),this.timers[e]=void 0)}async arcadeGenerator(e){const r={variables:[{name:"$attr",type:"dictionary",properties:this.fields.map(i=>{const s=this.$iApi.geo.attributes.fieldTypeToArcade(i.type);return s?{name:i.name,type:s}:(console.error(`Encountered field type with no arcade support: ${i.type} [${i.name}]`),s)}).filter(i=>!!i)}]};return Nt.ArcadeExecutor(e,r)}get nameArcade(){return this.nameArcadeFormula}async setNameArcade(e){this.supportsFeatures?e.trim()===""?(this.nameArcadeFormula="",this.nameArcadeExecutor=void 0):(this.nameArcadeFormula=e,this.nameArcadeExecutor=await this.arcadeGenerator(e)):console.error("Attempted to set a name arcade function on a layer that doesn't support it.")}async nameInitializer(e,r=""){if(this.supportsFeatures){const i=(e?.nameArcade||"").trim();i&&await this.setNameArcade(i),this.nameField=(e?.nameField||"").trim()||r||this.oidField}else console.error("Attempted to init a name field on an unsupported layer.")}nameValue(e){if(e)if(this.nameArcade){const r={$attr:e};return this.nameArcadeExecutor?.execute(r)??"Arcade Error"}else return this.nameField?e[this.nameField]??"Name Field Error":"";else return""}get tooltipArcade(){return this.tooltipArcadeFormula}async setTooltipArcade(e){this.supportsFeatures?e.trim()===""?(this.tooltipArcadeFormula="",this.tooltipArcadeExecutor=void 0):(this.tooltipArcadeFormula=e,this.tooltipArcadeExecutor=await this.arcadeGenerator(e)):console.error("Attempted to set a tooltip arcade function on a layer that doesn't support it.")}async tooltipInitializer(e){if(this.supportsFeatures){const r=(e?.tooltipArcade||"").trim();r&&await this.setTooltipArcade(r),this.tooltipField=(e?.tooltipField||"").trim()}else console.error("Attempted to init a tooltip field on an unsupported layer.")}tooltipValue(e){if(e)if(this.tooltipArcade){const r={$attr:e};return this.tooltipArcadeExecutor?.execute(r)??"Arcade Error"}else return this.tooltipField?e[this.tooltipField]??this.nameValue(e):this.nameValue(e);else return""}}class pu extends B7{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(e,r){super(e,r),this._scaleSet=new aL,this._mouseTolerance=e.mouseTolerance!=null?e.mouseTolerance:5,this._touchTolerance=e.touchTolerance!=null?e.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=e.cosmetic||!1,this.extent=e.extent?er.fromConfig(`${this.id}_extent`,e.extent):void 0,this.viewDefProm=new Or,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){if(await super.onInitiate(),!this.esriLayer){this.noLayerErr();return}this.esriWatches.push(Jr(()=>this.esriLayer.visible,e=>{this.$iApi.event.emit(Ie.LAYER_VISIBILITYCHANGE,{visibility:e,layer:this})})),this.esriWatches.push(Jr(()=>this.esriLayer.opacity,e=>{this.$iApi.event.emit(Ie.LAYER_OPACITYCHANGE,{opacity:e,layer:this})})),this.esriWatches.push(Jr(()=>this.esriLayer.loadStatus,e=>{const r={"not-loaded":yr.LOADING,loading:yr.LOADING,loaded:yr.LOADED,failed:yr.ERROR};e==="loaded"?this.onLoad():e==="failed"?this.onError():this.updateLayerState(r[e])})),this.esriLayer.on("layerview-create",e=>{this.esriView=br(e.layerView),this.esriWatches.push(Jr(()=>e.layerView.updating,r=>{this.updateDrawState(r?fs.REFRESH:fs.UP_TO_DATE)})),this.viewDefProm.resolveMe()}),this.sublayers.forEach(e=>e.initiate())}async terminate(){this.esriWatches.forEach(e=>e.remove()),this.esriWatches=[],this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new Or}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.removeEsriLayer();const e=Date.now();if(this.$iApi.event.emit(Ie.LAYER_RELOAD_START,this),this.sublayers.forEach(r=>this.$iApi.event.emit(Ie.LAYER_RELOAD_START,r)),await this.terminate(),await this.initiate(),!(this.lastCancel>e)){if(!this.esriLayer){console.error("ESRI layer failed to re-create during reload.");return}this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit(Ie.LAYER_RELOAD_END,this),this.sublayers.forEach(r=>this.$iApi.event.emit(Ie.LAYER_RELOAD_END,r))}}makeEsriLayerConfig(e){return{id:e.id,url:e.url,opacity:e?.state?.opacity??1,visible:e?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex(r=>r.id===this.id)>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const e=super.onLoadActions();if(this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify),this.layerType!==Ce.WMS){const r=this.$iApi.geo.proj.checkProj(this.getSR()).then(i=>i?Promise.resolve():Promise.reject());e.push(r)}return e}viewPromise(){return this.viewDefProm.getPromise()}mapCheck(){return this.$iApi.geo.map.created?!0:(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(e){this._scaleSet=e}isOffscale(e=void 0){let r;if(typeof e>"u")if(this.mapCheck())r=this.$iApi.geo.map.getScale();else return!1;else r=e;return this.scaleSet.isOffScale(r).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){return this.extent?this.mapCheck()?this.$iApi.geo.map.zoomMapTo(this.extent):Promise.resolve():(console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve())}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(e){if(!this.supportsIdentify){console.warn("Attempted to set click tolerance on a layer that doesn't support identify");return}if(e<0){console.error("Attempted to set a negative click tolerance");return}this._mouseTolerance=e}get touchTolerance(){return this._touchTolerance}set touchTolerance(e){if(!this.supportsIdentify){console.warn("Attempted to set touch tolerance on a layer that doesn't support identify");return}if(e<0){console.error("Attempted to set a negative touch tolerance");return}this._touchTolerance=e}get layerExists(){return this.initiationState===Qt.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return this.layerExists?this.esriLayer.visible:!1}set visibility(e){this.layerExists?this.esriLayer.visible=e:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some(e=>e.visibility))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(e){this.layerExists?this.esriLayer.opacity=e:this.noLayerErr()}getSR(){return this.esriLayer?Be.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),Be.latLongSR())}}class DA extends pu{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(e,r){super(e,r),this.supportsIdentify=!0,this.geomType=Ke.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new lL(e.permanentFilteredQuery||"",e.initialFilteredQuery||""),this.hovertips=e.state?.hovertips??!0,this.attribs=new G7}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}async loadLayerMetadata(e={}){if(!this.serviceUrl)return;const r=Date.now(),i=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(r<this.lastCancel))if(this.geomType=i.geometryType,this.attribs.quickCache=new q7(this.geomType),this.scaleSet.minScale=i.minScale,this.scaleSet.maxScale=i.maxScale,this.dataFormat=i.dataFormat,this.extent=this.extent??i.extent,this._serverVisibility=i.defaultVisibility,this.origRampConfig.name||(this.name=i.name??this.id),this.dataFormat===mi.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType===Ce.SUBLAYER?i.canModifyLayer:!0,this.fields=i.fields,this.nameField=i.displayField,this.oidField=i.objectIdField,this.sourceSR=i.sourceSR,this.drawOrder.forEach(o=>{o.field&&this.fields.findIndex(a=>a.name===o.field)===-1&&console.error(`Draw order for layer ${this.id} references invalid field ${o.field}`)});const s=e&&e.customRenderer&&e.customRenderer.type?e.customRenderer:i.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(s,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const n={supportsLimit:(i.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(Vi.PERMANENT)};this.attribs.attLoader=new z7(this.$iApi,n)}else this.supportsFeatures=!1,this.supportsIdentify=!1}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}getFieldsToTrim(){return this.fields.filter(e=>e.trim).map(e=>e.name)}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(e,r){let i={},s=new Nl;const n=this.$iApi.geo.map;let o=!1,a=!1,l=0;if(r.getAttribs||r.getStyle){const f=this.attribs.quickCache.getAttribs(e);if(f)i=f;else if(this.attribs.attLoader.isLoaded()||this.isFile){const d=await this.attribs.attLoader.getAttribs();i=d.features[d.oidIndex[e]]}else o=!0}if(r.getGeom){l=n.getScale();const f=this.attribs.quickCache.getGeom(e,l);if(f)s=f;else if(this.layerType===Ce.FEATURE){await this.viewPromise(),this.esriView.updating&&await new Promise(y=>{const v=Jr(()=>this.esriView.updating,b=>{b||(v.remove(),y())})});const d=await Nt.Query();d.objectIds=[e],d.returnGeometry=!0;const p=await this.esriView.queryFeatures(d);if(p.features.length){const y=p.features[0],v=this.$iApi.geo.geom.geomEsriToRamp(y.geometry);this.attribs.quickCache.setGeom(e,v,l),s=v}else a=!0}else a=!0}if(o||a){const f={oid:e,serviceUrl:this.serviceUrl,includeGeometry:a,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};a&&(f.mapSR=n.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(f.maxOffset=n.esriView?.resolution));const d=await this.$iApi.geo.attributes.loadSingleFeature(f);a&&(this.attribs.quickCache.setGeom(e,d.geometry,l),s=d.geometry),(o||typeof this.attribs.quickCache.getAttribs(e)>"u")&&(this.attribs.quickCache.setAttribs(e,d.attributes),o&&(i=d.attributes))}const c=new Fn(s,"",r.getAttribs?i:void 0);if(r.getStyle){const f=ze(this.renderer.getGraphicSymbol(i));c.style=this.$iApi.geo.geom.styleEsriToRamp(f)}return c}async getIcon(e){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const r=await this.getGraphic(e,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(r.attributes||{},this.renderer)}setSqlFilter(e,r){const i=this.filter.getSql(e);if(r===i)return;this.filter.setSql(e,r),this.$iApi.event.emit(Ie.FILTER_CHANGE,{uid:this.uid,filterKey:e});const s=`${this.uid}-${e}-${r}`;this._lastFilterUpdate=s,setTimeout(()=>{this._lastFilterUpdate===s&&this.applySqlFilter()},100)}applySqlFilter(e=[]){throw new Error(`attempted to apply sql filter ${e} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(e){return this.filter.getSql(e)}getCombinedSqlFilter(e){return this.filter.getCombinedSql(e)}async getFilterOIDs(e=[],r=void 0){const i=this.filter.getCombinedSql(e),s=!!r;if(!(i||s))return;r&&this.filter.setExtent(r);const n=this.filter.sqlActiveFilters(e);let o=this.filter.getCache(n,s);if(!o){const a={filterGeometry:r,filterSql:i,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(a),this.filter.setCache(o,n,s)}return o}queryOIDs(e){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const r={url:this.serviceUrl,...e};return this.$iApi.geo.query.arcGisServerQueryIds(r)}async queryFeaturesDiscrete(e){const r=await this.queryOIDs(e),i={getGeom:!!e.includeGeometry,getAttribs:!0};return r.map(s=>({oid:s,graphic:this.getGraphic(s,i)}))}async queryFeatures(e){const r=await this.queryFeaturesDiscrete(e);return Promise.all(r.map(i=>i.graphic))}configDrawOrder(e,r){Array.isArray(e.drawOrder)&&e.drawOrder.length>0&&(r.orderBy=e.drawOrder.map(i=>{const s=i.ascending??!0?"ascending":"descending";return i.field?{field:i.field,order:s}:{valueExpression:i.arcade,order:s}}),this._drawOrder=e.drawOrder.slice())}}class Zme extends pu{constructor(e,r){super(e,r),this.dataFormat=mi.ESRI_FEATURE,this.layerFormat=js.GRAPHIC,this.hovertips=!1}_graphics=[];makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}getGraphicCount(){return this._graphics.length}getLocalGraphic(e){return this._graphics.find(r=>r.id===e)}getEsriGraphic(e){return this.esriLayer?.graphics.find(r=>r.id===e)}get graphics(){return this._graphics.slice()}async addGraphic(e){if(!this.layerExists){this.noLayerErr();return}let r;e instanceof Array?r=e:r=[e];const i=r.filter(l=>this._graphics.findIndex(f=>f.id===l.id)===-1?(this._graphics.push(l),!0):(console.error(`Attempting to add graphic with id '${l.id}' that has already been added.`),!1)),s=this.$iApi.geo.map.getSR(),n=i.map(l=>this.$iApi.geo.proj.projectGeometry(s,l.geometry)),o=await Promise.all(n),a=i.map((l,c)=>{const f=new Fn(o[c],l.id,l.attributes);return f.style=l.style,this.$iApi.geo.geom.graphicRampToEsri(f)});this.esriLayer.addMany(a)}removeGraphic(e){if(!this.layerExists){this.noLayerErr();return}if(typeof e>"u"){this.esriLayer.removeAll(),this._graphics=[];return}let r;Array.isArray(e)?r=e:r=[e],r.map(s=>typeof s=="string"?s:s.id).forEach(s=>{const n=this.esriLayer.graphics.findIndex(a=>a.id===s);n>-1&&this.esriLayer.graphics.removeAt(n);const o=this._graphics.findIndex(a=>a.id===s);o>-1&&this._graphics.splice(o,1)})}}class Xme extends Zme{constructor(e,r){super(e,r),this.layerType=Ce.GRAPHIC}async onInitiate(){this.esriLayer=br(await Nt.GraphicsLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState(fs.UP_TO_DATE),e}}class mu extends DA{esriJson;sourceGeoJson;constructor(e,r){super(e,r),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=mi.ESRI_FEATURE,this.layerFormat=js.FEATURE,this.layerIdx=0,e.identifyMode&&e.identifyMode!==Hr.NONE?this.identifyMode=e.identifyMode:this.identifyMode=Hr.HYBRID}async reload(){if(this.origRampConfig.caching!==!0&&!this.origRampConfig.url){console.error("Attempted to reload file layer from non server source without caching enabled.");return}await super.reload()}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const e={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,e),this.esriLayer=br(await Nt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(e){const r=super.makeEsriLayerConfig(e),i="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach(n=>{r[n]=this.esriJson[n]}),this.origRampConfig.nameField?r.displayField=this.$iApi.geo.attributes.fieldValidator(r.fields,this.origRampConfig.nameField)||i:r.displayField=i,r.outFields=["*"],delete r.url,this.configDrawOrder(e,r),e.geomClustering&&(r.featureReduction=e.geomClustering),r}onLoadActions(){const e=super.onLoadActions(),r=async()=>{this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=await Nt.RendererFromJson(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),await this.nameInitializer({nameArcade:this.origRampConfig.nameArcade},this.nameField);const i=this.origRampConfig.tooltipField?this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.tooltipField):"";await this.tooltipInitializer({tooltipArcade:this.origRampConfig.tooltipArcade,tooltipField:i}),this.featureCount=this.esriLayer?.source.length||0};return e.push(r()),e.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(e).then(()=>{this.applySqlFilter()}),e}runIdentify(e){if(!this.canIdentify())return[];const r=new Or,i=li({items:[],loading:r.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let s=Promise.resolve(),n=Promise.resolve(),o=[],a=[];if(this.identifyMode===Hr.HYBRID||this.identifyMode===Hr.GEOMETRIC){const l={includeGeometry:!1};this.geomType!==Ke.POLYGON&&e.geometry.type===Ke.POINT?l.filterGeometry=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance):l.filterGeometry=e.geometry,l.filterSql=this.getCombinedSqlFilter(),n=this.queryFeatures(l).then(c=>{o=c})}return e.hitTest&&(this.identifyMode===Hr.HYBRID||this.identifyMode===Hr.SYMBOLIC)&&(s=n.then(async()=>{const l=await e.hitTest;a=await Promise.all(l.filter(c=>c.layerId===this.id&&o.findIndex(f=>c.oid===f.attributes[this.oidField])===-1).map(c=>c.oid))})),Promise.all([s,n]).then(()=>{o.forEach(l=>{i.items.push(um.makeRawItem(dh.ESRI,l.attributes))}),a.forEach(l=>{i.items.push(um.makeOidItem(l,this))}),i.loaded=!0,r.resolveMe()}).catch(()=>{i.errored=!0,r.resolveMe()}),[i]}extractLayerMetadata(){const e=this.esriLayer;if(!e)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(e.geometryType),this.scaleSet.minScale=e.minScale||0,this.scaleSet.maxScale=e.maxScale||0,this.extent=this.extent??er.fromESRI(e.fullExtent,this.id+"_extent");const r=br(e.fields.slice());this.fields=r.map(s=>({name:s.name,alias:s.alias,type:s.type,length:s.length})),this.nameField=e.displayField,this.oidField=e.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(e.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const i={sourceGraphics:e.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new gye(this.$iApi,i)}async getGraphic(e,r){let i;if(!r.getGeom&&this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();i=new Fn(new Nl,"",s.features[s.oidIndex[e]])}else{const s={filterOIDs:[e],includeGeometry:!!r.getGeom},n=await this.queryFeatures(s);if(n.length===0)throw new Error(`Could not find object id ${e}`);n.length!==1&&console.warn("did not get a single result on a query for a specific object id"),i=n[0]}if(r.getStyle){const s=ze(this.renderer.getGraphicSymbol(i.attributes));i.style=this.$iApi.geo.geom.styleEsriToRamp(s)}return i}async queryFeatures(e){const r={layer:this,...e};return this.$iApi.geo.query.geoJsonQuery(r)}async queryOIDs(e){const r={layer:this,...e};return(await this.$iApi.geo.query.geoJsonQuery(r)).map(s=>s.attributes?s.attributes[this.oidField]:-1)}applySqlFilter(e=[]){if(!this.esriView){this.noLayerErr();return}const r=this.filter.getCombinedSql(e);Nt.FeatureFilter({where:r}).then(i=>{ze(this.esriView).filter=i})}}class Qme extends mu{constructor(e,r){super(e,r),this.layerType=Ce.GEOJSON}async onInitiate(){let e;const r=Date.now();if(this.origRampConfig.rawData)e=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)e=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("GeoJson layer config contains no raw data or url");r>this.lastCancel&&(this.sourceGeoJson=e,await super.onInitiate())}}class eye extends mu{constructor(e,r){super(e,r),this.layerType=Ce.SHAPEFILE}async onInitiate(){const e=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.shapefileToGeoJson(r);e>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class tye extends mu{constructor(e,r){super(e,r),this.layerType=Ce.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let e;const r=Date.now();if(this.origRampConfig.rawData&&typeof this.origRampConfig.rawData=="string")e=this.origRampConfig.rawData;else if(this.origRampConfig.url)e=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Csv file config contains no raw data or url");if(r>this.lastCancel){const i=await this.$iApi.geo.layer.files.csvToGeoJson(e,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});r>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class rye extends mu{constructor(e,r){super(e,r),this.layerType=Ce.GEOJSONZIPPED}async onInitiate(){const e=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(r);e>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(i)),await super.onInitiate())}}}class iye extends mu{constructor(e,r){super(e,r),this.layerType=Ce.FLATGEOBUF}async onInitiate(){const e=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.fgbToGeoJson(r,this.expectedTime.fail+1e3);e>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class sye extends mu{constructor(e,r){super(e,r),this.layerType=Ce.FLATGEOBUFZIPPED}async onInitiate(){const e=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(r);if(e>this.lastCancel){const s=await this.$iApi.geo.layer.files.fgbToGeoJson(i,this.expectedTime.fail+1e3);e>this.lastCancel&&(this.sourceGeoJson=s,await super.onInitiate())}}}}class nye extends DA{constructor(e,r){super(e,r),this.dataFormat=mi.ESRI_FEATURE,this.supportsIdentify=!0,this.layerType=Ce.FEATURE,this.layerFormat=js.FEATURE,e.identifyMode&&e.identifyMode!==Hr.NONE?this.identifyMode=e.identifyMode:this.identifyMode=Hr.HYBRID}async onInitiate(){br(this.esriLayer=await Nt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const r=super.makeEsriLayerConfig(e);return(e.initialFilteredQuery||e.permanentFilteredQuery)&&(r.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(e,r),e.geomClustering&&(r.featureReduction=e.geomClustering),r}onLoadActions(){const e=Date.now(),r=super.onLoadActions(),i=this.esriLayer.parsedUrl.path,n=this.$iApi.geo.shared.parseUrlIndex(i).index||0;this.layerIdx=n,this.serviceUrl=i;const o=async()=>{let l;if(this.esriLayer&&this.origRampConfig.customRenderer?.type){const c=await Nt.RendererFromJson(this.origRampConfig.customRenderer);this.esriLayer.renderer=c,l={customRenderer:c}}else l={};await this.loadLayerMetadata(l),e>this.lastCancel&&(this.layerTree.name=this.name,this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()),await this.nameInitializer(this.origRampConfig,this.nameField),await this.tooltipInitializer(this.origRampConfig))},a=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Vi.PERMANENT)).then(l=>{e>this.lastCancel&&(this.featureCount=l)});return this.layerTree.layerIdx=n,r.push(a,o()),r}runIdentify(e){if(!this.canIdentify())return[];const r=new Or,i=li({items:[],loading:r.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let s=Promise.resolve(),n=Promise.resolve(),o=[];if(this.identifyMode===Hr.HYBRID||this.identifyMode===Hr.GEOMETRIC){const a={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==Ke.POLYGON&&e.geometry.type===Ke.POINT?a.filterGeometry=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance):a.filterGeometry=e.geometry,a.filterSql=this.getCombinedSqlFilter(),n=this.queryOIDs(a).then(l=>{o=l})}return e.hitTest&&(this.identifyMode===Hr.HYBRID||this.identifyMode===Hr.SYMBOLIC)&&(s=n.then(async()=>{(await e.hitTest).filter(l=>l.layerId===this.id&&o.findIndex(c=>l.oid===c)===-1).forEach(l=>{o.push(l.oid)})})),Promise.all([s,n]).then(()=>{o.forEach(a=>{i.items.push(um.makeOidItem(a,this))}),i.loaded=!0,r.resolveMe()}).catch(()=>{i.errored=!0,r.resolveMe()}),[i]}applySqlFilter(e=[]){if(this.layerExists){const r=this.filter.getCombinedSql(e);this.esriLayer.definitionExpression=r}else this.noLayerErr()}getGraphicExtent(e){return new Promise((r,i)=>{if(!this.layerExists)this.noLayerErr(),i();else if(!["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType))console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),i();else{const s=this.attribs.quickCache.getExtent(e);s?r(s):this.esriLayer.queryExtent({objectIds:[e],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then(n=>{const o=er.fromESRI(n.extent);this.attribs.quickCache.setExtent(e,o),r(o)}).catch(()=>{console.error(`Extent querying failed for ${e}.`),i()})}})}}class oye extends pu{isDynamic;origState;constructor(e,r){super(e,r),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=Ce.MAPIMAGE,this.layerFormat=js.MAPIMAGE,this.isDynamic=!1,this.hovertips=!1,this.layerTree.layerIdx=-1,this.identifyMode=Hr.GEOMETRIC}async onInitiate(){this.esriLayer=br(await Nt.MapImageLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const r=super.makeEsriLayerConfig(e);return this.origState={visibility:r.visible,opacity:r.opacity},r.visible=!1,e.imageFormat&&(r.imageFormat=e.imageFormat),r}onLoadActions(){const e=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),e;const r=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(Ds.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??er.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const i=l=>{const c=this.esriLayer?.allSublayers.find(f=>f.id===l);if(!c)throw new Error("attempt to find map image sublayer failed");return c},s={};this.origRampConfig.sublayers.forEach(l=>{s[l.index||0]=l});const n=[],o=(l,c)=>{const f=l.id,d=s[f];if(l.sublayers&&l.sublayers.length>0){const p=(d?d.name:"")||l.title||"",y=new Tg(f,"",p,!1);c.findChildByIdx(f)||c.children.push(y),l.sublayers.reverse().forEach(v=>{o(v,y)})}else{this._sublayers[f]||(this._sublayers[f]=new aye({id:this.$iApi.geo.layer.sublayerId(this.id,f),index:f,layerType:Ce.SUBLAYER,name:d?.name,state:d?.state??{opacity:this.opacity,visibility:this.visibility,hovertips:this.hovertips,identify:this.identify},extent:d?.extent,controls:d?.controls,disabledControls:d?.disabledControls,initialFilteredQuery:d?.initialFilteredQuery,permanentFilteredQuery:d?.permanentFilteredQuery,labels:d?.labels},this.$iApi,this));const p=this._sublayers[f];if(p.isRemoved)return;if(p.name=d?.name||l.title||"",n.push(p),!c.children.map(y=>y.layerIdx).includes(f)){const y=new Tg(f,p.uid,p.name,!1);c.children.push(y)}p.esriWatches.push(Jr(()=>l.visible,()=>{this.$iApi.event.emit(Ie.LAYER_VISIBILITYCHANGE,{visibility:p.visibility,layer:p}),p.parentLayer?.checkVisibility()}),Jr(()=>l.opacity,y=>{this.$iApi.event.emit(Ie.LAYER_OPACITYCHANGE,{opacity:y,layer:p})}))}};this.origRampConfig.sublayers.forEach(l=>{if(!l.cosmetic){const c=i(l.index||0);o(c,this.layerTree)}});const a=n.map(async l=>{const c=i(l.layerIdx),f=s[l.layerIdx];if(l.serviceUrl=c.url,l.fetchEsriSublayer(this),await l.initiate(),r<this.lastCancel)return;const d={};if(l.esriSubLayer&&f?.customRenderer?.type){const y=await Nt.RendererFromJson(f.customRenderer);l.esriSubLayer.renderer=y,d.customRenderer=y}if(await l.loadLayerMetadata(d),r<this.lastCancel)return;const p=s[l.layerIdx];if(p?(l.visibility=l.isRemoved?!1:p.state?.visibility??(this.origState.visibility?l._serverVisibility??this.origState.visibility:this.origState.visibility??l._serverVisibility)??!0,l.opacity=p.state?.opacity??this.origState.opacity??1,this.$iApi.geo.attributes.applyFieldMetadata(l,p.fieldMetadata),l.canModifyLayer||this.$iApi.notify.show(Ds.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:l.name||l.id}))):this.$iApi.geo.attributes.applyFieldMetadata(l),l.supportsFeatures){l.updateFieldList(),l.updateFieldsToTrim(),await l.nameInitializer(p,l.nameField);const y=await this.$iApi.geo.layer.loadFeatureCount(l.serviceUrl,l.getSqlFilter(Vi.PERMANENT));r>this.lastCancel&&(l.featureCount=y)}});return e.push(...a),this.esriLayer.allSublayers.forEach(l=>{!l.sublayers&&!n.find(c=>c.layerIdx===l.id)?(l.visible=!1,l.opacity=0):l.sublayers&&(l.visible=!0)}),this.visibility=this.origState.visibility??!0,e}updateLayerState(e,r=!1){super.updateLayerState(e,r),this.sublayers.forEach(i=>i.updateLayerState(e,r))}updateDrawState(e){super.updateDrawState(e),this.sublayers.forEach(r=>r.updateDrawState(e))}runIdentify(e){if(!this.canIdentify())return[];e.sublayerIds&&(e.sublayerIds=e.sublayerIds.map(s=>typeof s=="number"?this.layerTree?.findChildByIdx(s)?.uid:s));const r=e.sublayerIds?this._sublayers.filter(s=>e.sublayerIds?.includes(s.uid)):this._sublayers.filter(s=>s.canIdentify());if(r.length===0)return[];let i;return e.geometry.type===Ke.POINT&&(i=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance)),r.map(s=>{const n=new Or,o={},a=li({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:s.uid,layerId:s.id,requestTime:Date.now()});return s.geomType!==Ke.POLYGON&&i?o.filterGeometry=i:o.filterGeometry=e.geometry,o.filterSql=s.getCombinedSqlFilter(),o.sourceSR=s.sourceSR,s.queryOIDs(o).then(l=>{l.forEach(c=>{a.items.push(um.makeOidItem(c,s))}),a.loaded=!0,n.resolveMe()}).catch(()=>{a.errored=!0,n.resolveMe()}),a})}}class aye extends DA{constructor(e,r,i){if(super(e,r),this.layerType=Ce.SUBLAYER,this.layerFormat=js.MAPIMAGE,this.isSublayer=!0,this.layerIdx=e.index,this.parentLayer=i,this.isSystem=i.isSystem,this.dataFormat=mi.ESRI_FEATURE,this.supportsFeatures=!0,this.hovertips=!1,this.url=this.parentLayer?.url,this.canReload=!!(this.url||this.origRampConfig.caching),!i.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(i),(e.initialFilteredQuery||e.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(e){if(!e.esriLayer){console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer");return}this.esriSubLayer=br(e.esriLayer.allSublayers.find(r=>r.id===this.layerIdx))}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=this.config.state.identify!=null?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=Qt.INITIATED;const e=this.labelVizOverride();e!==void 0&&(this.labelVisibility=e)}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.parentLayer?.reload()}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!!(this.parentLayer?.layerExists&&this.esriSubLayer&&this.initiationState===Qt.INITIATED)}get visibility(){return this.layerExists?this.esriSubLayer.visible:!1}set visibility(e){this.layerExists?this.esriSubLayer.visible=e:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(e){if(!this.layerExists){this.noLayerErr();return}this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=e}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(e){this.layerExists?this.parentLayer.mouseTolerance=e:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(e){this.layerExists?this.parentLayer.touchTolerance=e:this.noLayerErr()}applySqlFilter(e=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const r=this.filter.getCombinedSql(e);this.esriSubLayer.definitionExpression=r}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){if(this.parentLayer?.esriLayer){const e=this._parentLayer?.esriLayer?.spatialReference;return e?Be.fromESRI(e):Be.latLongSR()}else return this.noLayerErr(),Be.latLongSR()}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return this.layerExists?this.esriSubLayer.labelsVisible:!1}set labelVisibility(e){this.layerExists?this.esriSubLayer.labelsVisible=e:this.noLayerErr()}labelVizOverride(){let e=this.origRampConfig.labels?.visible;if(e!==void 0||(e=this.$iApi.geo.map.labelsDefault?.visible,e!==void 0))return e}}class lye extends pu{constructor(e,r){super(e,r),this.supportsIdentify=!1,this.layerType=Ce.OSM,this.layerFormat=js.OSM,this.dataFormat=mi.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=br(await Nt.OpenStreetMapLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const r=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),i={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:r.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(i),e}}class cye extends pu{constructor(e,r){super(e,r),this.supportsIdentify=!1,this.layerType=Ce.IMAGERY,this.layerFormat=js.IMAGERY,this.dataFormat=mi.ESRI_RASTER}async onInitiate(){this.esriLayer=br(await Nt.ImageryLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const r=Date.now(),i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(s=>{r>this.lastCancel&&(this.legend=s)});return e.push(i),e}}class uye extends pu{constructor(e,r){super(e,r),this.supportsIdentify=!1,this.layerType=Ce.TILE,this.layerFormat=js.TILE,this.dataFormat=mi.ESRI_TILE}async onInitiate(){this.esriLayer=br(await Nt.TileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions(),r=Date.now();this.layerTree.name=this.name;const i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(s=>{r>this.lastCancel&&(this.legend=s)});return e.push(i),e.push(this.checkProj()),e}checkProj(){const e=this.getSR(),i=this.$iApi.geo.map.getSR().isEqual(e);if(this.layerState===yr.LOADED&&!i)this.$iApi.notify.show(Ds.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),this.onError();else if(this.layerState===yr.ERROR&&i)this.reload();else if(this.layerState!==yr.ERROR&&!i)return this.$iApi.notify.show(Ds.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),Promise.reject();return Promise.resolve()}}class hye extends pu{sublayerNames;mimeType;constructor(e,r){super(e,r),this.supportsIdentify=!0,this.layerType=Ce.WMS,this.layerFormat=js.WMS,this.mimeType=e.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=mi.OGC_RASTER,this.identifyMode=Hr.GEOMETRIC}async onInitiate(){this.esriLayer=br(await Nt.WMSLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const r=super.makeEsriLayerConfig(e),i=e.sublayers;this.sublayerNames=i.map(n=>n.id||"error_no_wms_id");const s=i.map(n=>n.currentStyle).join();return r.customParameters={styles:s},e.url.indexOf("/geomet")!==-1&&(r.customParameters.layers=i[0].id),r}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const r=i=>{let s=!1;return i.forEach(n=>{this.sublayerNames.indexOf(n.name)>-1||n.sublayers&&n.sublayers.length>0&&r(n.sublayers)?s=!0:n.visible=!1}),s};return this.layerExists?r(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),e}canIdentify(){return super.canIdentify()}runIdentify(e){if(e.geometry.type!==Ke.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const r=new Or,i=li({items:[],loading:r.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,e.geometry,this.mimeType).then(s=>{if(s){let n=!0,o;typeof s!="string"?o=dh.JSON:s.indexOf("Search returned no results")===-1&&s!==""?o=dh.TEXT:(n=!1,o=dh.UNKNOWN),n&&i.items.push(um.makeRawItem(o,s))}i.loaded=!0,r.resolveMe()}).catch(()=>{i.errored=!0,r.resolveMe()}),[i]}setCustomParameter(e,r,i=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[e]=r,i&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(e,r,i){const s=this.$iApi.geo.map,n=this.esriLayer;if(!s.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!n)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,a;const l=s.getExtent(),c=n.spatialReferences,f=e.join(","),d=s.esriView.toScreen(r.toESRI()),p=Math.floor(d.x),y=Math.floor(d.y),b={"application/json":"json","text/html":"text","text/plain":"text"}[i]||"text",S=s.getSR();S.wkid?o=S.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),c&&c.length>1?c.indexOf(o)===-1&&(S.latestWkid&&c.indexOf(S.latestWkid)>-1?o=S.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),n.version==="1.3"||n.version==="1.3.0"?(a={CRS:"EPSG:"+o,I:p,J:y,STYLES:"",FORMAT:n.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(a.BBOX=`${l.ymin},${l.xmin},${l.ymax},${l.xmax}`)):a={SRS:"EPSG:"+o,X:p,Y:y},Object.prototype.hasOwnProperty.call(a,"BBOX")||(a.BBOX=`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`);const E={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:n.version,WIDTH:s.getPixelWidth(),HEIGHT:s.getPixelHeight(),QUERY_LAYERS:f,LAYERS:f,INFO_FORMAT:i},T=n.customLayerParameters;return T&&Object.keys(T).forEach(w=>{w.toLowerCase()!=="styles"&&(E[w]=T[w])}),Object.keys(E).forEach(w=>a[w]=E[w]),Dr(n.url.split("?")[0],{query:a,responseType:b})}getLegendUrls(e){if(!this.layerExists)return this.noLayerErr(),[];const r=new Map;this.esriLayer.allSublayers.forEach(s=>{s.visible&&(s.legendUrl&&this.origRampConfig.sublayers?.forEach(n=>{if(n.id&&n.currentStyle&&n.id===s.name){const o=new Mg(s.legendUrl);"STYLE"in o.queryMap&&o.queryMap.STYLE!==n.currentStyle&&(s.legendUrl=o.updateQuery({STYLE:n.currentStyle}))}}),r.set(s.name,s.legendUrl))});const i=e.map(s=>s.styleLegends&&s.currentStyle?s.styleLegends.find(n=>n.name===s.currentStyle).url:void 0);return i.forEach((s,n)=>{s||(i[n]=r.get(e[n].id))}),i}getWMSLayerTitle(e){if(!this.esriLayer)return"";let r;return this.esriLayer.allSublayers.some(i=>i.name===e?(r=i.title,!0):!1),r||""}loadSymbology(){const e=Date.now(),r=this.config.sublayers,i=this.getLegendUrls(r.map(s=>({id:s.id,styleLegends:s.styleLegends,currentStyle:s.currentStyle}))).map((s,n)=>{const o=r[n].name||this.getWMSLayerTitle(r[n].id)||r[n].id,a={uid:this.$iApi.geo.shared.generateUUID(),label:o,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(s).then(l=>{e>this.lastCancel&&(a.svgcode=l.svgcode,a.imgHeight=l.imgHeight,a.imgWidth=l.imgWidth)})};return a});this.legend=i}}class fye extends mu{constructor(e,r){super(e,r),this.layerType=Ce.WFS}async onInitiate(){const e=Date.now(),r=new Mg(this.config.url),{offset:i,limit:s}=r.queryMap,n=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(i)||0,parseInt(s)||1e3,void 0,this.config.xyInAttribs);e>this.lastCancel&&(this.sourceGeoJson=n,await super.onInitiate())}}class V7 extends B7{sourceJson;attribs;_visibility;constructor(e,r){super(e,r),this.dataFormat=mi.ESRI_FEATURE,this.layerFormat=js.NOLAYER,this.drawState=fs.NOT_VISUAL,this.attribs=new G7,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=e.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(this.sourceJson){const e=this.sourceJson;if(e.data.length===0||e.fields.length===0)throw new Error("Data layer with no columns or now rows.");const r=e.fields.slice(),i=e.data[0].slice(),s=/ /gi;this.fields=r.map((c,f)=>{let d="",p=c;c.indexOf(" ")>-1&&(d=c,p=c.trim().replace(s,"-"),e.fields[f]=p);const y=this.$iApi.geo.layer.files.inferType(i[f]);return{name:p,alias:d,type:y,length:y===ra.STRING?256:void 0}}),this.oidField="rampOID",this.fields.push({name:this.oidField,type:ra.OID}),e.fields.push(this.oidField),e.data.forEach((c,f)=>c.push(f+1)),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const n={batchSize:-1,sourceDataJson:e,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new vye(this.$iApi,n),await this.attribs.attLoader.getAttribs(),this.featureCount=e.data.length;const o=this.origRampConfig.nameField,l={nameField:o?this.$iApi.geo.attributes.fieldValidator(this.fields,o):"",nameArcade:this.origRampConfig.nameArcade};await this.nameInitializer(l,""),this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}else throw new Error("Attempted to initiate file based data layer, sourceJson is missing")}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit(Ie.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==yr.ERROR&&this.onLoad(),setTimeout(()=>{this.$iApi.event.emit(Ie.LAYER_RELOAD_END,this)},300)}onLoadActions(){const e=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then(r=>{this.legend[0].svgcode=r})}],e}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(e,r){let i={};if(this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();i=s.features[s.oidIndex[e]]}else throw new Error("Non ESRI data layer did not have attributes populated.");return new Fn(new Nl,"",i)}async getIcon(e){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(e=[],r=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this.$iApi.event.emit(Ie.LAYER_VISIBILITYCHANGE,{visibility:e,layer:this}))}}class dye extends V7{constructor(e,r){super(e,r),this.layerType=Ce.DATAJSON}async onInitiate(){const e=Date.now();let r;if(this.origRampConfig.rawData)r=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)r=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Json Data layer config contains no raw data or url");e>this.lastCancel&&(this.sourceJson=r,await super.onInitiate())}}class pye extends V7{filter;serviceUrl;constructor(e,r){super(e,r),this.layerType=Ce.DATATABLE,this.serviceUrl=e.url,this.filter=new lL(e.permanentFilteredQuery||"",e.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const e=super.onLoadActions(),r=Date.now(),s=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,n=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then(a=>{if(r<this.lastCancel)return;this.name||(this.name=a.name),this.layerTree.name=this.name,this.oidField=a.objectIdField,this.fields=a.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.nameInitializer(this.origRampConfig,a.displayField);const l={supportsLimit:(a.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(Vi.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new z7(this.$iApi,l),this.attribs.quickCache=new q7(this.geomType)}),o=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Vi.PERMANENT)).then(a=>{r>this.lastCancel&&(this.featureCount=a)});return this.layerTree.layerIdx=s,e.push(n,o),e}async getGraphic(e){let r={};const i=this.attribs.quickCache.getAttribs(e);if(i)r=i;else if(this.attribs.attLoader.isLoaded()){const n=await this.attribs.attLoader.getAttribs();r=n.features[n.oidIndex[e]]}else{const n={oid:e,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},o=await this.$iApi.geo.attributes.loadSingleFeature(n);this.attribs.quickCache.setAttribs(e,o.attributes),r=o.attributes}return new Fn(new Nl,"",r)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}setSqlFilter(e,r){const i=this.filter.getSql(e);r!==i&&(this.filter.setSql(e,r),this.$iApi.event.emit(Ie.FILTER_CHANGE,{uid:this.uid,filterKey:e}))}getSqlFilter(e){return this.filter.getSql(e)}getCombinedSqlFilter(e){return this.filter.getCombinedSql(e)}async getFilterOIDs(e=[]){const r=this.filter.getCombinedSql(e);if(!r)return;const i=this.filter.sqlActiveFilters(e);let s=this.filter.getCache(i,!1);if(!s){const n={filterSql:r,includeGeometry:!1};s=this.queryOIDs(n),this.filter.setCache(s,i,!1)}return s}queryOIDs(e){const r={url:this.serviceUrl,...e};return this.$iApi.geo.query.arcGisServerQueryIds(r)}async queryFeaturesDiscrete(e){return(await this.queryOIDs(e)).map(i=>({oid:i,graphic:this.getGraphic(i)}))}async queryFeatures(e){const r=await this.queryFeaturesDiscrete(e);return Promise.all(r.map(i=>i.graphic))}}const mye=new Map([["integer","number"],["small-integer","number"],["big-integer","number"],["single","number"],["double","number"],["long","number"],["oid","number"],["string","text"],["geometry","geometry"],["date","date"]]);class yye extends Pr{oidIndexer(e,r){e.features.forEach((i,s)=>{e.oidIndex[i[r]]=s})}async arcGisBatchLoad(e,r){if(r.loadAbortFlag)return[];const i=e.permanentFilter?` AND ${e.permanentFilter}`:"",s={query:{where:`${e.oidField}>${e.maxId}${i}`,outFields:e.attribs,orderByFields:e.oidField,returnGeometry:"false",f:"json"}},[n,o]=await qn(Dr(e.serviceUrl+"/query",s));if(!o)return console.error(`ArcGIS batch load error: ${e.serviceUrl}`,n),Promise.reject(new Error(`ArcGIS batch load error: ${e.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${e.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${e.serviceUrl}`));let a=o.data.features;const l=a.length;if(l>0){r.loadedCount+=l;let c;if(e.supportsLimit?c=o.data.exceededTransferLimit:(e.batchSize===-1&&(e.batchSize=l),c=l>=e.batchSize),a=this.trimFeatureSetAttributes(a,e.fieldsToTrim??[]),c){e.maxId=a[l-1].attributes[e.oidField];const f=await this.arcGisBatchLoad(e,r);return r.loadAbortFlag?[]:a.concat(f)}else return r.loadAbortFlag?[]:a}else return[]}async loadArcGisServerAttributes(e,r){e.maxId=-1,e.batchSize=-1;const s={features:(await this.arcGisBatchLoad(e,r)).map(n=>n.attributes),oidIndex:{}};return this.oidIndexer(s,e.oidField),r.loadIsDone=!0,s}async loadGraphicsAttributes(e,r){if(!e.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const s={features:e.sourceGraphics.map(n=>ze(n).attributes).toArray(),oidIndex:{}};return this.oidIndexer(s,e.oidField),r.loadIsDone=!0,r.loadedCount=s.features.length,s}async loadCompactJsonAttributes(e,r){if(!e.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const i=e.sourceDataJson.fields,s=e.fieldsToTrim??[],o={features:e.sourceDataJson.data.map(a=>{const l={};return a.forEach((c,f)=>{l[i[f]]=typeof c=="string"&&s.includes(i[f])?c.trim():c}),l}),oidIndex:{}};return this.oidIndexer(o,e.oidField),r.loadIsDone=!0,r.loadedCount=o.features.length,e.sourceDataJson=void 0,o}async loadSingleFeature(e){const r={query:{f:"json",objectIds:e.oid,returnGeometry:e.includeGeometry,outFields:e.attribs}};typeof e.maxOffset<"u"&&(r.query.maxAllowableOffset=e.maxOffset),typeof e.mapSR<"u"&&(r.query.outSR=e.mapSR),typeof e.geometryPrecision<"u"&&e.geometryPrecision>=0&&(r.query.geometryPrecision=e.geometryPrecision);const[i,s]=await qn(Dr(e.serviceUrl+"/query",r));if(!s)return console.error(`ArcGIS single feature load error: ${e.serviceUrl}`,i),Promise.reject(new Error(`ArcGIS single feature load error: ${e.serviceUrl}`));if(!s.data||!s.data.features)return console.error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`));const n=s.data.features;if(n.length>0){let o;const a=this.trimFeatureSetAttributes([n[0]],e.fieldsToTrim??[])[0];if(e.includeGeometry){a.geometry.spatialReference=s.data.spatialReference;const l=DE(a.geometry);o=this.$iApi.geo.geom.geomEsriToRamp(l)}else o=new Nl;return new Fn(o,"",a.attributes)}return Promise.reject(new Error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`))}trimFeatureSetAttributes(e,r){return r.forEach(i=>{e.forEach(s=>{typeof s.attributes[i]=="string"&&(s.attributes[i]=s.attributes[i].trim())})}),e}orderFields(e,r){const i=(n,o)=>n.findIndex(a=>a.name===o),s=(n,o)=>{const a=i(r,n.name),l=i(r,o.name);return a===-1&&l===-1?i(e,n.name)-i(e,o.name):a===-1?1:l===-1?-1:a-l};return e.slice().sort(s)}applyFieldMetadata(e,r=void 0){if(!r||!r.fieldInfo){e.fieldList="*";return}const i=r.fieldInfo.filter(s=>s.trim).map(s=>s.name);if(e.fields.forEach(s=>{i.includes(s.name)&&(s.trim=!0)}),r?.enforceOrder&&r?.fieldInfo&&r?.fieldInfo.length>0&&(e.fields=this.orderFields(e.fields,r.fieldInfo),e.fieldList=r.fieldInfo.map(s=>s.name).join(",")),r.exclusiveFields){r.fieldInfo.find(n=>n.name===e.oidField)||r.fieldInfo.push({name:e.oidField}),e.fieldList=r.fieldInfo.map(n=>n.name).join(",");const s=r.fieldInfo;e.fields=e.fields.filter(n=>s.find(o=>o.name===n.name))}else e.fieldList="*";r.fieldInfo.forEach(s=>{if(s.alias){const n=e.fields.find(o=>o.name===s.name);n&&(n.alias=s.alias)}})}fieldValidator(e,r){if(e.findIndex(i=>i.name===r)===-1){const i=e.find(s=>s.alias===r);return i?i.name:(console.warn(`Cannot find name field in layer field list: ${r}`),"")}else return r}async generateTabularAttributes(e,r){return r.attLoader.tabularAttributesCache||(r.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(e,r)),r.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(e,r){if(e.dataFormat===mi.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const i=await r.attLoader.getAttribs();if(!i.features||i.features.length===0)return{columns:[],rows:[],fields:[],oidField:""};const s=e.fields.filter(o=>Object.prototype.hasOwnProperty.call(i.features[0],ze(o).name)).map(o=>({data:ze(o).name,title:ze(o).alias||ze(o).name})),n=i.features.map(o=>{const a=cL({},o);return a.rvInteractive="",a.rvSymbol=e.getIcon(o[e.oidField]),a.rvUid=e.uid,a});return s.forEach(o=>{if(o.data.slice(-2)==="()"){const a=function(){return this[o.data]},l=o.data.slice(0,-2);n.forEach(c=>{c[l]=a})}}),{columns:s,rows:n,fields:e.fields,oidField:e.oidField}}fieldTypeToArcade(e){return mye.get(e)}}class G7{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(e){this._attribLoader=e}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(e){this._quickCache=e}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class wI{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class FA extends Pr{aac;loadPromise;details;tabularAttributesCache;constructor(e,r){super(e),this.aac=new wI,this.details=r}updateFieldList(e){this.details.attribs=e}updateFieldsToTrim(e){this.details.fieldsToTrim=e}getAttribs(){return this.loadPromise||(this.aac=new wI,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class z7 extends FA{constructor(e,r){super(e,r)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class gye extends FA{constructor(e,r){super(e,r)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class vye extends FA{constructor(e,r){super(e,r)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class q7{attribs;geoms;extents;isPoint;constructor(e){this.attribs={},this.geoms={},this.extents={},this.isPoint=e===Ke.POINT||e===Ke.MULTIPOINT}getScaleStore(e){return this.geoms[e]||(this.geoms[e]={}),this.geoms[e]}getGeomStore(e=void 0){if(this.isPoint)return this.geoms;if(typeof e>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(e)}getAttribs(e){return this.attribs[e]}setAttribs(e,r){this.attribs[e]=r}getGeom(e,r=void 0){return this.getGeomStore(r)[e]}setGeom(e,r,i=void 0){const s=this.getGeomStore(i);s[e]=r}getExtent(e){return this.extents[e]}setExtent(e,r){this.extents[e]=r}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class UA{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(e,r,i=!1){this.innerRenderer=e,this.symbolUnits=[],this.falseRenderer=i,this.type=Iv.Unknown}makeSearchParams(e){return e}searchRenderer(e){const r=this.makeSearchParams(e),i=this.symbolUnits.find(n=>n.match(r));if(i)return i;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${r}`);const s=new sb(this);return s.svgCode="",s}getGraphicIcon(e){return this.searchRenderer(e).svgCode}getGraphicSymbol(e){return this.searchRenderer(e).symbol}getFieldDelimiter(e,r){let i="'";if(!r||r.length===0)return i;const s=r.find(n=>n.name===e);return s&&s.type&&s.type!=="string"&&(i=""),i}cleanFieldName(e,r){if(!e)return e;let i=r.find(s=>s.name===e);if(i)return e;{const s=e.toLowerCase();return i=r.find(n=>n.name.toLowerCase()===s),i?i.name:e}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map(r=>r.definitionClause).join(" OR ")}))`}}class sb{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(e){this.parent=e,this.symbol=new zr}match(e){return!!e}}class bye extends UA{constructor(e,r){super(e,r),this.type=Iv.Simple;const i=new sb(this);i.label=e.label||"",i.symbol=e.symbol,i.definitionClause="",this.symbolUnits.push(i)}}class _ye extends UA{delim;keyFields;constructor(e,r,i=!1){super(e,r,i),this.type=Iv.Unique,this.delim=e.fieldDelimiter||", ";const s=o=>o.replace(/'/g,"''");this.keyFields=[e.field,e.field2,e.field3].filter(o=>o).map(o=>this.cleanFieldName(o,r));const n=this.keyFields.map(o=>this.getFieldDelimiter(o,r));if(e.uniqueValueInfos.forEach(o=>{const a=new xI(this,o.value);if(a.label=o.label||"",a.symbol=o.symbol,!this.falseRenderer){const l=a.matchValue.split(this.delim),c=this.keyFields.map((f,d)=>l[d]==="<Null>"?`${f} IS NULL`:`${f} = ${n[d]}${s(l[d])}${n[d]}`).join(" AND ");a.definitionClause=`(${c})`,a.matchValue=a.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(a)}),e.defaultSymbol){const o=new xI(this,"");o.isDefault=!0,o.label=e.defaultLabel||"",o.symbol=e.defaultSymbol,o.definitionClause=this.makeElseClause(),this.defaultUnit=o}}makeSearchParams(e){return this.keyFields.map(r=>{let i=e[r]===null?"":e[r];return typeof i!="string"&&(i=i.toString()),i}).join(this.delim)}}class xI extends sb{matchValue;constructor(e,r){super(e),typeof r=="number"?this.matchValue=r.toString():this.matchValue=r}match(e){return this.matchValue===e}}class wye extends UA{valField;constructor(e,r,i=!1){if(super(e,r,i),this.valField=this.cleanFieldName(e.field,r),e.classBreakInfos.forEach((s,n)=>{const o=n===0,a=new EI(this,s.minValue,s.maxValue,o);a.label=s.label||"",a.symbol=s.symbol,this.falseRenderer||(a.definitionClause=`(${this.valField} >${o?"=":""}  ${s.minValue} AND ${this.valField} <= ${s.maxValue})`),this.symbolUnits.push(a)}),e.defaultSymbol){const s=new EI(this,0,0,!1);s.isDefault=!0,s.label=e.defaultLabel||"",s.symbol=e.defaultSymbol,s.definitionClause=this.makeElseClause(),this.defaultUnit=s}}makeSearchParams(e){return parseFloat(e[this.valField])}}class EI extends sb{minValue;maxValue;firstBreak;constructor(e,r,i,s){super(e),this.minValue=r,this.maxValue=i,this.firstBreak=s}match(e){return this.minValue===this.maxValue?this.maxValue===e:this.firstBreak?this.minValue<=e&&this.maxValue>=e:this.minValue<e&&this.maxValue>=e}}var z0={exports:{}};/*!
* svg.js - A lightweight library for manipulating and animating SVG.
* @version 2.7.1
* https://svgdotjs.github.io/
*
* @copyright Wout Fierens <wout@mick-wout.com>
* @license MIT
*
* BUILT: Fri Nov 30 2018 10:01:55 GMT+0100 (GMT+01:00)
*/var xye=z0.exports,SI;function Eye(){return SI||(SI=1,function(t,e){(function(r,i){t.exports=r.document?i(r,r.document):function(s){return i(s,s.document)}})(typeof window<"u"?window:xye,function(r,i){var s=typeof this<"u"?this:r,n=s.SVG=function(h){if(n.supported)return h=new n.Doc(h),n.parser.draw||n.prepare(),h};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.com/svgjs",n.supported=function(){return!!i.createElementNS&&!!i.createElementNS(n.ns,"svg").createSVGRect}(),!n.supported)return!1;n.did=1e3,n.eid=function(h){return"Svgjs"+S(h)+n.did++},n.create=function(h){var m=i.createElementNS(this.ns,h);return m.setAttribute("id",this.eid(h)),m},n.extend=function(){var h,m,x,I;for(h=[].slice.call(arguments),m=h.pop(),I=h.length-1;I>=0;I--)if(h[I])for(x in m)h[I].prototype[x]=m[x];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(h){var m=typeof h.create=="function"?h.create:function(){this.constructor.call(this,n.create(h.create))};return h.inherit&&(m.prototype=new h.inherit),h.extend&&n.extend(m,h.extend),h.construct&&n.extend(h.parent||n.Container,h.construct),m},n.adopt=function(h){if(!h)return null;if(h.instance)return h.instance;var m;return h.nodeName=="svg"?m=h.parentNode instanceof r.SVGElement?new n.Nested:new n.Doc:h.nodeName=="linearGradient"?m=new n.Gradient("linear"):h.nodeName=="radialGradient"?m=new n.Gradient("radial"):n[S(h.nodeName)]?m=new n[S(h.nodeName)]:m=new n.Element(h),m.type=h.nodeName,m.node=h,h.instance=m,m instanceof n.Doc&&m.namespace().defs(),m.setData(JSON.parse(h.getAttribute("svgjs:data"))||{}),m},n.prepare=function(){var h=i.getElementsByTagName("body")[0],m=(h?new n.Doc(h):n.adopt(i.documentElement).nested()).size(2,0);n.parser={body:h||i.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:m.polyline().node,path:m.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},i.addEventListener("DOMContentLoaded",function(){n.parser.draw||n.prepare()},!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(h,m){var x,I=h.length,V=[];for(x=0;x<I;x++)V.push(m(h[x]));return V},filter:function(h,m){var x,I=h.length,V=[];for(x=0;x<I;x++)m(h[x])&&V.push(h[x]);return V},radians:function(h){return h%360*Math.PI/180},degrees:function(h){return h*180/Math.PI%360},filterSVGElements:function(h){return this.filter(h,function(m){return m instanceof r.SVGElement})}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(h){var m;this.r=0,this.g=0,this.b=0,h&&(typeof h=="string"?n.regex.isRgb.test(h)?(m=n.regex.rgb.exec(h.replace(n.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):n.regex.isHex.test(h)&&(m=n.regex.hex.exec(E(h)),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):typeof h=="object"&&(this.r=h.r,this.g=h.g,this.b=h.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+T(this.r)+T(this.g)+T(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(h){return this.destination=new n.Color(h),this},at:function(h){return this.destination?(h=h<0?0:h>1?1:h,new n.Color({r:~~(this.r+(this.destination.r-this.r)*h),g:~~(this.g+(this.destination.g-this.g)*h),b:~~(this.b+(this.destination.b-this.b)*h)})):this}}),n.Color.test=function(h){return h+="",n.regex.isHex.test(h)||n.regex.isRgb.test(h)},n.Color.isRgb=function(h){return h&&typeof h.r=="number"&&typeof h.g=="number"&&typeof h.b=="number"},n.Color.isColor=function(h){return n.Color.isRgb(h)||n.Color.test(h)},n.Array=function(h,m){h=(h||[]).valueOf(),h.length==0&&m&&(h=m.valueOf()),this.value=this.parse(h)},n.extend(n.Array,{morph:function(h){if(this.destination=this.parse(h),this.value.length!=this.destination.length){for(var m=this.value[this.value.length-1],x=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(x);for(;this.value.length<this.destination.length;)this.value.push(m)}return this},settle:function(){for(var h=0,m=this.value.length,x=[];h<m;h++)x.indexOf(this.value[h])==-1&&x.push(this.value[h]);return this.value=x},at:function(h){if(!this.destination)return this;for(var m=0,x=this.value.length,I=[];m<x;m++)I.push(this.value[m]+(this.destination[m]-this.value[m])*h);return new n.Array(I)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(h){return h=h.valueOf(),Array.isArray(h)?h:this.split(h)},split:function(h){return h.trim().split(n.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var h=new this.constructor;return h.value=p(this.value),h}}),n.PointArray=function(h,m){n.Array.call(this,h,m||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray,n.extend(n.PointArray,{toString:function(){for(var h=0,m=this.value.length,x=[];h<m;h++)x.push(this.value[h].join(","));return x.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(h){if(!this.destination)return this;for(var m=0,x=this.value.length,I=[];m<x;m++)I.push([this.value[m][0]+(this.destination[m][0]-this.value[m][0])*h,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*h]);return new n.PointArray(I)},parse:function(h){var m=[];if(h=h.valueOf(),Array.isArray(h)){if(Array.isArray(h[0]))return h.map(function(V){return V.slice()});if(h[0].x!=null)return h.map(function(V){return[V.x,V.y]})}else h=h.trim().split(n.regex.delimiter).map(parseFloat);h.length%2!==0&&h.pop();for(var x=0,I=h.length;x<I;x=x+2)m.push([h[x],h[x+1]]);return m},move:function(h,m){var x=this.bbox();if(h-=x.x,m-=x.y,!isNaN(h)&&!isNaN(m))for(var I=this.value.length-1;I>=0;I--)this.value[I]=[this.value[I][0]+h,this.value[I][1]+m];return this},size:function(h,m){var x,I=this.bbox();for(x=this.value.length-1;x>=0;x--)I.width&&(this.value[x][0]=(this.value[x][0]-I.x)*h/I.width+I.x),I.height&&(this.value[x][1]=(this.value[x][1]-I.y)*m/I.height+I.y);return this},bbox:function(){return n.parser.poly.setAttribute("points",this.toString()),n.parser.poly.getBBox()}});for(var o={M:function(h,m,x){return m.x=x.x=h[0],m.y=x.y=h[1],["M",m.x,m.y]},L:function(h,m){return m.x=h[0],m.y=h[1],["L",h[0],h[1]]},H:function(h,m){return m.x=h[0],["H",h[0]]},V:function(h,m){return m.y=h[0],["V",h[0]]},C:function(h,m){return m.x=h[4],m.y=h[5],["C",h[0],h[1],h[2],h[3],h[4],h[5]]},S:function(h,m){return m.x=h[2],m.y=h[3],["S",h[0],h[1],h[2],h[3]]},Q:function(h,m){return m.x=h[2],m.y=h[3],["Q",h[0],h[1],h[2],h[3]]},T:function(h,m){return m.x=h[0],m.y=h[1],["T",h[0],h[1]]},Z:function(h,m,x){return m.x=x.x,m.y=x.y,["Z"]},A:function(h,m){return m.x=h[5],m.y=h[6],["A",h[0],h[1],h[2],h[3],h[4],h[5],h[6]]}},a="mlhvqtcsaz".split(""),l=0,c=a.length;l<c;++l)o[a[l]]=function(h){return function(m,x,I){if(h=="H")m[0]=m[0]+x.x;else if(h=="V")m[0]=m[0]+x.y;else if(h=="A")m[5]=m[5]+x.x,m[6]=m[6]+x.y;else for(var V=0,Y=m.length;V<Y;++V)m[V]=m[V]+(V%2?x.y:x.x);return o[h](m,x,I)}}(a[l].toUpperCase());n.PathArray=function(h,m){n.Array.call(this,h,m||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return P(this.value)},move:function(h,m){var x=this.bbox();if(h-=x.x,m-=x.y,!isNaN(h)&&!isNaN(m))for(var I,V=this.value.length-1;V>=0;V--)I=this.value[V][0],I=="M"||I=="L"||I=="T"?(this.value[V][1]+=h,this.value[V][2]+=m):I=="H"?this.value[V][1]+=h:I=="V"?this.value[V][1]+=m:I=="C"||I=="S"||I=="Q"?(this.value[V][1]+=h,this.value[V][2]+=m,this.value[V][3]+=h,this.value[V][4]+=m,I=="C"&&(this.value[V][5]+=h,this.value[V][6]+=m)):I=="A"&&(this.value[V][6]+=h,this.value[V][7]+=m);return this},size:function(h,m){var x,I,V=this.bbox();for(x=this.value.length-1;x>=0;x--)I=this.value[x][0],I=="M"||I=="L"||I=="T"?(this.value[x][1]=(this.value[x][1]-V.x)*h/V.width+V.x,this.value[x][2]=(this.value[x][2]-V.y)*m/V.height+V.y):I=="H"?this.value[x][1]=(this.value[x][1]-V.x)*h/V.width+V.x:I=="V"?this.value[x][1]=(this.value[x][1]-V.y)*m/V.height+V.y:I=="C"||I=="S"||I=="Q"?(this.value[x][1]=(this.value[x][1]-V.x)*h/V.width+V.x,this.value[x][2]=(this.value[x][2]-V.y)*m/V.height+V.y,this.value[x][3]=(this.value[x][3]-V.x)*h/V.width+V.x,this.value[x][4]=(this.value[x][4]-V.y)*m/V.height+V.y,I=="C"&&(this.value[x][5]=(this.value[x][5]-V.x)*h/V.width+V.x,this.value[x][6]=(this.value[x][6]-V.y)*m/V.height+V.y)):I=="A"&&(this.value[x][1]=this.value[x][1]*h/V.width,this.value[x][2]=this.value[x][2]*m/V.height,this.value[x][6]=(this.value[x][6]-V.x)*h/V.width+V.x,this.value[x][7]=(this.value[x][7]-V.y)*m/V.height+V.y);return this},equalCommands:function(h){var m,x,I;for(h=new n.PathArray(h),I=this.value.length===h.value.length,m=0,x=this.value.length;I&&m<x;m++)I=this.value[m][0]===h.value[m][0];return I},morph:function(h){return h=new n.PathArray(h),this.equalCommands(h)?this.destination=h:this.destination=null,this},at:function(h){if(!this.destination)return this;var m=this.value,x=this.destination.value,I=[],V=new n.PathArray,Y,de,oe,Me;for(Y=0,de=m.length;Y<de;Y++){for(I[Y]=[m[Y][0]],oe=1,Me=m[Y].length;oe<Me;oe++)I[Y][oe]=m[Y][oe]+(x[Y][oe]-m[Y][oe])*h;I[Y][0]==="A"&&(I[Y][4]=+(I[Y][4]!=0),I[Y][5]=+(I[Y][5]!=0))}return V.value=I,V},parse:function(h){if(h instanceof n.PathArray)return h.valueOf();var m,I,x={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof h=="string"?h=h.replace(n.regex.numbersWithDots,d).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):h=h.reduce(function(Me,je){return[].concat.call(Me,je)},[]);var I=[],V=new n.Point,Y=new n.Point,de=0,oe=h.length;do n.regex.isPathLetter.test(h[de])?(m=h[de],++de):m=="M"?m="L":m=="m"&&(m="l"),I.push(o[m].call(null,h.slice(de,de=de+x[m.toUpperCase()]).map(parseFloat),V,Y));while(oe>de);return I},bbox:function(){return n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(h,m){this.value=0,this.unit=m||"",typeof h=="number"?this.value=isNaN(h)?0:isFinite(h)?h:h<0?-34e37:34e37:typeof h=="string"?(m=h.match(n.regex.numberAndUnit),m&&(this.value=parseFloat(m[1]),m[5]=="%"?this.value/=100:m[5]=="s"&&(this.value*=1e3),this.unit=m[5])):h instanceof n.Number&&(this.value=h.valueOf(),this.unit=h.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(h){return h=new n.Number(h),new n.Number(this+h,this.unit||h.unit)},minus:function(h){return h=new n.Number(h),new n.Number(this-h,this.unit||h.unit)},times:function(h){return h=new n.Number(h),new n.Number(this*h,this.unit||h.unit)},divide:function(h){return h=new n.Number(h),new n.Number(this/h,this.unit||h.unit)},to:function(h){var m=new n.Number(this);return typeof h=="string"&&(m.unit=h),m},morph:function(h){return this.destination=new n.Number(h),h.relative&&(this.destination.value+=this.value),this},at:function(h){return this.destination?new n.Number(this.destination).minus(this).times(h).plus(this):this}}}),n.Element=n.invent({create:function(h){this._stroke=n.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=h)&&(this.type=h.nodeName,this.node.instance=this,this._events=h._events||{},this._stroke=h.getAttribute("stroke")||this._stroke)},extend:{x:function(h){return this.attr("x",h)},y:function(h){return this.attr("y",h)},cx:function(h){return h==null?this.x()+this.width()/2:this.x(h-this.width()/2)},cy:function(h){return h==null?this.y()+this.height()/2:this.y(h-this.height()/2)},move:function(h,m){return this.x(h).y(m)},center:function(h,m){return this.cx(h).cy(m)},width:function(h){return this.attr("width",h)},height:function(h){return this.attr("height",h)},size:function(h,m){var x=w(this,h,m);return this.width(new n.Number(x.width)).height(new n.Number(x.height))},clone:function(h){this.writeDataToDom();var m=N(this.node.cloneNode(!0));return h?h.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(h){return this.after(h).remove(),h},addTo:function(h){return h.put(this)},putIn:function(h){return h.add(this)},id:function(h){return this.attr("id",h)},inside:function(h,m){var x=this.bbox();return h>x.x&&m>x.y&&h<x.x+x.width&&m<x.y+x.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var h=this.attr("class");return h==null?[]:h.trim().split(n.regex.delimiter)},hasClass:function(h){return this.classes().indexOf(h)!=-1},addClass:function(h){if(!this.hasClass(h)){var m=this.classes();m.push(h),this.attr("class",m.join(" "))}return this},removeClass:function(h){return this.hasClass(h)&&this.attr("class",this.classes().filter(function(m){return m!=h}).join(" ")),this},toggleClass:function(h){return this.hasClass(h)?this.removeClass(h):this.addClass(h)},reference:function(h){return n.get(this.attr(h))},parent:function(h){var m=this;if(!m.node.parentNode)return null;if(m=n.adopt(m.node.parentNode),!h)return m;for(;m&&m.node instanceof r.SVGElement;){if(typeof h=="string"?m.matches(h):m instanceof h)return m;if(!m.node.parentNode||m.node.parentNode.nodeName=="#document"||m.node.parentNode.nodeName=="#document-fragment")return null;m=n.adopt(m.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(h){var m=[],x=this;do{if(x=x.parent(h),!x||!x.node)break;m.push(x)}while(x.parent);return m},matches:function(h){return v(this.node,h)},native:function(){return this.node},svg:function(h){var m=i.createElement("svg");if(h&&this instanceof n.Parent){m.innerHTML="<svg>"+h.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var x=0,I=m.firstChild.childNodes.length;x<I;x++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(h=i.createElement("svg")),this.writeDataToDom(),h.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var h=this.each?this:this.lines();h.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(h){return this.dom=h,this},is:function(h){return y(this,h)}}}),n.easing={"-":function(h){return h},"<>":function(h){return-Math.cos(h*Math.PI)/2+.5},">":function(h){return Math.sin(h*Math.PI/2)},"<":function(h){return-Math.cos(h*Math.PI/2)+1}},n.morph=function(h){return function(m,x){return new n.MorphObj(m,x).at(h)}},n.Situation=n.invent({create:function(h){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(h.duration).valueOf(),this.delay=new n.Number(h.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=h.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(h){this._target=h,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(h,m,x){typeof h=="object"&&(m=h.ease,x=h.delay,h=h.duration);var I=new n.Situation({duration:h||1e3,delay:x||0,ease:n.easing[m||"-"]||m});return this.queue(I),this},delay:function(h){var m=new n.Situation({duration:h,delay:0,ease:n.easing["-"]});return this.queue(m)},target:function(h){return h&&h instanceof n.Element?(this._target=h,this):this._target},timeToAbsPos:function(h){return(h-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(h){return this.situation.duration/this._speed*h+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=r.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){r.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(h){return(typeof h=="function"||h instanceof n.Situation)&&this.situations.push(h),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var h,m,x,I=this.situation;if(I.init)return this;for(h in I.animations)for(x=this.target()[h](),Array.isArray(x)||(x=[x]),Array.isArray(I.animations[h])||(I.animations[h]=[I.animations[h]]),m=x.length;m--;)I.animations[h][m]instanceof n.Number&&(x[m]=new n.Number(x[m])),I.animations[h][m]=x[m].morph(I.animations[h][m]);for(h in I.attrs)I.attrs[h]=new n.MorphObj(this.target().attr(h),I.attrs[h]);for(h in I.styles)I.styles[h]=new n.MorphObj(this.target().style(h),I.styles[h]);return I.initialTransformation=this.target().matrixify(),I.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(h,m){var x=this.active;return this.active=!1,m&&this.clearQueue(),h&&this.situation&&(!x&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var h=this.situation;this.stop(),this.situation=h,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(h,m){var x=this.situation.duration/this._speed;return this.absPos=h,m||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*x,this.situation.finish=this.situation.start+x,this.step(!0)},speed:function(h){return h===0?this.pause():h?(this._speed=h,this.at(this.absPos,!0)):this._speed},loop:function(h,m){var x=this.last();return x.loops=h??!0,x.loop=0,m&&(x.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(h){var m=this.last();return typeof h>"u"?m.reversed=!m.reversed:m.reversed=h,this},progress:function(h){return h?this.situation.ease(this.pos):this.pos},after:function(h){var m=this.last(),x=function I(V){V.detail.situation==m&&(h.call(this,m),this.off("finished.fx",I))};return this.target().on("finished.fx",x),this._callStart()},during:function(h){var m=this.last(),x=function(I){I.detail.situation==m&&h.call(this,I.detail.pos,n.morph(I.detail.pos),I.detail.eased,m)};return this.target().off("during.fx",x).on("during.fx",x),this.after(function(){this.off("during.fx",x)}),this._callStart()},afterAll:function(h){var m=function x(I){h.call(this),this.off("allfinished.fx",x)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},duringAll:function(h){var m=function(x){h.call(this,x.detail.pos,n.morph(x.detail.pos),x.detail.eased,x.detail.situation)};return this.target().off("during.fx",m).on("during.fx",m),this.afterAll(function(){this.off("during.fx",m)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(h,m,x){return this.last()[x||"animations"][h]=m,this._callStart()},step:function(h){if(h||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var m,x,I;m=Math.max(this.absPos,0),x=Math.floor(m),this.situation.loops===!0||x<this.situation.loops?(this.pos=m-x,I=this.situation.loop,this.situation.loop=x):(this.absPos=this.situation.loops,this.pos=1,I=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-I)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var V=this.situation.ease(this.pos);for(var Y in this.situation.once)Y>this.lastPos&&Y<=V&&(this.situation.once[Y].call(this.target(),this.pos,V),delete this.situation.once[Y]);return this.active&&this.target().fire("during",{pos:this.pos,eased:V,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=V,this):this},eachAt:function(){var h,m,x,I=this,V=this.target(),Y=this.situation;for(h in Y.animations)x=[].concat(Y.animations[h]).map(function(oe){return typeof oe!="string"&&oe.at?oe.at(Y.ease(I.pos),I.pos):oe}),V[h].apply(V,x);for(h in Y.attrs)x=[h].concat(Y.attrs[h]).map(function(oe){return typeof oe!="string"&&oe.at?oe.at(Y.ease(I.pos),I.pos):oe}),V.attr.apply(V,x);for(h in Y.styles)x=[h].concat(Y.styles[h]).map(function(oe){return typeof oe!="string"&&oe.at?oe.at(Y.ease(I.pos),I.pos):oe}),V.style.apply(V,x);if(Y.transforms.length){for(x=Y.initialTransformation,h=0,m=Y.transforms.length;h<m;h++){var de=Y.transforms[h];if(de instanceof n.Matrix){de.relative?x=x.multiply(new n.Matrix().morph(de).at(Y.ease(this.pos))):x=x.morph(de).at(Y.ease(this.pos));continue}de.relative||de.undo(x.extract()),x=x.multiply(de.at(Y.ease(this.pos)))}V.matrix(x)}return this},once:function(h,m,x){var I=this.last();return x||(h=I.ease(h)),I.once[h]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:n.Element,construct:{animate:function(h,m,x){return(this.fx||(this.fx=new n.FX(this))).animate(h,m,x)},delay:function(h){return(this.fx||(this.fx=new n.FX(this))).delay(h)},stop:function(h,m){return this.fx&&this.fx.stop(h,m),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(h){if(this.fx){if(h==null)return this.fx.speed();this.fx.speed(h)}return this}}}),n.MorphObj=n.invent({create:function(h,m){if(n.Color.isColor(m))return new n.Color(h).morph(m);if(n.regex.delimiter.test(h))return n.regex.pathLetters.test(h)?new n.PathArray(h).morph(m):new n.Array(h).morph(m);if(n.regex.numberAndUnit.test(m))return new n.Number(h).morph(m);this.value=h,this.destination=m},extend:{at:function(h,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(h,m,x){if(typeof h=="object")for(var I in h)this.attr(I,h[I]);else this.add(h,m,"attrs");return this},style:function(h,m){if(typeof h=="object")for(var x in h)this.style(x,h[x]);else this.add(h,m,"styles");return this},x:function(h,m){if(this.target()instanceof n.G)return this.transform({x:h},m),this;var x=new n.Number(h);return x.relative=m,this.add("x",x)},y:function(h,m){if(this.target()instanceof n.G)return this.transform({y:h},m),this;var x=new n.Number(h);return x.relative=m,this.add("y",x)},cx:function(h){return this.add("cx",new n.Number(h))},cy:function(h){return this.add("cy",new n.Number(h))},move:function(h,m){return this.x(h).y(m)},center:function(h,m){return this.cx(h).cy(m)},size:function(h,m){if(this.target()instanceof n.Text)this.attr("font-size",h);else{var x;(!h||!m)&&(x=this.target().bbox()),h||(h=x.width/x.height*m),m||(m=x.height/x.width*h),this.add("width",new n.Number(h)).add("height",new n.Number(m))}return this},width:function(h){return this.add("width",new n.Number(h))},height:function(h){return this.add("height",new n.Number(h))},plot:function(h,m,x,I){return arguments.length==4?this.plot([h,m,x,I]):this.add("plot",new(this.target()).morphArray(h))},leading:function(h){return this.target().leading?this.add("leading",new n.Number(h)):this},viewbox:function(h,m,x,I){return this.target()instanceof n.Container&&this.add("viewbox",new n.ViewBox(h,m,x,I)),this},update:function(h){if(this.target()instanceof n.Stop){if(typeof h=="number"||h instanceof n.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});h.opacity!=null&&this.attr("stop-opacity",h.opacity),h.color!=null&&this.attr("stop-color",h.color),h.offset!=null&&this.attr("offset",h.offset)}return this}}),n.Box=n.invent({create:function(h,m,x,I){if(typeof h=="object"&&!(h instanceof n.Element))return n.Box.call(this,h.left!=null?h.left:h.x,h.top!=null?h.top:h.y,h.width,h.height);arguments.length==4&&(this.x=h,this.y=m,this.width=x,this.height=I),F(this)},extend:{merge:function(h){var m=new this.constructor;return m.x=Math.min(this.x,h.x),m.y=Math.min(this.y,h.y),m.width=Math.max(this.x+this.width,h.x+h.width)-m.x,m.height=Math.max(this.y+this.height,h.y+h.height)-m.y,F(m)},transform:function(h){var m=1/0,x=-1/0,I=1/0,V=-1/0,Y,de=[new n.Point(this.x,this.y),new n.Point(this.x2,this.y),new n.Point(this.x,this.y2),new n.Point(this.x2,this.y2)];return de.forEach(function(oe){oe=oe.transform(h),m=Math.min(m,oe.x),x=Math.max(x,oe.x),I=Math.min(I,oe.y),V=Math.max(V,oe.y)}),Y=new this.constructor,Y.x=m,Y.width=x-m,Y.y=I,Y.height=V-I,F(Y),Y}}}),n.BBox=n.invent({create:function(h){if(n.Box.apply(this,[].slice.call(arguments)),h instanceof n.Element){var m;try{if(i.documentElement.contains){if(!i.documentElement.contains(h.node))throw new Exception("Element not in the dom")}else{for(var x=h.node;x.parentNode;)x=x.parentNode;if(x!=i)throw new Exception("Element not in the dom")}m=h.node.getBBox()}catch{if(h instanceof n.Shape){var I=h.clone(n.parser.draw.instance).show();m=I.node.getBBox(),I.remove()}else m={x:h.node.clientLeft,y:h.node.clientTop,width:h.node.clientWidth,height:h.node.clientHeight}}n.Box.call(this,m)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.extend(n.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),n.RBox=n.invent({create:function(h){n.Box.apply(this,[].slice.call(arguments)),h instanceof n.Element&&n.Box.call(this,h.node.getBoundingClientRect())},inherit:n.Box,parent:n.Element,extend:{addOffset:function(){return this.x+=r.pageXOffset,this.y+=r.pageYOffset,this}},construct:{rbox:function(h){return h?new n.RBox(this).transform(h.screenCTM().inverse()):new n.RBox(this).addOffset()}}}),n.RBox.prototype.constructor=n.RBox,n.Matrix=n.invent({create:function(h){var m,x=M([1,0,0,1,0,0]);for(h=h instanceof n.Element?h.matrixify():typeof h=="string"?M(h.split(n.regex.delimiter).map(parseFloat)):arguments.length==6?M([].slice.call(arguments)):Array.isArray(h)?M(h):typeof h=="object"?h:x,m=B.length-1;m>=0;--m)this[B[m]]=h[B[m]]!=null?h[B[m]]:x[B[m]]},extend:{extract:function(){var h=_(this,0,1),m=_(this,1,0),x=180/Math.PI*Math.atan2(h.y,h.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(x*Math.PI/180)+this.f*Math.sin(x*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(x*Math.PI/180)+this.e*Math.sin(-x*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-x,skewY:180/Math.PI*Math.atan2(m.y,m.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:x,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(h){return this.destination=new n.Matrix(h),this},at:function(h){if(!this.destination)return this;var m=new n.Matrix({a:this.a+(this.destination.a-this.a)*h,b:this.b+(this.destination.b-this.b)*h,c:this.c+(this.destination.c-this.c)*h,d:this.d+(this.destination.d-this.d)*h,e:this.e+(this.destination.e-this.e)*h,f:this.f+(this.destination.f-this.f)*h});return m},multiply:function(h){return new n.Matrix(this.native().multiply($(h).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(h,m){return new n.Matrix(this.native().translate(h||0,m||0))},scale:function(h,m,x,I){return arguments.length==1?m=h:arguments.length==3&&(I=x,x=m,m=h),this.around(x,I,new n.Matrix(h,0,0,m,0,0))},rotate:function(h,m,x){return h=n.utils.radians(h),this.around(m,x,new n.Matrix(Math.cos(h),Math.sin(h),-Math.sin(h),Math.cos(h),0,0))},flip:function(h,m){return h=="x"?this.scale(-1,1,m,0):h=="y"?this.scale(1,-1,0,m):this.scale(-1,-1,h,m??h)},skew:function(h,m,x,I){return arguments.length==1?m=h:arguments.length==3&&(I=x,x=m,m=h),h=n.utils.radians(h),m=n.utils.radians(m),this.around(x,I,new n.Matrix(1,Math.tan(m),Math.tan(h),1,0,0))},skewX:function(h,m,x){return this.skew(h,0,m,x)},skewY:function(h,m,x){return this.skew(0,h,m,x)},around:function(h,m,x){return this.multiply(new n.Matrix(1,0,0,1,h||0,m||0)).multiply(x).multiply(new n.Matrix(1,0,0,1,-h||0,-m||0))},native:function(){for(var h=n.parser.native.createSVGMatrix(),m=B.length-1;m>=0;m--)h[B[m]]=this[B[m]];return h},toString:function(){return"matrix("+U(this.a)+","+U(this.b)+","+U(this.c)+","+U(this.d)+","+U(this.e)+","+U(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var h=this.rect(1,1),m=h.node.getScreenCTM();return h.remove(),new n.Matrix(m)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(h,m){var x,I={x:0,y:0};x=Array.isArray(h)?{x:h[0],y:h[1]}:typeof h=="object"?{x:h.x,y:h.y}:h!=null?{x:h,y:m??h}:I,this.x=x.x,this.y=x.y},extend:{clone:function(){return new n.Point(this)},morph:function(h,m){return this.destination=new n.Point(h,m),this},at:function(h){if(!this.destination)return this;var m=new n.Point({x:this.x+(this.destination.x-this.x)*h,y:this.y+(this.destination.y-this.y)*h});return m},native:function(){var h=n.parser.native.createSVGPoint();return h.x=this.x,h.y=this.y,h},transform:function(h){return new n.Point(this.native().matrixTransform(h.native()))}}}),n.extend(n.Element,{point:function(h,m){return new n.Point(h,m).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(h,m,x){if(h==null){for(h={},m=this.node.attributes,x=m.length-1;x>=0;x--)h[m[x].nodeName]=n.regex.isNumber.test(m[x].nodeValue)?parseFloat(m[x].nodeValue):m[x].nodeValue;return h}else if(typeof h=="object")for(m in h)this.attr(m,h[m]);else if(m===null)this.node.removeAttribute(h);else{if(m==null)return m=this.node.getAttribute(h),m==null?n.defaults.attrs[h]:n.regex.isNumber.test(m)?parseFloat(m):m;h=="stroke-width"?this.attr("stroke",parseFloat(m)>0?this._stroke:null):h=="stroke"&&(this._stroke=m),(h=="fill"||h=="stroke")&&(n.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof n.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),typeof m=="number"?m=new n.Number(m):n.Color.isColor(m)?m=new n.Color(m):Array.isArray(m)&&(m=new n.Array(m)),h=="leading"?this.leading&&this.leading(m):typeof x=="string"?this.node.setAttributeNS(x,h,m.toString()):this.node.setAttribute(h,m.toString()),this.rebuild&&(h=="font-size"||h=="x")&&this.rebuild(h,m)}return this}}),n.extend(n.Element,{transform:function(h,m){var x=this,I,V;if(typeof h!="object")return I=new n.Matrix(x).extract(),typeof h=="string"?I[h]:I;if(I=new n.Matrix(x),m=!!m||!!h.relative,h.a!=null)I=m?I.multiply(new n.Matrix(h)):new n.Matrix(h);else if(h.rotation!=null)C(h,x),I=m?I.rotate(h.rotation,h.cx,h.cy):I.rotate(h.rotation-I.extract().rotation,h.cx,h.cy);else if(h.scale!=null||h.scaleX!=null||h.scaleY!=null){if(C(h,x),h.scaleX=h.scale!=null?h.scale:h.scaleX!=null?h.scaleX:1,h.scaleY=h.scale!=null?h.scale:h.scaleY!=null?h.scaleY:1,!m){var Y=I.extract();h.scaleX=h.scaleX*1/Y.scaleX,h.scaleY=h.scaleY*1/Y.scaleY}I=I.scale(h.scaleX,h.scaleY,h.cx,h.cy)}else if(h.skew!=null||h.skewX!=null||h.skewY!=null){if(C(h,x),h.skewX=h.skew!=null?h.skew:h.skewX!=null?h.skewX:0,h.skewY=h.skew!=null?h.skew:h.skewY!=null?h.skewY:0,!m){var Y=I.extract();I=I.multiply(new n.Matrix().skew(Y.skewX,Y.skewY,h.cx,h.cy).inverse())}I=I.skew(h.skewX,h.skewY,h.cx,h.cy)}else h.flip?(h.flip=="x"||h.flip=="y"?h.offset=h.offset==null?x.bbox()["c"+h.flip]:h.offset:h.offset==null?(V=x.bbox(),h.flip=V.cx,h.offset=V.cy):h.flip=h.offset,I=new n.Matrix().flip(h.flip,h.offset)):(h.x!=null||h.y!=null)&&(m?I=I.translate(h.x,h.y):(h.x!=null&&(I.e=h.x),h.y!=null&&(I.f=h.y)));return this.attr("transform",I)}}),n.extend(n.FX,{transform:function(h,m){var x=this.target(),I,V;return typeof h!="object"?(I=new n.Matrix(x).extract(),typeof h=="string"?I[h]:I):(m=!!m||!!h.relative,h.a!=null?I=new n.Matrix(h):h.rotation!=null?(C(h,x),I=new n.Rotate(h.rotation,h.cx,h.cy)):h.scale!=null||h.scaleX!=null||h.scaleY!=null?(C(h,x),h.scaleX=h.scale!=null?h.scale:h.scaleX!=null?h.scaleX:1,h.scaleY=h.scale!=null?h.scale:h.scaleY!=null?h.scaleY:1,I=new n.Scale(h.scaleX,h.scaleY,h.cx,h.cy)):h.skewX!=null||h.skewY!=null?(C(h,x),h.skewX=h.skewX!=null?h.skewX:0,h.skewY=h.skewY!=null?h.skewY:0,I=new n.Skew(h.skewX,h.skewY,h.cx,h.cy)):h.flip?(h.flip=="x"||h.flip=="y"?h.offset=h.offset==null?x.bbox()["c"+h.flip]:h.offset:h.offset==null?(V=x.bbox(),h.flip=V.cx,h.offset=V.cy):h.flip=h.offset,I=new n.Matrix().flip(h.flip,h.offset)):(h.x!=null||h.y!=null)&&(I=new n.Translate(h.x,h.y)),I?(I.relative=m,this.last().transforms.push(I),this._callStart()):this)}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var h=(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map(function(m){var x=m.trim().split("(");return[x[0],x[1].split(n.regex.delimiter).map(function(I){return parseFloat(I)})]}).reduce(function(m,x){return x[0]=="matrix"?m.multiply(M(x[1])):m[x[0]].apply(m,x[1])},new n.Matrix);return h},toParent:function(h){if(this==h)return this;var m=this.screenCTM(),x=h.screenCTM().inverse();return this.addTo(h).untransform().transform(x.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(h,m){if(arguments.length>1&&typeof m!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(h))for(var x=0,I=this.arguments.length;x<I;++x)this[this.arguments[x]]=h[x];else if(typeof h=="object")for(var x=0,I=this.arguments.length;x<I;++x)this[this.arguments[x]]=h[this.arguments[x]];this.inversed=!1,m===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(h){for(var m=[],x=0,I=this.arguments.length;x<I;++x)m.push(this[this.arguments[x]]);var V=this._undo||new n.Matrix;return V=new n.Matrix().morph(n.Matrix.prototype[this.method].apply(V,m)).at(h),this.inversed?V.inverse():V},undo:function(h){for(var m=0,x=this.arguments.length;m<x;++m)h[this.arguments[m]]=typeof this[this.arguments[m]]>"u"?0:h[this.arguments[m]];return h.cx=this.cx,h.cy=this.cy,this._undo=new n[S(this.method)](h,!0).at(1),this}}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.Rotate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(h){var m=new n.Matrix().rotate(new n.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(h),this.cx,this.cy);return this.inversed?m.inverse():m},undo:function(h){return this._undo=h,this}}}),n.Scale=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),n.Skew=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),n.extend(n.Element,{style:function(h,m){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof h=="object")for(m in h)this.style(m,h[m]);else if(n.regex.isCss.test(h))for(h=h.split(/\s*;\s*/).filter(function(x){return!!x}).map(function(x){return x.split(/\s*:\s*/)});m=h.pop();)this.style(m[0],m[1]);else return this.node.style[b(h)];else this.node.style[b(h)]=m===null||n.regex.isBlank.test(m)?"":m;return this}}),n.Parent=n.invent({create:function(h){this.constructor.call(this,h)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),function(h){return n.adopt(h)})},add:function(h,m){return m==null?this.node.appendChild(h.node):h.node!=this.node.childNodes[m]&&this.node.insertBefore(h.node,this.node.childNodes[m]),this},put:function(h,m){return this.add(h,m),h},has:function(h){return this.index(h)>=0},index:function(h){return[].slice.call(this.node.childNodes).indexOf(h.node)},get:function(h){return n.adopt(this.node.childNodes[h])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(h,m){var x,I,V=this.children();for(x=0,I=V.length;x<I;x++)V[x]instanceof n.Element&&h.apply(V[x],[x,V]),m&&V[x]instanceof n.Container&&V[x].each(h,m);return this},removeElement:function(h){return this.node.removeChild(h.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(h,m){return m===0||this instanceof n.Defs||this.node==n.parser.draw?this:(h=h||(this instanceof n.Doc?this:this.parent(n.Parent)),m=m||1/0,this.each(function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(h,m-1):this.toParent(h)}),this.node.firstChild||this.remove(),this)},flatten:function(h,m){return this.ungroup(h,m)}}),n.Container=n.invent({create:function(h){this.constructor.call(this,h)},inherit:n.Parent}),n.ViewBox=n.invent({create:function(h){var m=[0,0,0,0],x,I,V,Y,de,oe,Me,je=1,qe=1,lt=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(h instanceof n.Element){for(oe=h,Me=h,de=(h.attr("viewBox")||"").match(lt),h.bbox,V=new n.Number(h.width()),Y=new n.Number(h.height());V.unit=="%";)je*=V.value,V=new n.Number(oe instanceof n.Doc?oe.parent().offsetWidth:oe.parent().width()),oe=oe.parent();for(;Y.unit=="%";)qe*=Y.value,Y=new n.Number(Me instanceof n.Doc?Me.parent().offsetHeight:Me.parent().height()),Me=Me.parent();this.x=0,this.y=0,this.width=V*je,this.height=Y*qe,this.zoom=1,de&&(x=parseFloat(de[0]),I=parseFloat(de[1]),V=parseFloat(de[2]),Y=parseFloat(de[3]),this.zoom=this.width/this.height>V/Y?this.height/Y:this.width/V,this.x=x,this.y=I,this.width=V,this.height=Y)}else h=typeof h=="string"?h.match(lt).map(function(zt){return parseFloat(zt)}):Array.isArray(h)?h:typeof h=="object"?[h.x,h.y,h.width,h.height]:arguments.length==4?[].slice.call(arguments):m,this.x=h[0],this.y=h[1],this.width=h[2],this.height=h[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(h,m,x,I){return this.destination=new n.ViewBox(h,m,x,I),this},at:function(h){return this.destination?new n.ViewBox([this.x+(this.destination.x-this.x)*h,this.y+(this.destination.y-this.y)*h,this.width+(this.destination.width-this.width)*h,this.height+(this.destination.height-this.height)*h]):this}},parent:n.Container,construct:{viewbox:function(h,m,x,I){return arguments.length==0?new n.ViewBox(this):this.attr("viewBox",new n.ViewBox(h,m,x,I))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(h){n.Element.prototype[h]=function(m){return m==null?n.off(this,h):n.on(this,h,m),this}}),n.listenerId=0,n.on=function(h,m,x,I,V){var Y=x.bind(I||h),de=h instanceof n.Element?h.node:h;de.instance=de.instance||{_events:{}};var oe=de.instance._events;x._svgjsListenerId||(x._svgjsListenerId=++n.listenerId),m.split(n.regex.delimiter).forEach(function(Me){var je=Me.split(".")[0],qe=Me.split(".")[1]||"*";oe[je]=oe[je]||{},oe[je][qe]=oe[je][qe]||{},oe[je][qe][x._svgjsListenerId]=Y,de.addEventListener(je,Y,V||!1)})},n.off=function(h,m,x,I){var V=h instanceof n.Element?h.node:h;if(V.instance&&!(typeof x=="function"&&(x=x._svgjsListenerId,!x))){var Y=V.instance._events;(m||"").split(n.regex.delimiter).forEach(function(de){var oe=de&&de.split(".")[0],Me=de&&de.split(".")[1],je,qe;if(x)Y[oe]&&Y[oe][Me||"*"]&&(V.removeEventListener(oe,Y[oe][Me||"*"][x],I||!1),delete Y[oe][Me||"*"][x]);else if(oe&&Me){if(Y[oe]&&Y[oe][Me]){for(qe in Y[oe][Me])n.off(V,[oe,Me].join("."),qe);delete Y[oe][Me]}}else if(Me)for(de in Y)for(je in Y[de])Me===je&&n.off(V,[de,Me].join("."));else if(oe){if(Y[oe]){for(je in Y[oe])n.off(V,[oe,je].join("."));delete Y[oe]}}else{for(de in Y)n.off(V,de);V.instance._events={}}})}},n.extend(n.Element,{on:function(h,m,x,I){return n.on(this,h,m,x,I),this},off:function(h,m){return n.off(this.node,h,m),this},fire:function(h,m){return h instanceof r.Event?this.node.dispatchEvent(h):this.node.dispatchEvent(h=new n.CustomEvent(h,{detail:m,cancelable:!0})),this._event=h,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(h){return h==null?this.transform("x"):this.transform({x:h-this.x()},!0)},y:function(h){return h==null?this.transform("y"):this.transform({y:h-this.y()},!0)},cx:function(h){return h==null?this.gbox().cx:this.x(h-this.gbox().width/2)},cy:function(h){return h==null?this.gbox().cy:this.y(h-this.gbox().height/2)},gbox:function(){var h=this.bbox(),m=this.transform();return h.x+=m.x,h.x2+=m.x,h.cx+=m.x,h.y+=m.y,h.y2+=m.y,h.cy+=m.y,h}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(h){h&&(h=typeof h=="string"?i.getElementById(h):h,h.nodeName=="svg"?this.constructor.call(this,h):(this.constructor.call(this,n.create("svg")),h.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){if(!this._defs){var h;(h=this.node.getElementsByTagName("defs")[0])?this._defs=n.adopt(h):this._defs=new n.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var h=this.node.getScreenCTM();return h&&this.style("left",-h.e%1+"px").style("top",-h.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw.parentNode||this.node.appendChild(n.parser.draw),this},clone:function(h){this.writeDataToDom();var m=this.node,x=N(m.cloneNode(!0));return h?(h.node||h).appendChild(x.node):m.parentNode.insertBefore(x.node,m.nextSibling),x}}}),n.extend(n.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var h=this.position()+1,m=this.parent();return m.removeElement(this).add(this,h),m instanceof n.Doc&&m.node.appendChild(m.defs().node),this},backward:function(){var h=this.position();return h>0&&this.parent().removeElement(this).add(this,h-1),this},front:function(){var h=this.parent();return h.node.appendChild(this.node),h instanceof n.Doc&&h.node.appendChild(h.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(h){h.remove();var m=this.position();return this.parent().add(h,m),this},after:function(h){h.remove();var m=this.position();return this.parent().add(h,m+1),this}}),n.Mask=n.invent({create:function(){this.constructor.call(this,n.create("mask")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var h=this.targets.length-1;h>=0;h--)this.targets[h]&&this.targets[h].unmask();return this.targets=[],n.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new n.Mask)}}}),n.extend(n.Element,{maskWith:function(h){return this.masker=h instanceof n.Mask?h:this.parent().mask().add(h),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),n.ClipPath=n.invent({create:function(){this.constructor.call(this,n.create("clipPath")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var h=this.targets.length-1;h>=0;h--)this.targets[h]&&this.targets[h].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new n.ClipPath)}}}),n.extend(n.Element,{clipWith:function(h){return this.clipper=h instanceof n.ClipPath?h:this.parent().clip().add(h),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),n.Gradient=n.invent({create:function(h){this.constructor.call(this,n.create(h+"Gradient")),this.type=h},inherit:n.Container,extend:{at:function(h,m,x){return this.put(new n.Stop).update(h,m,x)},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(h,m,x){return h=="transform"&&(h="gradientTransform"),n.Container.prototype.attr.call(this,h,m,x)}},construct:{gradient:function(h,m){return this.defs().gradient(h,m)}}}),n.extend(n.Gradient,n.FX,{from:function(h,m){return(this._target||this).type=="radial"?this.attr({fx:new n.Number(h),fy:new n.Number(m)}):this.attr({x1:new n.Number(h),y1:new n.Number(m)})},to:function(h,m){return(this._target||this).type=="radial"?this.attr({cx:new n.Number(h),cy:new n.Number(m)}):this.attr({x2:new n.Number(h),y2:new n.Number(m)})}}),n.extend(n.Defs,{gradient:function(h,m){return this.put(new n.Gradient(h)).update(m)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(h){return(typeof h=="number"||h instanceof n.Number)&&(h={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),h.opacity!=null&&this.attr("stop-opacity",h.opacity),h.color!=null&&this.attr("stop-color",h.color),h.offset!=null&&this.attr("offset",new n.Number(h.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},toString:function(){return this.fill()},attr:function(h,m,x){return h=="transform"&&(h="patternTransform"),n.Container.prototype.attr.call(this,h,m,x)}},construct:{pattern:function(h,m,x){return this.defs().pattern(h,m,x)}}}),n.extend(n.Defs,{pattern:function(h,m,x){return this.put(new n.Pattern).update(x).attr({x:0,y:0,width:h,height:m,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(h){this.constructor.call(this,h)},inherit:n.Element}),n.Bare=n.invent({create:function(h,m){if(this.constructor.call(this,n.create(h)),m)for(var x in m.prototype)typeof m.prototype[x]=="function"&&(this[x]=m.prototype[x])},inherit:n.Element,extend:{words:function(h){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(i.createTextNode(h)),this}}}),n.extend(n.Parent,{element:function(h,m){return this.put(new n.Bare(h,m))}}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(h,m){return this.attr("href",(m||"")+"#"+h,n.xlink)}},construct:{use:function(h,m){return this.put(new n.Use).element(h,m)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(h,m){return this.put(new n.Rect).size(h,m)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(h){return this.put(new n.Circle).rx(new n.Number(h).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(h){return this.attr("r",h)},ry:function(h){return this.rx(h)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(h,m){return this.put(new n.Ellipse).size(h,m).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(h){return this.attr("rx",h)},ry:function(h){return this.attr("ry",h)}}),n.extend(n.Circle,n.Ellipse,{x:function(h){return h==null?this.cx()-this.rx():this.cx(h+this.rx())},y:function(h){return h==null?this.cy()-this.ry():this.cy(h+this.ry())},cx:function(h){return h==null?this.attr("cx"):this.attr("cx",h)},cy:function(h){return h==null?this.attr("cy"):this.attr("cy",h)},width:function(h){return h==null?this.rx()*2:this.rx(new n.Number(h).divide(2))},height:function(h){return h==null?this.ry()*2:this.ry(new n.Number(h).divide(2))},size:function(h,m){var x=w(this,h,m);return this.rx(new n.Number(x.width).divide(2)).ry(new n.Number(x.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(h,m,x,I){return h==null?this.array():(typeof m<"u"?h={x1:h,y1:m,x2:x,y2:I}:h=new n.PointArray(h).toLine(),this.attr(h))},move:function(h,m){return this.attr(this.array().move(h,m).toLine())},size:function(h,m){var x=w(this,h,m);return this.attr(this.array().size(x.width,x.height).toLine())}},construct:{line:function(h,m,x,I){return n.Line.prototype.plot.apply(this.put(new n.Line),h!=null?[h,m,x,I]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(h){return this.put(new n.Polyline).plot(h||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(h){return this.put(new n.Polygon).plot(h||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(h){return h==null?this.array():this.clear().attr("points",typeof h=="string"?h:this._array=new n.PointArray(h))},clear:function(){return delete this._array,this},move:function(h,m){return this.attr("points",this.array().move(h,m))},size:function(h,m){var x=w(this,h,m);return this.attr("points",this.array().size(x.width,x.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(h){return h==null?this.bbox().x:this.move(h,this.bbox().y)},y:function(h){return h==null?this.bbox().y:this.move(this.bbox().x,h)},width:function(h){var m=this.bbox();return h==null?m.width:this.size(h,m.height)},height:function(h){var m=this.bbox();return h==null?m.height:this.size(m.width,h)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(h){return h==null?this.array():this.clear().attr("d",typeof h=="string"?h:this._array=new n.PathArray(h))},clear:function(){return delete this._array,this},move:function(h,m){return this.attr("d",this.array().move(h,m))},x:function(h){return h==null?this.bbox().x:this.move(h,this.bbox().y)},y:function(h){return h==null?this.bbox().y:this.move(this.bbox().x,h)},size:function(h,m){var x=w(this,h,m);return this.attr("d",this.array().size(x.width,x.height))},width:function(h){return h==null?this.bbox().width:this.size(h,this.bbox().height)},height:function(h){return h==null?this.bbox().height:this.size(this.bbox().width,h)}},construct:{path:function(h){return this.put(new n.Path).plot(h||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(h){if(!h)return this;var m=this,x=new r.Image;return n.on(x,"load",function(){n.off(x);var I=m.parent(n.Pattern);I!==null&&(m.width()==0&&m.height()==0&&m.size(x.width,x.height),I&&I.width()==0&&I.height()==0&&I.size(m.width(),m.height()),typeof m._loaded=="function"&&m._loaded.call(m,{width:x.width,height:x.height,ratio:x.width/x.height,url:h}))}),n.on(x,"error",function(I){n.off(x),typeof m._error=="function"&&m._error.call(m,I)}),this.attr("href",x.src=this.src=h,n.xlink)},loaded:function(h){return this._loaded=h,this},error:function(h){return this._error=h,this}},construct:{image:function(h,m,x){return this.put(new n.Image).load(h).size(m||0,x||m||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(h){return h==null?this.attr("x"):this.attr("x",h)},y:function(h){var m=this.attr("y"),x=typeof m=="number"?m-this.bbox().y:0;return h==null?typeof m=="number"?m-x:m:this.attr("y",typeof h.valueOf()=="number"?h+x:h)},cx:function(h){return h==null?this.bbox().cx:this.x(h-this.bbox().width/2)},cy:function(h){return h==null?this.bbox().cy:this.y(h-this.bbox().height/2)},text:function(h){if(typeof h>"u"){for(var h="",m=this.node.childNodes,x=0,I=m.length;x<I;++x)x!=0&&m[x].nodeType!=3&&n.adopt(m[x]).dom.newLined==!0&&(h+=`
`),h+=m[x].textContent;return h}if(this.clear().build(!0),typeof h=="function")h.call(this,this);else{h=h.split(`
`);for(var x=0,V=h.length;x<V;x++)this.tspan(h[x]).newLine()}return this.build(!1).rebuild()},size:function(h){return this.attr("font-size",h).rebuild()},leading:function(h){return h==null?this.dom.leading:(this.dom.leading=new n.Number(h),this.rebuild())},lines:function(){var h=(this.textPath&&this.textPath()||this).node,m=n.utils.map(n.utils.filterSVGElements(h.childNodes),function(x){return n.adopt(x)});return new n.Set(m)},rebuild:function(h){if(typeof h=="boolean"&&(this._rebuild=h),this._rebuild){var m=this,x=0,I=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),this.text()==`
`?x+=I:(this.attr("dy",I+x),x=0))}),this.fire("rebuild")}return this},build:function(h){return this._build=!!h,this},setData:function(h){return this.dom=h,this.dom.leading=new n.Number(h.leading||1.3),this}},construct:{text:function(h){return this.put(new n.Text).text(h)},plain:function(h){return this.put(new n.Text).plain(h)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(h){return h==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof h=="function"?h.call(this,this):this.plain(h),this)},dx:function(h){return this.attr("dx",h)},dy:function(h){return this.attr("dy",h)},newLine:function(){var h=this.parent(n.Text);return this.dom.newLined=!0,this.dy(h.dom.leading*h.attr("font-size")).attr("x",h.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(h){return this._build===!1&&this.clear(),this.node.appendChild(i.createTextNode(h)),this},tspan:function(h){var m=(this.textPath&&this.textPath()||this).node,x=new n.Tspan;return this._build===!1&&this.clear(),m.appendChild(x.node),x.text(h)},clear:function(){for(var h=(this.textPath&&this.textPath()||this).node;h.hasChildNodes();)h.removeChild(h.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,path:function(h){for(var m=new n.TextPath,x=this.doc().defs().path(h);this.node.hasChildNodes();)m.node.appendChild(this.node.firstChild);return this.node.appendChild(m.node),m.attr("href","#"+x,n.xlink),this},array:function(){var h=this.track();return h?h.array():null},plot:function(h){var m=this.track(),x=null;return m&&(x=m.plot(h)),h==null?x:this},track:function(){var h=this.textPath();if(h)return h.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}}),n.A=n.invent({create:"a",inherit:n.Container,extend:{to:function(h){return this.attr("href",h,n.xlink)},show:function(h){return this.attr("show",h,n.xlink)},target:function(h){return this.attr("target",h)}},construct:{link:function(h){return this.put(new n.A).to(h)}}}),n.extend(n.Element,{linkTo:function(h){var m=new n.A;return typeof h=="function"?h.call(m,m):m.to(h),this.parent().put(m).put(this)}}),n.Marker=n.invent({create:"marker",inherit:n.Container,extend:{width:function(h){return this.attr("markerWidth",h)},height:function(h){return this.attr("markerHeight",h)},ref:function(h,m){return this.attr("refX",h).attr("refY",m)},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(h,m,x){return this.defs().marker(h,m,x)}}}),n.extend(n.Defs,{marker:function(h,m,x){return this.put(new n.Marker).size(h,m).ref(h/2,m/2).viewbox(0,0,h,m).attr("orient","auto").update(x)}}),n.extend(n.Line,n.Polyline,n.Polygon,n.Path,{marker:function(h,m,x,I){var V=["marker"];return h!="all"&&V.push(h),V=V.join("-"),h=arguments[1]instanceof n.Marker?arguments[1]:this.doc().marker(m,x,I),this.attr(V,h)}});var f={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(h,m){return m=="color"?h:h+"-"+m}};["fill","stroke"].forEach(function(h){var m,x={};x[h]=function(I){if(typeof I>"u")return this;if(typeof I=="string"||n.Color.isRgb(I)||I&&typeof I.fill=="function")this.attr(h,I);else for(m=f[h].length-1;m>=0;m--)I[f[h][m]]!=null&&this.attr(f.prefix(h,f[h][m]),I[f[h][m]]);return this},n.extend(n.Element,n.FX,x)}),n.extend(n.Element,n.FX,{rotate:function(h,m,x){return this.transform({rotation:h,cx:m,cy:x})},skew:function(h,m,x,I){return arguments.length==1||arguments.length==3?this.transform({skew:h,cx:m,cy:x}):this.transform({skewX:h,skewY:m,cx:x,cy:I})},scale:function(h,m,x,I){return arguments.length==1||arguments.length==3?this.transform({scale:h,cx:m,cy:x}):this.transform({scaleX:h,scaleY:m,cx:x,cy:I})},translate:function(h,m){return this.transform({x:h,y:m})},flip:function(h,m){return m=typeof h=="number"?h:m,this.transform({flip:h||"both",offset:m})},matrix:function(h){return this.attr("transform",new n.Matrix(arguments.length==6?[].slice.call(arguments):h))},opacity:function(h){return this.attr("opacity",h)},dx:function(h){return this.x(new n.Number(h).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(h){return this.y(new n.Number(h).plus(this instanceof n.FX?0:this.y()),!0)},dmove:function(h,m){return this.dx(h).dy(m)}}),n.extend(n.Rect,n.Ellipse,n.Circle,n.Gradient,n.FX,{radius:function(h,m){var x=(this._target||this).type;return x=="radial"||x=="circle"?this.attr("r",new n.Number(h)):this.rx(h).ry(m??h)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(h){return this.node.getPointAtLength(h)}}),n.extend(n.Parent,n.Text,n.Tspan,n.FX,{font:function(h,m){if(typeof h=="object")for(m in h)this.font(m,h[m]);return h=="leading"?this.leading(m):h=="anchor"?this.attr("text-anchor",m):h=="size"||h=="family"||h=="weight"||h=="stretch"||h=="variant"||h=="style"?this.attr("font-"+h,m):this.attr(h,m)}}),n.Set=n.invent({create:function(h){h instanceof n.Set?this.members=h.members.slice():Array.isArray(h)?this.members=h:this.clear()},extend:{add:function(){var h,m,x=[].slice.call(arguments);for(h=0,m=x.length;h<m;h++)this.members.push(x[h]);return this},remove:function(h){var m=this.index(h);return m>-1&&this.members.splice(m,1),this},each:function(h){for(var m=0,x=this.members.length;m<x;m++)h.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(h){return this.index(h)>=0},index:function(h){return this.members.indexOf(h)},get:function(h){return this.members[h]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new n.RBox;var h=this.members[0].rbox(this.members[0].doc());return this.each(function(){h=h.merge(this.rbox(this.doc()))}),h}},construct:{set:function(h){return new n.Set(h)}}}),n.FX.Set=n.invent({create:function(h){this.set=h}}),n.Set.inherit=function(){var h,m=[];for(var h in n.Shape.prototype)typeof n.Shape.prototype[h]=="function"&&typeof n.Set.prototype[h]!="function"&&m.push(h);m.forEach(function(x){n.Set.prototype[x]=function(){for(var I=0,V=this.members.length;I<V;I++)this.members[I]&&typeof this.members[I][x]=="function"&&this.members[I][x].apply(this.members[I],arguments);return x=="animate"?this.fx||(this.fx=new n.FX.Set(this)):this}}),m=[];for(var h in n.FX.prototype)typeof n.FX.prototype[h]=="function"&&typeof n.FX.Set.prototype[h]!="function"&&m.push(h);m.forEach(function(x){n.FX.Set.prototype[x]=function(){for(var I=0,V=this.set.members.length;I<V;I++)this.set.members[I].fx[x].apply(this.set.members[I].fx,arguments);return this}})},n.extend(n.Element,{data:function(h,m,x){if(typeof h=="object")for(m in h)this.data(m,h[m]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+h))}catch{return this.attr("data-"+h)}else this.attr("data-"+h,m===null?null:x===!0||typeof m=="string"||typeof m=="number"?m:JSON.stringify(m));return this}}),n.extend(n.Element,{remember:function(h,m){if(typeof arguments[0]=="object")for(var m in h)this.remember(m,h[m]);else{if(arguments.length==1)return this.memory()[h];this.memory()[h]=m}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var h=arguments.length-1;h>=0;h--)delete this.memory()[arguments[h]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(h){var m=i.getElementById(q(h)||h);return n.adopt(m)},n.select=function(h,m){return new n.Set(n.utils.map((m||i).querySelectorAll(h),function(x){return n.adopt(x)}))},n.extend(n.Parent,{select:function(h){return n.select(h,this.node)}});function d(h,m,x,I){return x+I.replace(n.regex.dots," .")}function p(h){for(var m=h.slice(0),x=m.length;x--;)Array.isArray(m[x])&&(m[x]=p(m[x]));return m}function y(h,m){return h instanceof m}function v(h,m){return(h.matches||h.matchesSelector||h.msMatchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector).call(h,m)}function b(h){return h.toLowerCase().replace(/-(.)/g,function(m,x){return x.toUpperCase()})}function S(h){return h.charAt(0).toUpperCase()+h.slice(1)}function E(h){return h.length==4?["#",h.substring(1,2),h.substring(1,2),h.substring(2,3),h.substring(2,3),h.substring(3,4),h.substring(3,4)].join(""):h}function T(h){var m=h.toString(16);return m.length==1?"0"+m:m}function w(h,m,x){if(m==null||x==null){var I=h.bbox();m==null?m=I.width/I.height*x:x==null&&(x=I.height/I.width*m)}return{width:m,height:x}}function _(h,m,x){return{x:m*h.a+x*h.c+0,y:m*h.b+x*h.d+0}}function M(h){return{a:h[0],b:h[1],c:h[2],d:h[3],e:h[4],f:h[5]}}function $(h){return h instanceof n.Matrix||(h=new n.Matrix(h)),h}function C(h,m){h.cx=h.cx==null?m.bbox().cx:h.cx,h.cy=h.cy==null?m.bbox().cy:h.cy}function P(h){for(var m=0,x=h.length,I="";m<x;m++)I+=h[m][0],h[m][1]!=null&&(I+=h[m][1],h[m][2]!=null&&(I+=" ",I+=h[m][2],h[m][3]!=null&&(I+=" ",I+=h[m][3],I+=" ",I+=h[m][4],h[m][5]!=null&&(I+=" ",I+=h[m][5],I+=" ",I+=h[m][6],h[m][7]!=null&&(I+=" ",I+=h[m][7])))));return I+" "}function N(h){for(var m=h.childNodes.length-1;m>=0;m--)h.childNodes[m]instanceof r.SVGElement&&N(h.childNodes[m]);return n.adopt(h).id(n.eid(h.nodeName))}function F(h){return h.x==null&&(h.x=0,h.y=0,h.width=0,h.height=0),h.w=h.width,h.h=h.height,h.x2=h.x+h.width,h.y2=h.y+h.height,h.cx=h.x+h.width/2,h.cy=h.y+h.height/2,h}function q(h){var m=(h||"").toString().match(n.regex.reference);if(m)return m[1]}function U(h){return Math.abs(h)>1e-37?h:0}var B="abcdef".split("");if(typeof r.CustomEvent!="function"){var K=function(h,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var x=i.createEvent("CustomEvent");return x.initCustomEvent(h,m.bubbles,m.cancelable,m.detail),x};K.prototype=r.Event.prototype,n.CustomEvent=K}else n.CustomEvent=r.CustomEvent;return function(h){for(var m=0,x=["moz","webkit"],I=0;I<x.length&&!r.requestAnimationFrame;++I)h.requestAnimationFrame=h[x[I]+"RequestAnimationFrame"],h.cancelAnimationFrame=h[x[I]+"CancelAnimationFrame"]||h[x[I]+"CancelRequestAnimationFrame"];h.requestAnimationFrame=h.requestAnimationFrame||function(V){var Y=new Date().getTime(),de=Math.max(0,16-(Y-m)),oe=h.setTimeout(function(){V(Y+de)},de);return m=Y+de,oe},h.cancelAnimationFrame=h.cancelAnimationFrame||h.clearTimeout}(r),n})}(z0)),z0.exports}var Sye=Eye();const Pu=h1(Sye);class Aye extends Pr{constructor(e){super(e)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(e,r){return r.getGraphicIcon(e)}getGraphicSymbol(e,r){return r.getGraphicSymbol(e)}makeRenderer(e,r,i=!1){switch(e.type){case this.SIMPLE:return new bye(e,r);case this.CLASS_BREAKS:return new wye(e,r,i);case this.UNIQUE_VALUE:return new _ye(e,r,i);default:throw new Error(`Unknown renderer type encountered - ${e.type}`)}}async generateWMSSymbology(e){const r=Pu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),i={svgcode:"",imgHeight:"",imgWidth:""};if(e){const s=await this.renderSymbologyImage(e);if(s){i.svgcode=s;const n=document.createElement("span");n.innerHTML=s;const o=n.firstElementChild?.lastElementChild;i.imgHeight=o?.getAttribute("height")||"",i.imgWidth=o?.getAttribute("width")||""}else i.svgcode=r.svg()}else i.svgcode=r.svg();return i}listToSymbology(e,r){return r.map(({text:s,image:n})=>{const o={name:s,image:n,svgcode:""};return e(n).then(a=>{o.svgcode=a}),o})}listToIconSymbology(e){return this.listToSymbology(this.renderSymbologyIcon,e)}listToImageSymbology(e){return this.listToSymbology(this.renderSymbologyImage,e)}async renderSymbologyImage(e,r=null){r===null&&(r=Pu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const i=await this.$iApi.geo.shared.convertImagetoDataURL(e);if(i===e)return"";const{loader:s}=await this.svgDrawImage(r,i);return r.viewbox(0,0,s.width,s.height),r.svg()}async renderSymbologyIcon(e,r=null){if(r===null){const n=document.createElement("div");n.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(n),r=Pu(n).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const i=await this.$iApi.geo.shared.convertImagetoDataURL(e),{image:s}=await this.svgDrawImage(r,i);return s.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(s,this.CONTENT_IMAGE_SIZE),r.svg()}generatePlaceholderSymbology(e,r="#000"){const i=Pu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return i.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(r),i.text(e[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(e[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:e,svgcode:i.svg()}}async generateBlankSymbology(){return Pu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(e){const r=this,i=1.33333,s=document.createElement("div");s.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(s);const n=Pu(s).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),o={path({size:v,path:b}){return n.path(b).size(v*i)},circle({size:v}){return n.circle(v*i)},cross({size:v}){return n.path("M 0,10 L 20,10 M 10,0 L 10,20").size(v*i)},x({size:v}){return n.path("M 0,0 L 20,20 M 20,0 L 0,20").size(v*i)},triangle({size:v}){return n.path("M 20,20 L 10,0 0,20 Z").size(v*i)},diamond({size:v}){return n.path("M 20,10 L 10,0 0,10 10,20 Z").size(v*i)},square({size:v}){return n.path("M 0,0 20,0 20,20 0,20 Z").size(v*i)}},a={[ss.SOLID]:"none",[ss.NONE]:"none",[ss.DASH]:"5.333,4",[ss.DOT]:"1.333,4",[ss.DASHDOT]:"5.333,4,1.333,4",[ss.LONGDASH]:"10.666,4",[ss.LONGDASHDOT]:"10.666,4,1.333,4",[ss.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[ss.SHORTDOT]:"1.333,1.333",[ss.SHORTDASH]:"5.333,1.333",[ss.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[ss.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},f={solid:v=>({color:v.colour,opacity:v.opacity}),none:()=>"transparent",horizontal:(v,b)=>n.pattern(5,5,E=>E.line(0,5/2,5,5/2)).stroke(b),vertical:(v,b)=>n.pattern(5,5,E=>E.line(5/2,0,5/2,5)).stroke(b),"forward-diagonal":(v,b)=>n.pattern(5,5,E=>{E.line(0,0,5,5).stroke(b),E.line(0,0,5,5).move(0,5).stroke(b),E.line(0,0,5,5).move(5,0).stroke(b)}),"backward-diagonal":(v,b)=>n.pattern(5,5,E=>{E.line(5,0,0,5).stroke(b),E.line(5,0,0,5).move(5/2,5/2).stroke(b),E.line(5,0,0,5).move(-5/2,-5/2).stroke(b)}),cross:(v,b)=>n.pattern(5,5,E=>{E.line(5/2,0,5/2,5).stroke(b),E.line(0,5/2,5,5/2).stroke(b)}),"diagonal-cross":(v,b)=>n.pattern(7,7,E=>{E.line(0,0,7,7).stroke(b),E.line(7,0,0,7).stroke(b)})},d={"simple-marker"(){const v=y(e.color);e.outline=e.outline||c;const b=y(e.outline.color),S=p({color:b.colour,opacity:b.opacity,width:e.outline.width,dasharray:a[e.outline.style]}),E=o[e.style](e).fill({color:v.colour,opacity:v.opacity}).stroke(S).center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).rotate(e.angle||0);r.fitInto(E,r.CONTENT_SIZE)},"simple-line"(){const v=y(e.color),b=p({color:v.colour,opacity:v.opacity,width:e.width,linecap:"butt",dasharray:a[e.style]}),S=r.CONTENT_PADDING,E=r.CONTAINER_SIZE-r.CONTENT_PADDING;n.line(S,S,E,E).stroke(b)},esriCLS(){this["simple-line"]()},"simple-fill"(){const v=y(e.color),b=p({color:v.colour,opacity:v.opacity}),S=f[e.style](v,b);e.outline=e.outline||c;const E=y(e.outline.color),T=p({color:E.colour,opacity:E.opacity,width:e.outline.width,linecap:"butt",dasharray:a[e.outline.style]});n.rect(r.CONTENT_SIZE,r.CONTENT_SIZE).center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).fill(S).stroke(T)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const v=e.imageData?`data:${e.contentType};base64,${e.imageData}`:e.url,b=e.width*e.xscale,S=e.height*e.yscale;e.outline=e.outline||c;const E=y(e.outline.color),T=p({color:E.colour,opacity:E.opacity,width:e.outline.width,dasharray:a[e.outline.style]});return r.$iApi.geo.shared.convertImagetoDataURL(v).then(_=>{const M=n.pattern(b,S,$=>$.image(_,b,S));n.rect(r.CONTENT_SIZE,r.CONTENT_SIZE).center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).fill(M).stroke(T)})},"picture-marker"(){const v=e.source,b=v&&v.imageData?`data:${v.contentType};base64,${v.imageData}`:e.url;return r.$iApi.geo.shared.convertImagetoDataURL(b).then(E=>r.svgDrawImage(n,E)).then(({image:E})=>{E.center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).rotate(e.angle||0),r.fitInto(E,r.CONTENT_IMAGE_SIZE)})}};try{return await Promise.resolve(d[e.type]()),document.body.removeChild(s),n.svg()}catch(v){return console.error(v),this.generateBlankSymbology()}function p(v){return Object.assign({},l,v)}function y(v){return v?{colour:`rgb(${v.r},${v.g},${v.b})`,opacity:v.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(e,r,i=0,s=0,n=!0){return new Promise((o,a)=>{const l=e.image(r,i,s,n).loaded(c=>o({image:l,loader:c})).error(c=>{a(c),console.error(c)})})}fitInto(e,r){const i=e.node.getBoundingClientRect(),s=r/Math.max(i.width,i.height);s<1&&e.scale(s)}rendererToLegend(e){let r;const i=e.symbolUnits.slice(0);if(e.defaultUnit&&i.push(e.defaultUnit),e.falseRenderer)r=i.map(s=>[s]);else{const s=new Map;i.forEach(n=>{const o=s.get(n.label);o?o.push(n):s.set(n.label,[n])}),r=[],s.forEach(n=>r.push(n))}return r.map(s=>{const n=s[0],o={uid:this.$iApi.geo.shared.generateUUID(),label:n.label||"",definitionClause:s.length===1?n.definitionClause:`(${s.map(a=>a.definitionClause).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(n.symbol).then(a=>{o.svgcode=a,s.forEach(l=>{l.svgCode=a})})};return o})}async getMapServerLegend(e){if(!e)throw new Error("Legend server request is missing the required url.");const r={query:{f:"json"}},i={layers:[]},[s,n]=await qn(Dr(`${e}/legend`,r));return n?n.data?n.data:(console.error(`Error loading legend data for ${e}`),i):(console.error(`Error loading legend for ${e}`,s),i)}async mapServerLegendToRenderer(e,r){const i=e.layers.find(n=>n.layerId===r);let s;if(typeof i<"u"){s={type:"uniqueValue",field:"fakefield",uniqueValueInfos:i.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))};const n=await Nt.RendererFromJson(s);return this.makeRenderer(n,[],!0)}else throw new Error("attempted to make renderer from non-existing legend data")}async mapServerLegendToRendererAll(e){const r=e.layers.map(n=>n.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))),i={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...r)},s=await Nt.RendererFromJson(i);return this.makeRenderer(s,[],!0)}async mapServerToLocalLegend(e,r=void 0){const i=await this.getMapServerLegend(e);let s,n;return typeof r>"u"?(n=0,s=await this.mapServerLegendToRendererAll(i)):(n=parseInt(r),s=await this.mapServerLegendToRenderer(i,n)),this.rendererToLegend(s)}}class Tye extends Pr{constructor(e){super(e)}async arcGisServerQueryIds(e){if(!(e.filterGeometry||e.filterSql))return console.error("arcGisServerQueryIds called without any filter"),[];const r=await Nt.Query();r.returnGeometry=!1,e.filterSql&&(r.where=e.filterSql),e.filterGeometry&&(r.geometry=await this.queryGeometryHelper(e.filterGeometry,!1,this.$iApi.geo.map.getScale(),e.sourceSR),r.spatialRelationship="intersects");const i=await Nt.QueryByIds(e.url,r);return Array.isArray(i)?i:[]}async geoJsonQuery(e){const r=await Nt.Query();if(r.returnGeometry=!!e.includeGeometry,r.outFields=["*"],e.filterGeometry&&(r.geometry=await this.queryGeometryHelper(e.filterGeometry,!0),r.spatialRelationship="intersects"),e.filterSql&&(r.where=e.filterSql),e.filterOIDs&&(r.objectIds=e.filterOIDs),await e.layer.loadPromise(),!e.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await e.layer.esriLayer.queryFeatures(r)).features.map((s,n)=>{let o;return r.returnGeometry?o=this.$iApi.geo.geom.geomEsriToRamp(s.geometry,`queryResult${n}`):o=new Nl,new Fn(o,"",s.attributes)})}async queryGeometryHelper(e,r,i,s){return!r&&e.type===Ke.EXTENT&&s&&!s.isEqual(e.sr)&&!(i&&i>2e7&&e.sr.wkid===3978&&s.wkid===4326)?(await this.$iApi.geo.proj.projectExtent(s,e)).toESRI():e.toESRI()}makeClickBuffer(e,r=5){const i=this.$iApi.geo.map,s=i.getExtent(),n=r*(s.xmax-s.xmin)/i.getPixelWidth();return new er("ze_buffer",[e.x-n,e.y-n],[e.x+n,e.y+n],e.sr)}}class Mye extends Pr{attributes;geom;layer;map;proj;query;shared;symbology;constructor(e){super(e),this.geom=Ih.geom,this.proj=Ih.proj,this.shared=Ih.sharedUtils,this.map=new vme(e),this.layer=new Kme(e),this.attributes=new yye(e),this.query=new Tye(e),this.symbology=new Aye(e),Array.isArray(_t.request.interceptors)||(_t.request.interceptors=[]),_t.request.interceptors.push({before:r=>{r.url.includes("?blankTile=false")&&(r.url=r.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(e){_t.request.proxyUrl=e}get proxy(){return _t.request.proxyUrl||""}}const $ye=Object.assign({"../fixtures/appbar/index.ts":()=>ve(()=>import("./index-BdOxtcka.js"),__vite__mapDeps([227,1,228]),import.meta.url),"../fixtures/areas-of-interest/index.ts":()=>ve(()=>import("./index-BYNIKjyp.js"),__vite__mapDeps([229,230,231,1]),import.meta.url),"../fixtures/basemap/index.ts":()=>ve(()=>import("./index--dBk2eY3.js"),__vite__mapDeps([232,1]),import.meta.url),"../fixtures/crosshairs/index.ts":()=>ve(()=>import("./index-CHyfDgxb.js"),__vite__mapDeps([233,1,234]),import.meta.url),"../fixtures/details/index.ts":()=>ve(()=>import("./index-xvsYD-na.js"),__vite__mapDeps([235,1,236]),import.meta.url),"../fixtures/draw/index.ts":()=>ve(()=>import("./index-CvOuBsuz.js").then(t=>t.i),__vite__mapDeps([237,1,238,239,176,84,46,47,137,56,138,139,75,76,77,164,57,58,3,240,81,61,241,74,82,10,83,80,242,91,92,102,243,244,245,41,85,24,25,159,160,246,247,248,249,250,251,98,252,253,254,255,256,257,4,5,6,258,259,260,261,8]),import.meta.url),"../fixtures/export-footnote/index.ts":()=>ve(()=>import("./index-D2wV9tod.js"),__vite__mapDeps([262,263,1]),import.meta.url),"../fixtures/export-legend/index.ts":()=>ve(()=>import("./index-Br233tc5.js"),__vite__mapDeps([264,263,1]),import.meta.url),"../fixtures/export-map/index.ts":()=>ve(()=>import("./index-U4WoVwy8.js"),__vite__mapDeps([265,263,1]),import.meta.url),"../fixtures/export-northarrow/index.ts":()=>ve(()=>import("./index-0CxU63bV.js"),__vite__mapDeps([266,263,1]),import.meta.url),"../fixtures/export-scalebar/index.ts":()=>ve(()=>import("./index-BFkMP85a.js"),__vite__mapDeps([267,263,1]),import.meta.url),"../fixtures/export-timestamp/index.ts":()=>ve(()=>import("./index-C9EU3viV.js"),__vite__mapDeps([268,263,1]),import.meta.url),"../fixtures/export-title/index.ts":()=>ve(()=>import("./index-DYJ9pV2J.js"),__vite__mapDeps([269,263,1]),import.meta.url),"../fixtures/export/index.ts":()=>ve(()=>import("./index-DjcGiGKU.js"),__vite__mapDeps([270,1,271]),import.meta.url),"../fixtures/extentguard/index.ts":()=>ve(()=>import("./index-C9S6voQy.js"),__vite__mapDeps([272,1]),import.meta.url),"../fixtures/gazebo/index.ts":()=>ve(()=>import("./index-3RPxBEh3.js"),__vite__mapDeps([273,1]),import.meta.url),"../fixtures/geosearch/index.ts":()=>ve(()=>import("./index-Ccn1jrR-.js"),__vite__mapDeps([274,1]),import.meta.url),"../fixtures/grid/index.ts":()=>ve(()=>import("./index-D9dxqUzs.js"),__vite__mapDeps([275,1,276]),import.meta.url),"../fixtures/help/index.ts":()=>ve(()=>import("./index-2RTw_oJL.js"),__vite__mapDeps([277,1]),import.meta.url),"../fixtures/hilight/index.ts":()=>ve(()=>import("./index-4kk-mF3g.js"),__vite__mapDeps([278,236,1]),import.meta.url),"../fixtures/layer-reorder/index.ts":()=>ve(()=>import("./index-0TfoxAak.js"),__vite__mapDeps([279,1]),import.meta.url),"../fixtures/legend/index.ts":()=>ve(()=>import("./index-LAXjKPRp.js"),__vite__mapDeps([280,1]),import.meta.url),"../fixtures/mapnav/index.ts":()=>ve(()=>import("./index-BWcwIDrT.js"),__vite__mapDeps([281,1,239,282]),import.meta.url),"../fixtures/metadata/index.ts":()=>ve(()=>import("./index-DToUlLp-.js"),__vite__mapDeps([283,1]),import.meta.url),"../fixtures/northarrow/index.ts":()=>ve(()=>import("./index-VlLnGj-H.js"),__vite__mapDeps([284,1]),import.meta.url),"../fixtures/overviewmap/index.ts":()=>ve(()=>import("./index-CJbEt27Y.js"),__vite__mapDeps([285,1,286]),import.meta.url),"../fixtures/panguard/index.ts":()=>ve(()=>import("./index-C1MjuL2s.js"),__vite__mapDeps([287,1,288]),import.meta.url),"../fixtures/scrollguard/index.ts":()=>ve(()=>import("./index-CU1EEOJR.js"),__vite__mapDeps([289,1,290]),import.meta.url),"../fixtures/settings/index.ts":()=>ve(()=>import("./index-DvhZiQuz.js"),__vite__mapDeps([291,1]),import.meta.url),"../fixtures/snowman/index.ts":()=>ve(()=>import("./index-BBcsyJAm.js"),__vite__mapDeps([292,1]),import.meta.url),"../fixtures/swipe/index.ts":()=>ve(()=>import("./index-BUv1ir5S.js"),__vite__mapDeps([293,1,294]),import.meta.url),"../fixtures/wizard/index.ts":()=>ve(()=>import("./index-uhDFhGjF.js"),__vite__mapDeps([295,1]),import.meta.url)});class Oye extends Pr{constructor(e){super(e)}exists(e){return e in Ks(this.$vApp.$pinia).items}async add(e,r){let i;if(e in Ks(this.$vApp.$pinia).items)return this.get(e);if(r){if(typeof r!="function")throw new Error("malformed fixture constructor");i=jA.updateBaseToInstance(new r,e,this.$iApi)}else{const s=(await $ye[`../fixtures/${e}/index.ts`]()).default;i=new s(e,this.$iApi)}return Ks(this.$vApp.$pinia).addFixture(i),this.$iApi.event.emit(Ie.FIXTURE_ADDED,i),this.$iApi.geo.map.created&&i.initialized?.(),i}remove(e){const r=this.get(e);if(!r)throw new Error(`Could not find fixture ${e} for removal`);return Ks(this.$vApp.$pinia).removeFixture(r),this.$iApi.event.emit(Ie.FIXTURE_REMOVED,r),r}flush(){const e=Ks(this.$vApp.$pinia);Object.keys(e.items).forEach(i=>{const s=this.get(i);s?.persist&&typeof s?.removed=="function"?s.removed():s&&this.remove(i)})}restore(){const e=Ks(this.$vApp.$pinia);Object.keys(e.items).forEach(i=>{const s=e.items[i];typeof s.added=="function"&&s.added(),this.$iApi.geo.map.created&&typeof s.initialized=="function"&&s.initialized()})}get(e){const r=[];typeof e=="string"?r.push(e):Array.isArray(e)?r.push(...e):r.push(e.id);const i=r.map(s=>{const n=Ks(this.$vApp.$pinia).items[s];if(n)return n});return i.length===1?i[0]:i}isLoaded(e){const r=Ks(this.$vApp.$pinia),i=Array.isArray(e)?e:[e];i.forEach(n=>{r.loadPromises[n]===void 0&&r.addLoadPromise(n)});const s=r.getLoadPromises(i);return Array.isArray(e)?Promise.all(s):s[0]}addDefaultFixtures(e){Array.isArray(e)||(e=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const r=ms(this.$vApp.$pinia);return r.startingFixtures=e,Promise.all(e.map(i=>this.add(i)))}}class jA extends Pr{static updateBaseToInstance(e,r,i){const s=new jA(r,i);return Object.defineProperties(e,{id:{value:r},$iApi:{value:i},persist:{value:e.persist??!0},$vApp:{get(){return s.$vApp}},remove:{value:s.remove},extend:{value:s.extend},config:{get(){return s.config}},mount:{value:s.mount}}),e}id;persist;constructor(e,r){super(r),this.id=e,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(e,r={}){const i=st({extends:e,iApi:this.$iApi,data(){return{...r}}}),s=$l(i),{el:n}=this.mount(i,{props:{...r.propsData},app:s});return n}mount(e,{props:r,children:i,element:s,app:n}={}){let o=s,a=rn(e,r,i);return n&&n._context&&(a.appContext=n._context),o||(o=document.createElement("div")),$h(a,o),{vNode:a,destroy:()=>{o&&$h(null,o),o=null,a=null},el:o}}get config(){return ms(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(e){return this.getLayerFixtureConfigs()[e]}getLayerFixtureConfigs(){const e={},r=(i,s=void 0)=>{if(i.fixtures&&i.fixtures[this.id]!==void 0){let n=i.id;s!==void 0&&(n=this.$iApi.geo.layer.sublayerId(s.id,i.index)),e[n]=i.fixtures[this.id]}i.sublayers&&i.sublayers.forEach(n=>r(n,i))};return this.$iApi.geo.layer.allLayers().forEach(i=>r(i.config)),e}handlePanelWidths(e){if(this.config?.panelWidth){const r={};if(typeof this.config.panelWidth=="number")e.forEach(i=>{r[i]=this.config.panelWidth});else{this.config.panelWidth.default&&e.forEach(i=>{r[i]=this.config.panelWidth.default});for(const i in this.config.panelWidth)i!="default"&&(r[i]=this.config.panelWidth[i])}for(const i in r){const s=this.$iApi.panel.get(i);this.$iApi.panel.setStyle(s,{"flex-basis":`${r[i]}px`})}}}handlePanelTeleports(e){if(this.config?.panelTeleport){const r=su(this.$vApp.$pinia),i=!!this.config.panelTeleport.target;e.forEach(s=>{r.items[s].teleport=i?this.config.panelTeleport:this.config.panelTeleport[s],r.items[s].style.width="100%"})}}}class Iye extends Pr{panelStore=su(this.$vApp.$pinia);updateHTML(e,r,i){const s=this.get(e),n=i?s.screens[i]:Object.values(s.screens)[0];if(CL(n))for(const o in r)n[o].innerHTML=r[o]instanceof HTMLElement?r[o].outerHTML:r[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(e){for(const i in e.content)if(typeof e.content[i]=="string"){const s=document.createElement("div");s.innerHTML=e.content[i],e.content[i]=s}const r={};return r[e.id]={screens:{},style:e.style??{width:"350px"},alertName:e.alertName},r[e.id].screens[e.id]=e.content,r}registerHTML(e){const r=this.get(e.id);if(r)return console.error("Panel already exist"),r;const i=this.registerHTMLConfig(e),s={i18n:{messages:e.i18nMap}};return this.register(i,s)}register(e,r){const i=Cye(e)?{[e.id]:e.config}:e;if(r){const n=r.i18n||{},o=this.$iApi.$i18n;Object.entries(n.messages||{}).forEach(a=>o.mergeLocaleMessage(...a)),Object.entries(n.dateTimeFormats||{}).forEach(a=>o.mergeDateTimeFormat(...a)),Object.entries(n.numberFormats||{}).forEach(a=>o.mergeNumberFormat(...a))}const s=Object.entries(i).reduce((n,[o,a])=>(n.push(new Wy(this.$iApi,o,a)),n),[]);return s.forEach(n=>this.panelStore.registerPanel(n)),s.length===1?s[0]:s.reduce((n,o)=>(n[o.id]=o,n),{})}async isRegistered(e){const r=Array.isArray(e)?e:[e];r.forEach(s=>{this.panelStore.regPromises[s]===void 0&&this.panelStore.addRegPromise(s)});const i=this.panelStore.getRegPromises(r);return Array.isArray(e)?Promise.all(i):i[0]}allRegistered(){return Object.keys(this.panelStore.items)}remove(e){const r=this.get(e);r&&(r.isOpen&&this.close(r),this.panelStore.removePanel(r))}get(e){const r=typeof e=="string"?e:e.id;return this.panelStore.items[r]}open(e){let r,i,s;if(typeof e=="string"||e instanceof Wy?r=this.get(e):(r=this.get(e.id),{screen:i,props:s}=e),!r)return r;if(r.isOpen&&!r.isVisible)r.minimize();else if(r.isOpen)return r;return i||(r.route&&!s?{screen:i,props:s}=r.route:i=Object.keys(r.screens).pop()),this.show(r,{screen:i,props:s})?(this.panelStore.openPanel(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:r.alertName?this.$iApi.$i18n.t(r.alertName):r.id})),this.$iApi.event.emit(Ie.PANEL_OPENED,r)):console.error(`Failed to open ${r.id} panel.`),r}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(e){const r=this.get(e);return r&&(r.isPinned&&r.pin(!1),this.panelStore.closePanel(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:r.alertName?this.$iApi.$i18n.t(r.alertName):r.id})),this.$iApi.event.emit(Ie.PANEL_CLOSED,r),r)}minimize(e){const r=this.get(e);return r&&(r.isPinned&&r.pin(!1),this.panelStore.closePanel(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:r.alertName?this.$iApi.$i18n.t(r.alertName):r.id})),this.$iApi.event.emit(Ie.PANEL_MINIMIZED,r),r)}move(e,r){const i=this.get(e);return i&&(this.panelStore.movePanel(i,r),i)}toggle(e,r){let i;return typeof e=="string"||e instanceof Wy?i=this.get(e):i=this.get(e.id),i&&(r=typeof r<"u"?r:!i.isVisible,r!==i.isVisible?r?this.open(e):this.close(i):i)}toggleMinimize(e,r){let i;return typeof e=="string"||e instanceof Wy?i=this.get(e):i=this.get(e.id),i&&(r=typeof r<"u"?r:!i.isVisible,r!==i.isVisible?r?this.open(i):this.minimize(i):i)}pin(e,r){const i=this.get(e);return!i||(r=typeof r<"u"?r:!i.isPinned,!i.isPinned&&!r)||(this.panelStore.pinned=r?i:void 0),i}get pinned(){return this.panelStore.pinned||void 0}show(e,r){const i=this.get(e);if(!i)return i;if(i.screens[r.screen]){if(i.screens[r.screen]?.props){const s=Object.keys(i.screens[r.screen]?.props).filter(o=>o!=="panel"),n=r.props?Object.keys(r.props):[];for(let o=0;o<s.length;o++)if(!n.includes(s[o])&&i.screens[r.screen].props[s[o]].required)return}return r.screen in this.$element._context.components||i.registerScreen(r.screen),i.teleport&&(r.props={header:!!i.teleport?.showHeader,...r.props}),this.panelStore.items[i.id].route=r,i}}setStyle(e,r,i=!1){const s=this.get(e);return s&&(this.panelStore.items[s.id].style=i?r:{...s.style,...r},s)}expand(e,r){const i=this.get(e);return i&&(this.panelStore.items[i.id].expanded=r!==void 0?r:!i.expanded,i)}}function Cye(t){return t.id!==void 0&&typeof t.id=="string"&&t.config!==void 0}const Nye={};function Pye(t,e){const r=Ar("panel-screen");return fe(),Vt(r,{header:!1,class:"screen-spinner"},{content:Nr(()=>e[0]||(e[0]=[ce("div",{class:"loader"},null,-1)])),_:1})}const Lye=Ea(Nye,[["render",Pye],["__scopeId","data-v-d6b3771a"]]),kye=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>ve(()=>import("./screen-2eex3RCT.js"),__vite__mapDeps([296,230,231,1]),import.meta.url),"../fixtures/basemap/screen.vue":()=>ve(()=>import("./screen-Cbgg5iYQ.js"),__vite__mapDeps([297,1,298]),import.meta.url),"../fixtures/export/screen.vue":()=>ve(()=>import("./screen-Bjz-8b7G.js"),__vite__mapDeps([299,271,1]),import.meta.url),"../fixtures/geosearch/screen.vue":()=>ve(()=>import("./screen-W9yj9eny.js"),__vite__mapDeps([300,1,301]),import.meta.url),"../fixtures/grid/screen.vue":()=>ve(()=>import("./screen-FxJ5hA_J.js"),__vite__mapDeps([302,276,1,303]),import.meta.url),"../fixtures/help/screen.vue":()=>ve(()=>import("./screen-ClDJ6OZP.js"),__vite__mapDeps([304,305,1,306]),import.meta.url),"../fixtures/layer-reorder/screen.vue":()=>ve(()=>import("./screen-DnyLi4IJ.js"),__vite__mapDeps([307,308,1,309]),import.meta.url),"../fixtures/legend/screen.vue":()=>ve(()=>import("./screen-CwuJAjaw.js"),__vite__mapDeps([310,1]),import.meta.url),"../fixtures/metadata/screen.vue":()=>ve(()=>import("./screen-BfBm4nLt.js"),__vite__mapDeps([311,305,1,312]),import.meta.url),"../fixtures/settings/screen.vue":()=>ve(()=>import("./screen-DI-jLgRf.js"),__vite__mapDeps([313,308,314,315,1,316]),import.meta.url),"../fixtures/wizard/screen.vue":()=>ve(()=>import("./screen-BBtoQqyO.js"),__vite__mapDeps([317,308,1,318]),import.meta.url)});class Wy extends Pr{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(e){return this.loadedScreens.indexOf(e)!==-1}registerScreen(e){const r=this.screens[e];let i;if(cte(r)||lte(r))i=r,this.loadedScreens.push(e);else if(CL(r))i={template:`<panel-screen :panel="this" :screenId="'${e}'">
                           </panel-screen>`};else{let s;typeof r=="string"?s=kye[`../fixtures/${r}`]():s=r();const n=new Promise((o,a)=>{s.then(l=>{this.loadedScreens.push(e),o(ute(l)?l.default:l)}),s.catch(l=>a(l))});i=qS({loader:()=>n,loadingComponent:Lye,delay:200})}this.$iApi.$element.component(e,i)}style;expanded;get width(){if(!(!this.style.width||this.style.width.slice(-2)!=="px"))return parseInt(this.style.width)}route;constructor(e,r,i){if(super(e),{id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:r,style:{},expanded:!1,controls:{expand:!1,...i.controls},...i},Object.keys(this.screens).length===0)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(e){return typeof e>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,...typeof e=="string"?{screen:e}:e}),this}get isOpen(){return this.$iApi.panel.opened.indexOf(this)!==-1}get isVisible(){return this.$iApi.panel.visible.indexOf(this)!==-1}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(e){return this.$iApi.panel.move(this,e),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0){for(const e of this.$iApi.panel.visible)if(!e.teleport)return this.id===e.id}return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0){for(let e=this.$iApi.panel.visible.length-1;e>=0;e--)if(!this.$iApi.panel.visible[e].teleport)return this.id===this.$iApi.panel.visible[e].id}return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(e){return typeof e>"u"?this.$iApi.panel.toggle(this,!this.isOpen):typeof e=="boolean"?e!==this.isOpen&&this.$iApi.panel.toggle(this,e):this.$iApi.panel.toggle({id:this.id,screen:e.screen,props:e.props},typeof e.toggle<"u"?e.toggle:!this.isOpen),this}toggleMinimize(e){return typeof e>"u"||typeof e=="boolean"?this.$iApi.panel.toggleMinimize(this,e):this.$iApi.panel.toggleMinimize({id:this.id,screen:e.screen,props:e.props},typeof e.toggle<"u"?e.toggle:!this.isOpen),this}pin(e){return e=typeof e<"u"?e:!this.isPinned,this.$iApi.panel.pin(this,e),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(e){const r=typeof e=="string"?{screen:e}:e;return this.route=r,this.$iApi.panel.show(this,r),this}setStyles(e,r=!1){return this.$iApi.panel.setStyle(this,e,r),this}expand(e){return this.$iApi.panel.expand(this,e),this}}class Rye extends Pr{constructor(e){super(e)}async easyLayer(e,r){const i=this.$iApi.geo.layer.createLayer(e);await this.$iApi.geo.map.addLayer(i);const s=this.$iApi.fixture.get("legend");return s&&(r?s.addItem(r):await s.addLayerItem(i)),i}}function Dye(t){const e={};(Array.isArray(t)?t:[t]).forEach(o=>{o.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),o.language="en");const a=Fye(o);e[o.language]=a});const i=Object.entries(e).map(o=>{const a=o[1].fixturesEnabled;return delete o[1].fixturesEnabled,a});let s=!1;const n=i.reduce((o,a)=>o.filter(l=>{const c=a.includes(l);return s=s||!c,c}));return s&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),n.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:n,configs:e}}function Fye(t){const e={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return Bye(t.services,e),Uye(t.map,e),Vye(t.ui,e),t.plugins&&Gye(t.plugins,e),e}function Uye(t,e){if(t.layers&&t.layers.forEach(r=>{e.layers.unshift(jye(r))}),t.initialBasemapId&&(e.map.initialBasemapId=t.initialBasemapId),t.components){if(t.components.geoSearch&&(t.components.geoSearch.enabled&&e.fixturesEnabled.push("geosearch"),typeof t.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof t.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),t.components.overviewMap&&t.components.overviewMap.enabled&&(e.fixtures.overviewmap||(e.fixtures.overviewmap={basemaps:{}},e.fixturesEnabled.push("overviewmap")),e.fixtures.overviewmap.startMinimized=!t.components.overviewMap.initiallyExpanded,e.fixtures.overviewmap.expandFactor=t.components.overviewMap.expandFactor??1.5),t.components.northArrow&&t.components.northArrow.enabled){const r={};t.components.northArrow.arrowIcon&&(r.arrowIcon=t.components.northArrow.arrowIcon),t.components.northArrow.poleIcon&&(r.poleIcon=t.components.northArrow.poleIcon),r&&(e.fixtures.northarrow=r,e.fixturesEnabled.push("northarrow"))}if(t.components.scaleBar&&t.components.scaleBar.enabled){switch(e.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:t?.components?.scaleBar?.scalebarUnit==="english"||t?.components?.scaleBar?.scalebarUnit==="dual"&&Math.floor(Math.random()*2)===0}},t.components?.mouseInfo?.spatialReference?.wkid){case 4326:e.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:e.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:e.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:e.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}t.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}t.components.basemap&&t.components.basemap.enabled&&e.fixturesEnabled.push("basemap")}t.extentSets&&(e.map.extentSets=[],t.extentSets.forEach(r=>{const i={id:r.id,default:{xmin:r.default.xmin,xmax:r.default.xmax,ymin:r.default.ymin,ymax:r.default.ymax,spatialReference:r.spatialReference}};r.full&&(i.full={xmin:r.full.xmin,xmax:r.full.xmax,ymin:r.full.ymin,ymax:r.full.ymax,spatialReference:r.spatialReference}),r.maximum&&(i.maximum={xmin:r.maximum.xmin,xmax:r.maximum.xmax,ymin:r.maximum.ymin,ymax:r.maximum.ymax,spatialReference:r.spatialReference}),e.map.extentSets.push(i)})),t.lodSets&&(e.map.lodSets=t.lodSets),t.tileSchemas&&(e.map.tileSchemas=[],t.tileSchemas.forEach(r=>{const i={id:r.id,name:r.name,extentSetId:r.extentSetId,lodSetId:r.lodSetId,thumbnailTileUrls:[],hasNorthPole:r.hasNorthPole||!1};r.overviewUrl&&(e.fixtures.overviewmap||(e.fixtures.overviewmap={basemaps:{}},e.fixturesEnabled.push("overviewmap")),e.fixtures.overviewmap.basemaps[r.id]={id:r.overviewUrl.id||`overviewmap-basemap-${r.id}`,tileSchemaId:r.id,layers:[{id:r.overviewUrl.id||`overviewmap-basemap-${r.id}-0`,layerType:r.overviewUrl.layerType==="esriDynamic"?Ce.MAPIMAGE:Ce.TILE,url:r.overviewUrl.url,opacity:r.overviewUrl.opacity??1}]}),e.map.tileSchemas.push(i)})),t.baseMaps&&(e.map.basemaps=[],t.baseMaps.forEach(r=>{const i={id:r.id,tileSchemaId:r.tileSchemaId,name:r.name,description:r.description,altText:r.altText,thumbnailUrl:r.thumbnailUrl,layers:[]};r.attribution&&(i.attribution={text:{},logo:{}},r.attribution.text&&(i.attribution.text.disabled=!r.attribution.text.enabled,i.attribution.text.value=r.attribution.text.value),r.attribution.logo&&(i.attribution.logo.disabled=!r.attribution.logo.enabled,i.attribution.logo.altText=r.attribution.logo.altText,i.attribution.logo.value=r.attribution.logo.value,i.attribution.logo.link=r.attribution.logo.link)),r.layers.forEach((s,n)=>{const o={id:s.id||`${r.id}-${n}`,layerType:s.layerType==="esriDynamic"?Ce.MAPIMAGE:Ce.TILE,url:s.url,opacity:s.opacity??1};i.layers.push(o)}),e.map.basemaps.push(i)})),t.legend&&(e.fixturesEnabled.push("legend"),t.legend.type==="autopopulate"?(e.fixtures.legend={root:{name:"I'm root",children:[]}},e.layers&&e.layers.toReversed().forEach(r=>{if(r.type==="esri-map-image"||r.type==="ogc-wms"){const i={name:r.name??`${r.id} Group`,children:[]};r.sublayers.forEach(s=>{const n={layerId:r.id};s.name&&(n.name=s.name),s.controls&&(n.controls=s.controls),s.disabledControls&&(n.disabledControls=s.disabledControls),r.type==="esri-map-image"?n.sublayerIndex=s.index:(n.sublayerId=s.id,console.warn(`sublayerId property defined in legend entry ${n.layerId} is currently not supported.`)),i.children.push(n)}),e.fixtures.legend.root.children.push(i)}else{const i={layerId:r.id};r.controls&&(i.controls=r.controls),r.disabledControls&&(i.disabledControls=r.disabledControls),e.fixtures.legend.root.children.push(i)}})):e.fixtures.legend={root:sE(t.legend.root)})}function sE(t){const e={name:t.name,children:[]};typeof t.hidden<"u"&&(e.hidden=t.hidden),typeof t.expanded<"u"&&(e.expanded=t.expanded);const r=["identify","opacity","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.controls=yf(t.controls,r),t.controls.includes("visibility")&&e.controls.push("visibilityButton"),(t.controls.length!==1||t.controls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),e.controls.push("expandButton")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledControls=yf(t.disabledControls,r),t.disabledControls.includes("visibility")&&e.disabledControls.push("visibilityButton"),(t.disabledControls.length!==1||t.disabledControls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),t.children.forEach(i=>{if(i.layerId)e.children.push(AI(i));else if(i.infoType)i.infoType==="unboundLayer"?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`):(e.children.push({infoType:i.infoType,content:i.content}),typeof i.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`));else if(i.exclusiveVisibility){const s={name:"Visibility Set",children:[],exclusive:!0};typeof i.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`),i.exclusiveVisibility.forEach(n=>{n.layerId?s.children.push(AI(n)):s.children.push(sE(n))}),e.children.push(s)}else e.children.push(sE(i))}),e}function AI(t){const e=t,r=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.layerControls=yf(t.controls,r),e.layerControls.push("symbology")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledLayerControls=yf(t.disabledControls,r)),t.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${t.layerId} cannot be mapped and will be skipped.`),delete e.controlledIds),t.entryIndex&&(e.sublayerIndex=t.entryIndex,delete t.entryIndex),t.entryId&&console.warn(`entryId property defined in legend entry ${t.layerId} cannot be mapped and will be skipped.`),e}function jye(t){const e=N_(t);switch(e.id=t.id,e.url=t.url,t.refreshInterval&&(e.refreshInterval=t.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),t.expectedResponseTime&&(e.expectedLoadTime=t.expectedResponseTime),t.metadataUrl&&(e.metadata={url:t.metadataUrl}),t.catalogueUrl&&(e.catalogueUrl=t.catalogueUrl),typeof t.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.tooltipField&&(e.tooltipField=t.tooltipField),t.tolerance&&(e.mouseTolerance=t.tolerance,t.layerType==="esriDynamic"&&(e.touchTolerance=t.tolerance+10)),t.customRenderer&&(e.customRenderer=t.customRenderer),t.layerType){case"esriDynamic":e.layerType="esri-map-image",typeof t.singleEntryCollapse<"u"&&(e.singleEntryCollapse=t.singleEntryCollapse),t.imageFormat&&(e.imageFormat=t.imageFormat),t.layerEntries&&(e.sublayers=[],t.layerEntries.forEach(r=>{const i=N_(r);i.index=r.index,e.sublayers.push(i)}));break;case"esriFeature":e.layerType="esri-feature",t.fileType&&(e.layerType=t.fileType==="shapefile"?"file-shape":`file-${t.fileType}`,t.colour&&(e.colour=t.colour),t.latField&&(e.latField=t.latField),t.longField&&(e.longField=t.longField));break;case"ogcWfs":e.layerType="ogc-wfs",t.colour&&(e.colour=t.colour),typeof t.xyInAttribs<"u"&&(e.xyInAttribs=t.xyInAttribs);break;case"ogcWms":e.layerType="ogc-wms",t.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.featureInfoMimeType&&(t.featureInfoMimeType==="text/html;fgpv=summary"?e.featureInfoMimeType="text/html":e.featureInfoMimeType=t.featureInfoMimeType),t.legendMimeType&&console.warn(`legendMimeType property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.layerEntries&&(e.sublayers=[],t.layerEntries.forEach(r=>{const i=N_(r);i.id=r.id,r.currentStyle&&(i.currentStyle=r.currentStyle,console.warn(`currentStyle property provided in layer entry ${r.id} of layer ${t.id} is currently not supported.`)),r.allStyles&&console.warn(`allStyles property provided in layer entry ${r.id} of layer ${t.id} cannot be mapped and will be skipped.`),e.sublayers.push(i)}));break;case"esriImage":e.layerType="esri-imagery";break;case"esriTile":e.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${t.layerType}`)}return t.details&&console.warn(`Details config provided in layer ${t.id} cannot be mapped and will be skipped.`),e}function N_(t){const e={};t.name&&(e.name=t.name),t.nameField&&(e.nameField=t.nameField),t.extent&&(e.extent=t.extent);const r=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.controls=yf(t.controls,r),e.controls.push("symbology")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledControls=yf(t.disabledControls,r)),t.state&&(e.state={opacity:t.state.opacity??1,visibility:t.state.visibility??!0,identify:t.state.query??!0,hovertips:t.state.hovertips??!0},typeof t.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${t.id} cannot be mapped and will be skipped.`)),typeof t.stateOnly<"u"&&(e.cosmetic=t.stateOnly),t.initialFilteredQuery&&(e.initialFilteredQuery=t.initialFilteredQuery),zye(t,e),(typeof t.toggleSymbology<"u"||t.table)&&(e.fixtures={},typeof t.toggleSymbology<"u"&&(e.fixtures.legend={toggleSymbology:t.toggleSymbology}),t.table&&(e.fixtures.grid={},t.table.title&&(e.fixtures.grid.title=t.table.title),t.table.description&&console.warn(`description property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),t.table.search&&(t.table.search.enabled&&(e.fixtures.grid.search=t.table.search.enabled),t.table.search.value&&(e.fixtures.grid.searchFilter=t.table.search.value)),typeof t.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.applyMap<"u"&&(e.fixtures.grid.applyMap=t.table.applyMap),typeof t.table.showFilter<"u"&&(e.fixtures.grid.showFilter=t.table.showFilter),typeof t.table.filterByExtent<"u"&&(e.fixtures.grid.filterByExtent=t.table.filterByExtent),typeof t.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),t.table.columns&&(e.fixtures.grid.columns=[],t.table.columns.forEach(i=>{const s={field:i.data};i.title&&(s.title=i.title),i.description&&console.warn(`description property provided in column property in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof i.visible<"u"&&(s.visible=i.visible),i.width&&(s.width=i.width),i.sort&&(s.sort=i.sort),typeof i.searchable<"u"&&(s.searchable=i.searchable),i.filter&&(s.filter=i.filter),e.fixtures.grid.columns.push(s)})))),e}function yf(t,e){const r=[];return t.forEach(i=>{e.includes("identify")&&i==="query"?r.push("identify"):e.includes("datatable")&&i==="data"?r.push("datatable"):e.includes(i)?r.push(i):console.warn(`Ignored invalid control: ${i}`)}),r}function Bye(t,e){if(!t)return;t.search&&(e.fixtures.geosearch={},e.fixtures.geosearch.serviceUrls={geoNames:t.search.serviceUrls.geoNames,geoLocation:t.search.serviceUrls.geoLocation,geoProvince:t.search.serviceUrls.provinces,geoTypes:t.search.serviceUrls.types},t.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),t.search.settings&&(e.fixtures.geosearch.settings=t.search.settings),t.search.disabledSearches&&(e.fixtures.geosearch.settings.disabledSearchTypes=t.search.disabledSearches.filter(i=>i!=="SCALE"))),t.export&&(e.fixtures.export||(e.fixtures.export={},e.fixturesEnabled.push("export")),t.export.title&&(e.fixtures.export.title={selected:t.export.title.isSelected??!0,selectable:t.export.title.isSelectable??!0,value:t.export.title.value??"RAMP-Map / PCAR-Carte"}),t.export.map&&(e.fixtures.export.map={selected:t.export.map.isSelected??!0,selectable:t.export.map.isSelectable??!0},t.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),t.export.mapElements&&(e.fixtures.export.mapElements={selected:t.export.mapElements.isSelected??!0,selectable:t.export.mapElements.isSelectable??!0},t.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),t.export.legend&&(e.fixtures.export.legend={selected:t.export.legend.isSelected??!0,selectable:t.export.legend.isSelectable??!0},t.export.legend.columnWidth&&(e.fixtures.export.legend.columnWidth=t.export.legend.columnWidth),t.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof t.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof t.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),t.export.footnote&&(e.fixtures.export.footnote={selected:t.export.footnote.isSelected??!0,selectable:t.export.footnote.isSelectable??!0,value:t.export.footnote.value??""}),t.export.timestamp&&(e.fixtures.export.timestamp={selected:t.export.timestamp.isSelected??!0,selectable:t.export.timestamp.isSelectable??!0},t.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),t.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof t.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),t.proxyUrl&&(e.system.proxyUrl=t.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach(i=>{typeof t[i]<"u"&&console.warn(`${i} property provided in services config cannot be mapped and will be skipped.`)})}function Vye(t,e){if(t.navBar){e.fixtures.mapnav={zoomOption:t.navBar.zoom||"buttons",items:[]};const s=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];t.navBar.extra.forEach(n=>{const o=n.toLowerCase();s.includes(o)?e.fixtures.mapnav.items.push(o):console.warn(`Ignored invalid mapnav item: ${n}`)}),e.fixturesEnabled.push("mapnav")}if(t.help&&(e.fixtures.help={location:t.help.folderName&&t.help.folderName!=="default"?`./${t.help.folderName}`:"./help",panelWidth:350},e.fixturesEnabled.push("help")),t.legend){const s=["groupToggle","visibilityToggle"];t.legend.reorderable&&s.push("layerReorder"),t.legend.allowImport&&s.push("wizard"),e.fixtures.legend?e.fixtures.legend.headerControls=s:(e.fixturesEnabled.push("legend"),e.fixtures.legend={headerControls:s,root:{}}),t.legend.isOpen&&t.legend.isOpen.large&&e.panels.open.push({id:"legend"})}e.fixtures.appbar={items:[]},e.fixturesEnabled.push("appbar");const r=["layers","basemap","export","help","geoSearch"];t.appBar?(t.appBar.layers!==!1&&(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend")),t.appBar.geoSearch!==!1&&e.fixturesEnabled.includes("geosearch")&&e.fixtures.appbar.items.push("geosearch"),t.appBar.basemap!==!1&&e.fixtures.appbar.items.push("basemap")):(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend"),e.fixtures.appbar.items.push("geosearch"),e.fixtures.appbar.items.push("basemap")),t.sideMenu&&t.sideMenu.items&&t.sideMenu.items.length>0&&t.sideMenu.items.forEach(s=>{s.forEach(n=>{n==="layers"&&!e.fixtures.appbar.items.includes("legend")?(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend")):n!=="layers"&&r.includes(n)&&!e.fixtures.appbar.items.includes(n.toLowerCase())&&(e.fixtures.appbar.items.push(n.toLowerCase()),(n.toLowerCase()==="help"||n.toLowerCase()==="export"&&!e.fixturesEnabled.includes(n.toLowerCase()))&&e.fixturesEnabled.push(n.toLowerCase()))})}),t.tableIsOpen&&t.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach(s=>{typeof t[s]<"u"&&console.warn(`${s} property provided in services config cannot be mapped and will be skipped.`)})}function Gye(t,e){t.areasOfInterest.enable&&(e.fixturesEnabled.includes("areas-of-interest")||e.fixturesEnabled.push("areas-of-interest"),t.areasOfInterest.areas&&(e.fixtures["areas-of-interest"]={areas:t.areasOfInterest.areas.map(r=>({title:`${r["title-en-CA"]} / ${r["title-fr-CA"]}`,thumbnail:r.thumbnailUrl,altText:r.altText??"",description:r.description??"",extent:{xmin:r.xmin,xmax:r.xmax,ymin:r.ymin,ymax:r.ymax,spatialReference:{wkid:r.wkid}}}))}))}function zye(t,e){const r=t.outfields&&t.outfields!=="*";if(!r&&!t.fieldMetadata)return;const i={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};t.fieldMetadata?(i.fieldInfo=t.fieldMetadata.map(s=>{const n={name:s.data};return s.alias&&(n.alias=s.alias),n}),r&&(t.outfields.split(",").map(n=>n.trim()).forEach(n=>{i.fieldInfo.findIndex(o=>o.name===n)===-1&&i.fieldInfo.push({name:n})}),i.exclusiveFields=!0)):r&&(i.fieldInfo=t.outfields.split(",").map(s=>({name:s.trim()})),i.exclusiveFields=!0),e.fieldMetadata=i}var qu={major:"4",minor:"13",patch:"0-beta",timestamp:"Tue Jul 22 12:07:48 2025 -0400",hash:"c485d8fa3678dc0bc7b19885c3b9ef28c7f92c3e"};console.info(`RAMP v${qu.major}.${qu.minor}.${qu.patch} [${qu.hash.slice(0,9)}] (Built on ${new Date(qu.timestamp.toString()).toLocaleString()})`);const Qf=qu;function xwe(t){return Dye(t)}const Ewe=(t,e,r)=>new dme(t,e,r),Ih=new ate;export{Dr as $,gC as A,Hn as B,KE as C,yp as D,E0e as E,jA as F,Kt as G,ni as H,Qe as I,Wv as J,Eve as K,mp as L,Ky as M,pp as N,fm as O,Ji as P,U5 as Q,_t as R,fC as S,U2e as T,Jt as U,Mt as V,lve as W,JB as X,pe as Y,Pj as Z,fl as _,SJ as a,Po as a$,Ct as a0,cge as a1,ay as a2,Cr as a3,XD as a4,tF as a5,Bn as a6,Wve as a7,jn as a8,ur as a9,wwe as aA,ya as aB,_m as aC,b6 as aD,w6 as aE,_6 as aF,v6 as aG,TF as aH,e_e as aI,B4 as aJ,q_e as aK,_1e as aL,Abe as aM,Wq as aN,Obe as aO,Ibe as aP,xbe as aQ,JE as aR,hH as aS,Yi as aT,eC as aU,$be as aV,sg as aW,obe as aX,Fe as aY,Rd as aZ,L0e as a_,X as aa,li as ab,ou as ac,Jr as ad,H_ as ae,PC as af,bU as ag,Cv as ah,p2 as ai,tS as aj,gm as ak,qc as al,mF as am,ls as an,si as ao,Zve as ap,ee as aq,uW as ar,Yv as as,Jv as at,Pve as au,L5 as av,k5 as aw,LB as ax,Ao as ay,nK as az,Nh as b,ht as b$,_5 as b0,w5 as b1,lge as b2,Ige as b3,RC as b4,Bv as b5,qv as b6,wp as b7,JC as b8,Pn as b9,RH as bA,HN as bB,_be as bC,bbe as bD,hbe as bE,$p as bF,Mp as bG,_H as bH,kbe as bI,Yve as bJ,zc as bK,at as bL,mh as bM,bf as bN,Rve as bO,s0e as bP,n0e as bQ,K1e as bR,o0e as bS,wl as bT,c_e as bU,To as bV,jN as bW,Rr as bX,A0e as bY,UI as bZ,age as b_,Xj as ba,OE as bb,NE as bc,Qj as bd,zv as be,uve as bf,yve as bg,_ve as bh,Fv as bi,wt as bj,_p as bk,wj as bl,G1e as bm,V1e as bn,lbe as bo,Lo as bp,WE as bq,QD as br,Lbe as bs,iH as bt,Aq as bu,DT as bv,UC as bw,ts as bx,DE as by,DH as bz,Ewe as c,c0e as c$,Ove as c0,Et as c1,J1e as c2,tge as c3,ut as c4,bp as c5,wve as c6,mm as c7,vm as c8,xl as c9,Bbe as cA,Tbe as cB,Mbe as cC,Dv as cD,iG as cE,z_e as cF,_f as cG,Sm as cH,QW as cI,eY as cJ,tY as cK,R1e as cL,mC as cM,L_ as cN,m0e as cO,DI as cP,Kye as cQ,zI as cR,Jye as cS,N5 as cT,Ebe as cU,dg as cV,Jq as cW,Pbe as cX,C5 as cY,Nbe as cZ,Yq as c_,Un as ca,xwe as cb,LJ as cc,qf as cd,Mu as ce,IY as cf,wS as cg,XP as ch,QP as ci,gr as cj,ewe as ck,nM as cl,nJ as cm,k2e as cn,G2e as co,V2e as cp,KW as cq,rB as cr,dve as cs,ZW as ct,wn as cu,NB as cv,Pd as cw,jbe as cx,Gbe as cy,Vbe as cz,FE as d,Si as d$,TB as d0,$ve as d1,SB as d2,g6 as d3,F1e as d4,OV as d5,vb as d6,G5 as d7,Af as d8,n2 as d9,e0e as dA,fW as dB,Qye as dC,mW as dD,yW as dE,gW as dF,Bve as dG,Gve as dH,Vve as dI,zve as dJ,qve as dK,Hve as dL,IH as dM,yd as dN,Tu as dO,fY as dP,gbe as dQ,uwe as dR,xJ as dS,cwe as dT,Sp as dU,Fge as dV,Uge as dW,rbe as dX,ebe as dY,tbe as dZ,bm as d_,Yt as da,fg as db,s2 as dc,a2 as dd,X1e as de,qge as df,zge as dg,Dj as dh,Gc as di,CE as dj,Xbe as dk,r0e as dl,mg as dm,Pv as dn,Lv as dp,cC as dq,Ea as dr,xe as ds,fe as dt,ce as du,us as dv,zr as dw,qr as dx,c1e as dy,jh as dz,Ve as e,jg as e$,ibe as e0,xb as e1,pge as e2,j2e as e3,db as e4,pw as e5,j1e as e6,M_e as e7,W_e as e8,jH as e9,cH as eA,Dge as eB,W0e as eC,H0e as eD,fve as eE,aS as eF,IP as eG,Vd as eH,sa as eI,Er as eJ,bH as eK,sG as eL,st as eM,sr as eN,su as eO,Bpe as eP,tt as eQ,$t as eR,Vt as eS,Ar as eT,$e as eU,Nr as eV,Ul as eW,Lt as eX,Ot as eY,lr as eZ,Dt as e_,BH as ea,kge as eb,Nv as ec,_0e as ed,F2e as ee,B2e as ef,Cbe as eg,L_e as eh,J_e as ei,ave as ej,bve as ek,sge as el,Tr as em,Ei as en,Is as eo,ym as ep,K_ as eq,xt as er,S1e as es,x1e as et,D1e as eu,XT as ev,Dve as ew,Fve as ex,s2e as ey,ige as ez,ge as f,i6 as f$,nv as f0,O1 as f1,Zr as f2,vi as f3,Fr as f4,Yn as f5,Wt as f6,wo as f7,Vpe as f8,Ie as f9,a0e as fA,Jve as fB,OB as fC,Zy as fD,V_e as fE,I_e as fF,A1e as fG,Zye as fH,h1e as fI,M0e as fJ,q2e as fK,y_e as fL,h_e as fM,KB as fN,jB as fO,V5 as fP,E_e as fQ,x_e as fR,vW as fS,X5 as fT,jI as fU,VI as fV,GI as fW,w0e as fX,K0e as fY,k1e as fZ,r6 as f_,er as fa,Ze as fb,qS as fc,rge as fd,hF as fe,S2e as ff,Kc as fg,i1 as fh,d0e as fi,EB as fj,m2e as fk,Ns as fl,pW as fm,gh as fn,Vj as fo,Il as fp,i0 as fq,Hu as fr,Kv as fs,B1e as ft,au as fu,u0e as fv,o1e as fw,Cve as fx,IB as fy,CB as fz,Ih as g,Rge as g$,fE as g0,xE as g1,lC as g2,XH as g3,nS as g4,gve as g5,kF as g6,Gge as g7,xve as g8,b5 as g9,X0e as gA,dC as gB,$x as gC,lme as gD,O as gE,CP as gF,NP as gG,uE as gH,Tve as gI,tve as gJ,gy as gK,h1 as gL,swe as gM,dwe as gN,QI as gO,dW as gP,hW as gQ,Nve as gR,DB as gS,Y0e as gT,P2e as gU,T2e as gV,ome as gW,k1 as gX,TE as gY,Jj as gZ,w1e as g_,Sve as ga,Ave as gb,Lh as gc,abe as gd,Pge as ge,k0e as gf,Qbe as gg,ZP as gh,El as gi,Z0e as gj,jpe as gk,br as gl,sv as gm,ame as gn,l5 as go,p5 as gp,vf as gq,P0e as gr,qI as gs,Jge as gt,lj as gu,dj as gv,yj as gw,Ph as gx,YF as gy,_l as gz,LF as h,T_e as h$,F0e as h0,r5 as h1,PP as h2,kv as h3,O0e as h4,I0e as h5,$0e as h6,kj as h7,t9 as h8,um as h9,fme as hA,US as hB,On as hC,P1 as hD,ok as hE,lT as hF,pC as hG,QH as hH,G0e as hI,BV as hJ,P1e as hK,oE as hL,C0e as hM,aE as hN,N0e as hO,Ege as hP,L2e as hQ,C2e as hR,Lge as hS,p1e as hT,Z5 as hU,M0 as hV,co as hW,W5 as hX,_V as hY,rS as hZ,O_e as h_,uH as ha,x3 as hb,Bm as hc,OI as hd,Wye as he,GD as hf,Hye as hg,zD as hh,i0e as hi,ime as hj,sme as hk,yI as hl,Ga as hm,F7 as hn,RA as ho,Ce as hp,cme as hq,ms as hr,Go as hs,Fn as ht,ul as hu,kl as hv,Yp as hw,Pr as hx,Jm as hy,Mg as hz,rr as i,JU as i$,mge as i0,yge as i1,L1 as i2,dt as i3,uG as i4,_2e as i5,Sbe as i6,YW as i7,z2e as i8,ir as i9,vve as iA,Zme as iB,uye as iC,Xme as iD,hme as iE,m6 as iF,PV as iG,g1e as iH,dP as iI,t2e as iJ,Z_e as iK,Tp as iL,mme as iM,ume as iN,Nt as iO,kp as iP,LA as iQ,rme as iR,qn as iS,CA as iT,$i as iU,Be as iV,Fde as iW,b2e as iX,rn as iY,j0e as iZ,z5 as i_,Z2e as ia,E2e as ib,w2e as ic,z4 as id,pi as ie,nF as ig,eT as ih,YD as ii,gV as ij,SV as ik,H5 as il,a1e as im,C1e as io,mE as ip,Age as iq,Sge as ir,eU as is,QF as it,M1e as iu,ege as iv,Lve as iw,cve as ix,t5 as iy,Gv as iz,oi as j,Cge as j$,Q1e as j0,cbe as j1,eW as j2,Mve as j3,K2e as j4,vp as j5,Vv as j6,FB as j7,Rh as j8,kve as j9,Vi as jA,ze as jB,wr as jC,po as jD,D7 as jE,iE as jF,AR as jG,nme as jH,QS as jI,Qt as jJ,A_e as jK,S_e as jL,xW as jM,Xye as jN,hve as jO,hE as jP,eve as jQ,nl as jR,Wn as jS,yr as jT,Ive as jU,XF as jV,za as jW,KD as jX,Kj as jY,kT as jZ,UF as j_,n1e as ja,MH as jb,qD as jc,zi as jd,Xo as je,il as jf,Vr as jg,UW as jh,p0e as ji,FT as jj,d1e as jk,f1e as jl,LV as jm,Am as jn,Tm as jo,Mm as jp,h0e as jq,Bge as jr,BI as js,u5 as jt,ove as ju,P5 as jv,PT as jw,d5 as jx,Ch as jy,f0e as jz,D2e as k,iL as k$,Nge as k0,Yye as k1,CV as k2,m1e as k3,Kve as k4,l0e as k5,t6 as k6,W2e as k7,Y2e as k8,H2e as k9,S0e as kA,pwe as kB,di as kC,ii as kD,$1e as kE,Y_e as kF,JF as kG,J0e as kH,sbe as kI,u2 as kJ,h2 as kK,hg as kL,ug as kM,Qve as kN,jve as kO,Uve as kP,YB as kQ,u_e as kR,l1e as kS,I2e as kT,N2e as kU,O2e as kV,M2e as kW,v0e as kX,NH as kY,CH as kZ,QE as k_,oP as ka,lf as kb,Wce as kc,Eo as kd,Ur as ke,Cf as kf,Iue as kg,Ke as kh,wJ as ki,xge as kj,jv as kk,ma as kl,dE as km,Ube as kn,i3 as ko,ZS as kp,xi as kq,$k as kr,nbe as ks,x2e as kt,$n as ku,y1e as kv,y2e as kw,g2e as kx,v2e as ky,nge as kz,hm as l,R0e as l$,BJ as l0,ZJ as l1,gwe as l2,VJ as l3,owe as l4,WP as l5,ywe as l6,kJ as l7,qw as l8,$J as l9,r1e as lA,dF as lB,WC as lC,MV as lD,U1e as lE,RV as lF,GV as lG,v1e as lH,$V as lI,y2 as lJ,b1e as lK,E1e as lL,O1e as lM,Js as lN,wge as lO,mve as lP,Xve as lQ,ha as lR,Gi as lS,R2e as lT,z0e as lU,sH as lV,b0e as lW,wH as lX,Op as lY,Cp as lZ,oH as l_,du as la,$h as lb,_3 as lc,dh as ld,Wy as le,ra as lf,Ds as lg,Or as lh,XN as li,SH as lj,hT as lk,e1e as ll,t1e as lm,pve as ln,Hj as lo,Eg as lp,wbe as lq,fbe as lr,mbe as ls,dbe as lt,ybe as lu,pbe as lv,vbe as lw,Z1e as lx,iT as ly,ube as lz,cL as m,L1e as m0,cP as m1,N1e as m2,nB as m3,eF as m4,j_e as m5,B_e as m6,lP as m7,dG as m8,oge as m9,_W as mA,g_e as mB,g0e as mC,JD as mD,y0e as mE,N_e as mF,t0e as mG,bW as mH,gge as mI,m_e as mJ,F_e as mK,p_e as mL,d_e as mM,I1e as mN,oC as mO,q0e as mP,U_e as mQ,Tge as ma,$2e as mb,IF as mc,u1e as md,dV as me,lV as mf,ST as mg,Vge as mh,f_e as mi,H_e as mj,P_e as mk,D_e as ml,k_e as mm,D0e as mn,h2e as mo,u2e as mp,T0e as mq,C_e as mr,T1e as ms,G_e as mt,U0e as mu,xn as mv,J2e as mw,R_e as mx,$_e as my,Ku as mz,MF as n,NF as o,gd as p,g as q,XI as r,mt as s,cE as t,Es as u,A as v,PF as w,ie as x,FU as y,rt as z};
