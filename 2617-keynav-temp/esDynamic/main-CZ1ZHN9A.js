var Js=(e=>(e.BLOB="blob",e.DATE="date",e.DOUBLE="double",e.GEOMETRY="geometry",e.GLOBAL_ID="global-id",e.GUID="guid",e.INTEGER="integer",e.LONG="long",e.OID="oid",e.RASTER="raster",e.SINGLE="single",e.SMALL_INTEGER="small-integer",e.STRING="string",e.XML="xml",e))(Js||{}),Qs=(e=>(e.CIRCLE="circle",e.CROSS="cross",e.DIAMOND="diamond",e.ICON="icon",e.PATH="path",e.SQUARE="square",e.TRIANGLE="triangle",e.X="x",e))(Qs||{}),Zr=(e=>(e.DASH="dash",e.DASHDOT="dash-dot",e.DASHDOTDOT="short-dash-dot-dot",e.DOT="dot",e.LONGDASH="long-dash",e.LONGDASHDOT="long-dash-dot",e.LONGDASHDOTDOT="long-dash-dot-dot",e.NONE="none",e.NULL="none",e.SHORTDASH="short-dash",e.SHORTDASHDOT="short-dash-dot",e.SHORTDASHDOTDOT="short-dash-dot-dot",e.SHORTDOT="short-dot",e.SOLID="solid",e))(Zr||{}),LA=(e=>(e.BEVEL="bevel",e.MITER="miter",e.ROUND="round",e))(LA||{}),DA=(e=>(e.ROUND="round",e.BUTT="butt",e.SQUARE="square",e))(DA||{}),PA=(e=>(e.BDIAG="backward-diagonal",e.CROSS="cross",e.DIAG_CROSS="diagonal-cross",e.FDIAG="forward-diagonal",e.HORIZONTAL="horizontal",e.NONE="none",e.NULL="none",e.SOLID="solid",e.VERTICAL="vertical",e))(PA||{}),Xe=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e.LINEARRING="LinearRing",e.EXTENT="Extent",e.NONE="None",e.UNKNOWN="Unknown",e))(Xe||{}),_y=(e=>(e.Simple="simple",e.Unique="uniqueValue",e.ClassBreaks="classBreaks",e.Unknown="unknown",e))(_y||{}),Oe=(e=>(e.FEATURE="esri-feature",e.MAPIMAGE="esri-map-image",e.TILE="esri-tile",e.IMAGERY="esri-imagery",e.GRAPHIC="esri-graphic",e.WMS="ogc-wms",e.WFS="ogc-wfs",e.GEOJSON="file-geojson",e.GEOJSONZIPPED="file-zip-geojson",e.CSV="file-csv",e.SHAPEFILE="file-shape",e.FLATGEOBUF="file-fgb",e.FLATGEOBUFZIPPED="file-zip-fgb",e.OSM="osm-tile",e.DATACSV="data-csv",e.DATAJSON="data-json",e.DATATABLE="data-esri-table",e.UNKNOWN="unknown",e.SUBLAYER="sublayer",e))(Oe||{}),gi=(e=>(e.FEATURE="feature",e.GRAPHIC="graphic",e.IMAGERY="imagery",e.MAPIMAGE="map-image",e.NOLAYER="no-layer",e.OSM="osm-tile",e.TILE="tile",e.UNKNOWN="unknown",e.WMS="wms",e))(gi||{}),ar=(e=>(e.ESRI_FEATURE="esriFeature",e.ESRI_RASTER="esriRaster",e.ESRI_TILE="esriTile",e.OSM_TILE="osmTile",e.OGC_RASTER="ogcRaster",e.UNKNOWN="unknown",e))(ar||{}),hn=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e))(hn||{}),zn=(e=>(e.GEOMETRIC="geometric",e.SYMBOLIC="symbolic",e.HYBRID="hybrid",e.NONE="none",e))(zn||{}),Bt=(e=>(e.NEW="new",e.INITIATING="initiating",e.INITIATED="initiated",e.TERMINATING="terminating",e.TERMINATED="terminated",e))(Bt||{}),sn=(e=>(e.NEW="new",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error",e))(sn||{}),Br=(e=>(e.NOT_LOADED="not-loaded",e.NOT_VISUAL="not-visual",e.REFRESH="refresh",e.UP_TO_DATE="up-to-date",e))(Br||{}),pc=(e=>(e.ESRI="esri",e.TEXT="text",e.IMAGE="image",e.HTML="html",e.XML="xml",e.JSON="json",e.UNKNOWN="unknown",e))(pc||{}),gr=(e=>(e.SYMBOL="symbol",e.GRID="grid",e.EXTENT="extent",e.INITIAL="initial",e.API="api",e.PERMANENT="permanent",e))(gr||{}),dn=(e=>(e.BoundaryZoom="boundaryZoom",e.Datatable="datatable",e.Identify="identify",e.Metadata="metadata",e.Opacity="opacity",e.Refresh="refresh",e.Reload="reload",e.Remove="remove",e.Settings="settings",e.Symbology="symbology",e.Visibility="visibility",e))(dn||{});class ki{attributes;geometry;style;id;constructor(t,n,r){this.geometry=t,n?this.id=n:this.id=rh.sharedUtils.generateUUID(),r?this.attributes=r:this.attributes={}}_hover;get hover(){return this._hover}set hover(t){t&&this._hover&&this._hover.id!==t.id&&this.removeHover(),this._hover=t}removeHover(){this._hover&&(this._hover=void 0)}}const wy={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function FA(e){return!!wy[e]||!!wy[e.toLowerCase()]}function i2(e){return wy[e]??wy[e.toLowerCase()]}function Wz(e){return[...i2(e)]}function s2(e,t,n){n<0&&++n,n>1&&--n;const r=6*n;return r<1?e+(t-e)*r:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function UA(e,t,n,r=1){const i=(e%360+360)%360/360,s=n<=.5?n*(t+1):n+t-n*t,o=2*n-s;return[Math.round(255*s2(o,s,i+1/3)),Math.round(255*s2(o,s,i)),Math.round(255*s2(o,s,i-1/3)),r]}function Zz(e){const t=e.length>5,n=t?8:4,r=(1<<n)-1,i=t?1:17,s=t?e.length===9:e.length===5;let o=+("0x"+e.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&r,o>>=n,a[3]=i*l/255),l=o&r,o>>=n,a[2]=i*l,l=o&r,o>>=n,a[1]=i*l,l=o&r,o>>=n,a[0]=i*l,a}const Bz=2.2,GA=new Float32Array(1);function Xz(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function jp(e,t,n){return Math.min(Math.max(e,t),n)}function Hz(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function jA(e,t,n){return e+(t-e)*n}function Yz(e,t,n,r,i){return jA(r,i,(e-t)/(n-t))}function qz(e){return e*Math.PI/180}function Jz(e){return 180*e/Math.PI}function Qz(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function Kz(e){return Math.acos(jp(e,-1,1))}function e$(e){return Math.asin(jp(e,-1,1))}function fc(e,t,n=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=n}function t$(e,t,n=1e-6){return!fc(e,t,n)&&e>t}function n$(e,t,n=1e-6){return!fc(e,t,n)&&e<t}function r$(e,t,n=1e-6){return fc(e,t,n)||e>t}const xy=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function o2(e){return xy.setFloat64(0,e),xy.getBigInt64(0)}function i$(e){return xy.setBigInt64(0,e),xy.getFloat64(0)}const Ey=BigInt("1000000"),s$=zA(1);function zA(e){const t=o2(e=Math.abs(e)),n=i$(t<=Ey?Ey:t-Ey);return Math.abs(e-n)}function o$(e,t,n=s$){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(n!=null&&zA(Math.min(Math.abs(e),Math.abs(t)))<n)return Math.abs(e-t)<=n;const r=o2(e),i=o2(t);return r<0!=i<0?!1:!((r<i?i-r:r-i)>Ey)}function a$(e){return $A(Math.max(-a2,Math.min(e,a2)))}function $A(e){return GA[0]=e,GA[0]}function l$(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(fc(t,1)&&fc(n,1)&&fc(r,1))}function c$(e,t){return(e%t+t)%t}const a2=$A(34028234663852886e22);function u$(e,t,n){if(n===void 0||+n==0)return Math[e](t);if(t=+t,n=+n,isNaN(t)||typeof n!="number"||n%1!=0)return NaN;let r=t.toString().split("e");return r=(t=Math[e](+(r[0]+"e"+(r[1]?+r[1]-n:-n)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+n:n))}let Da;function re(e){return typeof Da[e]=="function"?Da[e]=Da[e](globalThis):Da[e]}Da=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},re.add=(e,t,n,r)=>{(r||Da[e]===void 0)&&(Da[e]=t),n&&re(e)},re.cache=Da,re.add("big-integer-warning-enabled",!0),re.add("esri-deprecation-warnings",!0),re.add("esri-tests-disable-screenshots",!1),re.add("esri-tests-use-full-window",!1),re.add("esri-tests-post-to-influx",!0),re.add("esri-cim-animations-enable-status","enabled"),re.add("esri-cim-animations-spotlight",!1),re.add("esri-cim-animations-freeze-time",!1),re.add("enable-feature:multiple-highlights",!0),(()=>{re.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(re.add("host-browser",e),re.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),re.add("dom",e),re("host-browser")){const t=navigator,n=t.userAgent,r=t.appVersion,i=parseFloat(r);if(re.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),re.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),re.add("khtml",r.includes("Konqueror")?i:void 0),re.add("edge",parseFloat(n.split("Edge/")[1])||void 0),re.add("opr",parseFloat(n.split("OPR/")[1])||void 0),re.add("webkit",!re("wp")&&!re("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),re.add("chrome",!re("edge")&&!re("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),re.add("android",!re("wp")&&parseFloat(n.split("Android ")[1])||void 0),re.add("safari",!r.includes("Safari")||re("wp")||re("chrome")||re("android")||re("edge")||re("opr")?void 0:parseFloat(r.split("Version/")[1])),re.add("mac",r.includes("Macintosh")),!re("wp")&&/(iPhone|iPod|iPad)/.test(n)){const s=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(n)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));re.add(s,a),re.add("ios",a)}re("webkit")||(!n.includes("Gecko")||re("wp")||re("khtml")||re("edge")||re.add("mozilla",i),re("mozilla")&&re.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),n=/iPhone/i.test(e);t&&re.add("esri-mobile",t),n&&re.add("esri-iPhone",n),re.add("esri-geolocation",!!navigator.geolocation)}re.add("esri-wasm","WebAssembly"in globalThis),re.add("esri-performance-mode-frames-between-render",20),re.add("esri-force-performance-mode",!1),re.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),re.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),re.add("esri-atomics","Atomics"in globalThis),re.add("esri-workers","Worker"in globalThis),re.add("web-feat:cache","caches"in globalThis),re.add("esri-workers-arraybuffer-transfer",!re("safari")||Number(re("safari"))>=12),re.add("workers-pool-size",8),re.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),re.add("featurelayer-simplify-payload-size-factors",[1,1,4]),re.add("featurelayer-fast-triangulation-enabled",!0),re.add("featurelayer-animation-enabled",!0),re.add("featurelayer-snapshot-enabled",!0),re.add("featurelayer-snapshot-point-min-threshold",8e4),re.add("featurelayer-snapshot-point-max-threshold",4e5),re.add("featurelayer-snapshot-point-coverage",.1),re.add("featurelayer-query-max-depth",4),re.add("featurelayer-query-pausing-enabled",!1),re.add("featurelayer-advanced-symbols",!1),re.add("featurelayer-pbf",!0),re.add("featurelayer-pbf-statistics",!1),re.add("feature-layers-workers",!0),re.add("feature-polyline-generalization-factor",1),re.add("mapview-transitions-duration",200),re.add("mapview-essential-goto-duration",200),re.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),re.add("mapserver-pbf-version-support",10.81),re.add("mapservice-popup-identify-max-tolerance",20),re.add("request-queue-concurrency-hosted",16),re.add("request-queue-concurrency-non-hosted",4),re.add("curve-densification-coarse-segments",128),re.add("curve-densification-max-segments",2e3),re.add("curve-densification-min-segments",3),re.add("curve-densification-pixels-per-segment",16),re.add("view-readyState-waiting-delay",1e3),re.add("gradient-depth-bias",.01),re.add("gradient-depth-epsilon",1e-8),re("host-webworker")||re("host-browser")&&(re.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),re.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{re.add("esri-image-decode",!0,!0,!0)}).catch(()=>{re.add("esri-image-decode",!1,!0,!0)})}return!1}),re.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();function h$(e){}function d$(e){return()=>e}function p$(e){return e}let zp=class ih{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*ih._m}getInt(){return this._seed=(ih._a*this._seed+ih._c)%ih._m,this._seed}getFloat(){return this.getInt()/(ih._m-1)}getIntRange(t,n){return Math.round(this.getFloatRange(t,n))}getFloatRange(t,n){const r=n-t;return t+this.getInt()/ih._m*r}};zp._m=2147483647,zp._a=48271,zp._c=0;const VA=1.5,f$=1/VA,m$=.5;function y$(e,t){return t?e.filter((n,r,i)=>i.findIndex(t.bind(null,n))===r):Array.from(new Set(e))}function $p(e,t,n){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(n){for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function g$(e,t,n){let r,i;return n?(r=t.filter(s=>!e.some(o=>n(o,s))),i=e.filter(s=>!t.some(o=>n(o,s)))):(r=t.filter(s=>!e.includes(s)),i=e.filter(s=>!t.includes(s))),{added:r,removed:i}}function v$(e){return e&&typeof e.length=="number"}let l2=class{constructor(){this.last=0}};const WA=new l2;function Ty(e,t,n,r){r=r||WA;const i=Math.max(0,r.last-10);for(let o=i;o<n;++o)if(e[o]===t)return r.last=o,o;const s=Math.min(i,n);for(let o=0;o<s;++o)if(e[o]===t)return r.last=o,o;return-1}function b$(e,t,n,r){const i=e.length,s=Ty(e,t,i,r);if(s!==-1)return e[s]=e[i-1],e.pop(),t}const ds=new Set;function _$(e,t,n=e.length,r=t.length,i,s){if(r===0||n===0)return n;ds.clear();for(let a=0;a<r;++a)ds.add(t[a]);i=i||WA;const o=Math.max(0,i.last-10);for(let a=o;a<n;++a)if(ds.has(e[a])&&(s?.push(e[a]),ds.delete(e[a]),e[a]=e[n-1],--n,--a,ds.size===0||n===0))return ds.clear(),n;for(let a=0;a<o;++a)if(ds.has(e[a])&&(s?.push(e[a]),ds.delete(e[a]),e[a]=e[n-1],--n,--a,ds.size===0||n===0))return ds.clear(),n;return ds.clear(),n}function w$(e,t,n){const r=e.length;if(t>=r)return e.slice();const i=c2(n),s=new Set,o=[];for(;o.length<t;){const a=Math.floor(i()*r);s.has(a)||(s.add(a),o.push(e[a]))}return o}function c2(e){return e?(ZA.seed=e,()=>ZA.getFloat()):Math.random}const ZA=new zp;function x$(e,t){const n=c2(t);for(let r=e.length-1;r>0;r--){const i=Math.floor(n()*(r+1)),s=e[r];e[r]=e[i],e[i]=s}return e}function BA(e,t){const n=e.indexOf(t);return n!==-1?(e.splice(n,1),t):null}function XA(e,t){return e!=null}const E$=[];function T$(e){return e instanceof ArrayBuffer}function u2(e){return e?.constructor?.name==="Int8Array"}function h2(e){return e?.constructor?.name==="Uint8Array"}function d2(e){return e?.constructor?.name==="Uint8ClampedArray"}function Sy(e){return e?.constructor?.name==="Int16Array"}function p2(e){return e?.constructor?.name==="Uint16Array"}function Iy(e){return e?.constructor?.name==="Int32Array"}function f2(e){return e?.constructor?.name==="Uint32Array"}function Vp(e){return e?.constructor?.name==="Float32Array"}function Wp(e){return e?.constructor?.name==="Float64Array"}function HA(e){return"buffer"in e}const m2=1024;function S$(e){return Wp(e)||Vp(e)||Iy(e)||Sy(e)||u2(e)}function I$(e){return Wp(e)||Vp(e)}function A$(e){return Wp(e)?179769e303:Vp(e)?3402823e32:f2(e)?4294967295:p2(e)?65535:h2(e)||d2(e)?255:Iy(e)?2147483647:Sy(e)?32767:u2(e)?127:256}function M$(e,t){let n;for(n in e)e.hasOwnProperty(n)&&e[n]===void 0&&delete e[n];return e}function ye(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=QA(e);if(t!=null)return t;if(g2(e))return e.clone();if(YA(e))return e.map(ye);if(qA(e))throw new Error("Trying to clone an unclonable Accessor instance");const n={};for(const r of Object.getOwnPropertyNames(e))n[r]=ye(e[r]);return n}function y2(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=QA(e);if(t!=null)return t;if(YA(e)){let r=!0;const i=e.map(s=>{const o=y2(s);return s!=null&&o==null&&(r=!1),o});return r?i:null}if(g2(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(qA(e))return null;const n=new(Object.getPrototypeOf(e)).constructor;for(const r of Object.getOwnPropertyNames(e)){const i=e[r],s=y2(i);if(i!=null&&s==null)return null;n[r]=s}return n}function g2(e){return typeof e.clone=="function"}function YA(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function qA(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function JA(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function QA(e){if(u2(e)||h2(e)||d2(e)||Sy(e)||p2(e)||Iy(e)||f2(e)||Vp(e)||Wp(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[n,r]of e)t.set(n,ye(r));return t}if(e instanceof Set){const t=new Set;for(const n of e)t.add(ye(n));return t}return null}function v2(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof e?.getTime=="function"&&typeof t?.getTime=="function"&&e.getTime()===t.getTime()||!1}function KA(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&$p(e,t):e instanceof Set?t instanceof Set&&N$(e,t):e instanceof Map?t instanceof Map&&k$(e,t):!!JA(e)&&JA(t)&&O$(e,t))}function O$(e,t){if(e===null||t===null)return!1;const n=Object.keys(e);if(t===null||Object.keys(t).length!==n.length)return!1;for(const r of n)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}function N$(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function k$(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e){const i=t.get(n);if(i!==r||i===void 0&&!t.has(n))return!1}return!0}function eM(e,t,n=!1){return nM(e,t,n)}function Ay(e,t){if(t!=null)return t[e]||tM(e.split("."),!1,t)}function mc(e,t,n){const r=e.split("."),i=r.pop(),s=tM(r,!0,n);s&&i&&(s[i]=t)}function b2(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const n=t;if(e.length!==n.length)return!0;for(let r=0;r<e.length;r++)if(b2(e[r],n[r]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in e)if(b2(e[n],t[n]))return!0;return!1}return e!==t}function tM(e,t,n){let r=n;for(const i of e){if(r==null)return;if(!(i in r)){if(!t)return;r[i]={}}r=r[i]}return r}function nM(e,t,n){return t?Object.keys(t).reduce((r,i)=>{let s=r[i],o=t[i];return s===o?r:s===void 0?(r[i]=ye(o),r):(Array.isArray(o)||Array.isArray(r)?(s=s?Array.isArray(s)?r[i]=s.slice():r[i]=[s]:r[i]=[],o&&(Array.isArray(o)||(o=[o]),n?o.forEach(a=>{s.includes(a)||s.push(a)}):r[i]=o.slice())):o&&typeof o=="object"?r[i]=nM(s,o,n):r.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(r[i]=o),r)},e||{}):e}const At={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(eM(At,globalThis.esriConfig,!0),delete At.has),!At.assetsPath){{const e="4.32";At.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}At.defaultAssetsPath=At.assetsPath}const C$=/\{([^}]+)\}/g;function rM(e){return e??""}function My(e,t){return t?e.replaceAll(C$,typeof t=="object"?(n,r)=>rM(Ay(r,t)):(n,r)=>rM(t(r))):e}function R$(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,n=>t?.includes(n)?n:`\\${n}`)}function _2(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}let iM;function L$(e){return iM??=new DOMParser,iM.parseFromString(e||"","text/html").body.innerText||""}function D$(e,t){return new RegExp(`{${t}}`,"ig").test(e)}function P$(e,...t){let n=e[0];for(let r=0;r<t.length;++r)n+=t[r]+e[r+1];return n}const sM={info:0,warn:1,error:2,none:3};let kt=class Ni{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,Ni._loggers.set(this.module,this);const n=this.module.lastIndexOf(".");n!==-1&&(this._parent=Ni.getLogger(this.module.slice(0,n)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,Ni._loggers.get(t)||new Ni({module:t})}_log(t,n,...r){if(this._matchLevel(t)){if(n!=="always"&&!Ni._throttlingDisabled){const i=U$(r),s=this._loggedMessages[t].get(i);if(n==="once"&&s!=null||n==="oncePerTick"&&s&&s>=Ni._tickCounter)return;this._loggedMessages[t].set(i,Ni._tickCounter),Ni._scheduleTickCounterIncrement()}for(const i of At.log.interceptors)if(i(t,this.module,...r))return;this._inheritedWriter()(t,this.module,...r)}}_parentWithMember(t,n){let r=this;for(;r!=null;){const i=r[t];if(i!=null)return i;r=r.parent}return n}_inheritedWriter(){return this._parentWithMember("writer",F$)}_matchLevel(t){const n=At.log.level||"warn";return sM[this._parentWithMember("level",n)]<=sM[t]}static _scheduleTickCounterIncrement(){Ni._tickCounterScheduled||(Ni._tickCounterScheduled=!0,Promise.resolve().then(()=>{Ni._tickCounter++,Ni._tickCounterScheduled=!1}))}};function F$(e,t,...n){console[e](`[${t}]`,...n)}function U$(...e){return _2(JSON.stringify(e,(t,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]"))}kt._loggers=new Map,kt._tickCounter=0,kt._tickCounterScheduled=!1,kt._throttlingDisabled=!1;function G$(e,t){for(const n of e.values())if(t(n))return!0;return!1}function j$(e,t){for(const n of e.values())if(t(n))return n;return null}function w2(e,t,n){const r=e.get(t);if(r!==void 0)return r;const i=n();return e.set(t,i),i}function z$(e){const t=new Map;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}const hh=()=>kt.getLogger("esri.core.accessorSupport.ensureTypes");function $$(e){return e==null?e:new Date(e)}function V$(e){return e==null?e:!!e}function oM(e){return e==null?e:e.toString()}function Zp(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function Oy(e){return e==null?e:Math.round(parseFloat(e))}function W$(e){return null}function aM(e,t){return n=>{let r=e(n);return t.step!=null&&(r=Math.round(r/t.step)*t.step),t.min!=null&&(r=Math.max(t.min,r)),t.max!=null&&(r=Math.min(t.max,r)),r}}function lM(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function Ny(e,t){return t!=null&&e&&!(t instanceof e)}function cM(e){return e&&"isCollection"in e}function uM(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Z$(e,t){if(!t?.constructor||!cM(t.constructor))return x2(e,t)?t:new e(t);const n=uM(e.prototype.itemType),r=uM(t.constructor.prototype.itemType);return n?r?n===r?t:n.prototype.isPrototypeOf(r.prototype)?new e(t):(x2(e,t),t):new e(t):t}function x2(e,t){return!!lM(t)&&(hh().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+ky(e)+"'"),!0)}function hM(e,t){return t==null?t:cM(e)?Z$(e,t):Ny(e,t)?x2(e,t)?t:new e(t):t}function ky(e){return e?.prototype?.declaredClass||"unknown"}const B$=new WeakMap;function X$(e){switch(e){case Number:return t=>Zp(t);case wn:return Oy;case Boolean:return V$;case String:return oM;case Date:return $$;case Ry:return W$;default:return w2(B$,e,()=>hM.bind(null,e))}}function Ci(e,t){const n=X$(e);return arguments.length===1?n:n(t)}function Bp(e,t,n){return arguments.length===1?Bp.bind(null,e):t&&(Array.isArray(t)?t.map(r=>e(r,n)):[e(t,n)])}function H$(e,t){return arguments.length===1?Bp(n=>Ci(e,n)):Bp(n=>Ci(e,n),t)}function dM(e,t,n){return t!==0&&Array.isArray(n)?n.map(r=>dM(e,t-1,r)):e(n)}function Cy(e,t,n){if(arguments.length===2)return s=>Cy(e,t,s);if(!n)return n;n=dM(e,t,n);let r=t,i=n;for(;r>0&&Array.isArray(i);)r--,i=i[0];if(i!==void 0)for(let s=0;s<r;s++)n=[n];return n}function Y$(e,t,n){return arguments.length===2?Cy(r=>Ci(e,r),t):Cy(r=>Ci(e,r),t,n)}function pM(e){return!!Array.isArray(e)&&!e.some(t=>{const n=typeof t;return!(n==="string"||n==="number"||n==="function"&&e.length>1)})}function E2(e,t){if(arguments.length===2)return E2(e).call(null,t);const n=new Set,r=e.filter(a=>typeof a!="function"),i=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||n.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,d=c==="string"||c==="number";return d&&(n.has(a)||i.some(p=>c==="string"&&p===String||c==="number"&&p===Number))||c==="object"&&i.some(p=>!Ny(a,p))?a:(d&&r.length?(s||(s=r.map(p=>typeof p=="string"?`'${p}'`:`${p}`).join(", ")),hh().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&i.length?(o||(o=i.map(p=>ky(p)).join(", ")),hh().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):hh().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function yc(e,t){if(arguments.length===2)return yc(e).call(null,t);const n={},r=[],i=[];for(const l in e.typeMap){const c=e.typeMap[l];n[l]=Ci(c),r.push(ky(c)),i.push(l)}const s=()=>`'${r.join("', '")}'`,o=()=>`'${i.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!Ny(e.base,l)||l==null)return l;const c=a(l)||e.defaultKeyValue,d=n[c];if(!d)return hh().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!Ny(e.typeMap[c],l))return l;if(typeof e.key=="string"&&!lM(l)){const p={};for(const f in l)f!==e.key&&(p[f]=l[f]);return d(p)}return d(l)}}let wn=class{},Ry=class{};const q$={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function J$(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function fM(e){switch(e.type){case"native":return Ci(e.value);case"array":return Bp(fM(e.value));case"one-of":return Q$(e);default:return null}}function Q$(e){let t=null;return(n,r)=>S2(n,e)?n:(t==null&&(t=T2(e)),hh().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),r&&(r.valid=!1),null)}function T2(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case wn:return"integer";case Date:return"date";case Ry:return"null";default:return ky(e.value)}case"array":return`array of ${T2(e.value)}`;case"one-of":{const t=e.values.map(n=>T2(n));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function S2(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case wn:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case Ry:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(n=>!S2(n,t.value));case"one-of":return t.values.some(n=>S2(e,n))}}function Ly(e){return jp(Oy(e),0,255)}function Dy(e,t,n){return e=Number(e),isNaN(e)?n:e<t?t:e>n?n:e}function Py(e,t){const n=e.toString(16).padStart(2,"0");return t?n.slice(0,1):n}let lt=class qn{static blendColors(t,n,r,i=new qn){return i.r=Math.round(t.r+(n.r-t.r)*r),i.g=Math.round(t.g+(n.g-t.g)*r),i.b=Math.round(t.b+(n.b-t.b)*r),i.a=t.a+(n.a-t.a)*r,i._sanitize()}static fromRgb(t,n){const r=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(r){const i=r[2].split(/\s*,\s*/),s=r[1];if(s==="rgb"&&i.length===3||s==="rgba"&&i.length===4){const o=i[0];if(o.charAt(o.length-1)==="%"){const a=i.map(l=>2.56*parseFloat(l));return i.length===4&&(a[3]=parseFloat(i[3])),qn.fromArray(a,n)}return qn.fromArray(i.map(a=>parseFloat(a)),n)}if(s==="hsl"&&i.length===3||s==="hsla"&&i.length===4)return qn.fromArray(UA(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])),n)}return null}static fromHex(t,n=new qn){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const r=parseInt(t.slice(1,2),16),i=parseInt(t.slice(2,3),16),s=parseInt(t.slice(3,4),16),o=t.length===5?15:parseInt(t.slice(4),16);return qn.fromArray([r+16*r,i+16*i,s+16*s,(o+16*o)/255],n)}case 7:case 9:{const r=parseInt(t.slice(1,3),16),i=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16),o=t.length===7?255:parseInt(t.slice(7),16);return qn.fromArray([r,i,s,o/255],n)}default:return null}}static fromArray(t,n=new qn){return n._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(n.a)&&(n.a=1),n._sanitize()}static fromString(t,n){const r=FA(t)?i2(t):null;return r&&qn.fromArray(r,n)||qn.fromRgb(t,n)||qn.fromHex(t,n)}static fromJSON(t){return t!=null?new qn([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?qn.fromString(t,this):Array.isArray(t)?qn.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof qn||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const n=t?.capitalize??!1,r=t?.digits??6,i=r===3||r===4,s=r===4||r===8,o=`#${Py(this.r,i)}${Py(this.g,i)}${Py(this.b,i)}${s?Py(Math.round(255*this.a),i):""}`;return n?o.toUpperCase():o}toCss(t=!1){const n=this.r+", "+this.g+", "+this.b;return t?`rgba(${n}, ${this.a})`:`rgb(${n})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=qn.AlphaMode.ALWAYS){const n=Ly(this.r),r=Ly(this.g),i=Ly(this.b);return t===qn.AlphaMode.ALWAYS||this.a!==1?[n,r,i,Ly(255*this.a)]:[n,r,i]}clone(){return new qn(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(Dy(this.r,0,255)),this.g=Math.round(Dy(this.g,0,255)),this.b=Math.round(Dy(this.b,0,255)),this.a=Dy(this.a,0,1),this}_set(t,n,r,i){this.r=t,this.g=n,this.b=r,this.a=i}};lt.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(lt);function v(e,t,n,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function K$(e,t){return function(n,r){t(n,r,e)}}function eV(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(p){o(p)}}function l(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(e,[])).next())})}function tV(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:r,async:n})}return t}var nV=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function rV(e){function t(s){e.error=e.hasError?new nV(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}const mM=new WeakMap;function iV(e,t,n=!1){const r=`\u{1F6D1} DEPRECATED - ${t}`;if(!n)return void e.warn(r);let i=mM.get(e);i||(i=new Set,mM.set(e,i)),i.has(t)||(i.add(t),e.warn(r))}function sV(e,t,n={}){if(re("esri-deprecation-warnings")){const{moduleName:r}=n;dh(e,`Function: ${(r?r+"::":"")+t+"()"}`,n)}}function oV(e,t,n={}){if(re("esri-deprecation-warnings")){const{moduleName:r}=n;dh(e,`Property: ${(r?r+"::":"")+t}`,n)}}function aV(e,t,n={}){re("esri-deprecation-warnings")&&dh(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...n})}function dh(e,t,n={}){if(re("esri-deprecation-warnings")){const{replacement:r,version:i,see:s,warnOnce:o}=n;let a=t;if(r&&(a+=`
	\u{1F6E0}\uFE0F Replacement: ${r}`),i&&(a+=`
	\u2699\uFE0F Version: ${i}`),s)if(Array.isArray(s)){a+=`
	\u{1F517} See for more details:`;for(const l of s)a+=`
		${l}`}else a+=`
	\u{1F517} See ${s} for more details.`;iV(e,a,o)}}function lV(e){const t=[];return function*(){yield*t;for(const n of e)t.push(n),yield n}}function cV(e,t){for(const n of e)if(n!=null&&t(n))return n}function I2(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let Fy=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(t=>{e+=t.length}),e}add(e,t){if(I2(e)){const n=this._getOrCreateGroup(t);for(const r of e)gM(r)&&n.push(r)}else gM(e)&&this._getOrCreateGroup(t).push(e);return this}forEach(e,t){if(typeof e=="function")this._groups.forEach(n=>n.forEach(e));else{const n=this._getGroup(e);n&&t&&n.forEach(t)}}has(e){return this._groups.has(Uy(e))}remove(e){if(typeof e!="string"&&I2(e)){for(const t of e)this.remove(t);return this}return this.has(e)?(yM(this._getGroup(e)),this._groups.delete(Uy(e)),this):this}removeAll(){return this._groups.forEach(yM),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(Uy(e),t),t}_getGroup(e){return this._groups.get(Uy(e))}};function Uy(e){return e||"_default_"}function yM(e){for(const t of e)t instanceof Fy?t.removeAll():t.remove()}function gM(e){return e!=null&&(!!e.remove||e instanceof Fy)}function vM(e,t){if(e==null)throw new Error(t??"value is None")}function Xp(e){return e?.destroy(),null}function uV(e){return e?.dispose(),null}function gc(e){return e?.remove(),null}function A2(e){return e?.abort(),null}function hV(e){return e?.release(),null}function dV(e,t,n){return e!=null&&t!=null?n!=null?n(e,t):e.equals(t):e===t}function pV(e,t){let n;return e.some((r,i)=>(n=t(r,i),n!=null)),n??void 0}const bM=Symbol("Accessor-beforeDestroy"),fV={remove:()=>{}};function pn(e){return e?{remove(){e&&(e(),e=void 0)}}:fV}function M2(e){e.forEach(t=>t?.remove())}function mV(e){M2(e),e.length=0}function Gy(e){return pn(()=>M2(e))}function yV(e){return pn(()=>e()?.remove())}function gV(e){return pn(()=>e?.abort())}function _M(e){return pn(e!=null?()=>e.destroy():void 0)}function zo(e){return e.__accessor__??null}function vV(e,t){return e?.metadata?.[t]!=null}function jy(e,t,n){return n?zy(e,t,{policy:n,path:""}):zy(e,t,null)}function zy(e,t,n){return t?Object.keys(t).reduce((r,i)=>{const s=i;let o=null,a="merge";if(n&&(o=n.path?`${n.path}.${i}`:i,a=n.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(r[s]))return r[s]=t[s],r;if(r[s]===void 0)return r[s]=ye(t[s]),r;let l=r[s],c=t[s];if(l===c)return r;if(Array.isArray(c)||Array.isArray(r))l=l?Array.isArray(l)?r[s]=l.slice():r[s]=[l]:r[s]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(d=>{l.includes(d)||l.push(d)}));else if(c&&typeof c=="object")if(n){const d=n.path;n.path=o,r[s]=zy(l,c,n),n.path=d}else r[s]=zy(l,c,null);else r.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(r[s]=c);return r},e||{}):e}function wM(e){return Array.isArray(e)?e:e.split(".")}function xM(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function bV(e){if(Array.isArray(e)){const t=[];for(const n of e)t.push(...xM(n));return t}return xM(e)}function EM(e,t,n,r){const i=bV(t);if(i.length!==1){const s=i.map(o=>r(e,o,n));return Gy(s)}return r(e,i[0],n)}function TM(e,t){const n=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const i=parseInt(n,10);if(!isNaN(i))return Array.isArray(t)?t[i]:t.at(i)}const r=zo(t);return vV(r,n)?r.get(n):t[n]}function SM(e,t,n){if(e==null)return e;const r=TM(t[n],e);return!r&&n<t.length-1?void 0:n===t.length-1?r:SM(r,t,n+1)}function Hp(e,t,n=0){return typeof t!="string"||t.includes(".")?SM(e,wM(t),n):TM(t,e)}function vc(e,t){return Hp(e,t)}function IM(e,t){return Hp(t,e)!==void 0}var Xr;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(Xr||(Xr={}));function Yp(e){let t=e.constructor.__accessorMetadata__;const n=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!n){t=Object.create(t);for(const r in t)t[r]=ye(t[r]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function qp(e,t){const n=Yp(e);let r=n[t];return r||(r=n[t]={}),r}function _V(e,t){return jy(e,t,xV)}const wV=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function xV(e){return wV.test(e)?"replace":"merge"}function EV(e){return e?.release&&typeof e.release=="function"}function TV(e){return e?.acquire&&typeof e.acquire=="function"}let ph=class wA{constructor(t,n,r,i=1,s=0){this._ctor=t,this._acquireFunction=n,this._releaseFunction=r,this.allocationSize=i,this._pool=new Array(s),this._initialSize=s;for(let o=0;o<s;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(i,1)}destroy(){this.prune(0)}acquire(...t){let n;if(wA.test.disabled)n=new this._ctor;else{if(this._pool.length===0){const r=this.allocationSize;for(let i=0;i<r;i++)this._pool[i]=new this._ctor}n=this._pool.pop()}return this._acquireFunction?this._acquireFunction(n,...t):TV(n)&&n.acquire(...t),n}release(t){t&&!wA.test.disabled&&(this._releaseFunction?this._releaseFunction(t):EV(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let n=t;n<this._pool.length;++n){const r=this._pool[n];this._dispose(r)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};ph.test={disabled:!1};let SV=class{constructor(e,t){this._observers=e,this._observer=t}remove(){BA(this._observers,this._observer)}},AM=class{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return IV;this._observers==null&&(this._observers=[]);const t=this._observers;let n=!1,r=!1;const i=t.length;for(let s=0;s<i;++s){const o=t[s];if(o.destroyed)r=!0;else if(o===e){n=!0;break}}return n||(t.push(e),r&&this._removeDestroyedObservers()),new SV(t,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||e.length===0)return;const t=e.length;let n=0;for(let r=0;r<t;++r){for(;r+n<t&&e[r+n].destroyed;)++n;if(n>0){if(!(r+n<t))break;e[r]=e[r+n]}}e.length=t-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(e!=null){for(const t of e)t.onCommitted();this._observers=null}}};const IV=pn();var at;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(at||(at={}));const AV=at.USER+1;function O2(e){switch(e){case"defaults":return at.DEFAULTS;case"service":return at.SERVICE;case"portal-item":return at.PORTAL_ITEM;case"web-scene":return at.WEB_SCENE;case"web-map":return at.WEB_MAP;case"link-chart":return at.LINK_CHART;case"user":return at.USER;default:return null}}function $y(e){switch(e){case at.DEFAULTS:return"defaults";case at.SERVICE:return"service";case at.PORTAL_ITEM:return"portal-item";case at.WEB_SCENE:return"web-scene";case at.WEB_MAP:return"web-map";case at.LINK_CHART:return"link-chart";case at.USER:return"user"}}function MV(e){return $y(e)}var yt;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(yt||(yt={}));let Vy=class{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){this.accessed?.clear(),this.clear()}onAccessed(e){this._observer!=null&&e!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(e))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(e=>{this._handles.push(e.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}};const Wy=new Vy,Jp=[];let Qp=Wy;function $e(e){Qp.onAccessed(e)}let Zy=!1,By=!1;function $o(e,t,n){if(Zy)return N2(e,t,n);let r=null;return MM(e),r=t.call(n),OM(),r}function OV(e,t){return $o(Wy,e,t)}function N2(e,t,n){const r=Zy;Zy=!0,MM(e);let i=null;try{i=t.call(n)}catch(s){By&&kt.getLogger("esri.core.accessorSupport.tracking").error(s)}return OM(),Zy=r,i}function MM(e){Qp=e,Jp.push(e)}function OM(){const e=Jp.length;if(e>1){const t=Jp.pop();Qp=Jp[e-2],t.onTrackingEnd()}else if(e===1){const t=Jp.pop();Qp=Wy,t.onTrackingEnd()}else Qp=Wy}function NM(e,t){if(t.flags&yt.DepTrackingInitialized)return;t.flags|=yt.DepTrackingInitialized;const n=By;By=!1,t.flags&yt.AutoTracked?N2(t.trackingTarget,t.metadata.get,e):kM(e,t),By=n}const NV=[];function kM(e,t){t.flags&yt.ExplicitlyTracking||(t.flags|=yt.ExplicitlyTracking,N2(t.trackingTarget,()=>{const n=t.metadata.dependsOn||NV;for(const r of n)if(typeof r!="string"||r.includes(".")){const i=wM(r);for(let s=0,o=e;s<i.length&&o!=null&&typeof o=="object";++s)o=CM(o,i[s],s!==i.length-1)}else CM(e,r,!1)}),t.flags&=~yt.ExplicitlyTracking)}function CM(e,t,n){const r=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(r,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const i=zo(e);if(i){const s=i.propertiesByName.get(r);s&&($e(s),NM(e,s))}return n?e[r]:void 0}let RM=class extends AM{constructor(e,t){super(),this.propertyName=e,this.metadata=t,this.trackingTarget=new Vy(this),this.flags=0,this.flags=yt.Dirty|(t.nonNullable?yt.NonNullable:0)|(t.hasOwnProperty("value")?yt.HasDefaultValue:0)|(t.get===void 0?yt.DepTrackingInitialized:0)|(t.dependsOn===void 0?yt.AutoTracked:0)}destroy(){this.flags&yt.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&$e(this);const t=e.store,n=this.propertyName,r=this.flags,i=t.get(n);if(r&yt.Computing||~r&yt.Dirty&&t.has(n))return i;this.flags|=yt.Computing;const s=e.host;let o;r&yt.AutoTracked?o=$o(this.trackingTarget,this.metadata.get,s):(kM(s,this),o=this.metadata.get.call(s)),this.flags|=yt.DepTrackingInitialized,t.set(n,o,at.COMPUTED);const a=t.get(n);return a===i?this.flags&=~yt.Dirty:OV(this.commit,this),this.flags&=~yt.Computing,a}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~yt.Dirty,this.onCommitted()}onInvalidated(){~this.flags&yt.Overridden&&(this.flags|=yt.Dirty);const e=this._observers;if(e&&e.length>0)for(const t of e)t.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const n of t)n.onCommitted()}}},kV=class jj{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const n=new jj;return this._values.forEach((r,i)=>{t&&t.has(i)||n.set(i,ye(r))}),n}get(t){return this._values.get(t)}originOf(){return at.USER}keys(){return[...this._values.keys()]}set(t,n){this._values.set(t,n)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function Xy(e,t,n){return e!==void 0}function LM(e,t,n,r){return e!==void 0&&(!(n==null&&e.flags&yt.NonNullable)||(r.lifecycle,Xr.INITIALIZING,!1))}let CV=class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Xr.INITIALIZING,this.store=new kV,this.mutable=!0,this._origin=at.USER;const t=this.host.constructor.__accessorMetadata__;for(const n in t){const r=new RM(n,t[n]);this.propertiesByName.set(n,r)}this.metadata=t}initialize(){this.lifecycle=Xr.CONSTRUCTING}constructed(){this.lifecycle=Xr.CONSTRUCTED}destroy(){this.lifecycle=Xr.DESTROYED,this.propertiesByName.forEach(e=>e.destroy())}get initialized(){return this.lifecycle!==Xr.INITIALIZING}get(e){const t=this.propertiesByName.get(e);if(t.metadata.get)return t.getComputed(this);this.mutable&&$e(t);const n=this.store;return n.has(e)?n.get(e):t.metadata.value}originOf(e){const t=this.store.originOf(e);if(t===void 0){const n=this.propertiesByName.get(e);if(n!==void 0&&n.flags&yt.HasDefaultValue)return"defaults"}return $y(t)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const t=this.propertiesByName.get(e);if(Xy(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){const n=this.propertiesByName.get(e);Xy(n)&&this._internalSet(n,t)}getDependsInfo(e,t,n){const r=this.propertiesByName.get(t);if(!Xy(r))return"";const i=new Vy,s=$o(i,()=>r.metadata.get?.call(e));let o=`${n}${e.declaredClass.split(".").pop()}.${t}: ${s}
`;const a=i.accessed??new Set;if(a.size===0)return o;n+="  ";for(const l of a)l instanceof RM&&(o+=`${n}${l.propertyName}: undefined
`);return o}setAtOrigin(e,t,n){const r=this.propertiesByName.get(e);if(Xy(r))return this._setAtOrigin(r,t,n)}isOverridden(e){const t=this.propertiesByName.get(e);return t!==void 0&&!!(t.flags&yt.Overridden)}clearOverride(e){const t=this.propertiesByName.get(e);t&&t.flags&yt.Overridden&&(t.flags&=~yt.Overridden,t.notifyChange())}override(e,t){const n=this.propertiesByName.get(e);if(!LM(n,e,t,this))return;const r=n.metadata.cast;if(r){const i=this._cast(r,t),{valid:s,value:o}=i;if(k2.release(i),!s)return;t=o}n.flags|=yt.Overridden,this._internalSet(n,t)}set(e,t){const n=this.propertiesByName.get(e);if(!LM(n,e,t,this))return;const r=n.metadata.cast;if(r){const s=this._cast(r,t),{valid:o,value:a}=s;if(k2.release(s),!o)return;t=a}const i=n.metadata.set;i?i.call(this.host,t):this._internalSet(n,t)}setDefaultOrigin(e){this._origin=O2(e)}getDefaultOrigin(){return $y(this._origin)}notifyChange(e){const t=this.propertiesByName.get(e);t!==void 0&&t.notifyChange()}invalidate(e){const t=this.propertiesByName.get(e);t!==void 0&&t.invalidate()}commit(e){const t=this.propertiesByName.get(e);t!==void 0&&t.commit()}_internalSet(e,t){const n=this.lifecycle!==Xr.INITIALIZING?this._origin:at.DEFAULTS;this._setAtOrigin(e,t,n)}_setAtOrigin(e,t,n){const r=this.store,i=e.propertyName;r.has(i,n)&&v2(t,r.get(i))&&~e.flags&yt.Overridden&&n===r.originOf(i)||(e.invalidate(),r.set(i,t,n),e.commit(),NM(this.host,e))}_cast(e,t){const n=k2.acquire();return n.valid=!0,n.value=t,e&&(n.value=e.call(this.host,t,n)),n}},RV=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const k2=new ph(RV);function LV(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(n,r)=>r===""?"$":(Ay(r,t)??"").toString())}let DM=class{constructor(e,t,n=void 0){this.name=e,this.details=n,this.message=(t&&LV(t,n))??""}toString(){return"["+this.name+"]: "+this.message}},ct=class zj extends DM{constructor(t,n,r){super(t,n,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,n)=>{if(n&&typeof n=="object"&&typeof n.toJSON=="function")return n;try{return ye(n)}catch{return"[object]"}}))}}catch(t){throw kt.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new zj(t.name,t.message,t.details)}};ct.prototype.type="error";function Hy(e,t,n){if(e&&t)if(typeof t=="object")for(const r of Object.getOwnPropertyNames(t))Hy(e,r,t[r]);else{if(t.includes(".")){const i=t.split("."),s=i.splice(-1,1)[0];return void Hy(vc(e,i),s,n)}const r=e.__accessor__;r!=null&&DV(t,r),e[t]=n}}function DV(e,t){if(re("esri-unknown-property-errors")&&!PV(e,t))throw new ct("set:unknown-property",FV(e,t))}function PV(e,t){return t.metadata[e]!=null}function FV(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let UV;function GV(){return UV}var PM;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(PM||(PM={}));function jV(e){e.length=0}let Vo=class{constructor(e=50,t=50){this._pool=new ph(Array,void 0,jV,t,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return C2.acquire()}static release(e){return C2.release(e)}static prune(){C2.prune()}};const C2=new Vo(100);let FM=class extends ph{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){const t=super.acquire(...e);return this._set.delete(t),t}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}};const Yy=[];function R2(e){Yy.push(e),Yy.length===1&&queueMicrotask(()=>{const t=Yy.slice();Yy.length=0;for(const n of t)n()})}let L2=class{constructor(e,t=30){this.name=e,this._counter=0,this._samples=new Array(t)}push(e){e!=null&&(this._samples[++this._counter%this._samples.length]=e)}set(e){e!=null&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort((e,t)=>e-t)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((e,t)=>e+t,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var D2;(function(e){const t=(s,o,a,l)=>{let c=o,d=o;const p=a>>>1,f=s[c-1];for(;d<=p;){d=c<<1,d<a&&l(s[d-1],s[d])<0&&++d;const y=s[d-1];if(l(y,f)<=0)break;s[c-1]=y,c=d}s[c-1]=f},n=(s,o)=>s<o?-1:s>o?1:0;function r(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=n);for(let d=a>>>1;d>o;d--)t(s,d,a,l);const c=o+1;for(let d=a-1;d>o;d--){const p=s[o];s[o]=s[d],s[d]=p,t(s,c,d,l)}}function*i(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=n);for(let d=a>>>1;d>o;d--)t(s,d,a,l),yield;const c=o+1;for(let d=a-1;d>o;d--){const p=s[o];s[o]=s[d],s[d]=p,t(s,c,d,l),yield}}e.sort=r,e.iterableSort=i})(D2||(D2={}));const UM=D2,zV=1.5,$V=1.1;let P2=class{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new l2,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),e.deallocator!==void 0&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>GM(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const t=new Array;for(let n=0;n<this._length;n++){const r=this.data[n];e(r)&&t.push(r)}return t}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,t){const n=this.data.indexOf(e,t);return n!==-1&&n<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,t=e.length){for(let n=0;n<t;n++)this.data[this._length++]=e[n]}fill(e,t){for(let n=0;n<t;n++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,GM(this)}pop(){if(this.length===0)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const t=Ty(this.data,e,this.length,this._hint);if(t!==-1)return this.data.splice(t,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex(Ty(this.data,e,this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,t=e.length,n){this.length=_$(this.data,e,this.length,t,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(e,t){if(e>=this.length||t>=this.length||e===t)return;const n=this.data[e];this.data[e]=this.data[t],this.data[t]=n}sort(e){UM.sort(this.data,0,this.length,e)}iterableSort(e){return UM.iterableSort(this.data,0,this.length,e)}some(e,t){for(let n=0;n<this.length;++n)if(e.call(t,this.data[n],n,this.data))return!0;return!1}find(e,t){const{data:n,length:r}=this;for(let i=0;i<r;++i)if(e.call(t,n[i]))return n[i]}filterInPlace(e,t){let n=0;for(let r=0;r<this._length;++r){const i=this.data[r];e.call(t,i,r,this.data)&&(this.data[r]=this.data[n],this.data[n]=i,n++)}if(this._deallocator)for(let r=n;r<this._length;r++)this.data[r]=this._deallocator(this.data[r]);return this._length=n,this._shrink(),this}forAll(e,t){const{data:n,length:r}=this;for(let i=0;i<r;++i)e.call(t,n[i],i,n)}forEach(e,t){this.data.slice(0,this.length).forEach(e,t)}map(e,t){const n=new Array(this.length);for(let r=0;r<this.length;++r)n[r]=e.call(t,this.data[r],r,this.data);return n}reduce(e,t){let n=t;for(let r=0;r<this.length;++r)n=e(n,this.data[r],r,this.data);return n}has(e){const t=this.length,n=this.data;for(let r=0;r<t;++r)if(n[r]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}};function GM(e){e.data.length>zV*e.length&&(e.data.length=Math.floor(e.length*$V))}function VV(e){return{setTimeout:(t,n)=>{const r=e.setTimeout(t,n);return pn(()=>e.clearTimeout(r))}}}const jM=VV(globalThis);function qy(e){return WV(e)||zM(e)}function WV(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function zM(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function F2(e,t,n){if(!qy(e))throw new TypeError("target is not a Evented or EventTarget object");return zM(e)?ZV(e,t,n):e.on(t,n)}function ZV(e,t,n,r){if(Array.isArray(t)){const i=t.slice();for(const s of i)e.addEventListener(s,n,r);return pn(()=>{for(const s of i)e.removeEventListener(s,n,r)})}return e.addEventListener(t,n,r),pn(()=>e.removeEventListener(t,n,r))}function U2(e,t,n){if(!qy(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,n);const r=F2(e,t,i=>{r.remove(),n.call(e,i)});return r}function vr(e="Aborted"){return new ct("AbortError",e)}function fh(e,t="Aborted"){if(Ks(e))throw vr(t)}function Kp(e){return e instanceof AbortSignal?e:e?.signal??void 0}function Ks(e){const t=Kp(e);return t!=null&&t.aborted}function G2(e){if(mh(e))throw e}function BV(e){if(!mh(e))throw e}function Pa(e,t){const n=Kp(e);if(n!=null){if(!n.aborted)return U2(n,"abort",()=>t());t()}}function $M(e,t){const n=Kp(e);if(n!=null)return fh(n),U2(n,"abort",()=>t(vr()))}function XV(e,t){return Kp(t)==null?e:new Promise((n,r)=>{let i=Pa(t,()=>r(vr()));const s=()=>{i=gc(i)};e.then(s,s),e.then(n,r)})}function mh(e){return e?.name==="AbortError"}async function j2(e){try{return await e}catch(t){if(!mh(t))throw t;return}}async function Jy(e){if(!e)return;if(typeof e.forEach!="function"){const n=Object.keys(e),r=n.map(o=>e[o]),i=await Jy(r),s={};return n.map((o,a)=>s[o]=i[a]),s}const t=e;return Promise.allSettled(t).then(n=>Array.from(t,(r,i)=>{const s=n[i];return s.status==="fulfilled"?{promise:r,value:s.value}:{promise:r,error:s.reason}}))}async function HV(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function YV(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function VM(e,t=void 0,n){const r=new AbortController;return Pa(n,()=>r.abort()),new Promise((i,s)=>{let o=setTimeout(()=>{o=0,i(t)},e);Pa(r,()=>{o&&(clearTimeout(o),s(vr()))})})}function qV(e,t,n,r){const i=n&&"abort"in n?n:null;r!=null||i||(r=n);let s=setTimeout(()=>{s=0,i?.abort()},t);const o=()=>r||new ct("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then(a=>{if(s===0)throw o();return clearTimeout(s),a},a=>{throw clearTimeout(s),s===0?o():a})}function JV(e,t){const n=new AbortController,r=setTimeout(()=>n.abort(),t);return Pa(e,()=>{n.abort(),clearTimeout(r)}),{...e,signal:n.signal}}function z2(e){return e&&typeof e.then=="function"}function $2(e){return z2(e)?e:Promise.resolve(e)}function QV(e,t=-1){let n,r,i,s,o=null;const a=(...l)=>{if(n){r=l,s&&s.reject(vr()),s=yh();const f=s.promise;if(o){const y=o;o=null,y.abort()}return f}if(i=s||yh(),s=null,t>0){const f=new AbortController;n=$2(e(...l,f.signal));const y=n;VM(t).then(()=>{n===y&&(s?f.abort():o=f)})}else n=1,n=$2(e(...l));const c=()=>{const f=r;r=i=n=o=null,f!=null&&a(...f)},d=n,p=i;return d.then(c,c),d.then(p.resolve,p.reject),p.promise};return a}function yh(){let e,t;const n=new Promise((i,s)=>{e=i,t=s}),r=i=>{e(i)};return r.resolve=i=>e(i),r.reject=i=>t(i),r.timeout=(i,s)=>jM.setTimeout(()=>r.reject(s),i),r.promise=n,r}async function KV(e){await Promise.resolve(),fh(e)}function eW(e){return e}function tW(e){return 1e3*e}function nW(e){return e}function rW(e){return .001*e}let iW=class{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}},sW=class{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}},V2=0;const ef={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},W2=["prepare","preRender","render","postRender","update","finish"],Z2=[],bc=new P2;let oW=class{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,WM()}};function aW(){_c!=null&&(cancelAnimationFrame(_c),_c=requestAnimationFrame(X2))}function WM(){_c==null&&(V2=performance.now(),_c=requestAnimationFrame(X2))}const Qy={frameTasks:bc,willDispatch:!1,clearFrameTasks:cW,dispatch:BM,executeFrameTasks:uW,reschedule:aW};function B2(e){const t=new sW(e);return Z2.push(t),Qy.willDispatch||(Qy.willDispatch=!0,R2(BM)),t}function lW(e){const t=new iW(e);return bc.push(t),WM(),new oW(t)}let _c=null;function cW(e=!1){bc.forAll(t=>{t.removed=!0}),e&&ZM()}function X2(){const e=performance.now();_c=null,_c=bc.some(t=>!t.paused&&!t.removed)?requestAnimationFrame(X2):null,Qy.executeFrameTasks(e)}function uW(e){const t=e-V2;V2=e;const n=1e3/60,r=Math.max(0,t-n);ef.time=e,ef.frameDuration=n-r;for(let i=0;i<W2.length;i++){const s=performance.now(),o=W2[i];bc.forAll(a=>{a.paused||a.removed||(i===0&&a.ticks++,a.phases[o]&&(ef.elapsedFrameTime=performance.now()-e,ef.deltaTime=a.ticks===0?0:t,a.phases[o]?.call(a,ef)))}),dW[i].push(performance.now()-s)}ZM(),pW.push(performance.now()-e)}const Ky=new P2;function ZM(){bc.forAll(e=>{e.removed&&Ky.push(e)}),bc.removeUnorderedMany(Ky.data,Ky.length),Ky.clear()}function BM(){for(;Z2.length;){const e=Z2.shift();e.isActive&&e.callback()}Qy.willDispatch=!1}function XM(e=1,t){const n=yh(),r=()=>{Ks(t)?n.reject(vr()):e===0?n():(--e,R2(()=>r()))};return r(),n.promise}function HM(e){return XM(1,e)}async function hW(e){await HM(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}const dW=W2.map(e=>new L2(e)),pW=new L2("total");function YM(e,t){for(const n of e.values())if(t(n))return!0;return!1}function H2(e,t){if(!t)return e;for(const n of t)n!=null&&e.add(n);return e}function fW(e,t){return t!=null&&e.add(t),e}function eg(e,t){const n=new Set;return H2(n,e),H2(n,t),n}function qM(e,t){const n=new Set;for(const r of t)e.has(r)&&n.add(r);return n}function mW(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const n of e)if(!t.has(n))return!1;return!0}function yW(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function JM(e,t){const n=new Set(e);for(const r of t)n.delete(r);return n}function gW(e,t){return JM(eg(e,t),qM(e,t))}let vW=0;function tf(){return++vW}let tg=class extends Vy{constructor(e){super(new bW(e)),this._observer&&QM.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&QM.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},bW=class{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(e===1)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=_W}};const QM=new FinalizationRegistry(e=>{e.deref()?.destroy()});function _W(){}let gh=!1;const ng=[];function KM(e,t){let n=new tg(s),r=null,i=!1;function s(){if(!n||i)return;if(gh)return void nO(s);const a=r;n.clear(),gh=!0,i=!0,r=$o(n,e),i=!1,gh=!1,t(r,a),rO()}function o(){n&&(n.destroy(),n=null,r=null)}return i=!0,r=$o(n,e),i=!1,pn(o)}function eO(e,t){let n=new tg(i),r=null;function i(){t(r,o)}function s(){n&&(n.destroy(),n=null),r=null}function o(){return n?(n.clear(),r=$o(n,e),r):null}return o(),pn(s)}function tO(e,t){let n=!1,r=!1;const i=!!t?.sync;let s=new tg(()=>{n||r||(r=!0,i?o():queueMicrotask(o))});function o(){r=!1,s&&!n&&(gh?nO(o):(s.clear(),gh=!0,n=!0,$o(s,e),n=!1,gh=!1,rO()))}function a(){s&&(s.destroy(),s=null)}return n=!0,$o(s,e),n=!1,pn(a)}function nO(e){ng.includes(e)||ng.unshift(e)}function rO(){for(;ng.length;)ng.pop()()}var nf;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(nf||(nf={}));let rf=class{constructor(){this.uid=tf(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(e,t,n,r,i){return this.pool.acquire(nf.Untracked,e,t,n,r,i,v2)}static acquireTracked(e,t,n,r){return this.pool.acquire(nf.Tracked,e,t,n,null,null,r)}notify(e,t){this.type===nf.Untracked?this.callback.call(this.target,e,t,this.path,this.target):this.callback.call(null,e,t,void 0,void 0)}acquire(e,t,n,r,i,s,o){this.uid=tf(),this.removed=!1,this.type=e,this.oldValue=t,this.callback=n,this.getValue=r,this.target=i,this.path=s,this.equals=o}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=tf(),this.removed=!0}};rf.pool=new FM(rf);const rg=new Vo,Wo=new Set;let ig;function sg(e){Wo.delete(e),Wo.add(e),ig||(ig=B2(EW))}function wW(e){if(e.removed)return;const t=e.oldValue,n=e.getValue();e.equals(t,n)||(e.oldValue=n,e.notify(n,t))}function xW(e){for(const t of Wo.values())t.target===e&&(t.removed=!0)}function EW(){let e=10;for(;ig&&e--;){ig=null;const t=TW(),n=rg.acquire();for(const r of t){const i=r.uid;wW(r),i===r.uid&&r.removed&&n.push(r)}for(const r of Wo)r.removed&&(n.push(r),Wo.delete(r));for(const r of n)rf.pool.release(r);rg.release(n),rg.release(t),Y2.forEach(r=>r())}}function TW(){const e=rg.acquire();e.length=Wo.size;let t=0;for(const n of Wo)e[t]=n,++t;return Wo.clear(),e}const Y2=new Set;function SW(e){return Y2.add(e),pn(()=>Y2.delete(e))}function IW(e,t,n){let r=EM(e,t,n,(i,s,o)=>{let a,l,c=eO(()=>Hp(i,s),(d,p)=>{i.__accessor__?.lifecycle===Xr.DESTROYED||a&&a.uid!==l?r.remove():(a||(a=rf.acquireUntracked(d,o,p,i,s),l=a.uid),sg(a))});return pn(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,sg(a)),a=null),r=c=null})});return r}function AW(e,t,n){const r=EM(e,t,n,(i,s,o)=>{let a=!1;return KM(()=>Hp(i,s),(l,c)=>{i.__accessor__.lifecycle!==Xr.DESTROYED?a||(a=!0,v2(c,l)||o.call(i,l,c,s,i),a=!1):r.remove()})});return r}function MW(e,t,n,r=!1){return e.__accessor__&&e.__accessor__.lifecycle!==Xr.DESTROYED?r?AW(e,t,n):IW(e,t,n):pn()}function OW(e,t,n){let r,i,s=eO(e,(o,a)=>{r&&r.uid!==i?s.remove():(r||(r=rf.acquireTracked(o,t,a,n),i=r.uid),sg(r))});return pn(()=>{s.remove(),r&&(r.uid!==i||r.removed||(r.removed=!0,sg(r)),r=null),s=null})}function NW(e,t,n){let r=!1;return KM(e,(i,s)=>{r||(r=!0,n(s,i)||t(i,s),r=!1)})}function kW(e,t,n=!1,r=KA){return n?NW(e,t,r):OW(e,t,r)}function CW(e){return YM(Wo,t=>t.oldValue===e)}function T(e={}){return(t,n)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${n}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(t,n),i=qp(t,n);r&&(r.get||r.set?(i.get=r.get||i.get,i.set=r.set||i.set):"value"in r&&("value"in e&&kt.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${n}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=r.value)),e.readOnly!=null&&(i.readOnly=e.readOnly);const s=e.aliasOf;if(s){const l=typeof s=="string"?s:s.source,c=typeof s=="string"?null:s.overridable===!0;let d;i.dependsOn=[l],i.get=function(){let p=vc(this,l);if(typeof p=="function"){d||(d=l.split(".").slice(0,-1).join("."));const f=vc(this,d);f&&(p=p.bind(f))}return p},i.readOnly||(i.set=c?function(p){this._override(n,p)}:function(p){Hy(this,l,p)})}const o=e.type,a=e.types;if(!i.cast){let l;o?l=RW(o):a&&(l=Array.isArray(a)?Bp(yc(a[0])):yc(a)),e.cast=LW(e.cast,l)}_V(i,e),e.range&&(i.cast=aM(i.cast,e.range))}}function q2(e,t,n){const r=qp(e,n);r.json||(r.json={});let i=r.json;return t!==void 0&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function RW(e){let t=0,n=e;if(J$(e))return fM(e);for(;Array.isArray(n)&&n.length===1&&typeof n[0]!="string"&&typeof n[0]!="number";)n=n[0],t++;const r=n;if(pM(r))return t===0?E2(r):Cy(E2(r),t);if(t===1)return H$(r);if(t>1)return Y$(r,t);const i=e;return i.from?i.from:Ci(i)}function LW(e,t){if(e||t)return e?t?(n,r)=>t(e(n,r),r):e:t}function DW(e){if(e.json&&e.json.origins){const t=e.json.origins,n={"web-document":["web-scene","web-map"]};for(const r in n)if(t[r]){const i=t[r];n[r].forEach(s=>{t[s]=i}),delete t[r]}}}let vh=class extends DM{constructor(e,t,n){super(e,t,n)}};vh.prototype.type="warning";function iO(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const J2=()=>kt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function sO(e,t,n){e&&(!n&&!t.read||t.read?.reader||t.read?.enabled===!1||UW(e)&&mc("read.reader",Q2(e),t))}function Q2(e){const t=e.ndimArray??0;if(t>1)return FW(e);if(t===1)return aO(e);if("type"in e&&lO(e.type)){const n=e.type.prototype?.itemType?.Type,r=aO(typeof n=="function"?{type:n}:{types:n});return(i,s,o)=>{const a=r(i,s,o);return a&&new e.type(a)}}return K2(e)}function K2(e){return"type"in e?PW(e.type):GW(e.types)}function PW(e){return e.prototype.read?(t,n,r)=>{if(t==null)return t;const i=typeof t;if(i!=="object")return void J2().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const s=new e;return s.read(t,r),s}:e.fromJSON}function oO(e,t,n,r){return r!==0&&Array.isArray(t)?t.map(i=>oO(e,i,n,r-1)):e(t,void 0,n)}function FW(e){const t=K2(e),n=oO.bind(null,t),r=e.ndimArray??0;return(i,s,o)=>{if(i==null)return i;i=n(i,o,r);let a=r,l=i;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)i=[i];return i}}function aO(e){const t=K2(e);return(n,r,i)=>{if(n==null)return n;if(Array.isArray(n)){const o=[];for(const a of n){const l=t(a,void 0,i);l!==void 0&&o.push(l)}return o}const s=t(n,void 0,i);return s!==void 0?[s]:void 0}}function lO(e){if(!iO(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?ew(t.Type):cO(t.Type))}function UW(e){return"types"in e?cO(e.types):ew(e.type)}function ew(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||lO(e))}function cO(e){for(const t in e.typeMap)if(!ew(e.typeMap[t]))return!1;return!0}function GW(e){let t=null;const n=e.errorContext??"type",r=e.validate;return(i,s,o)=>{if(i==null)return i;const a=typeof i;if(a!=="object")return void J2().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=jW(e));const l=e.key;if(typeof l!="string")return;const c=i[l],d=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!d){const f=`Type '${c||"unknown"}' is not supported`;return o?.messages&&i&&o.messages.push(new vh(`${n}:unsupported`,f,{definition:i,context:o})),void J2().error(f)}const p=new d;return p.read(i,o),r?r(p):p}}function jW(e){const t={};for(const n in e.typeMap){const r=e.typeMap[n],i=Yp(r.prototype);if(typeof e.key=="function")continue;const s=i[e.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"){t[s.json.type[0]]=r;continue}const o=s.json?.write;if(!o?.writer){t[n]=r;continue}const a=o.target,l=typeof a=="string"?a:e.key,c={};o.writer(n,c,l),c[l]&&(t[c[l]]=r)}return t}function zW(e){if(e.json||(e.json={}),hO(e.json),dO(e.json),uO(e.json),e.json.origins)for(const t in e.json.origins)hO(e.json.origins[t]),dO(e.json.origins[t]),uO(e.json.origins[t]);return!0}function uO(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function hO(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function dO(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function pO(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const n=e?.ndimArray??0;e&&(n===1||"type"in e&&iO(e.type))?t.write.writer=WW:n>1?t.write.writer=ZW(n):t.types?Array.isArray(t.types)?t.write.writer=VW(t.types[0]):t.write.writer=$W(t.types):t.write.writer=sf}function $W(e){return(t,n,r,i)=>t?fO(t,e,i)?sf(t,n,r,i):void 0:sf(t,n,r,i)}function fO(e,t,n){for(const r in t.typeMap)if(e instanceof t.typeMap[r])return!0;if(n?.messages){const r=t.errorContext??"type",i=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;n&&n.messages&&e&&n.messages.push(new ct(`${r}:unsupported`,i,{definition:e,context:n})),kt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(i)}return!1}function VW(e){return(t,n,r,i)=>!t||!Array.isArray(t)?sf(t,n,r,i):sf(t.filter(s=>fO(s,e,i)),n,r,i)}function sf(e,t,n,r){mc(n,og(e,r),t)}function og(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?mO(e):e}function mO(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function WW(e,t,n,r){let i;e===null?i=null:e&&typeof e.map=="function"?(i=e.map(s=>og(s,r)),typeof i.toArray=="function"&&(i=i.toArray())):i=[og(e,r)],mc(n,i,t)}function yO(e,t,n){return n!==0&&Array.isArray(e)?e.map(r=>yO(r,t,n-1)):og(e,t)}function ZW(e){return(t,n,r,i)=>{let s;if(t===null)s=null;else{s=yO(t,i,e);let o=e,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}mc(r,s,n)}}function BW(e,t){return nw(e,"any",t?.origin)}function tw(e,t){return nw(e,"read",t?.origin)}function gO(e,t){return nw(e,"write",t?.origin)}function nw(e,t,n){let r=e?.json;if(r?.origins&&n){let i;i=n==="link-chart"?r.origins[n]&&(t==="any"||t in r.origins[n])?r.origins[n]:r.origins["web-map"]:r.origins[n],i&&(t==="any"||t in i)&&(r=i)}return r}function XW(e){const t=HW(e);if(e.json.origins)for(const n in e.json.origins){const r=e.json.origins[n],i=r.types?YW(r):t;sO(i,r,!1),r.types&&!r.write&&e.json.write?.enabled&&(r.write={...e.json.write}),pO(i,r)}sO(t,e.json,!0),pO(t,e.json)}function HW(e){return e.json.types?rw(e.json):e.type?vO(e):rw(e)}function YW(e){return e.type?vO(e):rw(e)}function vO(e){if(!e.type)return;let t=0,n=e.type;for(;Array.isArray(n)&&!pM(n);)n=n[0],t++;return{type:n,ndimArray:t}}function rw(e){if(!e.types)return;let t=0,n=e.types;for(;Array.isArray(n);)n=n[0],t++;return{types:n,ndimArray:t}}function qW(e){zW(e)&&(DW(e),XW(e))}const iw=new Set,sw=new Set;function te(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,QW(t);const n=[],r=[];let i=t.prototype;for(;i;)i.hasOwnProperty("initialize")&&!iw.has(i.initialize)&&(iw.add(i.initialize),n.push(i.initialize)),i.hasOwnProperty("destroy")&&!sw.has(i.destroy)&&(sw.add(i.destroy),r.push(i.destroy)),i=Object.getPrototypeOf(i);iw.clear(),sw.clear();const s=class extends t{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(n.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=n.length-1;l>=0;l--)n[l].call(this)}}),r.length){let l=!1;const c=this[bM];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,c.call(this);for(let d=0;d<r.length;d++)r[d].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=Yp(t.prototype),s.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function JW(e,t){return t.get==null?function(){const n=this.__accessor__,r=n.propertiesByName.get(e);if(r===void 0)return;n.mutable&&$e(r);const i=n.store;return i.has(e)?i.get(e):r.metadata.value}:function(){const n=this.__accessor__,r=n.propertiesByName.get(e);if(r!==void 0)return r.getComputed(n)}}function QW(e){const t=e.prototype,n=Yp(t),r={};for(const i of Object.getOwnPropertyNames(n)){const s=n[i];qW(s),r[i]={enumerable:!0,configurable:!0,get:JW(i,s),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&s.readOnly?bO("read-only",i):a.lifecycle===Xr.CONSTRUCTED&&s.constructOnly?bO("construct-only",i):void a.set(i,o)}else Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,r)}const bO=(e,t)=>{kt.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var _O,wO;function KW(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const Fa=Symbol("Accessor-Handles"),ow=Symbol("Accessor-Initialized");let Rn=class H_{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:n,declaredClass:r,constructor:i}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,i&&i.apply(this,l)}}Yp(o.prototype);for(const a in t){const l=t[a];o.prototype[a]=typeof l=="function"?function(...c){const d=this.inherited;let p;this.inherited=function(...f){if(s.prototype[a])return s.prototype[a].apply(this,f)};try{p=l.apply(this,c)}catch(f){throw this.inherited=d,f}return this.inherited=d,p}:t[a]}for(const a in n){const l=KW(n[a]);T(l)(o.prototype,a)}return te(r)(o)}static freeze(t){return t instanceof H_?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof H_?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[_O]=null,this[wO]=!1,this.constructor===H_)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const n=new CV(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:n}),t.length>0&&(n.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,n=t.ctorArgs;t.initialize(),n&&(this.set(n),t.ctorArgs=null),t.constructed(),this.initialize(),this[ow]=!0}initialize(){}[bM](){this[Fa]=Xp(this[Fa])}destroy(){this.destroyed||(xW(this),this.__accessor__.destroy(),GV()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[ow]}get destroyed(){return this.__accessor__?.lifecycle===Xr.DESTROYED||!1}commitProperty(t){vc(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,n){return Hy(this,t,n),this}watch(t,n,r){return sV(kt.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-core-reactiveUtils.html#watch",warnOnce:!0}),MW(this,t,n,r)}addHandles(t,n){if(this.destroyed){const r=Array.isArray(t)?t:[t];for(const i of r)i.remove();return}(this[Fa]??=new Fy).add(t,n)}removeHandles(t){this[Fa]?.remove(t)}removeAllHandles(){this[Fa]?.removeAll()}removeHandlesReference(t){this[Fa]?.removeReference(t)}hasHandles(t){return this[Fa]?.has(t)===!0}_override(t,n){n===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,n)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,n){n==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,n)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,n){return this.__accessor__.internalSet(t,n),this}};_O=Fa,wO=ow;function eZ(e,t,n){return Jy(e.map((r,i)=>t.apply(n,[r,i])))}async function tZ(e,t,n){return(await Jy(e.map((r,i)=>t.apply(n,[r,i])))).map(r=>r.value)}function aw(e){return{ok:!0,value:e}}function lw(e){return{ok:!1,error:e}}function nZ(e){return e!=null&&e.ok===!0?e.value:null}function rZ(e){return e!=null&&e.ok===!1?e.error:null}async function iZ(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return aw(await e)}catch(t){return lw(t)}}async function sZ(e){try{return aw(await e)}catch(t){return G2(t),lw(t)}}function xO(e,t){return new Ua(e,t)}let Ua=class extends Rn{get value(){return nZ(this._result)}get error(){return rZ(this._result)}get finished(){return this._result!=null}constructor(e,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=A2(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=e(n),this.promise.then(r=>{this._result=aw(r),this._cleanup()},r=>{this._result=lw(r),this._cleanup()}),this._abortHandle=Pa(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=gc(this._abortHandle),this._abortController=null}};v([T()],Ua.prototype,"value",null),v([T()],Ua.prototype,"error",null),v([T()],Ua.prototype,"finished",null),v([T()],Ua.prototype,"promise",void 0),v([T()],Ua.prototype,"_result",void 0),Ua=v([te("esri.core.asyncUtils.ReactiveTask")],Ua);let ag=class $j{constructor(){this._emitter=new $j.EventEmitter(this)}emit(t,n){return this._emitter.emit(t,n)}on(t,n){return this._emitter.on(t,n)}once(t,n){return this._emitter.once(t,n)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(i=null){this._target=i,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(i,s){let o=this._listenersMap?.get(i);if(!o)return!1;const a=this._target||this;let l=!1;for(const c of o.slice()){const d="deref"in c?c.deref():c;d?d?.call(a,s):l=!0}return l&&(o=o.filter(c=>!("deref"in c)||c.deref()!=null),this._listenersMap.set(i,o)),o.length>0}on(i,s){if(Array.isArray(i)){const a=i.map(l=>this.on(l,s));return Gy(a)}if(i.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(i)||[];return o.push(s),this._listenersMap.set(i,o),pn(()=>{const a=this._listenersMap?.get(i),l=a?.indexOf(s)??-1;l>=0&&a.splice(l,1)})}once(i,s){const o=this.on(i,a=>{o.remove(),("deref"in s?s.deref():s)?.call(null,a)});return o}hasEventListener(i){const s=this._listenersMap?.get(i);return s!=null&&s.length>0}}e.EventEmitter=t,e.EventedMixin=r=>{let i=class extends r{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(s,o){return this._emitter.emit(s,o)}on(s,o){return this._emitter.on(s,o)}once(s,o){return this._emitter.once(s,o)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return i=v([te("esri.core.Evented")],i),i};let n=class extends Rn{constructor(){super(...arguments),this._emitter=new ag.EventEmitter(this)}destroy(){this._emitter.clear()}emit(r,i){return this._emitter.emit(r,i)}on(r,i){return this._emitter.on(r,i)}once(r,i){return this._emitter.once(r,i)}hasEventListener(r){return this._emitter.hasEventListener(r)}};n=v([te("esri.core.Evented.EventedAccessor")],n),e.EventedAccessor=n})(ag);var ft;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(ft||(ft={}));function EO(e){return(t,n)=>{t[n]=e}}let TO=class extends AM{notify(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const n of t)n.onInvalidated(),n.onCommitted()}}};var Zo;let oZ=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},aZ=class{constructor(e,t,n,r,i){this.target=e,this.added=t,this.removed=n,this.start=r,this.deleteCount=i}};const Ri=new ph(oZ,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function SO(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function cw(e){return e?e instanceof Bo?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function uw(e){if(e?.length)return e[0]}function lZ(e,t,n,r){const i=Math.min(e.length-n,t.length-r);let s=0;for(;s<i&&e[n+s]===t[r+s];)s++;return s}function IO(e,t,n,r){t&&t.forEach((i,s,o)=>{e.push(i),IO(e,n.call(r,i,s,o),n,r)})}const Ga=new Set,ja=new Set,za=new Set,hw=new Map;let cZ=0,Bo=Zo=class extends ag.EventedAccessor{static isCollection(e){return e!=null&&e instanceof Zo}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new TO,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:cZ++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Zo?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return $e(this._observable),this._items}set items(e){this._emitBeforeChanges(ft.ADD)||(this._splice(0,this.length,cw(e)),this._emitAfterChanges(ft.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return pn();if(e==="change"){const n=this._chgListeners,r={removed:!1,callback:t};return n.push(r),this._notifications&&this._notifications.push({listeners:n.slice(),items:this._items.slice(),changes:[]}),pn(()=>{r.removed=!0,n.splice(n.indexOf(r),1)})}return this._emitter.on(e,t)}once(e,t){const n="deref"in t?()=>t.deref():()=>t,r=this.on(e,i=>{n()?.call(null,i),r.remove()});return r}add(e,t){if($e(this._observable),this._emitBeforeChanges(ft.ADD))return this;const n=this.getNextIndex(t??null);return this._splice(n,0,[e]),this._emitAfterChanges(ft.ADD),this}addMany(e,t=this._items.length){if($e(this._observable),!e?.length)return this;if(this._emitBeforeChanges(ft.ADD))return this;const n=this.getNextIndex(t);return this._splice(n,0,cw(e)),this._emitAfterChanges(ft.ADD),this}at(e){if($e(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if($e(this._observable),!this.length||this._emitBeforeChanges(ft.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(ft.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return $e(this._observable),this._createNewInstance({items:this._items.map(ye)})}concat(...e){$e(this._observable);const t=e.map(cw);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if($e(this._observable),!this.length||this._emitBeforeChanges(ft.REMOVE))return;const n=this._splice(0,this.length),r=n.length;for(let i=0;i<r;i++)e.call(t,n[i],i,n);this._emitAfterChanges(ft.REMOVE)}destroyAll(){this.drain(SO)}destroyMany(e){const t=this.removeMany(e);return t.forEach(SO),t}every(e,t){return $e(this._observable),this._items.every(e,t)}filter(e,t){$e(this._observable);const n=arguments.length===2?this._items.filter(e,t):this._items.filter(e);return this._createNewInstance({items:n})}find(e,t){return $e(this._observable),this._items.find(e,t)}findIndex(e,t){return $e(this._observable),this._items.findIndex(e,t)}flatten(e,t){$e(this._observable);const n=[];return IO(n,this,e,t),new Zo(n)}forEach(e,t){return $e(this._observable),this._items.forEach(e,t)}getItemAt(e){return $e(this._observable),this._items[e]}getNextIndex(e){$e(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return $e(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return $e(this._observable),this._items.indexOf(e,t)}join(e=","){return $e(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return $e(this._observable),this._items.lastIndexOf(e,t)}map(e,t){$e(this._observable);const n=this._items.map(e,t);return new Zo({items:n})}reorder(e,t=this.length-1){$e(this._observable);const n=this.indexOf(e);if(n!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),n!==t){if(this._emitBeforeChanges(ft.MOVE))return e;this._splice(n,1),this._splice(t,0,[e]),this._emitAfterChanges(ft.MOVE)}return e}}pop(){if($e(this._observable),!this.length||this._emitBeforeChanges(ft.REMOVE))return;const e=uw(this._splice(this.length-1,1));return this._emitAfterChanges(ft.REMOVE),e}push(...e){return $e(this._observable),this._emitBeforeChanges(ft.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(ft.ADD)),this.length}reduce(e,t){$e(this._observable);const n=this._items;return arguments.length===2?n.reduce(e,t):n.reduce(e)}reduceRight(e,t){$e(this._observable);const n=this._items;return arguments.length===2?n.reduceRight(e,t):n.reduceRight(e)}remove(e){return $e(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if($e(this._observable),e<0||e>=this.length||this._emitBeforeChanges(ft.REMOVE))return;const t=uw(this._splice(e,1));return this._emitAfterChanges(ft.REMOVE),t}removeMany(e){if($e(this._observable),!e?.length||this._emitBeforeChanges(ft.REMOVE))return[];const t=e instanceof Zo?e.toArray():e,n=this._items,r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s],a=n.indexOf(o);if(a>-1){const l=1+lZ(t,n,s+1,a+1),c=this._splice(a,l);c&&c.length>0&&r.push.apply(r,c),s+=l-1}}return this._emitAfterChanges(ft.REMOVE),r}reverse(){if($e(this._observable),this._emitBeforeChanges(ft.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(ft.MOVE),this}shift(){if($e(this._observable),!this.length||this._emitBeforeChanges(ft.REMOVE))return;const e=uw(this._splice(0,1));return this._emitAfterChanges(ft.REMOVE),e}slice(e=0,t=this.length){return $e(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return $e(this._observable),this._items.some(e,t)}sort(e){if($e(this._observable),!this.length||this._emitBeforeChanges(ft.MOVE)||!this._requiresSort(e))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(ft.MOVE),this}_requiresSort(e=(t,n)=>t===n?0:t<n?-1:1){const t=this.length-1;for(let n=0;n<t;n++)if(e(this.items[n],this.items[n+1])>0)return!0;return!1}splice(e,t,...n){$e(this._observable);const r=(t?ft.REMOVE:0)|(n.length?ft.ADD:0);if(this._emitBeforeChanges(r))return[];const i=this._splice(e,t,n)||[];return this._emitAfterChanges(r),i}toArray(){return $e(this._observable),this._items.slice()}toJSON(){return $e(this._observable),this.toArray()}toLocaleString(){return $e(this._observable),this._items.toLocaleString()}toString(){return $e(this._observable),this._items.toString()}unshift(...e){return $e(this._observable),!e.length||this._emitBeforeChanges(ft.ADD)||(this._splice(0,0,e),this._emitAfterChanges(ft.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,n){const r=this._items,i=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=B2(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(o=r.splice(e,t),this.hasEventListener("before-remove")){const a=Ri.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=o.length;l<c;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),r.splice(e,0,s),e+=1,l-=1,c-=1);Ri.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=Ri.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let c=0;c<l;c++)a.reset(o[c]),this.emit("after-remove",a);Ri.release(a)}}if(n?.length){if(i){const d=[];for(const p of n){const f=i.ensureType(p);f==null&&p!=null||d.push(f)}n=d}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=e===this.length;if(a||l){const d=Ri.acquire();d.target=this,d.cancellable=!0;const p=Ri.acquire();p.target=this,p.cancellable=!1;for(const f of n)a?(d.reset(f),this.emit("before-add",d),d.defaultPrevented||(c?r.push(f):r.splice(e++,0,f),this._set("length",r.length),l&&(p.reset(f),this.emit("after-add",p)))):(c?r.push(f):r.splice(e++,0,f),this._set("length",r.length),p.reset(f),this.emit("after-add",p));Ri.release(p),Ri.release(d)}else{if(c)for(const d of n)r.push(d);else r.splice(e,0,...n);this._set("length",r.length)}}if((n?.length||o?.length)&&this._notifyChangeEvent(n,o),this.hasEventListener("after-splice")){const a=new aZ(this,n,o,e,t);this.emit("after-splice",a)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const n=Ri.acquire();n.target=this,n.cancellable=!0,n.type=e,this.emit("before-changes",n),t=n.defaultPrevented,Ri.release(n)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Ri.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Ri.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const n=t.changes;Ga.clear(),ja.clear(),za.clear();for(const{added:l,removed:c}of n){if(l)if(za.size===0&&ja.size===0)for(const d of l)Ga.add(d);else for(const d of l)ja.has(d)?(za.add(d),ja.delete(d)):za.has(d)||Ga.add(d);if(c)if(za.size===0&&Ga.size===0)for(const d of c)ja.add(d);else for(const d of c)Ga.has(d)?Ga.delete(d):(za.delete(d),ja.add(d))}const r=Vo.acquire();Ga.forEach(l=>{r.push(l)});const i=Vo.acquire();ja.forEach(l=>{i.push(l)});const s=this._items,o=t.items,a=Vo.acquire();if(za.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),t.listeners&&(r.length||i.length||a.length)){const l={target:this,added:r,removed:i,moved:a},c=t.listeners.length;for(let d=0;d<c;d++){const p=t.listeners[d];p.removed||p.callback.call(this,l)}}Vo.release(r),Vo.release(i),Vo.release(a)}Ga.clear(),ja.clear(),za.clear()}};Bo.ofType=e=>{if(!e)return Zo;if(hw.has(e))return hw.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const i=e.typeMap[r].prototype.declaredClass;t?t+=` | ${i}`:t=i}let n=class extends Zo{};return v([EO({Type:e,ensureType:typeof e=="function"?Ci(e):yc(e)})],n.prototype,"itemType",void 0),n=v([te(`esri.core.Collection<${t}>`)],n),hw.set(e,n),n},v([T()],Bo.prototype,"_updating",void 0),v([T()],Bo.prototype,"length",void 0),v([T()],Bo.prototype,"items",null),v([T({readOnly:!0})],Bo.prototype,"updating",null),Bo=Zo=v([te("esri.core.Collection")],Bo);const ht=Bo;function Qn(e,t,n={}){return dw(e,t,n,OO)}function lg(e,t,n={}){return dw(e,t,n,NO)}function dw(e,t,n={},r){let i=null;const s=n.once?(o,a)=>{r(o)&&(gc(i),t(o,a))}:(o,a)=>{r(o)&&t(o,a)};if(i=kW(e,s,n.sync,n.equals),n.initial){const o=e();s(o,o)}return i}function cg(e,t,n,r={}){let i=null,s=null,o=null;function a(){i&&s&&(s.remove(),r.onListenerRemove?.(i),i=null,s=null)}function l(d){r.once&&r.once&&gc(o),n(d)}const c=Qn(e,(d,p)=>{a(),qy(d)&&(i=d,s=F2(d,t,l),r.onListenerAdd?.(d))},{sync:r.sync,initial:!0});return o=pn(()=>{c.remove(),a()}),o}function uZ(e,t){return MO(e,null,t)}function AO(e,t){return MO(e,NO,t)}function MO(e,t,n){if(Ks(n))return Promise.reject(vr());const r=e();if(t?.(r))return Promise.resolve(r);let i=null;function s(){i=gc(i)}return new Promise((o,a)=>{i=Gy([Pa(n,()=>{s(),a(vr())}),dw(e,l=>{s(),o(l)},{sync:!1,once:!0},t??OO)])})}function OO(e){return!0}function NO(e){return!!e}function kO(e,t,n={}){let r=!1;const i=Qn(e,(s,o)=>{r||t(s,o)},n);return{remove(){i.remove()},pause(){r=!0},resume(){r=!1}}}function CO(e,t){const n=new ht,r=cg(e,"after-splice",({added:i,start:s,deleteCount:o})=>{const a=n.splice(s,o);for(const l of a)l.remove();if(i?.length){const l=i.map(t);n.addMany(l,s)}},{sync:!0,onListenerRemove:()=>n.drain(i=>i.remove()),onListenerAdd:i=>n.addMany(i.items.map(t))});return n.addHandles(r),n}function RO(e,t){const n=new ht,r=CO(e,a=>xO(async l=>{const c=await t(a,l);if(Ks(l))throw c.remove(),vr();return c})),i=()=>null,s=async a=>{const l=await a.promise,c=r.indexOf(a);c<0||n.splice(c,1,l)};n.addMany(r.items.map(i));for(const a of r)j2(s(a));const o=r.on("after-splice",({added:a,start:l,deleteCount:c})=>{const d=n.splice(l,c);for(const p of d)p?.remove();if(a?.length){n.addMany(a.map(i),l);for(const p of a)j2(s(p))}});return n.addHandles([_M(r),o]),n}const pw={sync:!0},of={initial:!0},LO={sync:!0,initial:!0},hZ=Object.freeze(Object.defineProperty({__proto__:null,autorun:tO,initial:of,mapCollection:CO,mapCollectionAsync:RO,on:cg,once:uZ,pausable:kO,sync:pw,syncAndInitial:LO,watch:Qn,when:lg,whenOnce:AO},Symbol.toStringTag,{value:"Module"}));let dZ=class Vj{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const n=new Vj;return this._values.forEach((r,i)=>{t&&t.has(i)||n.set(i,ye(r.value),r.origin)}),n}get(t,n){n=this._normalizeOrigin(n);const r=this._values.get(t);return n==null||r?.origin===n?r?.value:void 0}originOf(t){return this._values.get(t)?.origin??at.USER}keys(t){t=this._normalizeOrigin(t);const n=[...this._values.keys()];return t==null?n:n.filter(r=>this._values.get(r)?.origin===t)}set(t,n,r){if((r=this._normalizeOrigin(r))===at.DEFAULTS){const i=this._values.get(t);if(i?.origin!=null&&i.origin>r)return}this._values.set(t,new pZ(n,r))}delete(t,n){(n=this._normalizeOrigin(n))!=null&&this._values.get(t)?.origin!==n||this._values.delete(t)}has(t,n){return(n=this._normalizeOrigin(n))!=null?this._values.get(t)?.origin===n:this._values.has(t)}forEach(t){this._values.forEach(({value:n},r)=>t(n,r))}_normalizeOrigin(t){if(t!=null)return t===at.DEFAULTS?t:at.USER}},pZ=class{constructor(e,t){this.value=e,this.origin=t}};function DO(e,t,n){t.keys().forEach(i=>{n.set(i,t.get(i),at.DEFAULTS)});const r=e.metadata;Object.keys(r).forEach(i=>{e.internalGet(i)&&n.set(i,e.internalGet(i),at.DEFAULTS)})}function fZ(e,t,n){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const r=e.read.source;if(typeof r=="string"){if(r===t||r.includes(".")&&r.indexOf(t)===0&&IM(r,n))return!0}else for(const i of r)if(i===t||i.includes(".")&&i.indexOf(t)===0&&IM(i,n))return!0;return!1}function mZ(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function yZ(e,t,n,r,i){let s=tw(t[n],i);mZ(s)&&(e[n]=!0);for(const o of Object.getOwnPropertyNames(t))s=tw(t[o],i),fZ(s,n,r)&&(e[o]=!0)}function gZ(e,t,n,r){const i=n.metadata,s=BW(i[t],r),o=s?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(e,t,r):o;a!==void 0&&n.set(t,a)}const PO={origin:"service"};function FO(e,t,n=PO){if(!t||typeof t!="object")return;const r=zo(e),i=r.metadata,s={};for(const o of Object.getOwnPropertyNames(t))yZ(s,i,o,t,n);r.setDefaultOrigin(n.origin);for(const o of Object.getOwnPropertyNames(s)){const a=tw(i[o],n).read,l=a?.source;let c;c=l&&typeof l=="string"?Hp(t,l):t[o],a?.reader&&(c=a.reader.call(e,c,t,n)),c!==void 0&&r.set(o,c)}if(!n||!n.ignoreDefaults){r.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(i))s[o]||gZ(e,o,r,n)}r.setDefaultOrigin("user")}function vZ(e,t,n,r=PO){const i={...r,messages:[]};n(i),i.messages?.forEach(s=>{s.type!=="warning"||e.loaded?r?.messages&&r.messages.push(s):e.loadWarnings.push(s)})}function bZ(e,t,n,r,i){const s={};return t.write?.writer?.call(e,r,s,n,i),s}function UO(e,t,n,r,i,s){if(!r?.write)return!1;const o=vc(e,n);if(!i&&r.write.overridePolicy){const a=r.write.overridePolicy.call(e,o,n,s??void 0);a!==void 0&&(i=a)}if(i||(i=r.write),!i||i.enabled===!1||i.layerContainerTypes&&s?.layerContainerType&&!i.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!i.allowNull&&!i.writerEnsuresNonNull||o===void 0)&&i.isRequired){const a=new ct("web-document-write:property-required",`Missing value for required property '${n}' on '${e.declaredClass}'`,{propertyName:n,target:e});return a&&s?.messages?s.messages.push(a):a&&!s&&kt.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!i.allowNull&&!i.writerEnsuresNonNull||!i.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(n)===at.DEFAULTS)&&_Z(e,n,s,r,o)||!i.ignoreOrigin&&s?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(n)<O2(s.origin))}function _Z(e,t,n,r,i){const s=r.default;if(s===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(i);if(typeof s=="function"){if(Array.isArray(i)){const o=s.call(e,t,n??void 0);return $p(o,i)}return!1}return s===i}function wZ(e,t,n,r){const i=zo(e),s=i.metadata,o=gO(s[t],r);return!!o&&UO(e,i,t,o,n,r)}function GO(e,t,n){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return jy(t,e.toJSON(n));const r=zo(e),i=r.metadata;for(const s in i){const o=gO(i[s],n);if(!UO(e,r,s,o,void 0,n))continue;const a=vc(e,s),l=bZ(e,o,o.write&&typeof o.write.target=="string"?o.write.target:s,a,n);Object.keys(l).length>0&&(t=jy(t,l),n?.resources?.pendingOperations?.length&&n.resources.pendingOperations.push(Promise.all(n.resources.pendingOperations).then(()=>jy(t,l,()=>"replace-arrays"))),n?.writtenProperties&&n.writtenProperties.push({target:e,propName:s,oldOrigin:MV(r.store.originOf(s)),newOrigin:n.origin}))}return t}const jO=e=>{let t=class extends e{constructor(...n){super(...n);const r=zo(this),i=r.store,s=new dZ;r.store=s,DO(r,i,s)}read(n,r){FO(this,n,r)}write(n,r){return GO(this,n??{},r)}toJSON(n){return this.write({},n)}static fromJSON(n,r){return xZ.call(this,n,r)}};return t=v([te("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function xZ(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const n=new this;return n.read(e,t),n}let af=class extends jO(Rn){};af=v([te("esri.core.JSONSupport")],af),function(e){function t(n){return n&&typeof n=="object"&&"toJSON"in n&&typeof n.toJSON=="function"}e.JSONSupportMixin=jO,e.isSerializable=t}(af||(af={}));const He=af;function $n(e,t,n){let r,i;return t===void 0||Array.isArray(t)?(i=e,n=t,r=[void 0]):(i=t,r=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;r.forEach(l=>{const c=q2(s,l,i);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],n&&(c.read.source=(c.read.source||[]).concat(n))})}}let ps=class{constructor(e,t={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=t,this.apiValues=[],this.jsonValues=[],this._apiToJSON=EZ(e),this.apiValues=zO(this._apiToJSON),this.jsonValues=zO(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,r,i)=>{const s=this.toJSON(n);s!==void 0&&mc(i,s,r)},this.write.isJSONMapWriter=!0}toJSON(e){if(e==null)return null;if(this._apiToJSON.hasOwnProperty(e)){const t=this._apiToJSON[e];return this._options.useNumericKeys?+t:t}return this._options.ignoreUnknown?null:e}fromJSON(e){return e!=null&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}};function EZ(e){const t={};for(const n in e)t[e[n]]=n;return t}function zO(e){const t=[];for(const n in e)t.push(n);return t.sort(),t}function Li(){return function(e,t){return new ps(e,{ignoreUnknown:!0,...t})}}let fw=class{constructor(e,t,n,r,i,s){this.semiMajorAxis=e,this.flattening=t,this.outerAtmosphereRimWidth=n,this.atmosphereHeight=r,this.scaleHeight=i;const o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=s||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Di=new fw(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),bh=new fw(3396190,1/169.8944472236118,23e4,6e4,.111),lf=new fw(1737400,0,0,0,0),TZ=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,SZ={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function mw(e){const t=e?.match(TZ);if(!t)return null;const[,n,r,i]=t;if(!n)return null;let s=null,o=null,a=null;const{devext:l,qaext:c,www:d}=SZ;if(r)if(s=n,i)switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=d);else switch(n.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=d);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function $O(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function yw(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,n=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):n.test(e)?e=e.replace(n,"https://devext.arcgis.com"):r.test(e)&&(e=e.replace(r,"https://qaext.arcgis.com")),e}function VO(e){const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}function IZ(e){const t=new Uint8Array(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return btoa(n)}const AZ=()=>kt.getLogger("esri.core.urlUtils"),_h=At.request,WO="esri/config: esriConfig.request.proxyUrl is not set.",ZO=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,BO=/^\s*http:/i,MZ=/^\s*https:/i,OZ=/^\s*file:/i,NZ=/:\d+$/,kZ=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,CZ=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),RZ=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let wc=class{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=this.uri.match(CZ);this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),this.authority!=null&&(t=this.authority.match(RZ),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}};const ug={},LZ=new wc(At.applicationUrl);let br=LZ;const DZ=FZ();let gw=DZ;const vw=()=>br,PZ=()=>gw;function FZ(){const e=br.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${br.scheme}://${br.host}${br.port!=null?`:${br.port}`:""}`}${t}`}function fs(e){if(!e)return null;const t={path:null,query:null},n=new wc(e),r=e.indexOf("?");return n.query===null?t.path=e:(t.path=e.slice(0,r),t.query=hg(n.query)),n.fragment&&(t.hash=n.fragment,n.query===null&&(t.path=t.path.slice(0,t.path.length-(n.fragment.length+1)))),t}function hg(e){const t=e.split("&"),n={};for(const r of t){if(!r)continue;const i=r.indexOf("=");let s,o;i<0?(s=decodeURIComponent(r),o=""):(s=decodeURIComponent(r.slice(0,i)),o=decodeURIComponent(r.slice(i+1)));let a=n[s];typeof a=="string"&&(a=n[s]=[a]),Array.isArray(a)?a.push(o):n[s]=o}return n}function wh(e,t){return e?Object.keys(e).map(n=>{const r=e[n];if(r==null)return"";const i=encodeURIComponent(n)+"=",s=t?.[n];return s?i+encodeURIComponent(s(r)):Array.isArray(r)?r.map(o=>He.isSerializable(o)?i+encodeURIComponent(JSON.stringify(o)):i+encodeURIComponent(o)).join("&"):He.isSerializable(r)?i+encodeURIComponent(JSON.stringify(r)):i+encodeURIComponent(r)}).filter(n=>n).join("&"):""}function XO(e=!1){let t,n=_h.proxyUrl;if(typeof e=="string"){t=QO(e);const r=uf(e);r&&(n=r.proxyUrl)}else t=!!e;if(!n)throw AZ().warn(WO),new ct("urlUtils:proxy-not-set",WO);return t&&Tw()&&(n=fg(n)),fs(n)}function UZ(e,t=!1){const n=uf(e);let r,i;if(n){const s=bw(n.proxyUrl);r=s.path,i=s.query?hg(s.query):null}else if(t){const s=XO(e);r=s.path,i=s.query}if(r){const s=fs(e);e=r+"?"+s.path;const o=wh({...i,...s.query});o&&(e=`${e}?${o}`)}return e}const cf={path:"",query:""};function bw(e){const t=e.indexOf("?");return t!==-1?(cf.path=e.slice(0,t),cf.query=e.slice(t+1)):(cf.path=e,cf.query=null),cf}function HO(e){return e=(e=mg(e=KO(e=bw(e).path),!0)).toLowerCase()}function GZ(e){const t={proxyUrl:e.proxyUrl,urlPrefix:HO(e.urlPrefix)},n=_h.proxyRules,r=t.urlPrefix;let i=n.length;for(let s=0;s<n.length;s++){const o=n[s].urlPrefix;if(r.indexOf(o)===0){if(r.length===o.length)return-1;i=s;break}o.indexOf(r)===0&&(i=s+1)}return n.splice(i,0,t),i}function uf(e){const t=_h.proxyRules,n=HO(e);for(let r=0;r<t.length;r++)if(n.indexOf(t[r].urlPrefix)===0)return t[r]}function jZ(e,t){if(!e||!t)return!1;e=dg(e),t=dg(t);const n=mw(e),r=mw(t);return n!=null&&r!=null?n.portalHostname===r.portalHostname:n==null&&r==null&&xc(e,t,!0)}function YO(e,t){return e=dg(e),t=dg(t),mg(e)===mg(t)}function dg(e){const t=(e=Xo(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function _w(e,t=_h.interceptors){const n=r=>r==null||r instanceof RegExp&&r.test(e)||typeof r=="string"&&e.startsWith(r);if(t){for(const r of t)if(Array.isArray(r.urls)){if(r.urls.some(n))return r}else if(n(r.urls))return r}return null}function xc(e,t,n=!1){if(!e||!t)return!1;const r=Aw(e),i=Aw(t);return!(!n&&r.scheme!==i.scheme)&&r.host!=null&&i.host!=null&&r.host.toLowerCase()===i.host.toLowerCase()&&r.port===i.port}function ww(e){if(typeof e=="string"){if(!Pi(e))return!0;e=Aw(e)}if(xc(e,br))return!0;const t=_h.trustedServers||[];for(let n=0;n<t.length;n++){const r=zZ(t[n]);for(let i=0;i<r.length;i++)if(xc(e,r[i]))return!0}return!1}function zZ(e){return ug[e]||(Ew(e)||Ho(e)?ug[e]=[new wc(xh(e))]:ug[e]=[new wc(`http://${e}`),new wc(`https://${e}`)]),ug[e]}function xh(e,t=gw,n){return Ho(e)?n?.preserveProtocolRelative?e:br.scheme==="http"&&br.authority===vi(e).slice(2)?`http:${e}`:`https:${e}`:Ew(e)?e:hf(e[0]==="/"?YZ(t):t,e)}function xw(e,t=gw,n){if(e==null||!Pi(e))return e;const r=Xo(e),i=r.toLowerCase(),s=Xo(t).toLowerCase().replace(/\/+$/,""),o=n?Xo(n).toLowerCase().replace(/\/+$/,""):null;if(o&&s.indexOf(o)!==0)return e;const a=(p,f,y)=>(y=p.indexOf(f,y))===-1?p.length:y;let l=a(i,"/",i.indexOf("//")+2),c=-1;for(;i.slice(0,l+1)===s.slice(0,l)+"/"&&(c=l+1,l!==i.length);)l=a(i,"/",l+1);if(c===-1||o&&c<o.length)return e;e=r.slice(c);const d=s.slice(c-1).replaceAll(/[^/]+/g,"").length;if(d>0)for(let p=0;p<d;p++)e=`../${e}`;else e=`./${e}`;return e}function Xo(e){return e=eB(e=KZ(e=QZ(e=xh(e=e.trim()))))}function hf(...e){const t=e.filter(XA);if(!t?.length)return;const n=[];if(Pi(t[0])){const i=t[0],s=i.indexOf("//");s!==-1&&(n.push(i.slice(0,s+1)),XZ(t[0])&&(n[0]+="/"),t[0]=i.slice(s+2))}else t[0][0]==="/"&&n.push("");const r=t.reduce((i,s)=>s?i.concat(s.split("/")):i,[]);for(let i=0;i<r.length;i++){const s=r[i];s===".."&&n.length>0&&n[n.length-1]!==".."?n.pop():(!s&&i===r.length-1||s&&(s!=="."||n.length===0))&&n.push(s)}return n.join("/")}function vi(e,t=!1){if(e==null||pg(e)||Ec(e))return null;let n=e.indexOf("://");if(n===-1&&Ho(e))n=2;else{if(n===-1)return null;n+=3}const r=e.indexOf("/",n);return r!==-1&&(e=e.slice(0,r)),t&&(e=mg(e,!0)),e}function Pi(e){return Ho(e)||Ew(e)}function pg(e){return e!=null&&e.slice(0,5)==="blob:"}function Ec(e){return e!=null&&e.slice(0,5)==="data:"}function qO(e){const t=Eh(e);return t?.isBase64?VO(t.data):null}function $Z(e){return IZ(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const VZ=/^data:(.*?)(;base64)?,(.*)$/;function Eh(e){const t=e.match(VZ);if(!t)return null;const[,n,r,i]=t;return{mediaType:n,isBase64:!!r,data:i}}function JO(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function WZ(e){return(await fetch(e)).blob()}function ZZ(e){const t=qO(e);if(!t)return null;const n=Eh(e);return new Blob([t],{type:n.mediaType})}function Ho(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function Ew(e){return e!=null&&ZO.test(e)}function QO(e){return e!=null&&MZ.test(e)||br.scheme==="https"&&Ho(e)}function BZ(e){return e!=null&&BO.test(e)||br.scheme==="http"&&Ho(e)}function XZ(e){return e!=null&&OZ.test(e)}function fg(e){return Ho(e)?`https:${e}`:e.replace(BO,"https:")}function HZ(){return br.scheme==="http"}function Tw(){return br.scheme==="https"}function mg(e,t=!1){return Ho(e)?e.slice(2):(e=e.replace(ZO,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function YZ(e){const t=e.indexOf("//"),n=e.indexOf("/",t+2);return n===-1?e:e.slice(0,n)}function qZ(e){let t=0;if(Pi(e)){const r=e.indexOf("//");r!==-1&&(t=r+2)}const n=e.lastIndexOf("/");return n<t?e:e.slice(0,n+1)}function JZ(e,t){if(!e)return"";const n=fs(e).path.replace(/\/+$/,""),r=n.slice(n.lastIndexOf("/")+1);if(!t?.length)return r;const i=new RegExp(`\\.(${t.join("|")})$`,"i");return r.replace(i,"")}function KO(e){return e.endsWith("/")?e:`${e}/`}function Sw(e){return e.replace(/\/+$/,"")}function QZ(e){if(/^https?:\/\//i.test(e)){const t=bw(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function KZ(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function eB(e){const t=_h.httpsDomains;if(!BZ(e))return e;const n=e.indexOf("/",7);let r;if(r=n===-1?e:e.slice(0,n),r=r.toLowerCase().slice(7),NZ.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return HZ()&&r===br.authority&&!kZ.test(e)||(Tw()&&r===br.authority||t&&t.some(i=>r===i||r.endsWith(`.${i}`))||Tw()&&!uf(e))&&(e=fg(e)),e}function Iw(e,t,n){if(!(t&&n&&e&&Pi(e)))return e;const r=e.indexOf("//"),i=e.indexOf("/",r+2),s=e.indexOf(":",r+2),o=Math.min(i<0?e.length:i,s<0?e.length:s);return e.slice(r+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${n}${e.slice(o)}`}function Aw(e){return typeof e=="string"?new wc(xh(e)):(e.scheme||(e.scheme=br.scheme),e)}function tB(e){return sB.test(e)}function eN(e,t){const n=fs(e),r=Object.keys(n.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),n.path}function nB(e,t,n){const r=fs(e),i=r.query||{};return i[t]=String(n),`${r.path}?${wh(i)}`}function yg(e,t){if(!t)return e;const n=fs(e),r=n.query||{};for(const[s,o]of Object.entries(t))o!=null&&(r[s]=o);const i=wh(r);return i?`${n.path}?${i}`:n.path}function rB(e){if(e==null)return null;const t=e.match(nN);return t?t[2]:null}function tN(e){if(e==null)return null;const t=e.match(nN);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function iB(e){return typeof e=="string"?Eh(e)??{data:e}:new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(Eh(r.result)),r.onerror=i=>n(i)})}const nN=/([^.]*)\.([^/]*)$/,sB=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const rN="4.32";let Ut,iN=rN;iN="4.32.10";function oB(e){Ut=e}function aB(e){const t=Ut?.findCredential(e);return t?.token?nB(e,"token",t.token):e}re("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),re("host-webworker");function Th(e,t){const n=t?.url?.path;if(e&&n&&(e=xh(e,n,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const r=xw(e,t.portalItem.itemUrl);r!=null&&lB.test(r)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(r).path)}return(e=Ow(e,t?.portal))&&vg.test(e)?Nw(e):e}function df(e,t,n=Sh.YES){if((e=e&&vg.test(e)?aN(e):e)==null)return e;!Pi(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let r=xh(e);if(t){const i=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(i){const s=Ow(i,t.portal),o=Ow(r,t.portal);r=xw(o,s,s),r!=null&&r!==o&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=Mw(r,t?.portal),Pi(r)&&(r=Xo(r)),t?.resources&&t?.portalItem&&!Pi(r)&&!Ec(r)&&n===Sh.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function gg(e,t,n){return Th(e,n)}function Tc(e,t,n,r){const i=df(e,r);i!==void 0&&(t[n]=i)}const vg=/\/items\/([^/]+)\/resources\/(.*)/,lB=/^\.\/resources\//;function sN(e){return(e?.match(vg)??null)?.[1]??null}function oN(e){const t=e?.match(vg)??null;if(t==null)return null;const n=t[2],r=n.lastIndexOf("/");if(r===-1){const{path:o,extension:a}=tN(n);return{prefix:null,filename:o,extension:a}}const{path:i,extension:s}=tN(n.slice(r+1));return{prefix:n.slice(0,r),filename:i,extension:s}}function Mw(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?Iw(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function Ow(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const n=`${t.urlKey}.${t.customBaseUrl}`,r=vw();return xc(r,`${r.scheme}://${n}`)?Iw(e,t.portalHostname,n):Iw(e,n,t.portalHostname)}function Nw(e){if(!e)return e||null;let t=e;return t&&Ut&&!Ut.findCredential(t)&&(t=yw(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function aN(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Ut&&!Ut.findCredential(t)&&(t=yw(t)),t}var Sh;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(Sh||(Sh={}));const cB=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Sh},ensureMainOnlineDomain:Mw,fromCDNUrl:aN,fromJSON:Th,itemIdFromResourceUrl:sN,prefixAndFilenameFromResourceUrl:oN,read:gg,toCDNUrl:Nw,toJSON:df,write:Tc},Symbol.toStringTag,{value:"Module"})),lN={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},cN=Object.values(lN),uN=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${cN.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),uB=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${cN.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),hB=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function dB(e){return uN.test(e)}function kw(e){if(e==null)return null;const t=fs(e),n=t?.path.match(uN)||t?.path.match(uB);if(!n)return null;const[,r,i,s,o]=n,a=i.indexOf("/");return{title:Cw(a!==-1?i.slice(a+1):i),serverType:lN[s.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:r}}}function hN(e){const t=fs(e).path.match(hB);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function Cw(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function pB(e,t){const n=[];if(e){const r=kw(e);r!=null&&r.title&&n.push(r.title)}if(t){const r=Cw(t);n.push(r)}if(n.length===2){if(n[0].toLowerCase().includes(n[1].toLowerCase()))return n[0];if(n[1].toLowerCase().includes(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function Rw(e){let t=vi(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function fB(e,t){return e&&Sw(eN(e,t))}function mB(e){let{url:t}=e;if(!t)return{url:t};t=eN(t,e.logger);const n=fs(t),r=kw(n.path);let i;if(r!=null)r.sublayer!=null&&e.layer.layerId==null&&(i=r.sublayer),t=r.url.path;else if(e.nonStandardUrlAllowed){const s=hN(n.path);s!=null&&(t=s.serviceUrl,i=s.sublayerId)}return{url:Sw(t),layerId:i}}function yB(e,t,n,r,i){Tc(t,r,"url",i),r.url&&e.layerId!=null&&(r.url=hf(r.url,n,e.layerId.toString()))}function gB(e){if(!e)return!1;const t=e.toLowerCase(),n=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),i=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver");return n&&(r||i||s)}const vB=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function bB(e){const t=vi(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!vB.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function dN(e,t){return!(!At.apiKey||!bB(e))}function pN(e,t,n=!1,r){return new Promise((i,s)=>{if(Ks(r))return void s(fN());let o=()=>{c(),s(new Error(`Unable to load ${t}`))},a=()=>{const d=e;c(),i(d)},l=()=>{if(!e)return;const d=e;c(),d.src="",s(fN())};const c=()=>{re("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",a)),o=null,a=null,e=null,r?.removeEventListener("abort",l),l=null,n&&URL.revokeObjectURL(t)};r?.addEventListener("abort",l),re("esri-image-decode")?e.decode().then(a,o):(e.addEventListener("error",o),e.addEventListener("load",a))})}function fN(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const mN="Timeout exceeded";function _B(){return new Error(mN)}function wB(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===mN}function xB(e){At.request.crossOriginNoCorsDomains||(At.request.crossOriginNoCorsDomains={});const t=At.request.crossOriginNoCorsDomains;for(let n of e)n=n.toLowerCase(),/^https?:\/\//.test(n)?t[vi(n)??""]=0:(t[vi("http://"+n)??""]=0,t[vi("https://"+n)??""]=0)}function EB(e){const t=At.request.crossOriginNoCorsDomains;if(t){let n=vi(e);if(n)return n=n.toLowerCase(),!xc(n,vw())&&t[n]<Date.now()-36e5}return!1}async function TB(e){const t=fs(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const n=At.request.crossOriginNoCorsDomains,r=vi(e);n&&r&&(n[r.toLowerCase()]=Date.now())}async function xn(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=hg(t.query.toString().replaceAll("+"," ")));const n=Ec(e),r=pg(e);r||n||(e=Xo(e));const i={url:e,requestOptions:{...t}},s=y=>({data:y,getAllHeaders:Ih,getHeader:Ih,httpStatus:200,requestOptions:i.requestOptions,url:i.url}),o=_w(e,Fi.internalInterceptors);if(o){const y=await bN(o,i);if(y!=null)return s(y)}let a=_w(e);if(a){const y=await bN(a,i);if(y!=null)return s(y);a.after||a.error||(a=null)}if(e=i.url,(t=i.requestOptions).responseType==="image"&&(re("host-webworker")||re("host-node")))throw ms("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),i);if(t.method==="head"){if(t.body)throw ms("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),i);if(n||r)throw ms("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),i)}if(await OB(),bg)return bg.execute(e,t);const l=new AbortController,c=Pa(t,()=>l.abort()),d={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:i,redoRequest:!1,useIdentity:Fi.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},p=t.useRequestQueue?LB(d):Dw(d),f=await p.finally(()=>c?.remove());return a?.after?.(f),f}let bg;const Fi=At.request,yN="FormData"in globalThis,SB=new Set([499,498,403,401]),IB=new Set(["COM_0056","COM_0057","SB_0008"]),AB=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Ih=()=>null,_g=Symbol();function MB(e){const t=vi(e);t&&!xn._corsServers.includes(t)&&xn._corsServers.push(t)}function gN(e){const t=vi(e);return!t||t.endsWith(".arcgis.com")||xn._corsServers.includes(t)||ww(t)}function ms(e,t,n,r){let i="Error";const s={url:n.url,requestOptions:n.requestOptions,getAllHeaders:Ih,getHeader:Ih,ssl:!1};if(t instanceof ct)return t.details?(t.details=ye(t.details),t.details.url=n.url,t.details.requestOptions=n.requestOptions):t.details=s,t;if(t){const o=r&&(()=>Array.from(r.headers)),a=r&&(d=>r.headers.get(d)),l=r?.status,c=t.message;c&&(i=c),o&&a&&(s.getAllHeaders=o,s.getHeader=a),s.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,s.subCode=t.subcode,s.messageCode=t.messageCode,typeof t.details=="string"?s.messages=[t.details]:s.messages=t.details,s.raw=_g in t?t[_g]:t}return mh(t)?vr():new ct(e,i,s)}async function OB(){re("host-webworker")&&!bg&&(bg=await import("./request-BnJ2N5Ms.js"))}async function Lw(){Ut||await import("./IdentityManager-DRGb9FAn.js")}async function NB(e){const t=e.params.url,n=e.params.requestOptions,r=e.controller.signal,i=n.body;let s=null,o=null;if(yN&&"HTMLFormElement"in globalThis&&(i instanceof FormData?s=i:i instanceof HTMLFormElement&&(s=new FormData(i))),typeof i=="string"&&(o=i),e.fetchOptions={cache:n.cacheBust?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},method:n.method==="head"?"HEAD":"GET",mode:"cors",priority:Fi.priority,redirect:"follow",signal:r},(s||o)&&(e.fetchOptions.body=s||o),n.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||n.query?.token||s?.get("token")),!e.hasToken&&dN(t)&&(n.query||(n.query={}),n.query.token=At.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!vN(t)&&!Ks(r)){let a;n.authMode==="immediate"?(await Lw(),a=await Ut.getCredential(t,{signal:r}),e.credential=a):n.authMode==="no-prompt"?(await Lw(),a=await Ut.getCredential(t,{prompt:!1,signal:r}).catch(()=>{}),e.credential=a):Ut&&(a=Ut.findCredential(t)),a&&(e.credentialToken=a.token,e.useSSL=!!a.ssl)}}function vN(e){return AB.some(t=>t.test(e))}async function kB(e){let t=e.params.url;const n=e.params.requestOptions,r=e.fetchOptions??{},i=pg(t)||Ec(t),s=n.responseType||"json",o=i?0:n.timeout!=null?n.timeout:Fi.timeout;let a=!1;if(!i){e.useSSL&&(t=fg(t));let f={...n.query};e.credentialToken&&(f.token=e.credentialToken);let y=wh(f);re("esri-url-encodes-apostrophe")&&(y=y.replaceAll("'","%27"));const g=t.length+1+y.length;let b;a=n.method==="delete"||n.method==="post"||n.method==="put"||!!n.body||g>Fi.maxUrlLength;const E=n.useProxy||!!uf(t);if(E){const S=XO(t);b=S.path,!a&&b.length+1+g>Fi.maxUrlLength&&(a=!0),S.query&&(f={...S.query,...f})}if(r.method==="HEAD"&&(a||E)){if(a)throw g>Fi.maxUrlLength?ms("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):ms("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(E)throw ms("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}a?(r.method=n.method==="delete"?"DELETE":n.method==="put"?"PUT":"POST",n.body?t=yg(t,f):(r.body=wh(f),r.headers||(r.headers={}),r.headers["Content-Type"]="application/x-www-form-urlencoded")):t=yg(t,f),E&&(e.useProxy=!0,t=`${b}?${t}`),f.token&&yN&&r.body instanceof FormData&&!$O(t)&&r.body.set("token",f.token),n.hasOwnProperty("withCredentials")?e.withCredentials=n.withCredentials:xc(t,vw())||(ww(t)||Ut&&Ut.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(r.credentials="include",EB(t)&&await TB(a?yg(t,f):t))}let l,c,d=0,p=!1;o>0&&(d=setTimeout(()=>{p=!0,e.controller.abort()},o));try{if(n.responseType==="native-request-init")c=r,c.url=t,n.signal?c.signal=n.signal:delete c.signal;else if(n.responseType!=="image"||r.cache!=="default"||r.method!=="GET"||a||CB(n.headers)||!i&&!e.useProxy&&Fi.proxyUrl&&!gN(t)){if(xn._beforeFetch&&await xn._beforeFetch(t,r),l=await fetch(t,r),xn._afterFetch&&await xn._afterFetch(l),e.useProxy||MB(t),n.responseType==="native")c=l;else if(r.method!=="HEAD")if(l.ok){switch(s){case"array-buffer":c=await l.arrayBuffer();break;case"blob":case"image":c=await l.blob();break;default:c=await l.text()}if(d&&(clearTimeout(d),d=0),s==="json"||s==="xml"||s==="document")if(c)switch(s){case"json":c=JSON.parse(c);break;case"xml":c=_N(c,"application/xml");break;case"document":c=_N(c,"text/html")}else c=null;if(c){if(s==="array-buffer"||s==="blob"){const f=l.headers.get("Content-Type");if(f&&/application\/json|text\/plain/i.test(f)&&c[s==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(c).json();y.error&&(c=y)}catch{}}s==="image"&&c instanceof Blob&&(c=await wN(URL.createObjectURL(c),e,!0))}}else{c=await l.text();try{c=JSON.parse(c)}catch{}}}else c=await wN(t,e)}catch(f){if(f.name==="AbortError")throw p?_B():vr("Request canceled");if(!(!l&&f instanceof TypeError&&Fi.proxyUrl)||n.body||n.method==="delete"||n.method==="head"||n.method==="post"||n.method==="put"||e.useProxy||gN(t))throw f;e.redoRequest=!0,GZ({proxyUrl:Fi.proxyUrl,urlPrefix:vi(t)??""})}finally{d&&clearTimeout(d)}return[l,c]}async function bN(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let n,r;try{r=await e.before(t)}catch(i){n=ms("request:interceptor",i,t)}if((r instanceof Error||r instanceof ct)&&(n=ms("request:interceptor",r,t)),n)throw e.error&&e.error(n),n;return r}}function CB(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function _N(e,t){let n;try{n=new DOMParser().parseFromString(e,t)}catch{}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return n}xn._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],xn._beforeFetch=void 0,xn._afterFetch=void 0;const RB=new Map;async function LB(e){const t=PB(e.params.url);if(!t)return Dw(e);const{QueueProcessor:n}=await import("./QueueProcessor-oHTNBNc6.js");return w2(RB,t.origin,()=>{const r=t.isHosted?re("request-queue-concurrency-hosted"):re("request-queue-concurrency-non-hosted");return new n({concurrency:r,process:i=>{if(Ks(i.params.requestOptions))throw ms("",vr("Request canceled"),i.params);return Dw(i)}})}).push(e)}async function Dw(e){let t,n;await NB(e);try{do[t,n]=await kB(e);while(!await DB(e,t,n))}catch(s){const o=ms("request:server",s,e.params,t);throw o.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(o),o}const r=e.params.url;if(n&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!e.hasToken&&!e.credentialToken&&n.user?.username&&!ww(r)){const s=vi(r,!0);s&&Fi.trustedServers.push(s)}Array.isArray(n.authorizedCrossOriginNoCorsDomains)&&xB(n.authorizedCrossOriginNoCorsDomains)}const i=e.credential;if(i&&Ut){let s=Ut.findServerInfo(i.server)?.owningSystemUrl;if(s){s=s.replace(/\/?$/,"/sharing");const o=Ut.findCredential(s,i.userId);o&&Ut._getIdenticalSvcIdx(s,o)===-1&&o.resources.unshift(s)}}return{data:n,getAllHeaders:t?()=>Array.from(t.headers):Ih,getHeader:t?s=>t.headers.get(s):Ih,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function DB(e,t,n){if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||r.responseType==="native"||r.responseType==="native-request-init")return!0;let i,s;if(n&&(n.error&&typeof n.error=="object"?i=n.error:n.status==="error"&&Array.isArray(n.messages)&&(i={...n},i[_g]=n,i.details=n.messages)),!i&&!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[_g]=n,i;let o,a=null;i&&(s=Number(i.code),a=i.hasOwnProperty("subcode")?Number(i.subcode):null,o=i.messageCode,o=o?.toUpperCase());const l=r.authMode;if(s===403&&(a===4||i.message?.toLowerCase().includes("ssl")&&!i.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&SB.has(s)&&!vN(e.params.url)&&(s!==403||(!o||!IB.has(o))&&(a==null||a===2&&e.credentialToken))){await Lw();try{const c=await Ut.getCredential(e.params.url,{error:ms("request:server",i,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=c,e.credentialToken=c.token,e.useSSL=e.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;i=c}}if(i)throw i;return!0}function wN(e,t,n=!1){const r=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.fetchPriority=Fi.priority,i.src=e,pN(i,e,n,r)}function PB(e){let t,n;return typeof e=="string"?(t=vi(e,!0),n=Rw(e)):(t=e.origin,n=Rw(e.toString())),t==null?null:{origin:t,isHosted:n}}function xN(e){if(!At.assetsPath)throw kt.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new ct("assets:path-not-set","config.assetsPath is not set");return hf(At.assetsPath,e)}let Pw,Z=null;function EN(){return!!Z}function FB(){return!!re("esri-wasm")}function TN(){return Pw||(Pw=import("./pe-wasm-BUKTby65.js").then(e=>e.p).then(({default:e})=>e({locateFile:t=>xN(`esri/geometry/support/${t}`)})).then(e=>{AN(e)}),Pw)}var wg,Gt;(function(e){function t(s,o,a){Z.ensureCache.prepare();const l=Sc(a),c=a===l,d=Z.ensureFloat64(l),p=Z._pe_geog_to_proj(Z.getPointer(s),o,d);return p&&$a(a,o,d,c),p}function n(s,o,a,l){switch(l){case Gt.PE_TRANSFORM_P_TO_G:return r(s,o,a);case Gt.PE_TRANSFORM_G_TO_P:return t(s,o,a)}return 0}function r(s,o,a){return i(s,o,a,0)}function i(s,o,a,l){Z.ensureCache.prepare();const c=Sc(a),d=a===c,p=Z.ensureFloat64(c),f=Z._pe_proj_to_geog_center(Z.getPointer(s),o,p,l);return f&&$a(a,o,p,d),f}e.geogToProj=t,e.projGeog=n,e.projToGeog=r,e.projToGeogCenter=i})(wg||(wg={})),function(e){function t(){e.PE_BUFFER_MAX=Z.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=Z.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=Z.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=Z.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=Z.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=Z.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=Z.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=Z.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=Z.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=Z.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=Z.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=Z.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=Z.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=Z.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=Z.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=Z.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=Z.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=Z.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=Z.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=Z.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=Z.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=Z.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=Z.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=Z.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=Z.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=Z.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=Z.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=Z.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=Z.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=Z.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=Z.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=Z.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Gt||(Gt={}));let SN=null;var xg;(function(e){const t={},n={},r=y=>{const g=y.getType();switch(g){case Gt.PE_TYPE_GEOGCS:y=Z.castObject(y,Z.PeGeogcs);break;case Gt.PE_TYPE_PROJCS:y=Z.castObject(y,Z.PeProjcs);break;case Gt.PE_TYPE_GEOGTRAN:y=Z.castObject(y,Z.PeGeogtran);break;default:g&Gt.PE_TYPE_UNIT&&(y=Z.castObject(y,Z.PeUnit))}return y};function i(){Z.PeFactory.prototype.initialize(null)}function s(y){return o(Gt.PE_TYPE_COORDSYS,y)}function o(y,g){let b=null,E=t[y];if(E||(E={},t[y]=E),E.hasOwnProperty(String(g))&&(b=E[g],Z.compare(b,Z.NULL)&&(b=null)),!b){const S=Z.PeFactory.prototype.factoryByType(y,g);Z.compare(S,Z.NULL)||(b=r(S),E[g]=b)}return b}function a(y,g){let b=null,E=n[y];if(E||(E={},n[y]=E),E.hasOwnProperty(g)&&(b=E[g],Z.compare(b,Z.NULL)&&(b=null)),!b){const S=Z.PeFactory.prototype.fromString(y,g);Z.compare(S,Z.NULL)||(b=r(S),E[g]=b)}return b}function l(y){return o(Gt.PE_TYPE_GEOGCS,y)}function c(y){return o(Gt.PE_TYPE_GEOGTRAN,y)}function d(y){return Z.PeFactory.prototype.getCode(y)}function p(y){return o(Gt.PE_TYPE_PROJCS,y)}function f(y){return o(Gt.PE_TYPE_UNIT,y)}e.initialize=i,e.coordsys=s,e.factoryByType=o,e.fromString=a,e.geogcs=l,e.geogtran=c,e.getCode=d,e.projcs=p,e.unit=f})(xg||(xg={}));let IN=null;var Eg,Fw,Tg,Uw,Gw,Sg,pf,Ig,ff,mf,jw;function AN(e){function t(s,o,a){s[o]=a(s[o])}Z=e,Gt.init(),Eg.init(),pf.init(),ff.init(),mf.init(),SN=class extends Z.PeDouble{constructor(s=NaN){super(s)}destroy(){Z.destroy(this)}[Symbol.dispose](){this.destroy()}},IN=class extends Z.PeGCSExtent{destroy(){Z.destroy(this)}[Symbol.dispose](){this.destroy()}};const n=[Z.PeAngunit,Z.PeDatum,Z.PeGeogcs,Z.PeGeogtran,Z.PeObject,Z.PeParameter,Z.PePrimem,Z.PeProjcs,Z.PeSpheroid,Z.PeUnit];for(const s of n)t(s.prototype,"getName",o=>function(){return o.call(this,new Array(Gt.PE_NAME_MAX))});for(const s of[Z.PeGeogtran,Z.PeProjcs])t(s.prototype,"getParameters",o=>function(){const a=new Array(Gt.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const d=Z.getValue(l,"*");a[c]=d?Z.wrapPointer(d,Z.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(Z.PeHorizon.prototype,"getCoord",s=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return $a(l,a,s.call(this),o),l}),t(Z.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=Z._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!Z.compare(l,Z.NULL)){a=[l];const c=this.getSteps();if(c>1){const d=Z.getPointer(l);for(let p=1;p<c;p++)a.push(Z.wrapPointer(d+o*p,Z.PeGTlistExtendedGTs))}}return a}});const r=Z._pe_getPeHorizonSize(),i=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!Z.compare(l,Z.NULL)){a=[l];const c=l.getNump();if(c>1){const d=Z.getPointer(l);for(let p=1;p<c;p++)a.push(Z.wrapPointer(d+r*p,Z.PeHorizon))}}return o.set(s,a),a};t(Z.PeProjcs.prototype,"horizonGcsGenerate",i),t(Z.PeProjcs.prototype,"horizonPcsGenerate",i),Z.PeObject.prototype.toString=function(s=Gt.PE_STR_OPTS_NONE){Z.ensureCache.prepare();const o=Z.getPointer(this),a=Z.ensureInt8(new Array(Gt.PE_BUFFER_MAX));return Z.UTF8ToString(Z._pe_object_to_string_ext(o,s,a))},Z.PeGeogcs.prototype.destroy=function(){this.Delete(),ys(this),this.ptr=0},Z.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},Z.PeProjcs.prototype.destroy=function(){this.Delete(),ys(this),this.ptr=0},Z.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function ys(e){if(!e)return;const t=Z.getClass(e);if(!t)return;const n=Z.getCache(t);if(!n)return;const r=Z.getPointer(e);r&&delete n[r]}function Ag(e,t){const n=[],r=new Array(t);for(let i=0;i<e;i++)n.push(Z.ensureInt8(r));return n}function Sc(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function $a(e,t,n,r=!1){if(r)for(let i=0;i<2*t;i++)e[i]=Z.getValue(n+i*Float64Array.BYTES_PER_ELEMENT,"double");else{const i=e.length===0;for(let s=0;s<t;s++)i&&(e[s]=new Array(2)),e[s][0]=Z.getValue(n,"double"),e[s][1]=Z.getValue(n+Float64Array.BYTES_PER_ELEMENT,"double"),n+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function n(){e.PE_GTLIST_OPTS_COMMON=Z.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=Z._pe_getPeGTlistExtendedEntrySize()}function r(i,s,o,a,l,c){let d=null;const p=new Z.PeInteger(c);try{const f=Z.PeGTlistExtended.prototype.getGTlist(i,s,o,a,l,p);if((c=p.val)&&(d=[f],c>1)){const y=Z.getPointer(f);for(let g=1;g<c;g++)d.push(Z.wrapPointer(y+t*g,Z.PeGTlistExtendedEntry))}}finally{Z.destroy(p)}return d}e.init=n,e.getGTlist=r})(Eg||(Eg={})),function(e){function t(n){if(n?.length){for(const r of n)ys(r),r.getEntries().forEach(i=>{ys(i);const s=i.getGeogtran();ys(s),s.getParameters().forEach(ys),[s.getGeogcs1(),s.getGeogcs2()].forEach(o=>{ys(o);const a=o.getDatum();ys(a),ys(a.getSpheroid()),ys(o.getPrimem()),ys(o.getUnit())})});Z.PeGTlistExtendedEntry.prototype.Delete(n[0])}}e.destroy=t}(Fw||(Fw={})),function(e){function t(n,r,i,s,o){Z.ensureCache.prepare();const a=Sc(i),l=i===a,c=Z.ensureFloat64(a);let d=0;s&&(d=Z.ensureFloat64(s));const p=Z._pe_geog_to_geog(Z.getPointer(n),r,c,d,o);return p&&$a(i,r,c,l),p}e.geogToGeog=t}(Tg||(Tg={})),function(e){function t(s,o,a,l,c,d,p,f){Z.PeLineType.prototype.geodesic_coordinate(s,o,a,l,c,d,p,f)}function n(s,o,a,l,c,d,p,f,y){Z.PeLineType.prototype.geodetic_coordinate(s,o,a,l,c,d,p,f,y)}function r(s,o,a,l,c,d,p,f,y,g){Z.PeLineType.prototype.geodetic_distance(s,o,a,l,c,d,p,f,y,g)}function i(s,o,a,l,c,d,p,f,y){Z.PeLineType.prototype.great_elliptic_distance(s,o,a,l,c,d,p,f,y)}e.geodesicCoordinate=t,e.geodeticCoordinate=n,e.geodeticDistance=r,e.greatEllipticDistance=i}(Uw||(Uw={})),function(e){function t(o,a){return Z.PeMath.prototype.phi_to_eta(o,a)}function n(o,a){return Z.PeMath.prototype.eta_to_phi(o,a)}function r(o,a){return Z.PeMath.prototype.phi_to_phig(o,a)}function i(o,a,l){return Z.PeMath.prototype.q(o,a,l)}function s(o,a){return Z.PeMath.prototype.q90(o,a)}e.phiToEta=t,e.etaToPhi=n,e.phiToPhig=r,e.q=i,e.q90=s}(Gw||(Gw={})),function(e){const t=(c,d,p,f,y,g)=>{let b,E;switch(Z.ensureCache.prepare(),c){case"dd":b=Z._pe_geog_to_dd,E=Gt.PE_DD_MAX;break;case"ddm":b=Z._pe_geog_to_ddm,E=Gt.PE_DDM_MAX;break;case"dms":b=Z._pe_geog_to_dms,E=Gt.PE_DMS_MAX}let S=0;d&&(S=Z.getPointer(d));const I=Sc(f),w=Z.ensureFloat64(I),_=Ag(p,E),A=b(S,p,w,y,Z.ensureInt32(_));if(A)for(let M=0;M<p;M++)g[M]=Z.UTF8ToString(_[M]);return A},n=(c,d,p,f,y)=>{let g;switch(Z.ensureCache.prepare(),c){case"dd":g=Z._pe_dd_to_geog;break;case"ddm":g=Z._pe_ddm_to_geog;break;case"dms":g=Z._pe_dms_to_geog}let b=0;d&&(b=Z.getPointer(d));const E=f.map(_=>Z.ensureString(_)),S=Z.ensureInt32(E),I=Z.ensureFloat64(new Array(2*p)),w=g(b,p,S,I);return w&&$a(y,p,I),w};function r(c,d,p,f,y){return t("dms",c,d,p,f,y)}function i(c,d,p,f){return n("dms",c,d,p,f)}function s(c,d,p,f,y){return t("ddm",c,d,p,f,y)}function o(c,d,p,f){return n("ddm",c,d,p,f)}function a(c,d,p,f,y){return t("dd",c,d,p,f,y)}function l(c,d,p,f){return n("dd",c,d,p,f)}e.geogToDms=r,e.dmsToGeog=i,e.geogToDdm=s,e.ddmToGeog=o,e.geogToDd=a,e.ddToGeog=l}(Sg||(Sg={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=Z.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=Z.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=Z.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=Z.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=Z.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function n(i,s,o,a,l,c,d){Z.ensureCache.prepare();let p=0;i&&(p=Z.getPointer(i));const f=Sc(o),y=Z.ensureFloat64(f),g=Ag(s,Gt.PE_MGRS_MAX),b=Z.ensureInt32(g),E=Z._pe_geog_to_mgrs_extended(p,s,y,a,l,c,b);if(E)for(let S=0;S<s;S++)d[S]=Z.UTF8ToString(g[S]);return E}function r(i,s,o,a,l){Z.ensureCache.prepare();let c=0;i&&(c=Z.getPointer(i));const d=o.map(g=>Z.ensureString(g)),p=Z.ensureInt32(d),f=Z.ensureFloat64(new Array(2*s)),y=Z._pe_mgrs_to_geog_extended(c,s,p,a,f);return y&&$a(l,s,f),y}e.init=t,e.geogToMgrsExtended=n,e.mgrsToGeogExtended=r}(pf||(pf={})),function(e){function t(r,i,s,o,a,l,c){Z.ensureCache.prepare();let d=0;r&&(d=Z.getPointer(r));const p=Sc(s),f=Z.ensureFloat64(p),y=Ag(i,Gt.PE_MGRS_MAX),g=Z.ensureInt32(y),b=Z._pe_geog_to_usng(d,i,f,o,a,l,g);if(b)for(let E=0;E<i;E++)c[E]=Z.UTF8ToString(y[E]);return b}function n(r,i,s,o){Z.ensureCache.prepare();let a=0;r&&(a=Z.getPointer(r));const l=s.map(f=>Z.ensureString(f)),c=Z.ensureInt32(l),d=Z.ensureFloat64(new Array(2*i)),p=Z._pe_usng_to_geog(a,i,c,d);return p&&$a(o,i,d),p}e.geogToUsng=t,e.usngToGeog=n}(Ig||(Ig={})),function(e){function t(){e.PE_UTM_OPTS_NONE=Z.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=Z.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=Z.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function n(i,s,o,a,l){Z.ensureCache.prepare();let c=0;i&&(c=Z.getPointer(i));const d=Sc(o),p=Z.ensureFloat64(d),f=Ag(s,Gt.PE_UTM_MAX),y=Z.ensureInt32(f),g=Z._pe_geog_to_utm(c,s,p,a,y);if(g)for(let b=0;b<s;b++)l[b]=Z.UTF8ToString(f[b]);return g}function r(i,s,o,a,l){Z.ensureCache.prepare();let c=0;i&&(c=Z.getPointer(i));const d=o.map(g=>Z.ensureString(g)),p=Z.ensureInt32(d),f=Z.ensureFloat64(new Array(2*s)),y=Z._pe_utm_to_geog(c,s,p,a,f);return y&&$a(l,s,f),y}e.init=t,e.geogToUtm=n,e.utmToGeog=r}(ff||(ff={})),function(e){const t=new Map;function n(){e.PE_PCSINFO_OPTION_NONE=Z.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=Z.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=Z.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=Z.PePCSInfo.prototype.PE_POLE_POINT}function r(i,s=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return t.has(i)&&(a=t.get(i),a[s]&&(o=a[s])),o||(o=Z.PePCSInfo.prototype.generate(i,s),a||(a=[],t.set(i,a)),a[s]=o),o}e.init=n,e.generate=r}(mf||(mf={})),function(e){function t(){return Z.PeVersion.prototype.version_string()}e.versionString=t}(jw||(jw={}));const UB=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return wg},get PeDefs(){return Gt},get PeDouble(){return SN},get PeFactory(){return xg},get PeGCSExtent(){return IN},get PeGTTransformations(){return Tg},get PeGTlistExtended(){return Eg},get PeGTlistExtendedEntry(){return Fw},get PeLineType(){return Uw},get PeMath(){return Gw},get PeNotationDms(){return Sg},get PeNotationMgrs(){return pf},get PeNotationUsng(){return Ig},get PeNotationUtm(){return ff},get PePCSInfo(){return mf},get PeVersion(){return jw},_init:AN,get _pe(){return Z},isLoaded:EN,isSupported:FB,load:TN},Symbol.toStringTag,{value:"Module"}));var Ic;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Ic||(Ic={}));let h;const O={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10665:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(h=2e3;h<=2045;h++)O[h]=0;for(h=2056;h<=2065;h++)O[h]=0;for(h=2067;h<=2135;h++)O[h]=0;for(h=2137;h<=2154;h++)O[h]=0;for(h=2161;h<=2170;h++)O[h]=0;for(h=2172;h<=2193;h++)O[h]=0;for(h=2195;h<=2198;h++)O[h]=0;for(h=2200;h<=2203;h++)O[h]=0;for(h=2205;h<=2217;h++)O[h]=0;for(h=2222;h<=2224;h++)O[h]=1;for(h=2225;h<=2250;h++)O[h]=2;for(h=2251;h<=2253;h++)O[h]=1;for(h=2257;h<=2264;h++)O[h]=2;for(h=2274;h<=2279;h++)O[h]=2;for(h=2280;h<=2282;h++)O[h]=1;for(h=2283;h<=2289;h++)O[h]=2;for(h=2290;h<=2292;h++)O[h]=0;for(h=2308;h<=2313;h++)O[h]=0;for(h=2315;h<=2491;h++)O[h]=0;for(h=2494;h<=2866;h++)O[h]=0;for(h=2867;h<=2869;h++)O[h]=1;for(h=2870;h<=2888;h++)O[h]=2;for(h=2891;h<=2895;h++)O[h]=2;for(h=2896;h<=2898;h++)O[h]=1;for(h=2902;h<=2908;h++)O[h]=2;for(h=2915;h<=2920;h++)O[h]=2;for(h=2921;h<=2923;h++)O[h]=1;for(h=2924;h<=2930;h++)O[h]=2;for(h=2931;h<=2962;h++)O[h]=0;for(h=2964;h<=2968;h++)O[h]=2;for(h=2969;h<=2973;h++)O[h]=0;for(h=2975;h<=2991;h++)O[h]=0;for(h=2995;h<=3051;h++)O[h]=0;for(h=3054;h<=3079;h++)O[h]=0;for(h=3081;h<=3088;h++)O[h]=0;for(h=3092;h<=3101;h++)O[h]=0;for(h=3106;h<=3138;h++)O[h]=0;for(h=3146;h<=3151;h++)O[h]=0;for(h=3153;h<=3166;h++)O[h]=0;for(h=3168;h<=3172;h++)O[h]=0;for(h=3174;h<=3203;h++)O[h]=0;for(h=3294;h<=3358;h++)O[h]=0;for(h=3367;h<=3403;h++)O[h]=0;for(h=3408;h<=3416;h++)O[h]=0;for(h=3417;h<=3438;h++)O[h]=2;for(h=3441;h<=3446;h++)O[h]=2;for(h=3447;h<=3450;h++)O[h]=0;for(h=3451;h<=3459;h++)O[h]=2;for(h=3460;h<=3478;h++)O[h]=0;for(h=3554;h<=3559;h++)O[h]=0;for(h=3560;h<=3570;h++)O[h]=2;for(h=3571;h<=3581;h++)O[h]=0;for(h=3594;h<=3597;h++)O[h]=0;for(h=3601;h<=3604;h++)O[h]=0;for(h=3637;h<=3639;h++)O[h]=0;for(h=3665;h<=3667;h++)O[h]=0;for(h=3693;h<=3695;h++)O[h]=0;for(h=3701;h<=3727;h++)O[h]=0;for(h=3728;h<=3739;h++)O[h]=2;for(h=3740;h<=3751;h++)O[h]=0;for(h=3753;h<=3760;h++)O[h]=2;for(h=3761;h<=3773;h++)O[h]=0;for(h=3775;h<=3777;h++)O[h]=0;for(h=3779;h<=3781;h++)O[h]=0;for(h=3783;h<=3785;h++)O[h]=0;for(h=3788;h<=3791;h++)O[h]=0;for(h=3797;h<=3802;h++)O[h]=0;for(h=3814;h<=3816;h++)O[h]=0;for(h=3825;h<=3829;h++)O[h]=0;for(h=3832;h<=3841;h++)O[h]=0;for(h=3844;h<=3852;h++)O[h]=0;for(h=3873;h<=3885;h++)O[h]=0;for(h=3890;h<=3893;h++)O[h]=0;for(h=3907;h<=3912;h++)O[h]=0;for(h=3942;h<=3950;h++)O[h]=0;for(h=3968;h<=3970;h++)O[h]=0;for(h=3973;h<=3976;h++)O[h]=0;for(h=3986;h<=3989;h++)O[h]=0;for(h=3994;h<=3997;h++)O[h]=0;for(h=4048;h<=4051;h++)O[h]=0;for(h=4056;h<=4063;h++)O[h]=0;for(h=4093;h<=4096;h++)O[h]=0;for(h=4390;h<=4398;h++)O[h]=0;for(h=4399;h<=4413;h++)O[h]=2;for(h=4418;h<=4433;h++)O[h]=2;for(h=4455;h<=4457;h++)O[h]=2;for(h=4484;h<=4489;h++)O[h]=0;for(h=4491;h<=4554;h++)O[h]=0;for(h=4568;h<=4589;h++)O[h]=0;for(h=4652;h<=4656;h++)O[h]=0;for(h=4766;h<=4800;h++)O[h]=0;for(h=5014;h<=5016;h++)O[h]=0;for(h=5069;h<=5072;h++)O[h]=0;for(h=5105;h<=5130;h++)O[h]=0;for(h=5167;h<=5188;h++)O[h]=0;for(h=5253;h<=5259;h++)O[h]=0;for(h=5269;h<=5275;h++)O[h]=0;for(h=5292;h<=5311;h++)O[h]=0;for(h=5329;h<=5331;h++)O[h]=0;for(h=5343;h<=5349;h++)O[h]=0;for(h=5355;h<=5357;h++)O[h]=0;for(h=5387;h<=5389;h++)O[h]=0;for(h=5459;h<=5463;h++)O[h]=0;for(h=5479;h<=5482;h++)O[h]=0;for(h=5518;h<=5520;h++)O[h]=0;for(h=5530;h<=5539;h++)O[h]=0;for(h=5550;h<=5552;h++)O[h]=0;for(h=5562;h<=5583;h++)O[h]=0;for(h=5623;h<=5625;h++)O[h]=2;for(h=5631;h<=5639;h++)O[h]=0;for(h=5649;h<=5653;h++)O[h]=0;for(h=5663;h<=5680;h++)O[h]=0;for(h=5682;h<=5685;h++)O[h]=0;for(h=5875;h<=5877;h++)O[h]=0;for(h=5896;h<=5899;h++)O[h]=0;for(h=5921;h<=5940;h++)O[h]=0;for(h=6050;h<=6125;h++)O[h]=0;for(h=6244;h<=6275;h++)O[h]=0;for(h=6328;h<=6348;h++)O[h]=0;for(h=6350;h<=6356;h++)O[h]=0;for(h=6366;h<=6372;h++)O[h]=0;for(h=6381;h<=6387;h++)O[h]=0;for(h=6393;h<=6404;h++)O[h]=0;for(h=6480;h<=6483;h++)O[h]=0;for(h=6511;h<=6514;h++)O[h]=0;for(h=6579;h<=6581;h++)O[h]=0;for(h=6619;h<=6624;h++)O[h]=0;for(h=6625;h<=6627;h++)O[h]=2;for(h=6628;h<=6632;h++)O[h]=0;for(h=6634;h<=6637;h++)O[h]=0;for(h=6669;h<=6692;h++)O[h]=0;for(h=6707;h<=6709;h++)O[h]=0;for(h=6720;h<=6723;h++)O[h]=0;for(h=6732;h<=6738;h++)O[h]=0;for(h=6931;h<=6933;h++)O[h]=0;for(h=6956;h<=6959;h++)O[h]=0;for(h=7005;h<=7007;h++)O[h]=0;for(h=7057;h<=7070;h++)O[h]=2;for(h=7074;h<=7082;h++)O[h]=0;for(h=7109;h<=7118;h++)O[h]=0;for(h=7119;h<=7127;h++)O[h]=1;for(h=7374;h<=7376;h++)O[h]=0;for(h=7528;h<=7586;h++)O[h]=0;for(h=7587;h<=7645;h++)O[h]=2;for(h=7692;h<=7696;h++)O[h]=0;for(h=7755;h<=7787;h++)O[h]=0;for(h=7791;h<=7795;h++)O[h]=0;for(h=7799;h<=7801;h++)O[h]=0;for(h=7803;h<=7805;h++)O[h]=0;for(h=7825;h<=7831;h++)O[h]=0;for(h=7845;h<=7859;h++)O[h]=0;for(h=8013;h<=8032;h++)O[h]=0;for(h=8065;h<=8068;h++)O[h]=1;for(h=8518;h<=8529;h++)O[h]=2;for(h=8533;h<=8536;h++)O[h]=2;for(h=8538;h<=8540;h++)O[h]=2;for(h=8677;h<=8679;h++)O[h]=0;for(h=8836;h<=8840;h++)O[h]=0;for(h=8857;h<=8859;h++)O[h]=0;for(h=8908;h<=8910;h++)O[h]=0;for(h=9154;h<=9159;h++)O[h]=0;for(h=9205;h<=9218;h++)O[h]=0;for(h=9271;h<=9273;h++)O[h]=0;for(h=9295;h<=9297;h++)O[h]=0;for(h=9356;h<=9360;h++)O[h]=0;for(h=9404;h<=9407;h++)O[h]=0;for(h=9476;h<=9482;h++)O[h]=0;for(h=9487;h<=9494;h++)O[h]=0;for(h=9697;h<=9699;h++)O[h]=0;for(h=9821;h<=9865;h++)O[h]=0;for(h=10285;h<=10291;h++)O[h]=0;for(h=10314;h<=10317;h++)O[h]=0;for(h=10448;h<=10465;h++)O[h]=0;for(h=10731;h<=10733;h++)O[h]=0;for(h=11114;h<=11118;h++)O[h]=0;for(h=20004;h<=20032;h++)O[h]=0;for(h=20047;h<=20049;h++)O[h]=0;for(h=20062;h<=20092;h++)O[h]=0;for(h=20135;h<=20138;h++)O[h]=0;for(h=20248;h<=20258;h++)O[h]=0;for(h=20348;h<=20358;h++)O[h]=0;for(h=20436;h<=20440;h++)O[h]=0;for(h=20822;h<=20824;h++)O[h]=0;for(h=20904;h<=20932;h++)O[h]=0;for(h=20934;h<=20936;h++)O[h]=0;for(h=21004;h<=21032;h++)O[h]=0;for(h=21035;h<=21037;h++)O[h]=0;for(h=21095;h<=21097;h++)O[h]=0;for(h=21148;h<=21150;h++)O[h]=0;for(h=21207;h<=21264;h++)O[h]=0;for(h=21307;h<=21364;h++)O[h]=0;for(h=21413;h<=21423;h++)O[h]=0;for(h=21453;h<=21463;h++)O[h]=0;for(h=21473;h<=21483;h++)O[h]=0;for(h=21780;h<=21782;h++)O[h]=0;for(h=21891;h<=21894;h++)O[h]=0;for(h=21896;h<=21899;h++)O[h]=0;for(h=22171;h<=22177;h++)O[h]=0;for(h=22181;h<=22187;h++)O[h]=0;for(h=22191;h<=22197;h++)O[h]=0;for(h=22207;h<=22222;h++)O[h]=0;for(h=22229;h<=22232;h++)O[h]=0;for(h=22234;h<=22236;h++)O[h]=0;for(h=22243;h<=22250;h++)O[h]=0;for(h=22262;h<=22265;h++)O[h]=0;for(h=22307;h<=22322;h++)O[h]=0;for(h=22348;h<=22357;h++)O[h]=0;for(h=22407;h<=22422;h++)O[h]=0;for(h=22462;h<=22465;h++)O[h]=0;for(h=22521;h<=22525;h++)O[h]=0;for(h=22607;h<=22622;h++)O[h]=0;for(h=22641;h<=22646;h++)O[h]=0;for(h=22648;h<=22657;h++)O[h]=0;for(h=22707;h<=22722;h++)O[h]=0;for(h=22762;h<=22765;h++)O[h]=0;for(h=22807;h<=22822;h++)O[h]=0;for(h=22991;h<=22994;h++)O[h]=0;for(h=23028;h<=23038;h++)O[h]=0;for(h=23301;h<=23333;h++)O[h]=2;for(h=23830;h<=23853;h++)O[h]=0;for(h=23866;h<=23872;h++)O[h]=0;for(h=23877;h<=23884;h++)O[h]=0;for(h=23886;h<=23894;h++)O[h]=0;for(h=23946;h<=23948;h++)O[h]=0;for(h=24311;h<=24313;h++)O[h]=0;for(h=24342;h<=24347;h++)O[h]=0;for(h=24370;h<=24374;h++)O[h]=10;for(h=24375;h<=24381;h++)O[h]=0;for(h=24718;h<=24721;h++)O[h]=0;for(h=24817;h<=24821;h++)O[h]=0;for(h=24877;h<=24882;h++)O[h]=0;for(h=24891;h<=24893;h++)O[h]=0;for(h=25391;h<=25395;h++)O[h]=0;for(h=25828;h<=25838;h++)O[h]=0;for(h=26191;h<=26195;h++)O[h]=0;for(h=26391;h<=26393;h++)O[h]=0;for(h=26701;h<=26722;h++)O[h]=0;for(h=26729;h<=26799;h++)O[h]=2;for(h=26801;h<=26803;h++)O[h]=2;for(h=26811;h<=26813;h++)O[h]=2;for(h=26847;h<=26870;h++)O[h]=2;for(h=26891;h<=26899;h++)O[h]=0;for(h=26901;h<=26923;h++)O[h]=0;for(h=26929;h<=26946;h++)O[h]=0;for(h=26948;h<=26998;h++)O[h]=0;for(h=27037;h<=27040;h++)O[h]=0;for(h=27205;h<=27232;h++)O[h]=0;for(h=27258;h<=27260;h++)O[h]=0;for(h=27391;h<=27398;h++)O[h]=0;for(h=27561;h<=27564;h++)O[h]=0;for(h=27571;h<=27574;h++)O[h]=0;for(h=27581;h<=27584;h++)O[h]=0;for(h=27591;h<=27594;h++)O[h]=0;for(h=27700;h<=27707;h++)O[h]=0;for(h=28191;h<=28193;h++)O[h]=0;for(h=28348;h<=28358;h++)O[h]=0;for(h=28402;h<=28432;h++)O[h]=0;for(h=28462;h<=28492;h++)O[h]=0;for(h=29118;h<=29122;h++)O[h]=0;for(h=29168;h<=29172;h++)O[h]=0;for(h=29177;h<=29185;h++)O[h]=0;for(h=29187;h<=29195;h++)O[h]=0;for(h=29900;h<=29903;h++)O[h]=0;for(h=30161;h<=30179;h++)O[h]=0;for(h=30491;h<=30494;h++)O[h]=0;for(h=30729;h<=30732;h++)O[h]=0;for(h=31251;h<=31259;h++)O[h]=0;for(h=31265;h<=31268;h++)O[h]=0;for(h=31275;h<=31279;h++)O[h]=0;for(h=31281;h<=31297;h++)O[h]=0;for(h=31461;h<=31469;h++)O[h]=0;for(h=31491;h<=31495;h++)O[h]=0;for(h=31917;h<=31922;h++)O[h]=0;for(h=31965;h<=32e3;h++)O[h]=0;for(h=32001;h<=32003;h++)O[h]=2;for(h=32005;h<=32031;h++)O[h]=2;for(h=32033;h<=32060;h++)O[h]=2;for(h=32064;h<=32067;h++)O[h]=2;for(h=32074;h<=32077;h++)O[h]=2;for(h=32081;h<=32086;h++)O[h]=0;for(h=32107;h<=32130;h++)O[h]=0;for(h=32133;h<=32159;h++)O[h]=0;for(h=32164;h<=32167;h++)O[h]=2;for(h=32180;h<=32199;h++)O[h]=0;for(h=32201;h<=32260;h++)O[h]=0;for(h=32301;h<=32360;h++)O[h]=0;for(h=32401;h<=32460;h++)O[h]=0;for(h=32501;h<=32560;h++)O[h]=0;for(h=32601;h<=32662;h++)O[h]=0;for(h=32664;h<=32667;h++)O[h]=2;for(h=32701;h<=32761;h++)O[h]=0;for(h=53001;h<=53004;h++)O[h]=0;for(h=53008;h<=53019;h++)O[h]=0;for(h=53021;h<=53032;h++)O[h]=0;for(h=53034;h<=53037;h++)O[h]=0;for(h=53042;h<=53046;h++)O[h]=0;for(h=53074;h<=53080;h++)O[h]=0;for(h=54001;h<=54004;h++)O[h]=0;for(h=54008;h<=54019;h++)O[h]=0;for(h=54021;h<=54032;h++)O[h]=0;for(h=54034;h<=54037;h++)O[h]=0;for(h=54042;h<=54046;h++)O[h]=0;for(h=54048;h<=54053;h++)O[h]=0;for(h=54074;h<=54080;h++)O[h]=0;for(h=54098;h<=54101;h++)O[h]=0;for(h=102001;h<=102040;h++)O[h]=0;for(h=102042;h<=102063;h++)O[h]=0;for(h=102065;h<=102067;h++)O[h]=0;for(h=102070;h<=102117;h++)O[h]=0;for(h=102122;h<=102216;h++)O[h]=0;for(h=102221;h<=102377;h++)O[h]=0;for(h=102382;h<=102388;h++)O[h]=0;for(h=102389;h<=102398;h++)O[h]=2;for(h=102399;h<=102444;h++)O[h]=0;for(h=102445;h<=102447;h++)O[h]=2;for(h=102448;h<=102458;h++)O[h]=0;for(h=102459;h<=102468;h++)O[h]=2;for(h=102469;h<=102499;h++)O[h]=0;for(h=102500;h<=102519;h++)O[h]=1;for(h=102520;h<=102524;h++)O[h]=0;for(h=102525;h<=102529;h++)O[h]=2;for(h=102530;h<=102588;h++)O[h]=0;for(h=102590;h<=102598;h++)O[h]=0;for(h=102601;h<=102603;h++)O[h]=0;for(h=102605;h<=102628;h++)O[h]=0;for(h=102629;h<=102646;h++)O[h]=2;for(h=102648;h<=102700;h++)O[h]=2;for(h=102701;h<=102703;h++)O[h]=0;for(h=102707;h<=102730;h++)O[h]=2;for(h=102733;h<=102758;h++)O[h]=2;for(h=102767;h<=102900;h++)O[h]=0;for(h=102901;h<=102933;h++)O[h]=2;for(h=102934;h<=102950;h++)O[h]=13;for(h=102951;h<=102963;h++)O[h]=0;for(h=102965;h<=102969;h++)O[h]=0;for(h=102971;h<=102973;h++)O[h]=0;for(h=102975;h<=102989;h++)O[h]=0;for(h=102990;h<=102992;h++)O[h]=1;for(h=102997;h<=103002;h++)O[h]=0;for(h=103003;h<=103008;h++)O[h]=2;for(h=103009;h<=103011;h++)O[h]=0;for(h=103012;h<=103014;h++)O[h]=2;for(h=103019;h<=103021;h++)O[h]=0;for(h=103022;h<=103024;h++)O[h]=2;for(h=103029;h<=103031;h++)O[h]=0;for(h=103032;h<=103034;h++)O[h]=2;for(h=103065;h<=103068;h++)O[h]=0;for(h=103074;h<=103076;h++)O[h]=0;for(h=103077;h<=103079;h++)O[h]=1;for(h=103080;h<=103082;h++)O[h]=0;for(h=103083;h<=103085;h++)O[h]=2;for(h=103090;h<=103093;h++)O[h]=0;for(h=103097;h<=103099;h++)O[h]=0;for(h=103100;h<=103102;h++)O[h]=2;for(h=103107;h<=103109;h++)O[h]=0;for(h=103110;h<=103112;h++)O[h]=2;for(h=103113;h<=103116;h++)O[h]=0;for(h=103117;h<=103120;h++)O[h]=2;for(h=103153;h<=103157;h++)O[h]=0;for(h=103158;h<=103162;h++)O[h]=2;for(h=103163;h<=103165;h++)O[h]=0;for(h=103166;h<=103168;h++)O[h]=1;for(h=103169;h<=103171;h++)O[h]=2;for(h=103186;h<=103188;h++)O[h]=0;for(h=103189;h<=103191;h++)O[h]=2;for(h=103192;h<=103195;h++)O[h]=0;for(h=103196;h<=103199;h++)O[h]=2;for(h=103200;h<=103224;h++)O[h]=0;for(h=103225;h<=103227;h++)O[h]=1;for(h=103232;h<=103237;h++)O[h]=0;for(h=103238;h<=103243;h++)O[h]=2;for(h=103244;h<=103246;h++)O[h]=0;for(h=103247;h<=103249;h++)O[h]=2;for(h=103254;h<=103256;h++)O[h]=0;for(h=103257;h<=103259;h++)O[h]=2;for(h=103264;h<=103266;h++)O[h]=0;for(h=103267;h<=103269;h++)O[h]=2;for(h=103300;h<=103375;h++)O[h]=0;for(h=103381;h<=103383;h++)O[h]=0;for(h=103384;h<=103386;h++)O[h]=1;for(h=103387;h<=103389;h++)O[h]=0;for(h=103390;h<=103392;h++)O[h]=2;for(h=103397;h<=103399;h++)O[h]=0;for(h=103400;h<=103471;h++)O[h]=2;for(h=103476;h<=103478;h++)O[h]=0;for(h=103479;h<=103481;h++)O[h]=2;for(h=103486;h<=103488;h++)O[h]=0;for(h=103489;h<=103491;h++)O[h]=2;for(h=103492;h<=103495;h++)O[h]=0;for(h=103496;h<=103499;h++)O[h]=2;for(h=103528;h<=103543;h++)O[h]=0;for(h=103544;h<=103548;h++)O[h]=2;for(h=103549;h<=103551;h++)O[h]=0;for(h=103552;h<=103554;h++)O[h]=1;for(h=103555;h<=103557;h++)O[h]=2;for(h=103558;h<=103560;h++)O[h]=0;for(h=103571;h<=103573;h++)O[h]=0;for(h=103574;h<=103576;h++)O[h]=2;for(h=103577;h<=103580;h++)O[h]=0;for(h=103581;h<=103583;h++)O[h]=2;for(h=103595;h<=103694;h++)O[h]=0;for(h=103696;h<=103699;h++)O[h]=0;for(h=103700;h<=103793;h++)O[h]=2;for(h=103794;h<=103890;h++)O[h]=0;for(h=103891;h<=103896;h++)O[h]=2;for(h=103900;h<=103971;h++)O[h]=2;for(h=103972;h<=103977;h++)O[h]=0;for(h=112e3;h<=112101;h++)O[h]=0;const MN=[102100,102113,3857,3785,900913],GB=[104905,104971],jB=[4326,...MN,...GB],yf=[-20037508342788905e-9,20037508342788905e-9],zw=[-20037508342787e-6,20037508342787e-6],$w={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:yf,origin:zw,dx:1e-5},ON={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:yf,origin:zw,dx:1e-5},102100:$w,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:yf,origin:zw,dx:1e-5},3857:$w,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:$w};function Va(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const n=e.wkid,r=t.wkid;if(n!=null||r!=null){if(n===r||Wa(e)&&Wa(t))return!0;const o=e.latestWkid;if(o!=null&&r===o)return!0;const a=t.latestWkid;return a!=null&&n===a}let i,s;return e.wkt2&&t.wkt2?(i=e.wkt2,s=t.wkt2):e.wkt&&t.wkt&&(i=e.wkt,s=t.wkt),!(!i||!s)&&i.toUpperCase()===s.toUpperCase()}function Ah(e){const t=e?.wkid;return t!=null&&t>=2e3&&ON[t]||null}function zB(e){if(!e)return;const{wkid:t,vcsWkid:n}=e;if(t)return n?JSON.stringify({wkid:t,vcsWkid:n}):String(t);const r=e.wkt||e.wkt2;return JSON.stringify(r?n?{wkt:r,vcsWkid:n}:{wkt:r}:{})}function Mh(e){if(!Vw(e))return!1;const{wkid:t}=e;if(t)return O[t]==null;const n=e.wkt2||e.wkt;return!!n&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(n)}function NN(e){return!(kN(e)||CN(e))}function gf(e){return e?.wkid===4326}function $B(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function VB(e){return e?.wkid===Ic.CGCS2000}function Wa(e){const t=e?.wkid;return t!=null&&t>=2e3&&MN.includes(t)}function WB(e){return e?.wkid===32662}function vf(e){return e===Ic.GCSMARS2000||e===Ic.GCSMARS2000_SPHERE}function kN(e){return vf(e?.wkid)}function bf(e){return e===Ic.GCSMOON2000}function CN(e){return bf(e?.wkid)}function RN(e){const t=e?.wkid;return t!=null&&t>=2e3&&jB.includes(t)}function Vw(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const Ww={wkid:4326,wkt:My(ON[4326].wkTemplate,{Central_Meridian:"0.0"})},Zw={wkid:102100,latestWkid:3857},ZB={wkid:32662};function Bw(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const LN=Bw(Di),Xw=Bw(bh),Hw=Bw(lf),BB={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Di.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},XB=Xw.wkt.toUpperCase(),HB=Hw.wkt.toUpperCase();function DN(e){if(e!=null&&Vw(e)){const t=e.wkid,n=e.wkt2??e.wkt;if(vf(t))return bh;const r=n?.toUpperCase();if(n&&r===XB)return bh;if(bf(t)||r&&r===HB)return lf}return Di}function YB(e){return vf(e)?bh:bf(e)?lf:Di}function PN(e){return Va(e,LN)}function qB(e){return PN(e)||Va(e,Xw)||Va(e,Hw)}const JB=39.37,QB=Di.radius*Math.PI/200,FN=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Oh=O,UN=/UNIT\[([^\]]+)]/i,GN=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),KB=Li()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),gs=e=>e*e,Za=e=>e*e*e,_f={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:gs(.001)},"square-centimeters":{inBaseUnits:gs(.01)},"square-decimeters":{inBaseUnits:gs(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:gs(1e3)},"square-inches":{inBaseUnits:gs(.0254)},"square-feet":{inBaseUnits:gs(.3048)},"square-yards":{inBaseUnits:gs(.9144)},"square-miles":{inBaseUnits:gs(1609.344)},"square-nautical-miles":{inBaseUnits:gs(1852)},"square-us-feet":{inBaseUnits:gs(1200/3937)},acres:{inBaseUnits:.0015625*gs(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Za(.001)},"cubic-centimeters":{inBaseUnits:1e3*Za(.01)},"cubic-decimeters":{inBaseUnits:1e3*Za(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Za(1e3)},"cubic-inches":{inBaseUnits:1e3*Za(.0254)},"cubic-feet":{inBaseUnits:1e3*Za(.3048)},"cubic-yards":{inBaseUnits:1e3*Za(.9144)},"cubic-miles":{inBaseUnits:1e3*Za(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},eX=(()=>{const e={};for(const t in _f)for(const n in _f[t].units)e[n]=t;return e})();function tX(e,t,n){return e*_f[n].units[t].inBaseUnits}function nX(e,t,n){return e/_f[n].units[t].inBaseUnits}const jN=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],rX=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function Mg(e){const t=eX[e];if(!t)throw new Error("unknown type");return t}function zN(e,t=null){return t=t||Mg(e),_f[t].baseUnit===e}function Ui(e,t,n){if(t===n)return e;const r=Mg(t);if(r!==Mg(n))throw new Error("incompatible units");const i=zN(t,r)?e:tX(e,t,r);return zN(n,r)?i:nX(i,n,r)}function iX(e,t,n,r=!1){if(!r&&Mh(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const i=Ba(t);return i!==n&&(e=i?Ui(e,i,n):Ui(e*=Ac(t),"meters",n)),e}function sX(e,t,n,r=!1){if(!r&&Mh(n))throw new Error("Unable to convert from a linear unit to an angular unit.");const i=Ba(n);return t!==i&&(e=i?Ui(e,t,i):Ui(e,t,"meters")/Ac(n)),e}function $N(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function oX(e){return $N(e)}function aX(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function lX(e,t){const n=Ui(e,t,"meters");return Math.abs(n)<3e3?"meters":"kilometers"}function cX(e,t){const n=Ui(e,t,"meters");return Math.abs(n)<1e5?"meters":"kilometers"}function uX(e,t){const n=Ui(e,t,"feet");return Math.abs(n)<1e3?"feet":"miles"}function hX(e,t){const n=Ui(e,t,"feet");return Math.abs(n)<1e5?"feet":"miles"}function dX(e,t){const n=Ui(e,t,"square-meters");return Math.abs(n)<3e6?"square-meters":"square-kilometers"}function pX(e,t){const n=Ui(e,t,"square-feet");return Math.abs(n)<1e6?"square-feet":"square-miles"}function fX(e,t,n){return Ui(e,t,"meters")/(n*Math.PI/180)}function Yw(e){return KB.fromJSON(e.toLowerCase())||null}function mX(e){if(e!=null&&!NN(e))return 1;const t=Ac(e);return t>1e5?1:t}function VN(e){return Ac(e)>=DN(e).metersPerDegree?"meters":Ba(e)}function Ac(e,t=Di.metersPerDegree){return WN(e,!0)??t}function WN(e,t=!1){const n=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let i=null;if(n){if(vf(n))return bh.metersPerDegree;if(bf(n))return lf.metersPerDegree;i=Oh.values[Oh[n]],!i&&t&&GN.has(n)&&(i=QB)}else r&&(qw(r)?i=ZN(FN.exec(r),i):XN(r)&&(i=ZN(UN.exec(r),i)));return i}function yX(e){return Mh(e)?1:Ac(e)}function ZN(e,t){return e?.[1]?BN(e[1]):t}function BN(e){return parseFloat(e.split(",")[1])}function Ba(e){const t=e?.wkid??null,n=e?.wkt2??e?.wkt??null;let r=null;if(t)r=Oh.units[Oh[t]];else if(n){const i=qw(n)?FN:XN(n)?UN:null;if(i){const s=i.exec(n);s?.[1]&&(r=wX(s[1]))}}return r!=null?Yw(r):null}function gX(e){const t=Ba(e);return t!=null&&jN.includes(t)?t:null}function vX(e){const t=VN(e);return t!=null&&jN.includes(t)?t:null}function bX(e){const t=Ba(e);return t==null?null:rX.get(t)}function XN(e){return/^GEOCCS/i.test(e)}function qw(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const _X=1e-7;function wX(e){let t=/[\\"']{1}([^\\"']+)/.exec(e)?.[1];if(!t||!Yw(t)){const n=BN(e);t=null;const r=Oh.values;for(let i=0;i<r.length;++i)if(Math.abs(n-r[i])<_X){t=Oh.units[i];break}}return t}function xX(e){const t=Ba(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const EX={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},TX={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},SX={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},IX=Li()(EX),AX=Li()(TX),MX=Li()(SX);function jt(e,t,n){let r,i;return t===void 0?(i=e,r=[void 0]):typeof t!="string"?(i=e,r=[void 0],n=t):(i=t,r=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;for(const l of r){const c=q2(s,l,i);c.write&&typeof c.write=="object"||(c.write={}),n&&(c.write.target=n),c.write.writer=a[o]}}}var eo;let xt=eo=class extends He{static fromJSON(e){if(!e)return null;if(e?.wkid===102100)return eo.WebMercator;if(e?.wkid===4326)return eo.WGS84;const t=new eo;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return gf(this)}get isWebMercator(){return Wa(this)}get isGeographic(){return Mh(this)}get isWrappable(){return RN(this)}get metersPerUnit(){return Ac(this)}get unit(){return Ba(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===eo.WGS84)return new eo(Ww);if(this===eo.WebMercator)return new eo(Zw);const e=new eo;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=ye(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:n}=e.imageCoordinateSystem,{geodataXform:r}=e.imageCoordinateSystem,i=this.imageCoordinateSystem;return t==null||r?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):n?i.id===t&&i.referenceServiceName===n:i.id===t}return Va(this,e)}toJSON(e){return this.write(void 0,e)}};xt.GCS_NAD_1927=null,xt.WGS84=null,xt.WebMercator=null,xt.PlateCarree=null,v([T({readOnly:!0})],xt.prototype,"isWGS84",null),v([T({readOnly:!0})],xt.prototype,"isWebMercator",null),v([T({readOnly:!0})],xt.prototype,"isGeographic",null),v([T({readOnly:!0})],xt.prototype,"isWrappable",null),v([T({type:wn,json:{write:!0}})],xt.prototype,"latestWkid",void 0),v([T({readOnly:!0})],xt.prototype,"metersPerUnit",null),v([T({readOnly:!0})],xt.prototype,"unit",null),v([T({type:wn,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],xt.prototype,"wkid",void 0),v([T({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],xt.prototype,"wkt",void 0),v([jt("wkt"),jt("web-scene","wkt")],xt.prototype,"writeWkt",null),v([T({type:String,json:{write:!1}})],xt.prototype,"wkt2",void 0),v([T({type:wn,json:{write:!0}})],xt.prototype,"vcsWkid",void 0),v([T({type:wn,json:{write:!0}})],xt.prototype,"latestVcsWkid",void 0),v([T()],xt.prototype,"imageCoordinateSystem",void 0),xt=eo=v([te("esri.geometry.SpatialReference")],xt),xt.prototype.toJSON.isDefaultToJSON=!0,xt.GCS_NAD_1927=Rn.freeze(new xt({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),xt.WGS84=Rn.freeze(new xt(Ww)),xt.WebMercator=Rn.freeze(new xt(Zw)),xt.PlateCarree=Rn.freeze(new xt(ZB));const Ln=xt;let to=class extends He{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Ln.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof Ln)return e;if(e!=null){const n=new Ln;return n.read(e,t),n}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};v([T()],to.prototype,"type",void 0),v([T({readOnly:!0})],to.prototype,"cache",null),v([T({readOnly:!0})],to.prototype,"extent",null),v([T({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],to.prototype,"hasM",void 0),v([T({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],to.prototype,"hasZ",void 0),v([T({type:Ln,json:{write:!0},value:Ln.WGS84})],to.prototype,"spatialReference",void 0),v([$n("spatialReference")],to.prototype,"readSpatialReference",null),to=v([te("esri.geometry.Geometry")],to);const Xa=to,OX=Object.prototype.toString;function NX(e){const t="__accessorMetadata__"in e?Ci(e):e;return function(...n){if(n.push(t),typeof n[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return kX.apply(this,n)}}function kX(e,t,n,r){qp(e,t).cast=r}function CX(e){return(t,n)=>{qp(t,e).cast=t[n]}}function Nh(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&OX.call(e[0])==="[object Function]"?NX(e[0]):e.length===1&&typeof e[0]=="string"?CX(e[0]):void 0}function kh(e){if(e&&typeof e=="object"&&"type"in e&&e.type==="mesh")throw new ct("Mesh geometries are not supported for this operation")}function RX(e){e.forEach(kh)}const LX=57.29577951308232,DX=.017453292519943;function HN(e){return e*LX}function YN(e){return e*DX}function PX(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Di.radius))}function Jw(e){return e.wkid!=null||e.wkt!=null}const Qw=[0,0];function Og(e,t,n,r,i){const s=e,o=i;if(o.spatialReference=n,"x"in s&&"x"in o)[o.x,o.y]=t(s.x,s.y,Qw,r);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=t(s.xmin,s.ymin,Qw,r),[o.xmax,o.ymax]=t(s.xmax,s.ymax,Qw,r);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let c;for(let d=0;d<a.length;d++){const p=a[d];c=[],l.push(c);for(let f=0;f<p.length;f++)c.push(t(p[f][0],p[f][1],[0,0],r)),p[f].length>2&&c[f].push(p[f][2]),p[f].length>3&&c[f].push(p[f][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let c=0;c<a.length;c++)l[c]=t(a[c][0],a[c][1],[0,0],r),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return i}function wf(e,t){const n=e&&(Jw(e)?e:e.spatialReference),r=t&&(Jw(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!n||!r)&&(!!Va(r,n)||Wa(r)&&gf(n)||Wa(n)&&gf(r))}function Kw(e,t){if(e==null)return null;const n=e.spatialReference,r=t&&(Jw(t)?t:t.spatialReference);return wf(n,r)?Va(n,r)?ye(e):Wa(r)?Og(e,Mc,Ln.WebMercator,!1,ye(e)):gf(r)?Og(e,xf,Ln.WGS84,!1,ye(e)):null:null}function Mc(e,t,n=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=YN(t);return n[0]=YN(e)*Di.radius,n[1]=Di.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),n}function xf(e,t,n=[0,0],r=!1){if(e===yf[0])n[0]=-180;else if(e===yf[1])n[0]=180;else{const i=HN(e/Di.radius);n[0]=r?i:i-360*Math.floor((i+180)/360)}return n[1]=HN(Math.PI/2-2*Math.atan(Math.exp(-t/Di.radius))),n}function Ng(e,t=!1,n=ye(e)){return kh(e),kh(n),Og(e,Mc,Ln.WebMercator,t,n)}function Ef(e,t=!1,n=ye(e)){return kh(e),kh(n),Og(e,xf,Ln.WGS84,t,n)}function qN(e,t){const n=e.x-t.x,r=e.y-t.y,i=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(n*n+r*r+i*i)}function FX(e){return ex(e,JN)?.[0]??null}function UX(e){return ex(e,JN)?.[1]??null}function ex({x:e,y:t,spatialReference:n},r=[0,0]){if(n){if(Wa(n))return xf(e,t,r);if(Mh(n))return r[0]=e,r[1]=t,r}return null}const JN=[0,0];var kg;const tx=[0,0];function QN(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Cr=kg=class extends Xa{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const n=e._get("spatialReference");t._set("spatialReference",Rn.isFrozen(n)?n:n.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,n,r,i){let s;if(Array.isArray(e))s=e,i=t,e=s[0],t=s[1],n=s[2],r=s[3];else if(e&&typeof e=="object"){if(s=e,e=s.x!=null?s.x:s.longitude,t=s.y!=null?s.y:s.latitude,n=s.z,r=s.m,(i=s.spatialReference)&&i.declaredClass!=="esri.geometry.SpatialReference"&&(i=new Ln(i)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)kt.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)kt.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&i?.isWebMercator){const a=Mc(s.longitude,s.latitude,tx);e=a[0],t=a[1]}}}else QN(n)?(i=n,n=null):QN(r)&&(i=r,r=null);const o={x:e,y:t};return o.x==null&&o.y!=null?kt.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&kt.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),i!=null&&(o.spatialReference=i),n!=null&&(o.z=n),r!=null&&(o.m=r),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return UX(this)}set latitude(e){const{spatialReference:t,x:n}=this;e!=null&&t&&(t.isWebMercator?this._set("y",Mc(n,e,tx)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return FX(this)}set longitude(e){const{y:t,spatialReference:n}=this;e!=null&&n&&(n.isWebMercator?this._set("x",Mc(e,t,tx)[0]):n.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,n){t[n]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new kg;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return kg.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:n,z:r,m:i,spatialReference:s}=this,{z:o,m:a}=e;let{x:l,y:c,spatialReference:d}=e;if(!s.equals(d))if(s.isWebMercator&&d.isWGS84)[l,c]=Mc(l,c),d=s;else{if(!s.isWGS84||!d.isWebMercator)return!1;[l,c]=xf(l,c),d=s}return t===l&&n===c&&r===o&&i===a&&s.wkid===d.wkid}offset(e,t,n){return this.x+=e,this.y+=t,n!=null&&(this.z=(this.z??0)+n),this}normalize(){if(!this.spatialReference)return this;const e=Ah(this.spatialReference);if(!e)return this;let t=this.x;const[n,r]=e.valid,i=2*r;let s;return t>r?(s=Math.ceil(Math.abs(t-r)/i),t-=s*i):t<n&&(s=Math.ceil(Math.abs(t-n)/i),t+=s*i),this._set("x",t),this}distance(e){return qN(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};v([T({readOnly:!0})],Cr.prototype,"cache",null),v([T({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Cr.prototype,"hasM",null),v([T({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Cr.prototype,"hasZ",null),v([T({type:Number})],Cr.prototype,"latitude",null),v([T({type:Number})],Cr.prototype,"longitude",null),v([T({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Nh(e=>isNaN(e)?e:Zp(e))],Cr.prototype,"x",void 0),v([jt("x")],Cr.prototype,"writeX",null),v([$n("x")],Cr.prototype,"readX",null),v([T({type:Number,json:{write:!0}})],Cr.prototype,"y",void 0),v([T({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Cr.prototype,"z",void 0),v([T({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Cr.prototype,"m",void 0),Cr=kg=v([te("esri.geometry.Point")],Cr),Cr.prototype.toJSON.isDefaultToJSON=!0;const En=Cr,nx=[0,0];function rx(e,t){return t!=null&&Rr(e,t.x,t.y,t.z)}function GX(e,t){if(!t.points?.length)return!1;for(const n of t.points)if(!Ch(e,n))return!1;return!0}function jX(e,t){const{xmin:n,ymin:r,zmin:i,xmax:s,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?Rr(e,n,r,i)&&Rr(e,n,o,i)&&Rr(e,s,o,i)&&Rr(e,s,r,i)&&Rr(e,n,r,a)&&Rr(e,n,o,a)&&Rr(e,s,o,a)&&Rr(e,s,r,a):Rr(e,n,r)&&Rr(e,n,o)&&Rr(e,s,o)&&Rr(e,s,r)}function Ch(e,t){return Rr(e,t[0],t[1])}function zX(e,t){return Rr(e,t[0],t[1],t[2])}function Rr(e,t,n,r){return t>=e.xmin&&t<=e.xmax&&n>=e.ymin&&n<=e.ymax&&(r==null||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function KN(e,t){return nx[1]=t.y,nx[0]=t.x,$X(e,nx)}function $X(e,t){return ix(e.rings,t)}function ix(e,t){if(!e)return!1;if(VX(e))return ek(!1,e,t);let n=!1;for(let r=0,i=e.length;r<i;r++)n=ek(n,e[r],t);return n}function VX(e){return!Array.isArray(e[0][0])}function ek(e,t,n){const[r,i]=n;let s=e,o=0;for(let a=0,l=t.length;a<l;a++){o++,o===l&&(o=0);const[c,d]=t[a],[p,f]=t[o];(d<i&&f>=i||f<i&&d>=i)&&c+(i-d)/(f-d)*(p-c)<r&&(s=!s)}return s}function WX(e,t){return rx(e,t)}function tk(e,t){const n=e.hasZ&&t.hasZ;let r,i,s;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(n&&t.hasZ){if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1}return!0}function ZX(e,t){const{points:n,hasZ:r}=t,i=r?zX:Ch;for(const s of n)if(i(e,s))return!0;return!1}const Oc=[0,0],Nc=[0,0],kc=[0,0],Cc=[0,0],BX=[Oc,Nc,kc,Cc],nk=[[kc,Oc],[Oc,Nc],[Nc,Cc],[Cc,kc]];function rk(e,t){return XX(e,t.rings)}function XX(e,t){Oc[0]=e.xmin,Oc[1]=e.ymax,Nc[0]=e.xmax,Nc[1]=e.ymax,kc[0]=e.xmin,kc[1]=e.ymin,Cc[0]=e.xmax,Cc[1]=e.ymin;for(const n of BX)if(ix(t,n))return!0;for(const n of t){if(!n.length)continue;let r=n[0];if(Ch(e,r))return!0;for(let i=1;i<n.length;i++){const s=n[i];if(Ch(e,s)||ik(r,s,nk))return!0;r=s}}return!1}function HX(e,t){Oc[0]=e.xmin,Oc[1]=e.ymax,Nc[0]=e.xmax,Nc[1]=e.ymax,kc[0]=e.xmin,kc[1]=e.ymin,Cc[0]=e.xmax,Cc[1]=e.ymin;const n=t.paths;for(const r of n){if(!n.length)continue;let i=r[0];if(Ch(e,i))return!0;for(let s=1;s<r.length;s++){const o=r[s];if(Ch(e,o)||ik(i,o,nk))return!0;i=o}}return!1}const Kn=[0,0];function YX(e){for(let t=0;t<e.length;t++){const n=e[t];for(let i=0;i<n.length-1;i++){const s=n[i],o=n[i+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const c=e[a][l],d=e[a][l+1];if(Cg(s,o,c,d,Kn)&&!(Kn[0]===s[0]&&Kn[1]===s[1]||Kn[0]===c[0]&&Kn[1]===c[1]||Kn[0]===o[0]&&Kn[1]===o[1]||Kn[0]===d[0]&&Kn[1]===d[1]))return!0}}const r=n.length;if(!(r<=4))for(let i=0;i<r-3;i++){let s=r-1;i===0&&(s=r-2);const o=n[i],a=n[i+1];for(let l=i+2;l<s;l++){const c=n[l],d=n[l+1];if(Cg(o,a,c,d,Kn)&&!(Kn[0]===o[0]&&Kn[1]===o[1]||Kn[0]===c[0]&&Kn[1]===c[1]||Kn[0]===a[0]&&Kn[1]===a[1]||Kn[0]===d[0]&&Kn[1]===d[1]))return!0}}}return!1}function ik(e,t,n){for(let r=0;r<n.length;r++)if(Cg(e,t,n[r][0],n[r][1]))return!0;return!1}function Cg(e,t,n,r,i){const[s,o]=e,[a,l]=t,[c,d]=n,[p,f]=r,y=p-c,g=s-c,b=a-s,E=f-d,S=o-d,I=l-o,w=E*b-y*I;if(w===0)return!1;const _=(y*S-E*g)/w,A=(b*S-I*g)/w;return _>=0&&_<=1&&A>=0&&A<=1&&(i&&(i[0]=s+_*(a-s),i[1]=o+_*(l-o)),!0)}function sk(e){switch(e){case"esriGeometryEnvelope":case"extent":return tk;case"esriGeometryMultipoint":case"multipoint":return ZX;case"esriGeometryPoint":case"point":return WX;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return rk;case"esriGeometryPolyline":case"polyline":return HX}}var vs;function qX(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Ha(e,t,n){return t==null?n:n==null?t:e(t,n)}let Vn=vs=class extends Xa{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,n,r,i){return qX(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?Ln.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:n,ymax:r,spatialReference:i??Ln.WGS84}}static fromPoint(e){return new vs({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new En({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new vs;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,n=e.spatialReference;return t&&n&&!t.equals(n)&&wf(t,n)&&(e=t.isWebMercator?Ng(e):Ef(e,!0)),e.type==="point"?rx(this,e):e.type==="extent"&&jX(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,n=e.spatialReference;return t&&n&&!t.equals(n)&&wf(t,n)&&(e=t.isWebMercator?Ng(e):Ef(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),n=this.width*t,r=this.height*t;if(this.xmin+=n,this.ymin+=r,this.xmax-=n,this.ymax-=r,this.hasZ){const i=(this.zmax-this.zmin)*t;this.zmin+=i,this.zmax-=i}if(this.hasM){const i=(this.mmax-this.mmin)*t;this.mmin+=i,this.mmax-=i}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,n=e.spatialReference;return t&&n&&!Va(t,n)&&wf(t,n)&&(e=t.isWebMercator?Ng(e):Ef(e,!0)),sk(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,n){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,n!=null&&(this.zmin+=n,this.zmax+=n),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Ha(Math.min,this.zmin,e.zmin),this.zmax=Ha(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Ha(Math.min,this.mmin,e.mmin),this.mmax=Ha(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Ha(Math.max,this.zmin,e.zmin),this.zmax=Ha(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Ha(Math.max,this.mmin,e.mmin),this.mmax=Ha(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=Ah(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,n=this._getCM(e);if(n){const r=t.isWebMercator?Ef(n):n;this.xmin-=n.x,this.xmax-=n.x,t.isWebMercator||(r.x=sx(r.x,e).x),this.spatialReference=new Ln(My((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[n,r]=e.valid,i=this.xmin,s=this.xmax;return i>=n&&i<=r&&s>=n&&s<=r||(t=this.center),t}_normalize(e,t,n){const r=this.spatialReference;if(!r)return this;const i=n??Ah(r);if(i==null)return this;const s=this._getParts(i).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(e)return this._shiftCM(i);if(t)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const d=(l.zmax-l.zmin)/2;for(let p=0;p<c.length;p++)c[p].push(d)}if(a){const d=(l.mmax-l.mmin)/2;for(let p=0;p<c.length;p++)c[p].push(d)}return c}),hasZ:o,hasM:a,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:i,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let d;e=e||Ah(o);const[p,f]=e.valid;d=sx(this.xmin,e);const y=d.x,g=d.frameId;d=sx(this.xmax,e);const b=d.x,E=d.frameId,S=y===b&&a>0;if(a>2*f){const I=new vs(l<c?y:b,i,f,s,o),w=new vs(p,i,l<c?b:y,s,o),_=new vs(0,i,f,s,o),A=new vs(p,i,0,s,o),M=[],k=[];I.contains(_)&&M.push(g),I.contains(A)&&k.push(g),w.contains(_)&&M.push(E),w.contains(A)&&k.push(E);for(let C=g+1;C<E;C++)M.push(C),k.push(C);t.push({extent:I,frameIds:[g]},{extent:w,frameIds:[E]},{extent:_,frameIds:M},{extent:A,frameIds:k})}else y>b||S?t.push({extent:new vs(y,i,f,s,o),frameIds:[g]},{extent:new vs(p,i,b,s,o),frameIds:[E]}):t.push({extent:new vs(y,i,b,s,o),frameIds:[g]});this.cache._parts=t}const n=this.hasZ,r=this.hasM;if(n||r){const i={};n&&(i.zmin=this.zmin,i.zmax=this.zmax),r&&(i.mmin=this.mmin,i.mmax=this.mmax);for(let s=0;s<t.length;s++)t[s].extent.set(i)}return t}};function sx(e,t){const[n,r]=t.valid,i=2*r;let s,o=0;return e>r?(s=Math.ceil(Math.abs(e-r)/i),e-=s*i,o=s):e<n&&(s=Math.ceil(Math.abs(e-n)/i),e+=s*i,o=-s),{x:e,frameId:o}}v([T({readOnly:!0})],Vn.prototype,"cache",null),v([T({readOnly:!0})],Vn.prototype,"center",null),v([T({readOnly:!0})],Vn.prototype,"extent",null),v([T({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Vn.prototype,"hasM",null),v([T({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Vn.prototype,"hasZ",null),v([T({readOnly:!0})],Vn.prototype,"height",null),v([T({readOnly:!0})],Vn.prototype,"width",null),v([T({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Vn.prototype,"xmin",void 0),v([T({type:Number,json:{write:!0}})],Vn.prototype,"ymin",void 0),v([T({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Vn.prototype,"mmin",void 0),v([T({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Vn.prototype,"zmin",void 0),v([T({type:Number,json:{write:!0}})],Vn.prototype,"xmax",void 0),v([T({type:Number,json:{write:!0}})],Vn.prototype,"ymax",void 0),v([T({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Vn.prototype,"mmax",void 0),v([T({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Vn.prototype,"zmax",void 0),Vn=vs=v([te("esri.geometry.Extent")],Vn),Vn.prototype.toJSON.isDefaultToJSON=!0;const bi=Vn;function Rh(e,t,n=!1){let{hasM:r,hasZ:i}=e;Array.isArray(t)?t.length!==4||r||i?t.length===3&&n&&!r?(i=!0,r=!1):t.length===3&&r&&i&&(r=!1,i=!1):(r=!0,i=!0):(i=!i&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=r}var ox;function ok(e){return(t,n)=>t==null?n:n==null?t:e(t,n)}function JX(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Ya=ox=class extends Xa{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const n={};Array.isArray(e)?(n.points=e,n.spatialReference=t):JX(e)?n.spatialReference=e:(e.points&&(n.points=e.points),e.spatialReference&&(n.spatialReference=e.spatialReference),e.hasZ&&(n.hasZ=e.hasZ),e.hasM&&(n.hasM=e.hasM));const r=n.points?.[0];return r&&(n.hasZ===void 0&&n.hasM===void 0?(n.hasZ=r.length>2,n.hasM=!1):n.hasZ===void 0?n.hasZ=r.length>3:n.hasM===void 0&&(n.hasM=r.length>3)),n}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new bi,n=this.hasZ,r=this.hasM,i=n?3:2,s=e[0],o=ok(Math.min),a=ok(Math.max);let l,c,d,p,[f,y]=s,[g,b]=s;for(let E=0,S=e.length;E<S;E++){const I=e[E],[w,_]=I;if(f=o(f,w),y=o(y,_),g=a(g,w),b=a(b,_),n&&I.length>2){const A=I[2];l=o(l,A),d=a(d,A)}if(r&&I.length>i){const A=I[i];c=o(c,A),p=a(p,A)}}return t.xmin=f,t.ymin=y,t.xmax=g,t.ymax=b,t.spatialReference=this.spatialReference,n?(t.zmin=l,t.zmax=d):(t.zmin=void 0,t.zmax=void 0),r?(t.mmin=c,t.mmax=p):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=ye(this.points)}addPoint(e){return Rh(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:ye(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new ox(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],n={x:t[0],y:t[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(n.z=t[2],r=3),this.hasM&&(n.m=t[r]),new En(n)}removePoint(e){if(!this._validateInputs(e))return null;const t=new En(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Rh(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};v([T({readOnly:!0})],Ya.prototype,"cache",null),v([T()],Ya.prototype,"extent",null),v([T({type:[[Number]],json:{write:{isRequired:!0}}})],Ya.prototype,"points",void 0),v([jt("points")],Ya.prototype,"writePoints",null),Ya=ox=v([te("esri.geometry.Multipoint")],Ya),Ya.prototype.toJSON.isDefaultToJSON=!0;const Tf=Ya;function QX(e){const t=[];for(e.reset();e.nextPath();){const n=[];for(;e.nextPoint();)n.push([e.x,e.y]);t.push(n)}return e.reset(),t}function ak(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var Sf;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(Sf||(Sf={}));function KX(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,n=e.hasM;if(e.type==="point")return n&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:n?[e.x,e.y,e.m]:[e.x,e.y];if(e.type==="polygon")return e.rings.slice();if(e.type==="polyline")return e.paths.slice();if(e.type==="multipoint")return e.points.slice();if(e.type==="extent"){const r=e.clone().normalize();if(!r)return null;let i=!1,s=!1;return r.forEach(o=>{o.hasZ&&(i=!0),o.hasM&&(s=!0)}),r.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(i&&o.hasZ){const l=.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(s&&o.hasM){const l=.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a})}return null}function Rg(e,t){const n=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}return Math.sqrt(n*n+r*r)}function lk(e,t,n){const r=e[0]+n*(t[0]-e[0]),i=e[1]+n*(t[1]-e[1]);return e.length>2&&t.length>2?[r,i,e[2]+n*(t[2]-e[2])]:[r,i]}function eH(e,t,n,r){return ck(e,t,n[r],n[r+1])}function ck(e,t,n,r){const[i,s]=t,[o,a]=n,[l,c]=r,d=l-o,p=c-a,f=d*d+p*p,y=(i-o)*d+(s-a)*p,g=Math.min(1,Math.max(0,y/f));return e[0]=o+d*g,e[1]=a+p*g,e}function tH(e,t,n,r,i,s){let o=n,a=r,l=i-o,c=s-a;if(l!==0||c!==0){const d=((e-o)*l+(t-a)*c)/(l*l+c*c);d>1?(o=i,a=s):d>0&&(o+=l*d,a+=c*d)}return l=e-o,c=t-a,l*l+c*c}function ax(e,t){return lk(e,t,.5)}function nH(e){const t=e.length;let n=0;for(let r=0;r<t-1;++r)n+=Rg(e[r],e[r+1]);return n}function rH(e,t){if(t<=0)return e[0];const n=e.length;let r=0;for(let i=0;i<n-1;++i){const s=Rg(e[i],e[i+1]);if(t-r<s){const o=(t-r)/s;return lk(e[i],e[i+1],o)}r+=s}return e[n-1]}function lx(e,t=Sf.X,n=Sf.Y){let r=0;const i=e.length;let s=e[0];for(let o=1;o<i;o++){const a=e[o];r+=(a[t]-s[t])*(a[n]+s[n]),s=a}if(!uk(e)){const o=e[0];r+=(o[t]-s[t])*(o[n]+s[n])}return r>=0}function uk(e){const t=e.length;return t<3||$p(e[0],e[t-1])}function iH(e){"rings"in e&&(hk(e),sH(e))}function hk(e){if(!("rings"in e))return!1;let t=!1;for(const n of e.rings)uk(n)||(n.push(n[0].slice()),t=!0);return t}function sH(e){if(!("rings"in e)||e.rings.length===0||lx(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function oH(e){return e.type!=="polygon"&&e.type!=="polyline"||dk(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function dk(e,t){const n=Ah(t);if(!n)return;const r=n.valid[0],i=n.valid[1],s=i-r;for(const o of e){let a=1/0,l=-1/0;for(const d of o){const p=aH(d[0],r,i);a=Math.min(a,p),l=Math.max(l,p),d[0]=p}const c=l-a;s-c<c&&o.forEach(d=>{d[0]<0&&(d[0]+=s)})}}function aH(e,t,n){const r=n-t;return e<t?n-(t-e)%r:e>n?t+(e-t)%r:e}function lH(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[n,r]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return n.length===r.length&&n.every((i,s)=>i.length===r[s].length)}function cH(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function pk(e){return e?fk(e.rings,e.hasZ??!1):null}function fk(e,t){if(!e?.length)return null;const n=[],r=[],i=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=e.length;s<o;s++){const a=mk(e[s],t,i);a&&r.push(a)}if(r.sort((s,o)=>{let a=s[2]-o[2];return a===0&&t&&(a=s[4]-o[4]),a}),r.length&&(n[0]=r[0][0],n[1]=r[0][1],t&&(n[2]=r[0][3]),(n[0]<i[0]||n[0]>i[1]||n[1]<i[2]||n[1]>i[3]||t&&(n[2]<i[4]||n[2]>i[5]))&&(n.length=0)),!n.length){const s=e[0]&&e[0].length?hH(e[0],t):null;if(!s)return null;n[0]=s[0],n[1]=s[1],t&&s.length>2&&(n[2]=s[2])}return n}function mk(e,t,n){let r=0,i=0,s=0,o=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,d=e.length&&t?e[0][2]:0;for(let f=0;f<e.length;f++){const y=e[f],g=e[(f+1)%e.length],[b,E,S]=y,I=b-l,w=E-c,[_,A,M]=g,k=_-l,C=A-c,R=I*C-k*w;if(o+=R,r+=(I+k)*R,i+=(w+C)*R,t&&y.length>2&&g.length>2){const U=S-d,B=M-d,G=I*B-k*U;s+=(U+B)*G,a+=G}b<n[0]&&(n[0]=b),b>n[1]&&(n[1]=b),E<n[2]&&(n[2]=E),E>n[3]&&(n[3]=E),t&&(S<n[4]&&(n[4]=S),S>n[5]&&(n[5]=S))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const p=[r/(6*o)+l,i/(6*o)+c,o];return t&&(n[4]===n[5]||a===0?(p[3]=(n[4]+n[5])/2,p[4]=0):(p[3]=s/(6*a)+d,p[4]=a)),p}function uH(e,t){let n=0,r=0,i=0;e.nextPoint();const s=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[d,p]=l,f=d-s,y=p-o,[g,b]=c,E=g-s,S=b-o,I=f*S-E*y;i+=I,n+=(f+E)*I,r+=(y+S)*I,d<t[0]&&(t[0]=d),d>t[1]&&(t[1]=d),p<t[2]&&(t[2]=p),p>t[3]&&(t[3]=p)}return i>0&&(i*=-1),i?(i*=.5,[n/(6*i)+s,r/(6*i)+o,i]):null}function hH(e,t){const n=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let i=0,s=0,o=0,a=0;for(let l=0,c=e.length;l<c-1;l++){const d=e[l],p=e[l+1];if(d&&p){n[0]=d[0],n[1]=d[1],r[0]=p[0],r[1]=p[1],t&&d.length>2&&p.length>2&&(n[2]=d[2],r[2]=p[2]);const f=Rg(n,r);if(f){i+=f;const y=ax(d,p);s+=f*y[0],o+=f*y[1],t&&y.length>2&&(a+=f*y[2])}}}return i>0?t?[s/i,o/i,a/i]:[s/i,o/i]:e.length?e[0]:null}function dH(e){const{hasZ:t,totalSize:n}=e;if(n===0)return null;const r=[],i=[],s=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const o=mk(ak(e),e.hasZ,s);o&&i.push(o)}if(i.sort((o,a)=>{let l=o[2]-a[2];return l===0&&t&&(l=o[4]-a[4]),l}),i.length&&(r[0]=i[0][0],r[1]=i[0][1],t&&(r[2]=i[0][3]),(r[0]<s[0]||r[0]>s[1]||r[1]<s[2]||r[1]>s[3]||t&&(r[2]<s[4]||r[2]>s[5]))&&(r.length=0)),!r.length){e.reset(),e.nextPath();const o=e.pathSize?pH(e):null;if(!o)return null;r[0]=o[0],r[1]=o[1],t&&o.length>2&&(r[2]=o[2])}return r}function pH(e){const{hasZ:t}=e,n=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let i=0,s=0,o=0,a=0;if(e.nextPoint()){let l=e.x,c=e.y,d=e.z;for(;e.nextPoint();){const p=e.x,f=e.y,y=e.z;n[0]=l,n[1]=c,r[0]=p,r[1]=f,t&&(n[2]=d,r[2]=y);const g=Rg(n,r);if(g){i+=g;const b=ax(n,r);s+=g*b[0],o+=g*b[1],t&&b.length>2&&(a+=g*b[2])}l=p,c=f,d=y}}return i>0?t?[s/i,o/i,a/i]:[s/i,o/i]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const fH=1e-6;function mH(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<fH){const i=dH(e);return i?[i[0],i[1]]:null}const n=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const r=[e.x,e.y];for(e.reset();e.nextPath();)gH(n,r,e);return n[0]*=1/t,n[1]*=1/t,n[0]+=r[0],n[1]+=r[1],n}const yH=1/3;function gH(e,t,n){if(!n||n.pathSize<3)return null;n.nextPoint();const r=n.x,i=n.y;n.nextPoint();let s,o=n.x-r,a=n.y-i,l=0,c=0;for(;n.nextPoint();)l=n.x-r,c=n.y-i,s=.5*yH*(l*a-c*o),e[0]+=s*(o+l),e[1]+=s*(a+c),o=l,a=c;const d=n.getCurrentRingArea(),p=[r,i];return p[0]-=t[0],p[1]-=t[1],p[0]*=d,p[1]*=d,e[0]+=p[0],e[1]+=p[1],e}function Rc(e=PH){return[e[0],e[1],e[2],e[3]]}function cx(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function vH(e,t,n,r,i=Rc()){return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function bH(e,t=Rc()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function _H(e,t,n=new bi){return n.xmin=e[0],n.ymin=e[1],n.xmax=e[2],n.ymax=e[3],n.spatialReference=t,n}function wH(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function xH(e,t,n){if(t!=null)if("length"in t)dx(t)?(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[0]),n[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":n[0]=Math.min(e[0],t.xmin),n[1]=Math.min(e[1],t.ymin),n[2]=Math.max(e[2],t.xmax),n[3]=Math.max(e[3],t.ymax);break;case"point":n[0]=Math.min(e[0],t.x),n[1]=Math.min(e[1],t.y),n[2]=Math.max(e[2],t.x),n[3]=Math.max(e[3],t.y)}else cx(n,e)}function EH(e,t,n=e){const r=t.length;let i=e[0],s=e[1],o=e[2],a=e[3];for(let l=0;l<r;l++){const c=t[l];i=Math.min(i,c[0]),s=Math.min(s,c[1]),o=Math.max(o,c[0]),a=Math.max(a,c[1])}return n[0]=i,n[1]=s,n[2]=o,n[3]=a,n}function TH(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function ux(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function hx(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function SH(e){return ux(e)*hx(e)}function IH(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function AH(e){const t=ux(e),n=hx(e);return Math.sqrt(t*t+n*n)}function MH(e,t){return yk(e,t.x,t.y)}function yk(e,t,n){return t>=e[0]&&n>=e[1]&&t<=e[2]&&n<=e[3]}function OH(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function NH(e,t,n){return Math.max(t[0],e[0])-n<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-n<=Math.min(t[3],e[3])}function kH(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function CH(e,t,n,r=e){return r[0]=e[0]+t,r[1]=e[1]+n,r[2]=e[2]+t,r[3]=e[3]+n,r}function RH(e,t,n=e){return n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n}function LH(e){return e?cx(e,px):Rc(px)}function dx(e){return e!=null&&e.length===4}function DH(e,t){return dx(e)&&dx(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const px=[1/0,1/0,-1/0,-1/0],PH=[0,0,0,0];function gk(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function vk(e){return e.points!==void 0}function bk(e){return e.x!==void 0&&e.y!==void 0}function _k(e){return e.paths!==void 0}function wk(e){return e.rings!==void 0}function xk(e){function t(n,r){return n==null?r:r==null?n:e(n,r)}return t}const qa=xk(Math.min),Ja=xk(Math.max);function FH(e,t){return _k(t)?Lc(e,t.paths,!1,!1):wk(t)?Lc(e,t.rings,!1,!1):vk(t)?fx(e,t.points,!1,!1,!1,!1):gk(t)?Tk(e,t):(bk(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function UH(e){let t,n,r,i;for(e.reset(),t=r=1/0,n=i=-1/0;e.nextPath();){const s=Ek(e);t=Math.min(s[0],t),r=Math.min(s[1],r),n=Math.max(s[2],n),i=Math.max(s[3],i)}return Rc([t,r,n,i])}function Ek(e){let t,n,r,i;for(t=r=1/0,n=i=-1/0;e.nextPoint();)t=Math.min(e.x,t),r=Math.min(e.y,r),n=Math.max(e.x,n),i=Math.max(e.y,i);return Rc([t,r,n,i])}function GH(e,t){return _k(t)?Lc(e,t.paths,!0,!1):wk(t)?Lc(e,t.rings,!0,!1):vk(t)?fx(e,t.points,!0,!1,!0,!1):gk(t)?Tk(e,t,!0,!1,!0,!1):(bk(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Lc(e,t,n,r){const i=n?3:2;if(!t.length||!t[0].length)return null;let s,o,a,l,[c,d]=t[0][0],[p,f]=t[0][0];for(let y=0;y<t.length;y++){const g=t[y];for(let b=0;b<g.length;b++){const E=g[b],[S,I]=E;if(c=qa(c,S),d=qa(d,I),p=Ja(p,S),f=Ja(f,I),n&&E.length>2){const w=E[2];s=qa(s,w),o=Ja(o,w)}if(r&&E.length>i){const w=E[i];a=qa(s,w),l=Ja(o,w)}}}return n?r?(e[0]=c,e[1]=d,e[2]=s,e[3]=a,e[4]=p,e[5]=f,e[6]=o,e[7]=l,e.length=8,e):(e[0]=c,e[1]=d,e[2]=s,e[3]=p,e[4]=f,e[5]=o,e.length=6,e):r?(e[0]=c,e[1]=d,e[2]=a,e[3]=p,e[4]=f,e[5]=l,e.length=6,e):(e[0]=c,e[1]=d,e[2]=p,e[3]=f,e.length=4,e)}function Tk(e,t,n,r,i,s){const o=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let d=t.zmin,p=t.zmax,f=t.mmin,y=t.mmax;return i?(d=d||0,p=p||0,s?(f=f||0,y=y||0,e[0]=o,e[1]=l,e[2]=d,e[3]=f,e[4]=a,e[5]=c,e[6]=p,e[7]=y,e):(e[0]=o,e[1]=l,e[2]=d,e[3]=a,e[4]=c,e[5]=p,e)):s?(f=f||0,y=y||0,e[0]=o,e[1]=l,e[2]=f,e[3]=a,e[4]=c,e[5]=y,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=c,e)}function fx(e,t,n,r,i,s){const o=n?3:2,a=r&&s,l=n&&i;if(!t.length||!t[0].length)return null;let c,d,p,f,[y,g]=t[0],[b,E]=t[0];for(let S=0;S<t.length;S++){const I=t[S],[w,_]=I;if(y=qa(y,w),g=qa(g,_),b=Ja(b,w),E=Ja(E,_),l&&I.length>2){const A=I[2];c=qa(c,A),d=Ja(d,A)}if(a&&I.length>o){const A=I[o];p=qa(c,A),f=Ja(d,A)}}return i?(c=c||0,d=d||0,s?(p=p||0,f=f||0,e[0]=y,e[1]=g,e[2]=c,e[3]=p,e[4]=b,e[5]=E,e[6]=d,e[7]=f,e):(e[0]=y,e[1]=g,e[2]=c,e[3]=b,e[4]=E,e[5]=d,e)):s?(p=p||0,f=f||0,e[0]=y,e[1]=g,e[2]=p,e[3]=b,e[4]=E,e[5]=f,e):(e[0]=y,e[1]=g,e[2]=b,e[3]=E,e)}function jH(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function zH(e){return e.points!==void 0}function $H(e){return e.x!==void 0&&e.y!==void 0}function VH(e){return e.paths!==void 0}function WH(e){return e.rings!==void 0}const mx=[];function Sk(e,t,n,r){return{xmin:e,ymin:t,xmax:n,ymax:r}}function Ik(e,t,n,r,i,s){return{xmin:e,ymin:t,zmin:n,xmax:r,ymax:i,zmax:s}}function Ak(e,t,n,r,i,s){return{xmin:e,ymin:t,mmin:n,xmax:r,ymax:i,mmax:s}}function Mk(e,t,n,r,i,s,o,a){return{xmin:e,ymin:t,zmin:n,mmin:r,xmax:i,ymax:s,zmax:o,mmax:a}}function yx(e,t=!1,n=!1){return t?n?Mk(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):Ik(e[0],e[1],e[2],e[3],e[4],e[5]):n?Ak(e[0],e[1],e[2],e[3],e[4],e[5]):Sk(e[0],e[1],e[2],e[3])}function ZH(e){return e?jH(e)?e:$H(e)?XH(e):WH(e)?gx(e):VH(e)?Ok(e):zH(e)?BH(e):null:null}function BH(e){const{hasZ:t,hasM:n,points:r}=e;return yx(fx(mx,r,t??!1,n??!1),t,n)}function XH(e){const{x:t,y:n,z:r,m:i}=e,s=i!=null;return r!=null?s?Mk(t,n,r,i,t,n,r,i):Ik(t,n,r,t,n,r):s?Ak(t,n,i,t,n,i):Sk(t,n,t,n)}function gx(e){const{hasZ:t,hasM:n,rings:r}=e,i=Lc(mx,r,t??!1,n??!1);return i?yx(i,t,n):null}function Ok(e){const{hasZ:t,hasM:n,paths:r}=e,i=Lc(mx,r,t??!1,n??!1);return i?yx(i,t,n):null}var Lg;function Nk(e){return!Array.isArray(e[0])}function HH(e){return typeof e[0]?.[0]=="number"}function YH(e){if(!e)return;let{rings:t,hasM:n,hasZ:r,spatialReference:i}=e;switch(t??=[],HH(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,n??=!0;break;case 3:r??=n!==!0,n??=!r;break;default:r??=!1,n??=!1}return i??=Ln.WGS84,{...e,hasM:n,hasZ:r,rings:t,spatialReference:i}}let Gi=Lg=class extends Xa{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:n}=e;let r=!1,i=!1;for(const o of t)o.hasZ&&(r=!0),o.hasM&&(i=!0);const s={rings:t.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(r&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(i&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:n};return r&&(s.hasZ=!0),i&&(s.hasM=!0),new Lg(s)}constructor(e){super(YH(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=pk(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new En;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=ye(e)}get extent(){const e=gx(this),{spatialReference:t}=this;return e?new bi({...e,spatialReference:t}):null}get isSelfIntersecting(){return YX(this.rings)}writeRings(e,t){t.rings=ye(this.rings)}addRing(e){if(!e)return;const t=this.rings,n=t.length;if(Nk(e)){const r=[];for(let i=0,s=e.length;i<s;i++)r[i]=e[i].toArray();t[n]=r}else t[n]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new Lg;return e.spatialReference=this.spatialReference,e.rings=ye(this.rings),e.curveRings=ye(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,n=e.spatialReference;if(t!=null!=(n!=null)||t!=null&&n!=null&&!t.equals(n)||this.rings.length!==e.rings.length)return!1;const r=([i,s,o,a],[l,c,d,p])=>i===l&&s===c&&(o==null&&d==null||o===d)&&(a==null&&p==null||a===p);for(let i=0;i<this.rings.length;i++){const s=this.rings[i],o=e.rings[i];if(!$p(s,o,r))return!1}return!0}contains(e){if(!e)return!1;const t=Kw(e,this.spatialReference);return KN(this,t??e)}isClockwise(e){const t=Nk(e)?e.map(n=>this.hasZ?this.hasM?[n.x,n.y,n.z,n.m]:[n.x,n.y,n.z]:[n.x,n.y]):e;return lx(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const n=this.rings[e][t],r=this.hasZ,i=this.hasM;return r&&!i?new En(n[0],n[1],n[2],void 0,this.spatialReference):i&&!r?new En(n[0],n[1],void 0,n[2],this.spatialReference):r&&i?new En(n[0],n[1],n[2],n[3],this.spatialReference):new En(n[0],n[1],this.spatialReference)}insertPoint(e,t,n){return this._validateInputs(e,t,!0)?(Rh(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[e].splice(t,0,n),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const n=new En(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),n}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],n=this.spatialReference,r=t.map(i=>new En(i,n));return this.notifyChange("rings"),r}setPoint(e,t,n){return this._validateInputs(e,t)?(Rh(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[e][t]=n,this.notifyChange("rings"),this):this}_validateInputs(e,t,n=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const r=this.rings[e];if(n&&(t<0||t>r.length)||!n&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};v([T({readOnly:!0})],Gi.prototype,"cache",null),v([T({readOnly:!0})],Gi.prototype,"centroid",null),v([T({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Gi.prototype,"curveRings",void 0),v([jt("curveRings")],Gi.prototype,"writeCurveRings",null),v([T({readOnly:!0})],Gi.prototype,"extent",null),v([T({readOnly:!0})],Gi.prototype,"isSelfIntersecting",null),v([T({type:[[[Number]]],json:{write:{isRequired:!0}}})],Gi.prototype,"rings",void 0),v([jt("rings")],Gi.prototype,"writeRings",null),Gi=Lg=v([te("esri.geometry.Polygon")],Gi);const Qa=Gi;Gi.prototype.toJSON.isDefaultToJSON=!0;var vx;function qH(e){return!Array.isArray(e[0])}function JH(e){return typeof e[0]?.[0]=="number"}function QH(e){if(!e)return;let{paths:t,hasM:n,hasZ:r,spatialReference:i}=e;switch(t??=[],JH(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,n??=!0;break;case 3:r??=n!==!0,n??=!r;break;default:r??=!1,n??=!1}return i??=Ln.WGS84,{...e,hasM:n,hasZ:r,paths:t,spatialReference:i}}let no=vx=class extends Xa{constructor(e){super(QH(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=ye(e)}get extent(){const e=Ok(this),{spatialReference:t}=this;return e?new bi({...e,spatialReference:t}):null}writePaths(e,t){t.paths=ye(this.paths)}addPath(e){if(!e)return;const t=this.paths,n=t.length;if(qH(e)){const r=[];for(let i=0,s=e.length;i<s;i++)r[i]=e[i].toArray();t[n]=r}else t[n]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new vx;return e.spatialReference=this.spatialReference,e.paths=ye(this.paths),e.curvePaths=ye(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const n=this.paths[e][t],r=this.hasZ,i=this.hasM;return r&&!i?new En(n[0],n[1],n[2],void 0,this.spatialReference):i&&!r?new En(n[0],n[1],void 0,n[2],this.spatialReference):r&&i?new En(n[0],n[1],n[2],n[3],this.spatialReference):new En(n[0],n[1],this.spatialReference)}insertPoint(e,t,n){return this._validateInputs(e,t,!0)?(Rh(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[e].splice(t,0,n),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],n=this.spatialReference,r=t.map(i=>new En(i,n));return this.notifyChange("paths"),r}removePoint(e,t){if(!this._validateInputs(e,t))return null;const n=new En(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),n}setPoint(e,t,n){return this._validateInputs(e,t)?(Rh(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[e][t]=n,this.notifyChange("paths"),this):this}_validateInputs(e,t,n=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const r=this.paths[e];if(n&&(t<0||t>r.length)||!n&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};v([T({readOnly:!0})],no.prototype,"cache",null),v([T({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],no.prototype,"curvePaths",void 0),v([jt("curvePaths")],no.prototype,"writeCurvePaths",null),v([T({readOnly:!0})],no.prototype,"extent",null),v([T({type:[[[Number]]],json:{write:{isRequired:!0}}})],no.prototype,"paths",void 0),v([jt("paths")],no.prototype,"writePaths",null),no=vx=v([te("esri.geometry.Polyline")],no);const Lh=no;no.prototype.toJSON.isDefaultToJSON=!0;function bx(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function _x(e){return e.points!==void 0}function wx(e){return e.x!==void 0&&e.y!==void 0}function xx(e){return e.paths!==void 0||e.curvePaths!==void 0}function Ex(e){return e.rings!==void 0||e.curveRings!==void 0}function Dg(e){return e==null?null:e instanceof Xa?e:wx(e)?En.fromJSON(e):xx(e)?Lh.fromJSON(e):Ex(e)?Qa.fromJSON(e):_x(e)?Tf.fromJSON(e):bx(e)?bi.fromJSON(e):null}function KH(e){return e?wx(e)?"esriGeometryPoint":xx(e)?"esriGeometryPolyline":Ex(e)?"esriGeometryPolygon":bx(e)?"esriGeometryEnvelope":_x(e)?"esriGeometryMultipoint":null:null}const eY={esriGeometryPoint:En,esriGeometryPolyline:Lh,esriGeometryPolygon:Qa,esriGeometryEnvelope:bi,esriGeometryMultipoint:Tf,esriGeometryMultiPatch:Qa};function tY(e){return e&&eY[e]||null}const kk=e=>{let t=class extends e{clone(){const n=zo(this);vM(n,"unable to clone instance of non-accessor class");const r=n.metadata,i=n.store,s={},o=new Map;for(const l in r){const c=r[l],d=i?.originOf(l),p=c.clonable;if(c.readOnly||p===!1||d!==at.USER&&d!==at.DEFAULTS&&d!==at.WEB_MAP&&d!==at.WEB_SCENE)continue;const f=this[l];let y=null;y=typeof p=="function"?p(f):p==="reference"?f:y2(f),f!=null&&y==null||(d===at.DEFAULTS?o.set(l,y):s[l]=y)}const a=new(Object.getPrototypeOf(this)).constructor(s);if(o.size){const l=zo(a)?.store;if(l)for(const[c,d]of o)l.set(c,d,at.DEFAULTS)}return a}};return t=v([te("esri.core.Clonable")],t),t};let If=class extends kk(Rn){};If=v([te("esri.core.Clonable")],If),function(e){e.ClonableMixin=kk}(If||(If={}));const bs=If;let Tx;async function nY(){return Tx==null&&(Tx=import("./WhereClauseCache-DoGaSoxq.js").then(e=>new e.WhereClauseCache(500,500))),Tx}async function Ck(e,t){const n=await nY(),r=n.get(e,t);if(r==null)throw n.getError(e,t);return r}function rY(e,t){return e||=null,t||=null,e==="1=1"?t??e:t==="1=1"?e??t:e&&t?`(${e}) AND (${t})`:e??t}function iY(e,t){return e||=null,t||=null,e==="1=1"||t==="1=1"||e===t?e==="1=1"?e:t:e&&t?`(${e}) OR (${t})`:e??t}function sY(e,t){return t.length===0?null:`${e} IN (${oY(t)})`}function oY(e){return e.map(t=>typeof t=="string"?aY(t):t).join(",")}function aY(e){return`'${e.replaceAll("'","''")}'`}function lY(e){return typeof e=="number"}function cY(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function uY(e){return typeof e=="boolean"}function Dh(e){return typeof e=="string"||e instanceof String}function Rk(e){return e==null||Dh(e)}function hY(e){return Array.isArray(e)}function dY(e){return e?.declaredClass==="esri.Graphic"}function pY(e){return e instanceof Date}class Dc extends Error{}class fY extends Dc{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class mY extends Dc{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class yY extends Dc{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Ph extends Dc{}class Lk extends Dc{constructor(t){super(`Invalid unit ${t}`)}}class _r extends Dc{}class Ka extends Dc{constructor(){super("Zone is an abstract class")}}const ve="numeric",_s="short",_i="long",Pg={year:ve,month:ve,day:ve},Dk={year:ve,month:_s,day:ve},gY={year:ve,month:_s,day:ve,weekday:_s},Pk={year:ve,month:_i,day:ve},Fk={year:ve,month:_i,day:ve,weekday:_i},Uk={hour:ve,minute:ve},Gk={hour:ve,minute:ve,second:ve},jk={hour:ve,minute:ve,second:ve,timeZoneName:_s},zk={hour:ve,minute:ve,second:ve,timeZoneName:_i},$k={hour:ve,minute:ve,hourCycle:"h23"},Vk={hour:ve,minute:ve,second:ve,hourCycle:"h23"},Wk={hour:ve,minute:ve,second:ve,hourCycle:"h23",timeZoneName:_s},Zk={hour:ve,minute:ve,second:ve,hourCycle:"h23",timeZoneName:_i},Bk={year:ve,month:ve,day:ve,hour:ve,minute:ve},Xk={year:ve,month:ve,day:ve,hour:ve,minute:ve,second:ve},Hk={year:ve,month:_s,day:ve,hour:ve,minute:ve},Yk={year:ve,month:_s,day:ve,hour:ve,minute:ve,second:ve},vY={year:ve,month:_s,day:ve,weekday:_s,hour:ve,minute:ve},qk={year:ve,month:_i,day:ve,hour:ve,minute:ve,timeZoneName:_s},Jk={year:ve,month:_i,day:ve,hour:ve,minute:ve,second:ve,timeZoneName:_s},Qk={year:ve,month:_i,day:ve,weekday:_i,hour:ve,minute:ve,timeZoneName:_i},Kk={year:ve,month:_i,day:ve,weekday:_i,hour:ve,minute:ve,second:ve,timeZoneName:_i};class el{get type(){throw new Ka}get name(){throw new Ka}get ianaName(){return this.name}get isUniversal(){throw new Ka}offsetName(t,n){throw new Ka}formatOffset(t,n){throw new Ka}offset(t){throw new Ka}equals(t){throw new Ka}get isValid(){throw new Ka}}let Sx=null;class Y_ extends el{static get instance(){return Sx===null&&(Sx=new Y_),Sx}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:n,locale:r}){return TC(t,n,r)}formatOffset(t,n){return Of(this.offset(t),n)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let Fg={};function bY(e){return Fg[e]||(Fg[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Fg[e]}const _Y={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function wY(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,o,a,l,c,d]=r;return[o,i,s,a,l,c,d]}function xY(e,t){const n=e.formatToParts(t),r=[];for(let i=0;i<n.length;i++){const{type:s,value:o}=n[i],a=_Y[s];s==="era"?r[a]=o:ze(a)||(r[a]=parseInt(o,10))}return r}let Ug={};class hs extends el{static create(t){return Ug[t]||(Ug[t]=new hs(t)),Ug[t]}static resetCache(){Ug={},Fg={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=hs.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:n,locale:r}){return TC(t,n,r,this.name)}formatOffset(t,n){return Of(this.offset(t),n)}offset(t){const n=new Date(t);if(isNaN(n))return NaN;const r=bY(this.name);let[i,s,o,a,l,c,d]=r.formatToParts?xY(r,n):wY(r,n);a==="BC"&&(i=-Math.abs(i)+1);const p=Wg({year:i,month:s,day:o,hour:l===24?0:l,minute:c,second:d,millisecond:0});let f=+n;const y=f%1e3;return f-=y>=0?y:1e3+y,(p-f)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let eC={};function EY(e,t={}){const n=JSON.stringify([e,t]);let r=eC[n];return r||(r=new Intl.ListFormat(e,t),eC[n]=r),r}let Ix={};function Ax(e,t={}){const n=JSON.stringify([e,t]);let r=Ix[n];return r||(r=new Intl.DateTimeFormat(e,t),Ix[n]=r),r}let Mx={};function TY(e,t={}){const n=JSON.stringify([e,t]);let r=Mx[n];return r||(r=new Intl.NumberFormat(e,t),Mx[n]=r),r}let Ox={};function SY(e,t={}){const{base:n,...r}=t,i=JSON.stringify([e,r]);let s=Ox[i];return s||(s=new Intl.RelativeTimeFormat(e,t),Ox[i]=s),s}let Gg=null;function IY(){return Gg||(Gg=new Intl.DateTimeFormat().resolvedOptions().locale,Gg)}let tC={};function AY(e){let t=tC[e];if(!t){const n=new Intl.Locale(e);t="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,tC[e]=t}return t}function MY(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(n===-1)return[e];{let r,i;try{r=Ax(e).resolvedOptions(),i=e}catch{const a=e.substring(0,n);r=Ax(a).resolvedOptions(),i=a}const{numberingSystem:s,calendar:o}=r;return[i,s,o]}}function OY(e,t,n){return(n||t)&&(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`)),e}function NY(e){const t=[];for(let n=1;n<=12;n++){const r=Ne.utc(2009,n,1);t.push(e(r))}return t}function kY(e){const t=[];for(let n=1;n<=7;n++){const r=Ne.utc(2016,11,13+n);t.push(e(r))}return t}function jg(e,t,n,r){const i=e.listingMode();return i==="error"?null:i==="en"?n(t):r(t)}function CY(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class RY{constructor(t,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...o}=r;if(!n||Object.keys(o).length>0){const a={useGrouping:!1,...r};r.padTo>0&&(a.minimumIntegerDigits=r.padTo),this.inf=TY(t,a)}}format(t){if(this.inf){const n=this.floor?Math.floor(t):t;return this.inf.format(n)}else{const n=this.floor?Math.floor(t):Fx(t,3);return Dn(n,this.padTo)}}}class LY{constructor(t,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&hs.create(a).valid?(i=a,this.dt=t):(i="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,i=t.zone.name):(i="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=Ax(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class DY{constructor(t,n,r){this.opts={style:"long",...r},!n&&_C()&&(this.rtf=SY(t,r))}format(t,n){return this.rtf?this.rtf.format(t,n):iq(n,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,n){return this.rtf?this.rtf.formatToParts(t,n):[]}}const PY={firstDay:1,minimalDays:4,weekend:[6,7]};class It{static fromOpts(t){return It.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,n,r,i,s=!1){const o=t||fn.defaultLocale,a=o||(s?"en-US":IY()),l=n||fn.defaultNumberingSystem,c=r||fn.defaultOutputCalendar,d=Dx(i)||fn.defaultWeekSettings;return new It(a,l,c,d,o)}static resetCache(){Gg=null,Ix={},Mx={},Ox={}}static fromObject({locale:t,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return It.create(t,n,r,i)}constructor(t,n,r,i,s){const[o,a,l]=MY(t);this.locale=o,this.numberingSystem=n||a||null,this.outputCalendar=r||l||null,this.weekSettings=i,this.intl=OY(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=CY(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&n?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:It.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,Dx(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,n=!1){return jg(this,t,AC,()=>{const r=n?{month:t,day:"numeric"}:{month:t},i=n?"format":"standalone";return this.monthsCache[i][t]||(this.monthsCache[i][t]=NY(s=>this.extract(s,r,"month"))),this.monthsCache[i][t]})}weekdays(t,n=!1){return jg(this,t,NC,()=>{const r=n?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},i=n?"format":"standalone";return this.weekdaysCache[i][t]||(this.weekdaysCache[i][t]=kY(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][t]})}meridiems(){return jg(this,void 0,()=>kC,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ne.utc(2016,11,13,9),Ne.utc(2016,11,13,19)].map(n=>this.extract(n,t,"dayperiod"))}return this.meridiemCache})}eras(t){return jg(this,t,CC,()=>{const n={era:t};return this.eraCache[t]||(this.eraCache[t]=[Ne.utc(-40,1,1),Ne.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[t]})}extract(t,n,r){const i=this.dtFormatter(t,n),s=i.formatToParts(),o=s.find(a=>a.type.toLowerCase()===r);return o?o.value:null}numberFormatter(t={}){return new RY(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,n={}){return new LY(t,this.intl,n)}relFormatter(t={}){return new DY(this.intl,this.isEnglish(),t)}listFormatter(t={}){return EY(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:wC()?AY(this.locale):PY}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Nx=null;class pr extends el{static get utcInstance(){return Nx===null&&(Nx=new pr(0)),Nx}static instance(t){return t===0?pr.utcInstance:new pr(t)}static parseSpecifier(t){if(t){const n=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new pr(Zg(n[1],n[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Of(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Of(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,n){return Of(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class FY extends el{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function tl(e,t){if(ze(e)||e===null)return t;if(e instanceof el)return e;if(VY(e)){const n=e.toLowerCase();return n==="default"?t:n==="local"||n==="system"?Y_.instance:n==="utc"||n==="gmt"?pr.utcInstance:pr.parseSpecifier(n)||hs.create(e)}else return nl(e)?pr.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new FY(e)}const kx={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},nC={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},UY=kx.hanidec.replace(/[\[|\]]/g,"").split("");function GY(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(e[n].search(kx.hanidec)!==-1)t+=UY.indexOf(e[n]);else for(const i in nC){const[s,o]=nC[i];r>=s&&r<=o&&(t+=r-s)}}return parseInt(t,10)}else return t}let Fh={};function jY(){Fh={}}function ws({numberingSystem:e},t=""){const n=e||"latn";return Fh[n]||(Fh[n]={}),Fh[n][t]||(Fh[n][t]=new RegExp(`${kx[n]}${t}`)),Fh[n][t]}let rC=()=>Date.now(),iC="system",sC=null,oC=null,aC=null,lC=60,cC,uC=null;class fn{static get now(){return rC}static set now(t){rC=t}static set defaultZone(t){iC=t}static get defaultZone(){return tl(iC,Y_.instance)}static get defaultLocale(){return sC}static set defaultLocale(t){sC=t}static get defaultNumberingSystem(){return oC}static set defaultNumberingSystem(t){oC=t}static get defaultOutputCalendar(){return aC}static set defaultOutputCalendar(t){aC=t}static get defaultWeekSettings(){return uC}static set defaultWeekSettings(t){uC=Dx(t)}static get twoDigitCutoffYear(){return lC}static set twoDigitCutoffYear(t){lC=t%100}static get throwOnInvalid(){return cC}static set throwOnInvalid(t){cC=t}static resetCaches(){It.resetCache(),hs.resetCache(),Ne.resetCache(),jY()}}class xs{constructor(t,n){this.reason=t,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const hC=[0,31,59,90,120,151,181,212,243,273,304,334],dC=[0,31,60,91,121,152,182,213,244,274,305,335];function ji(e,t){return new xs("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function Cx(e,t,n){const r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function pC(e,t,n){return n+(Af(e)?dC:hC)[t-1]}function fC(e,t){const n=Af(e)?dC:hC,r=n.findIndex(s=>s<t),i=t-n[r];return{month:r+1,day:i}}function Rx(e,t){return(e-t+7)%7+1}function zg(e,t=4,n=1){const{year:r,month:i,day:s}=e,o=pC(r,i,s),a=Rx(Cx(r,i,s),n);let l=Math.floor((o-a+14-t)/7),c;return l<1?(c=r-1,l=Mf(c,t,n)):l>Mf(r,t,n)?(c=r+1,l=1):c=r,{weekYear:c,weekNumber:l,weekday:a,...Xg(e)}}function mC(e,t=4,n=1){const{weekYear:r,weekNumber:i,weekday:s}=e,o=Rx(Cx(r,1,t),n),a=Gh(r);let l=i*7+s-o-7+t,c;l<1?(c=r-1,l+=Gh(c)):l>a?(c=r+1,l-=Gh(r)):c=r;const{month:d,day:p}=fC(c,l);return{year:c,month:d,day:p,...Xg(e)}}function Lx(e){const{year:t,month:n,day:r}=e,i=pC(t,n,r);return{year:t,ordinal:i,...Xg(e)}}function yC(e){const{year:t,ordinal:n}=e,{month:r,day:i}=fC(t,n);return{year:t,month:r,day:i,...Xg(e)}}function gC(e,t){if(!ze(e.localWeekday)||!ze(e.localWeekNumber)||!ze(e.localWeekYear)){if(!ze(e.weekday)||!ze(e.weekNumber)||!ze(e.weekYear))throw new Ph("Cannot mix locale-based week fields with ISO-based week fields");return ze(e.localWeekday)||(e.weekday=e.localWeekday),ze(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),ze(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function zY(e,t=4,n=1){const r=$g(e.weekYear),i=zi(e.weekNumber,1,Mf(e.weekYear,t,n)),s=zi(e.weekday,1,7);return r?i?s?!1:ji("weekday",e.weekday):ji("week",e.weekNumber):ji("weekYear",e.weekYear)}function $Y(e){const t=$g(e.year),n=zi(e.ordinal,1,Gh(e.year));return t?n?!1:ji("ordinal",e.ordinal):ji("year",e.year)}function vC(e){const t=$g(e.year),n=zi(e.month,1,12),r=zi(e.day,1,Vg(e.year,e.month));return t?n?r?!1:ji("day",e.day):ji("month",e.month):ji("year",e.year)}function bC(e){const{hour:t,minute:n,second:r,millisecond:i}=e,s=zi(t,0,23)||t===24&&n===0&&r===0&&i===0,o=zi(n,0,59),a=zi(r,0,59),l=zi(i,0,999);return s?o?a?l?!1:ji("millisecond",i):ji("second",r):ji("minute",n):ji("hour",t)}function ze(e){return typeof e>"u"}function nl(e){return typeof e=="number"}function $g(e){return typeof e=="number"&&e%1===0}function VY(e){return typeof e=="string"}function WY(e){return Object.prototype.toString.call(e)==="[object Date]"}function _C(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function wC(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function ZY(e){return Array.isArray(e)?e:[e]}function xC(e,t,n){if(e.length!==0)return e.reduce((r,i)=>{const s=[t(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function BY(e,t){return t.reduce((n,r)=>(n[r]=e[r],n),{})}function Uh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Dx(e){if(e==null)return null;if(typeof e!="object")throw new _r("Week settings must be an object");if(!zi(e.firstDay,1,7)||!zi(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!zi(t,1,7)))throw new _r("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function zi(e,t,n){return $g(e)&&e>=t&&e<=n}function XY(e,t){return e-t*Math.floor(e/t)}function Dn(e,t=2){const n=e<0;let r;return n?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function rl(e){if(!(ze(e)||e===null||e===""))return parseInt(e,10)}function Pc(e){if(!(ze(e)||e===null||e===""))return parseFloat(e)}function Px(e){if(!(ze(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function Fx(e,t,n=!1){const r=10**t;return(n?Math.trunc:Math.round)(e*r)/r}function Af(e){return e%4===0&&(e%100!==0||e%400===0)}function Gh(e){return Af(e)?366:365}function Vg(e,t){const n=XY(t-1,12)+1,r=e+(t-n)/12;return n===2?Af(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Wg(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function EC(e,t,n){return-Rx(Cx(e,1,t),n)+t-1}function Mf(e,t=4,n=1){const r=EC(e,t,n),i=EC(e+1,t,n);return(Gh(e)-r+i)/7}function Ux(e){return e>99?e:e>fn.twoDigitCutoffYear?1900+e:2e3+e}function TC(e,t,n,r=null){const i=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const o={timeZoneName:t,...s},a=new Intl.DateTimeFormat(n,o).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function Zg(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function SC(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new _r(`Invalid unit value ${e}`);return t}function Bg(e,t){const n={};for(const r in e)if(Uh(e,r)){const i=e[r];if(i==null)continue;n[t(r)]=SC(i)}return n}function Of(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${Dn(n,2)}:${Dn(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Dn(n,2)}${Dn(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Xg(e){return BY(e,["hour","minute","second","millisecond"])}const HY=["January","February","March","April","May","June","July","August","September","October","November","December"],IC=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],YY=["J","F","M","A","M","J","J","A","S","O","N","D"];function AC(e){switch(e){case"narrow":return[...YY];case"short":return[...IC];case"long":return[...HY];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const MC=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],OC=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],qY=["M","T","W","T","F","S","S"];function NC(e){switch(e){case"narrow":return[...qY];case"short":return[...OC];case"long":return[...MC];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const kC=["AM","PM"],JY=["Before Christ","Anno Domini"],QY=["BC","AD"],KY=["B","A"];function CC(e){switch(e){case"narrow":return[...KY];case"short":return[...QY];case"long":return[...JY];default:return null}}function eq(e){return kC[e.hour<12?0:1]}function tq(e,t){return NC(t)[e.weekday-1]}function nq(e,t){return AC(t)[e.month-1]}function rq(e,t){return CC(t)[e.year<0?0:1]}function iq(e,t,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(e)===-1;if(n==="auto"&&s){const p=e==="days";switch(t){case 1:return p?"tomorrow":`next ${i[e][0]}`;case-1:return p?"yesterday":`last ${i[e][0]}`;case 0:return p?"today":`this ${i[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=i[e],d=r?l?c[1]:c[2]||c[1]:l?i[e][0]:e;return o?`${a} ${d} ago`:`in ${a} ${d}`}function RC(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const sq={D:Pg,DD:Dk,DDD:Pk,DDDD:Fk,t:Uk,tt:Gk,ttt:jk,tttt:zk,T:$k,TT:Vk,TTT:Wk,TTTT:Zk,f:Bk,ff:Hk,fff:qk,ffff:Qk,F:Xk,FF:Yk,FFF:Jk,FFFF:Kk};class kr{static create(t,n={}){return new kr(t,n)}static parseFormat(t){let n=null,r="",i=!1;const s=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||a===n?r+=a:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=a,n=a)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(t){return sq[t]}constructor(t,n){this.opts=n,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...n}).format()}dtFormatter(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n})}formatDateTime(t,n){return this.dtFormatter(t,n).format()}formatDateTimeParts(t,n){return this.dtFormatter(t,n).formatToParts()}formatInterval(t,n){return this.dtFormatter(t.start,n).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,n){return this.dtFormatter(t,n).resolvedOptions()}num(t,n=0){if(this.opts.forceSimple)return Dn(t,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(y,g)=>this.loc.extract(t,y,g),o=y=>t.isOffsetFixed&&t.offset===0&&y.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,y.format):"",a=()=>r?eq(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,g)=>r?nq(t,y):s(g?{month:y}:{month:y,day:"numeric"},"month"),c=(y,g)=>r?tq(t,y):s(g?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),d=y=>{const g=kr.macroTokenToFormatOpts(y);return g?this.formatWithSystemDefault(t,g):y},p=y=>r?rq(t,y):s({era:y},"era"),f=y=>{switch(y){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return i?s({day:"numeric"},"day"):this.num(t.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(t.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(t.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return p("short");case"GG":return p("long");case"GGGGG":return p("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return d(y)}};return RC(kr.parseFormat(n),f)}formatDurationFromString(t,n){const r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>c=>{const d=r(c);return d?this.num(l.get(d),c.length):c},s=kr.parseFormat(n),o=s.reduce((l,{literal:c,val:d})=>c?l:l.concat(d),[]),a=t.shiftTo(...o.map(r).filter(l=>l));return RC(s,i(a))}}const LC=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function jh(...e){const t=e.reduce((n,r)=>n+r.source,"");return RegExp(`^${t}$`)}function zh(...e){return t=>e.reduce(([n,r,i],s)=>{const[o,a,l]=s(t,i);return[{...n,...o},a||r,l]},[{},null,1]).slice(0,2)}function $h(e,...t){if(e==null)return[null,null];for(const[n,r]of t){const i=n.exec(e);if(i)return r(i)}return[null,null]}function DC(...e){return(t,n)=>{const r={};let i;for(i=0;i<e.length;i++)r[e[i]]=rl(t[n+i]);return[r,null,n+i]}}const PC=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,oq=`(?:${PC.source}?(?:\\[(${LC.source})\\])?)?`,Gx=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,FC=RegExp(`${Gx.source}${oq}`),jx=RegExp(`(?:T${FC.source})?`),aq=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,lq=/(\d{4})-?W(\d\d)(?:-?(\d))?/,cq=/(\d{4})-?(\d{3})/,uq=DC("weekYear","weekNumber","weekDay"),hq=DC("year","ordinal"),dq=/(\d{4})-(\d\d)-(\d\d)/,UC=RegExp(`${Gx.source} ?(?:${PC.source}|(${LC.source}))?`),pq=RegExp(`(?: ${UC.source})?`);function Vh(e,t,n){const r=e[t];return ze(r)?n:rl(r)}function fq(e,t){return[{year:Vh(e,t),month:Vh(e,t+1,1),day:Vh(e,t+2,1)},null,t+3]}function Wh(e,t){return[{hours:Vh(e,t,0),minutes:Vh(e,t+1,0),seconds:Vh(e,t+2,0),milliseconds:Px(e[t+3])},null,t+4]}function Nf(e,t){const n=!e[t]&&!e[t+1],r=Zg(e[t+1],e[t+2]),i=n?null:pr.instance(r);return[{},i,t+3]}function kf(e,t){const n=e[t]?hs.create(e[t]):null;return[{},n,t+1]}const mq=RegExp(`^T?${Gx.source}$`),yq=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function gq(e){const[t,n,r,i,s,o,a,l,c]=e,d=t[0]==="-",p=l&&l[0]==="-",f=(y,g=!1)=>y!==void 0&&(g||y&&d)?-y:y;return[{years:f(Pc(n)),months:f(Pc(r)),weeks:f(Pc(i)),days:f(Pc(s)),hours:f(Pc(o)),minutes:f(Pc(a)),seconds:f(Pc(l),l==="-0"),milliseconds:f(Px(c),p)}]}const vq={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function zx(e,t,n,r,i,s,o){const a={year:t.length===2?Ux(rl(t)):rl(t),month:IC.indexOf(n)+1,day:rl(r),hour:rl(i),minute:rl(s)};return o&&(a.second=rl(o)),e&&(a.weekday=e.length>3?MC.indexOf(e)+1:OC.indexOf(e)+1),a}const bq=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function _q(e){const[,t,n,r,i,s,o,a,l,c,d,p]=e,f=zx(t,i,r,n,s,o,a);let y;return l?y=vq[l]:c?y=0:y=Zg(d,p),[f,new pr(y)]}function wq(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const xq=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Eq=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Tq=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function GC(e){const[,t,n,r,i,s,o,a]=e;return[zx(t,i,r,n,s,o,a),pr.utcInstance]}function Sq(e){const[,t,n,r,i,s,o,a]=e;return[zx(t,a,n,r,i,s,o),pr.utcInstance]}const Iq=jh(aq,jx),Aq=jh(lq,jx),Mq=jh(cq,jx),Oq=jh(FC),jC=zh(fq,Wh,Nf,kf),Nq=zh(uq,Wh,Nf,kf),kq=zh(hq,Wh,Nf,kf),Cq=zh(Wh,Nf,kf);function Rq(e){return $h(e,[Iq,jC],[Aq,Nq],[Mq,kq],[Oq,Cq])}function Lq(e){return $h(wq(e),[bq,_q])}function Dq(e){return $h(e,[xq,GC],[Eq,GC],[Tq,Sq])}function Pq(e){return $h(e,[yq,gq])}const Fq=zh(Wh);function Uq(e){return $h(e,[mq,Fq])}const Gq=jh(dq,pq),jq=jh(UC),zq=zh(Wh,Nf,kf);function $q(e){return $h(e,[Gq,jC],[jq,zq])}const zC="Invalid Duration",$C={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Vq={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...$C},$i=146097/400,Zh=146097/4800,Wq={years:{quarters:4,months:12,weeks:$i/7,days:$i,hours:$i*24,minutes:$i*24*60,seconds:$i*24*60*60,milliseconds:$i*24*60*60*1e3},quarters:{months:3,weeks:$i/28,days:$i/4,hours:$i*24/4,minutes:$i*24*60/4,seconds:$i*24*60*60/4,milliseconds:$i*24*60*60*1e3/4},months:{weeks:Zh/7,days:Zh,hours:Zh*24,minutes:Zh*24*60,seconds:Zh*24*60*60,milliseconds:Zh*24*60*60*1e3},...$C},Fc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Zq=Fc.slice(0).reverse();function il(e,t,n=!1){const r={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new dt(r)}function VC(e,t){let n=t.milliseconds??0;for(const r of Zq.slice(1))t[r]&&(n+=t[r]*e[r].milliseconds);return n}function WC(e,t){const n=VC(e,t)<0?-1:1;Fc.reduceRight((r,i)=>{if(ze(t[i]))return r;if(r){const s=t[r]*n,o=e[i][r],a=Math.floor(s/o);t[i]+=a*n,t[r]-=a*o*n}return i},null),Fc.reduce((r,i)=>{if(ze(t[i]))return r;if(r){const s=t[r]%1;t[r]-=s,t[i]+=s*e[r][i]}return i},null)}function Bq(e){const t={};for(const[n,r]of Object.entries(e))r!==0&&(t[n]=r);return t}class dt{constructor(t){const n=t.conversionAccuracy==="longterm"||!1;let r=n?Wq:Vq;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||It.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,n){return dt.fromObject({milliseconds:t},n)}static fromObject(t,n={}){if(t==null||typeof t!="object")throw new _r(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new dt({values:Bg(t,dt.normalizeUnit),loc:It.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(t){if(nl(t))return dt.fromMillis(t);if(dt.isDuration(t))return t;if(typeof t=="object")return dt.fromObject(t);throw new _r(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,n){const[r]=Pq(t);return r?dt.fromObject(r,n):dt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,n){const[r]=Uq(t);return r?dt.fromObject(r,n):dt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,n=null){if(!t)throw new _r("need to specify a reason the Duration is invalid");const r=t instanceof xs?t:new xs(t,n);if(fn.throwOnInvalid)throw new yY(r);return new dt({invalid:r})}static normalizeUnit(t){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!n)throw new Lk(t);return n}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?kr.create(this.loc,r).formatDurationFromString(this,t):zC}toHuman(t={}){if(!this.isValid)return zC;const n=Fc.map(r=>{const i=this.values[r];return ze(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=Fx(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},Ne.fromMillis(n,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?VC(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const n=dt.fromDurationLike(t),r={};for(const i of Fc)(Uh(n.values,i)||Uh(this.values,i))&&(r[i]=n.get(i)+this.get(i));return il(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const n=dt.fromDurationLike(t);return this.plus(n.negate())}mapUnits(t){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=SC(t(this.values[r],r));return il(this,{values:n},!0)}get(t){return this[dt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const n={...this.values,...Bg(t,dt.normalizeUnit)};return il(this,{values:n})}reconfigure({locale:t,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const s={loc:this.loc.clone({locale:t,numberingSystem:n}),matrix:i,conversionAccuracy:r};return il(this,s)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return WC(this.matrix,t),il(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=Bq(this.normalize().shiftToAll().toObject());return il(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>dt.normalizeUnit(o));const n={},r={},i=this.toObject();let s;for(const o of Fc)if(t.indexOf(o)>=0){s=o;let a=0;for(const c in r)a+=this.matrix[c][o]*r[c],r[c]=0;nl(i[o])&&(a+=i[o]);const l=Math.trunc(a);n[o]=l,r[o]=(a*1e3-l*1e3)/1e3}else nl(i[o])&&(r[o]=i[o]);for(const o in r)r[o]!==0&&(n[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return WC(this.matrix,n),il(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=this.values[n]===0?0:-this.values[n];return il(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of Fc)if(!n(this.values[r],t.values[r]))return!1;return!0}}const Bh="Invalid Interval";function Xq(e,t){return!e||!e.isValid?_n.invalid("missing or invalid start"):!t||!t.isValid?_n.invalid("missing or invalid end"):t<e?_n.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class _n{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,n=null){if(!t)throw new _r("need to specify a reason the Interval is invalid");const r=t instanceof xs?t:new xs(t,n);if(fn.throwOnInvalid)throw new mY(r);return new _n({invalid:r})}static fromDateTimes(t,n){const r=Rf(t),i=Rf(n);return Xq(r,i)??new _n({start:r,end:i})}static after(t,n){const r=dt.fromDurationLike(n),i=Rf(t);return _n.fromDateTimes(i,i.plus(r))}static before(t,n){const r=dt.fromDurationLike(n),i=Rf(t);return _n.fromDateTimes(i.minus(r),i)}static fromISO(t,n){const[r,i]=(t||"").split("/",2);if(r&&i){let s,o;try{s=Ne.fromISO(r,n),o=s.isValid}catch{o=!1}let a,l;try{a=Ne.fromISO(i,n),l=a.isValid}catch{l=!1}if(o&&l)return _n.fromDateTimes(s,a);if(o){const c=dt.fromISO(i,n);if(c.isValid)return _n.after(s,c)}else if(l){const c=dt.fromISO(r,n);if(c.isValid)return _n.before(a,c)}}return _n.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(t,n);let i;return n?.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(t,n),Math.floor(i.diff(r,t).get(t))+(i.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:n}={}){return this.isValid?_n.fromDateTimes(t||this.s,n||this.e):this}splitAt(...t){if(!this.isValid)return[];const n=t.map(Rf).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const o=n[s]||this.e,a=+o>+this.e?this.e:o;r.push(_n.fromDateTimes(i,a)),i=a,s+=1}return r}splitBy(t){const n=dt.fromDurationLike(t);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const o=[];for(;r<this.e;){const a=this.start.plus(n.mapUnits(l=>l*i));s=+a>+this.e?this.e:a,o.push(_n.fromDateTimes(r,s)),r=s,i+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:_n.fromDateTimes(n,r)}union(t){if(!this.isValid)return this;const n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return _n.fromDateTimes(n,r)}static merge(t){const[n,r]=t.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return r&&n.push(r),n}static xor(t){let n=null,r=0;const i=[],s=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,c)=>l.time-c.time);for(const l of a)r+=l.type==="s"?1:-1,r===1?n=l.time:(n&&+n!=+l.time&&i.push(_n.fromDateTimes(n,l.time)),n=null);return _n.merge(i)}difference(...t){return _n.xor([this].concat(t)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Bh}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=Pg,n={}){return this.isValid?kr.create(this.s.loc.clone(n),t).formatInterval(this):Bh}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Bh}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Bh}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Bh}toFormat(t,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${n}${this.e.toFormat(t)}`:Bh}toDuration(t,n){return this.isValid?this.e.diff(this.s,t,n):dt.invalid(this.invalidReason)}mapEndpoints(t){return _n.fromDateTimes(t(this.s),t(this.e))}}class Hg{static hasDST(t=fn.defaultZone){const n=Ne.now().setZone(t).set({month:12});return!t.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(t){return hs.isValidZone(t)}static normalizeZone(t){return tl(t,fn.defaultZone)}static getStartOfWeek({locale:t=null,locObj:n=null}={}){return(n||It.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:n=null}={}){return(n||It.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:n=null}={}){return(n||It.create(t)).getWeekendDays().slice()}static months(t="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||It.create(n,r,s)).months(t)}static monthsFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||It.create(n,r,s)).months(t,!0)}static weekdays(t="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||It.create(n,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||It.create(n,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return It.create(t).meridiems()}static eras(t="short",{locale:n=null}={}){return It.create(n,null,"gregory").eras(t)}static features(){return{relative:_C(),localeWeek:wC()}}}function ZC(e,t){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(dt.fromMillis(r).as("days"))}function Hq(e,t,n){const r=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const d=ZC(l,c);return(d-d%7)/7}],["days",ZC]],i={},s=e;let o,a;for(const[l,c]of r)n.indexOf(l)>=0&&(o=l,i[l]=c(e,t),a=s.plus(i),a>t?(i[l]--,e=s.plus(i),e>t&&(a=e,i[l]--,e=s.plus(i))):e=a);return[e,i,a,o]}function Yq(e,t,n,r){let[i,s,o,a]=Hq(e,t,n);const l=t-i,c=n.filter(p=>["hours","minutes","seconds","milliseconds"].indexOf(p)>=0);c.length===0&&(o<t&&(o=i.plus({[a]:1})),o!==i&&(s[a]=(s[a]||0)+l/(o-i)));const d=dt.fromObject(s,r);return c.length>0?dt.fromMillis(l,r).shiftTo(...c).plus(d):d}const qq="missing Intl.DateTimeFormat.formatToParts support";function gt(e,t=n=>n){return{regex:e,deser:([n])=>t(GY(n))}}const Jq="\xA0",BC=`[ ${Jq}]`,XC=new RegExp(BC,"g");function Qq(e){return e.replace(/\./g,"\\.?").replace(XC,BC)}function HC(e){return e.replace(/\./g,"").replace(XC," ").toLowerCase()}function Es(e,t){return e===null?null:{regex:RegExp(e.map(Qq).join("|")),deser:([n])=>e.findIndex(r=>HC(n)===HC(r))+t}}function YC(e,t){return{regex:e,deser:([,n,r])=>Zg(n,r),groups:t}}function Yg(e){return{regex:e,deser:([t])=>t}}function Kq(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function eJ(e,t){const n=ws(t),r=ws(t,"{2}"),i=ws(t,"{3}"),s=ws(t,"{4}"),o=ws(t,"{6}"),a=ws(t,"{1,2}"),l=ws(t,"{1,3}"),c=ws(t,"{1,6}"),d=ws(t,"{1,9}"),p=ws(t,"{2,4}"),f=ws(t,"{4,6}"),y=b=>({regex:RegExp(Kq(b.val)),deser:([E])=>E,literal:!0}),g=(b=>{if(e.literal)return y(b);switch(b.val){case"G":return Es(t.eras("short"),0);case"GG":return Es(t.eras("long"),0);case"y":return gt(c);case"yy":return gt(p,Ux);case"yyyy":return gt(s);case"yyyyy":return gt(f);case"yyyyyy":return gt(o);case"M":return gt(a);case"MM":return gt(r);case"MMM":return Es(t.months("short",!0),1);case"MMMM":return Es(t.months("long",!0),1);case"L":return gt(a);case"LL":return gt(r);case"LLL":return Es(t.months("short",!1),1);case"LLLL":return Es(t.months("long",!1),1);case"d":return gt(a);case"dd":return gt(r);case"o":return gt(l);case"ooo":return gt(i);case"HH":return gt(r);case"H":return gt(a);case"hh":return gt(r);case"h":return gt(a);case"mm":return gt(r);case"m":return gt(a);case"q":return gt(a);case"qq":return gt(r);case"s":return gt(a);case"ss":return gt(r);case"S":return gt(l);case"SSS":return gt(i);case"u":return Yg(d);case"uu":return Yg(a);case"uuu":return gt(n);case"a":return Es(t.meridiems(),0);case"kkkk":return gt(s);case"kk":return gt(p,Ux);case"W":return gt(a);case"WW":return gt(r);case"E":case"c":return gt(n);case"EEE":return Es(t.weekdays("short",!1),1);case"EEEE":return Es(t.weekdays("long",!1),1);case"ccc":return Es(t.weekdays("short",!0),1);case"cccc":return Es(t.weekdays("long",!0),1);case"Z":case"ZZ":return YC(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return YC(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return Yg(/[a-z_+-/]{1,256}?/i);case" ":return Yg(/[^\S\n\r]/);default:return y(b)}})(e)||{invalidReason:qq};return g.token=e,g}const tJ={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function nJ(e,t,n){const{type:r,value:i}=e;if(r==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=t[r];let o=r;r==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let a=tJ[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function rJ(e){return[`^${e.map(t=>t.regex).reduce((t,n)=>`${t}(${n.source})`,"")}$`,e]}function iJ(e,t,n){const r=e.match(t);if(r){const i={};let s=1;for(const o in n)if(Uh(n,o)){const a=n[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(r.slice(s,s+l))),s+=l}return[r,i]}else return[r,{}]}function sJ(e){const t=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return ze(e.z)||(n=hs.create(e.z)),ze(e.Z)||(n||(n=new pr(e.Z)),r=e.Z),ze(e.q)||(e.M=(e.q-1)*3+1),ze(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),ze(e.u)||(e.S=Px(e.u)),[Object.keys(e).reduce((i,s)=>{const o=t(s);return o&&(i[o]=e[s]),i},{}),n,r]}let $x=null;function oJ(){return $x||($x=Ne.fromMillis(1555555555555)),$x}function aJ(e,t){if(e.literal)return e;const n=kr.macroTokenToFormatOpts(e.val),r=KC(n,t);return r==null||r.includes(void 0)?e:r}function qC(e,t){return Array.prototype.concat(...e.map(n=>aJ(n,t)))}class JC{constructor(t,n){if(this.locale=t,this.format=n,this.tokens=qC(kr.parseFormat(n),t),this.units=this.tokens.map(r=>eJ(r,t)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,i]=rJ(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(t){if(this.isValid){const[n,r]=iJ(t,this.regex,this.handlers),[i,s,o]=r?sJ(r):[null,null,void 0];if(Uh(r,"a")&&Uh(r,"H"))throw new Ph("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:r,result:i,zone:s,specificOffset:o}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function QC(e,t,n){return new JC(e,n).explainFromTokens(t)}function lJ(e,t,n){const{result:r,zone:i,specificOffset:s,invalidReason:o}=QC(e,t,n);return[r,i,s,o]}function KC(e,t){if(!e)return null;const n=kr.create(t,e).dtFormatter(oJ()),r=n.formatToParts(),i=n.resolvedOptions();return r.map(s=>nJ(s,e,i))}const Vx="Invalid DateTime",eR=864e13;function Cf(e){return new xs("unsupported zone",`the zone "${e.name}" is not supported`)}function Wx(e){return e.weekData===null&&(e.weekData=zg(e.c)),e.weekData}function Zx(e){return e.localWeekData===null&&(e.localWeekData=zg(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Uc(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Ne({...n,...t,old:n})}function tR(e,t,n){let r=e-t*60*1e3;const i=n.offset(r);if(t===i)return[r,t];r-=(i-t)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[e-Math.min(i,s)*60*1e3,Math.max(i,s)]}function qg(e,t){e+=t*60*1e3;const n=new Date(e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Jg(e,t,n){return tR(Wg(e),t,n)}function nR(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,s={...e.c,year:r,month:i,day:Math.min(e.c.day,Vg(r,i))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=dt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=Wg(s);let[l,c]=tR(a,n,e.zone);return o!==0&&(l+=o,c=e.zone.offset(l)),{ts:l,o:c}}function Xh(e,t,n,r,i,s){const{setZone:o,zone:a}=n;if(e&&Object.keys(e).length!==0||t){const l=t||a,c=Ne.fromObject(e,{...n,zone:l,specificOffset:s});return o?c:c.setZone(a)}else return Ne.invalid(new xs("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Qg(e,t,n=!0){return e.isValid?kr.create(It.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Bx(e,t){const n=e.c.year>9999||e.c.year<0;let r="";return n&&e.c.year>=0&&(r+="+"),r+=Dn(e.c.year,n?6:4),t?(r+="-",r+=Dn(e.c.month),r+="-",r+=Dn(e.c.day)):(r+=Dn(e.c.month),r+=Dn(e.c.day)),r}function rR(e,t,n,r,i,s){let o=Dn(e.c.hour);return t?(o+=":",o+=Dn(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!n)&&(o+=":")):o+=Dn(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!n)&&(o+=Dn(e.c.second),(e.c.millisecond!==0||!r)&&(o+=".",o+=Dn(e.c.millisecond,3))),i&&(e.isOffsetFixed&&e.offset===0&&!s?o+="Z":e.o<0?(o+="-",o+=Dn(Math.trunc(-e.o/60)),o+=":",o+=Dn(Math.trunc(-e.o%60))):(o+="+",o+=Dn(Math.trunc(e.o/60)),o+=":",o+=Dn(Math.trunc(e.o%60)))),s&&(o+="["+e.zone.ianaName+"]"),o}const iR={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},cJ={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},uJ={ordinal:1,hour:0,minute:0,second:0,millisecond:0},sR=["year","month","day","hour","minute","second","millisecond"],hJ=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],dJ=["year","ordinal","hour","minute","second","millisecond"];function pJ(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new Lk(e);return t}function oR(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return pJ(e)}}function fJ(e){return e1[e]||(Kg===void 0&&(Kg=fn.now()),e1[e]=e.offset(Kg)),e1[e]}function aR(e,t){const n=tl(t.zone,fn.defaultZone);if(!n.isValid)return Ne.invalid(Cf(n));const r=It.fromObject(t);let i,s;if(ze(e.year))i=fn.now();else{for(const l of sR)ze(e[l])&&(e[l]=iR[l]);const o=vC(e)||bC(e);if(o)return Ne.invalid(o);const a=fJ(n);[i,s]=Jg(e,a,n)}return new Ne({ts:i,zone:n,loc:r,o:s})}function lR(e,t,n){const r=ze(n.round)?!0:n.round,i=(o,a)=>(o=Fx(o,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(o,a)),s=o=>n.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(n.unit)return i(s(n.unit),n.unit);for(const o of n.units){const a=s(o);if(Math.abs(a)>=1)return i(a,o)}return i(e>t?-0:0,n.units[n.units.length-1])}function cR(e){let t={},n;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],n=Array.from(e).slice(0,e.length-1)):n=Array.from(e),[t,n]}let Kg,e1={};class Ne{constructor(t){const n=t.zone||fn.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new xs("invalid input"):null)||(n.isValid?null:Cf(n));this.ts=ze(t.ts)?fn.now():t.ts;let i=null,s=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(n))[i,s]=[t.old.c,t.old.o];else{const o=nl(t.o)&&!t.old?t.o:n.offset(this.ts);i=qg(this.ts,o),r=Number.isNaN(i.year)?new xs("invalid input"):null,i=r?null:i,s=r?null:o}this._zone=n,this.loc=t.loc||It.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new Ne({})}static local(){const[t,n]=cR(arguments),[r,i,s,o,a,l,c]=n;return aR({year:r,month:i,day:s,hour:o,minute:a,second:l,millisecond:c},t)}static utc(){const[t,n]=cR(arguments),[r,i,s,o,a,l,c]=n;return t.zone=pr.utcInstance,aR({year:r,month:i,day:s,hour:o,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,n={}){const r=WY(t)?t.valueOf():NaN;if(Number.isNaN(r))return Ne.invalid("invalid input");const i=tl(n.zone,fn.defaultZone);return i.isValid?new Ne({ts:r,zone:i,loc:It.fromObject(n)}):Ne.invalid(Cf(i))}static fromMillis(t,n={}){if(nl(t))return t<-eR||t>eR?Ne.invalid("Timestamp out of range"):new Ne({ts:t,zone:tl(n.zone,fn.defaultZone),loc:It.fromObject(n)});throw new _r(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,n={}){if(nl(t))return new Ne({ts:t*1e3,zone:tl(n.zone,fn.defaultZone),loc:It.fromObject(n)});throw new _r("fromSeconds requires a numerical input")}static fromObject(t,n={}){t=t||{};const r=tl(n.zone,fn.defaultZone);if(!r.isValid)return Ne.invalid(Cf(r));const i=It.fromObject(n),s=Bg(t,oR),{minDaysInFirstWeek:o,startOfWeek:a}=gC(s,i),l=fn.now(),c=ze(n.specificOffset)?r.offset(l):n.specificOffset,d=!ze(s.ordinal),p=!ze(s.year),f=!ze(s.month)||!ze(s.day),y=p||f,g=s.weekYear||s.weekNumber;if((y||d)&&g)throw new Ph("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&d)throw new Ph("Can't mix ordinal dates with month/day");const b=g||s.weekday&&!y;let E,S,I=qg(l,c);b?(E=hJ,S=cJ,I=zg(I,o,a)):d?(E=dJ,S=uJ,I=Lx(I)):(E=sR,S=iR);let w=!1;for(const U of E){const B=s[U];ze(B)?w?s[U]=S[U]:s[U]=I[U]:w=!0}const _=b?zY(s,o,a):d?$Y(s):vC(s),A=_||bC(s);if(A)return Ne.invalid(A);const M=b?mC(s,o,a):d?yC(s):s,[k,C]=Jg(M,c,r),R=new Ne({ts:k,zone:r,o:C,loc:i});return s.weekday&&y&&t.weekday!==R.weekday?Ne.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${R.toISO()}`):R.isValid?R:Ne.invalid(R.invalid)}static fromISO(t,n={}){const[r,i]=Rq(t);return Xh(r,i,n,"ISO 8601",t)}static fromRFC2822(t,n={}){const[r,i]=Lq(t);return Xh(r,i,n,"RFC 2822",t)}static fromHTTP(t,n={}){const[r,i]=Dq(t);return Xh(r,i,n,"HTTP",n)}static fromFormat(t,n,r={}){if(ze(t)||ze(n))throw new _r("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,o=It.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[a,l,c,d]=lJ(o,t,n);return d?Ne.invalid(d):Xh(a,l,r,`format ${n}`,t,c)}static fromString(t,n,r={}){return Ne.fromFormat(t,n,r)}static fromSQL(t,n={}){const[r,i]=$q(t);return Xh(r,i,n,"SQL",t)}static invalid(t,n=null){if(!t)throw new _r("need to specify a reason the DateTime is invalid");const r=t instanceof xs?t:new xs(t,n);if(fn.throwOnInvalid)throw new fY(r);return new Ne({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,n={}){const r=KC(t,It.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(t,n={}){return qC(kr.parseFormat(t),It.fromObject(n)).map(r=>r.val).join("")}static resetCache(){Kg=void 0,e1={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Wx(this).weekYear:NaN}get weekNumber(){return this.isValid?Wx(this).weekNumber:NaN}get weekday(){return this.isValid?Wx(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Zx(this).weekday:NaN}get localWeekNumber(){return this.isValid?Zx(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Zx(this).weekYear:NaN}get ordinal(){return this.isValid?Lx(this.c).ordinal:NaN}get monthShort(){return this.isValid?Hg.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Hg.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Hg.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Hg.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,n=6e4,r=Wg(this.c),i=this.zone.offset(r-t),s=this.zone.offset(r+t),o=this.zone.offset(r-i*n),a=this.zone.offset(r-s*n);if(o===a)return[this];const l=r-o*n,c=r-a*n,d=qg(l,o),p=qg(c,a);return d.hour===p.hour&&d.minute===p.minute&&d.second===p.second&&d.millisecond===p.millisecond?[Uc(this,{ts:l}),Uc(this,{ts:c})]:[this]}get isInLeapYear(){return Af(this.year)}get daysInMonth(){return Vg(this.year,this.month)}get daysInYear(){return this.isValid?Gh(this.year):NaN}get weeksInWeekYear(){return this.isValid?Mf(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Mf(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:n,numberingSystem:r,calendar:i}=kr.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(t=0,n={}){return this.setZone(pr.instance(t),n)}toLocal(){return this.setZone(fn.defaultZone)}setZone(t,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(t=tl(t,fn.defaultZone),t.equals(this.zone))return this;if(t.isValid){let i=this.ts;if(n||r){const s=t.offset(this.ts),o=this.toObject();[i]=Jg(o,s,t)}return Uc(this,{ts:i,zone:t})}else return Ne.invalid(Cf(t))}reconfigure({locale:t,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:t,numberingSystem:n,outputCalendar:r});return Uc(this,{loc:i})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const n=Bg(t,oR),{minDaysInFirstWeek:r,startOfWeek:i}=gC(n,this.loc),s=!ze(n.weekYear)||!ze(n.weekNumber)||!ze(n.weekday),o=!ze(n.ordinal),a=!ze(n.year),l=!ze(n.month)||!ze(n.day),c=a||l,d=n.weekYear||n.weekNumber;if((c||o)&&d)throw new Ph("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Ph("Can't mix ordinal dates with month/day");let p;s?p=mC({...zg(this.c,r,i),...n},r,i):ze(n.ordinal)?(p={...this.toObject(),...n},ze(n.day)&&(p.day=Math.min(Vg(p.year,p.month),p.day))):p=yC({...Lx(this.c),...n});const[f,y]=Jg(p,this.o,this.zone);return Uc(this,{ts:f,o:y})}plus(t){if(!this.isValid)return this;const n=dt.fromDurationLike(t);return Uc(this,nR(this,n))}minus(t){if(!this.isValid)return this;const n=dt.fromDurationLike(t).negate();return Uc(this,nR(this,n))}startOf(t,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=dt.normalizeUnit(t);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(t,n){return this.isValid?this.plus({[t]:1}).startOf(t,n).minus(1):this}toFormat(t,n={}){return this.isValid?kr.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,t):Vx}toLocaleString(t=Pg,n={}){return this.isValid?kr.create(this.loc.clone(n),t).formatDateTime(this):Vx}toLocaleParts(t={}){return this.isValid?kr.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=t==="extended";let a=Bx(this,o);return a+="T",a+=rR(this,o,n,r,i,s),a}toISODate({format:t="extended"}={}){return this.isValid?Bx(this,t==="extended"):null}toISOWeekDate(){return Qg(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+rR(this,o==="extended",n,t,r,s):null}toRFC2822(){return Qg(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Qg(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Bx(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||t)&&(r&&(i+=" "),n?i+="z":t&&(i+="ZZ")),Qg(this,i,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Vx}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const n={...this.c};return t.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,n="milliseconds",r={}){if(!this.isValid||!t.isValid)return dt.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=ZY(n).map(dt.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,c=Yq(a,l,s,i);return o?c.negate():c}diffNow(t="milliseconds",n={}){return this.diff(Ne.now(),t,n)}until(t){return this.isValid?_n.fromDateTimes(this,t):this}hasSame(t,n,r){if(!this.isValid)return!1;const i=t.valueOf(),s=this.setZone(t.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const n=t.base||Ne.fromObject({},{zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(i=t.unit,s=void 0),lR(n,this.plus(r),{...t,numeric:"always",units:i,unit:s})}toRelativeCalendar(t={}){return this.isValid?lR(t.base||Ne.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Ne.isDateTime))throw new _r("min requires all arguments be DateTimes");return xC(t,n=>n.valueOf(),Math.min)}static max(...t){if(!t.every(Ne.isDateTime))throw new _r("max requires all arguments be DateTimes");return xC(t,n=>n.valueOf(),Math.max)}static fromFormatExplain(t,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,o=It.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return QC(o,t,n)}static fromStringExplain(t,n,r={}){return Ne.fromFormatExplain(t,n,r)}static buildFormatParser(t,n={}){const{locale:r=null,numberingSystem:i=null}=n,s=It.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new JC(s,t)}static fromFormatParser(t,n,r={}){if(ze(t)||ze(n))throw new _r("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:s=null}=r,o=It.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!o.equals(n.locale))throw new _r(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:d}=n.explainFromTokens(t);return d?Ne.invalid(d):Xh(a,l,r,`format ${n.format}`,t,c)}static get DATE_SHORT(){return Pg}static get DATE_MED(){return Dk}static get DATE_MED_WITH_WEEKDAY(){return gY}static get DATE_FULL(){return Pk}static get DATE_HUGE(){return Fk}static get TIME_SIMPLE(){return Uk}static get TIME_WITH_SECONDS(){return Gk}static get TIME_WITH_SHORT_OFFSET(){return jk}static get TIME_WITH_LONG_OFFSET(){return zk}static get TIME_24_SIMPLE(){return $k}static get TIME_24_WITH_SECONDS(){return Vk}static get TIME_24_WITH_SHORT_OFFSET(){return Wk}static get TIME_24_WITH_LONG_OFFSET(){return Zk}static get DATETIME_SHORT(){return Bk}static get DATETIME_SHORT_WITH_SECONDS(){return Xk}static get DATETIME_MED(){return Hk}static get DATETIME_MED_WITH_SECONDS(){return Yk}static get DATETIME_MED_WITH_WEEKDAY(){return vY}static get DATETIME_FULL(){return qk}static get DATETIME_FULL_WITH_SECONDS(){return Jk}static get DATETIME_HUGE(){return Qk}static get DATETIME_HUGE_WITH_SECONDS(){return Kk}}function Rf(e){if(Ne.isDateTime(e))return e;if(e&&e.valueOf&&nl(e.valueOf()))return Ne.fromJSDate(e);if(e&&typeof e=="object")return Ne.fromObject(e);throw new _r(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const mJ="HH:mm",yJ="HH:mm:ss",gJ="HH:mm:ss.SSS",vJ=[gJ,yJ,mJ,"TT"],bJ="yyyy-MM-dd";function uR(e){if(!e||!Dh(e))return null;const t=Ne.fromFormat(e,bJ);return t.isValid?t:null}function hR(e){return e&&Dh(e)?pV(vJ,t=>{const n=Ne.fromFormat(e,t);return n.isValid?n:null})??null:null}function dR(e){if(!e||!Dh(e))return null;const t=Ne.fromISO(e);return t.isValid?t:null}var t1;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(t1||(t1={}));const pR=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function _J(e){return e!=null&&pR.has(e.type)}function fR(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function mR(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function yR(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}const wJ=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);eg(pR,wJ);function xJ(e,t){const n=e?.domain;if(!n||n.type!=="range")return;const r="range"in n?n.range[0]:n.minValue,i="range"in n?n.range[1]:n.maxValue,s=_J(e);return fR(e)||yR(e)||mR(e)?{...EJ(e,i,r),isInteger:s}:{min:r!=null&&typeof r=="number"?r:null,max:i!=null&&typeof i=="number"?i:null,rawMin:r,rawMax:i,isInteger:s}}function EJ(e,t,n){return fR(e)?{min:uR(n)?.toMillis(),max:uR(t)?.toMillis(),rawMin:n,rawMax:t}:yR(e)?{min:hR(n)?.toMillis(),max:hR(t)?.toMillis(),rawMin:n,rawMax:t}:mR(e)?{min:dR(n)?.toMillis(),max:dR(t)?.toMillis(),rawMin:n,rawMax:t}:{max:null,min:null}}function TJ(e){if(!e)return;const t=e.match(SJ);return t?.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}const SJ=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function IJ(e){return e.match(AJ)?.[1]?.replace(/\\'/g,"'")??null}const AJ=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let Ts=class{};function gR(e){return e instanceof el?e===Ts.instance:e?.toString().toLowerCase()==="unknown"}function MJ(e){return gR(e)?Ts.instance:e}Ts.instance=new hs("Etc/UTC");var n1;(function(e){e.TimeZoneNotRecognized="TimeZoneNotRecognized"})(n1||(n1={}));const OJ={[n1.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};let NJ=class Wj extends Error{constructor(t,n){super(My(OJ[t],n)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,Wj)}};function Hh(e,t,n){return e<t?e-t:e>n?e-n:0}function Yh(e,t,n){return e<t?t:e>n?n:e}let Lf=class Cn{constructor(t){this._date=t,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(t=0,n=1,r=1,i=0,s=0,o=0,a=0,l){if(isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s)||isNaN(o)||isNaN(a))return null;const c=Ne.local(t,n).daysInMonth;let d=Ne.fromObject({day:Yh(r,1,c),year:t,month:Yh(n,1,12),hour:Yh(i,0,23),minute:Yh(s,0,59),second:Yh(o,0,59),millisecond:Yh(a,0,999)},{zone:sl(l)});return d=d.plus({months:Hh(n,1,12),days:Hh(r,1,c),hours:Hh(i,0,23),minutes:Hh(s,0,59),seconds:Hh(o,0,59),milliseconds:Hh(a,0,999)}),new Cn(d)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(t,n){const r=sl(n);return t.isUnknownTimeZone||r===Ts.instance?Cn.fromParts(t.year,t.monthJS+1,t.day,t.hour,t.minute,t.second,t.millisecond,r):new Cn(t._date.setZone(r))}static dateJSToArcadeDate(t){return new Cn(Ne.fromJSDate(t,{zone:"system"}))}static dateJSAndZoneToArcadeDate(t,n="system"){const r=sl(n);return new Cn(Ne.fromJSDate(t,{zone:r}))}static unknownEpochToArcadeDate(t){return new Cn(Ne.fromMillis(t,{zone:Ts.instance}))}static unknownDateJSToArcadeDate(t){return new Cn(Ne.fromMillis(t.getTime(),{zone:Ts.instance}))}static epochToArcadeDate(t,n="system"){const r=sl(n);return new Cn(Ne.fromMillis(t,{zone:r}))}static dateTimeToArcadeDate(t){return new Cn(t)}clone(){return new Cn(this._date)}changeTimeZone(t){const n=sl(t);return Cn.dateTimeToArcadeDate(this._date.setZone(n))}static dateTimeAndZoneToArcadeDate(t,n){const r=sl(n);return t.zone===Ts.instance||r===Ts.instance?Cn.fromParts(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond,r):new Cn(t.setZone(r))}static nowToArcadeDate(t){const n=sl(t);return new Cn(Ne.fromJSDate(new Date,{zone:n}))}static nowUTCToArcadeDate(){return new Cn(Ne.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===Cn.systemTimeZoneCanonicalName}equals(t){return this.isSystem&&t.isSystem?this.toNumber()===t.toNumber():this.isUnknownTimeZone===t.isUnknownTimeZone&&this._date.equals(t._date)}get isUnknownTimeZone(){return this._date.zone===Ts.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let t=this._date.weekday;return t>6&&(t=0),t}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const t=this.zone;return t.type==="fixed"?t.fixed===0?"UTC":t.formatOffset(0,"short"):t.name}stringify(){return JSON.stringify(this.toJSDate())}plus(t){return new Cn(this._date.plus(t))}diff(t,n="milliseconds"){return this._date.diff(t._date,n)[n]}toISODate(){return this._date.toISODate()}toISOString(t){return t?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(t,n){return this._date.toISOTime({suppressMilliseconds:t,includeOffset:n&&!this.isUnknownTimeZone})}toFormat(t,n){return this.isUnknownTimeZone&&(t=t.replaceAll("Z","")),this._date.toFormat(t,n)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new Cn(this._date.toUTC())}toLocal(){return new Cn(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(t){if(!t)return null;const n=Ne.fromISO(t,{setZone:!0});return new Cn(n)}};function sl(e,t=!0){if(e instanceof el)return e;if(e.toLowerCase()==="system")return"system";if(e.toLowerCase()==="utc")return"UTC";if(e.toLowerCase()==="unknown")return Ts.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const r=pr.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(r)return r}const n=hs.create(e);if(!n.isValid){if(t)throw new NJ(n1.TimeZoneNotRecognized);return null}return n}const kJ=()=>kt.getLogger("esri.support.arcadeOnDemand"),CJ=["geometry","scale","timeProperties"];function RJ(e,t){if(t!=null)for(const n of CJ)t.hasArcadeDependency(n)&&e.add(n);return e}let Xx;function Hx(){return Xx||(Xx=(async()=>{const e=await import("./arcadeUtils-DcEkxpSJ.js");return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel}})()),Xx}const LJ=(e,t,n)=>vR.create(e,t,n,null,["$feature","$view"],[]),DJ=(e,t,n,r)=>vR.create(e,t,n,r,["$feature","$view"],[]);let vR=class Zj{constructor(t,n,r,i,s,o,a){this._dependencies=new Map,this.services=null,this.script=t,this.evaluate=i;const l=Array.isArray(o)?o:o?.fields;this.fields=l??[],this._syntaxTree=r,this._arcade=n,this._arcadeFeature=s,this._spatialReference=a,this._dependencies.set("geometry",n.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}static async create(t,n,r,i,s,o){const{arcade:a,Feature:l,Dictionary:c}=await Hx(),d=n instanceof Ln?n:Ln.fromJSON(n);let p;try{p=a.parseScript(t,o)}catch(C){return kJ().error(new ct("arcade-bad-expression","Failed to parse arcade script",{script:t,error:C})),null}const f=s.reduce((C,R)=>({...C,[R]:null}),{});let y=null;i!=null&&(y=new c(i),y.immutable=!0,f.$config=null);const g=a.scriptUsesGeometryEngine(p),b=g&&a.enableGeometrySupport(),E=a.scriptUsesFeatureSet(p)&&a.enableFeatureSetSupport(),S=a.scriptIsAsync(p),I=S&&a.enableAsyncSupport(),w={vars:f,spatialReference:d,useAsync:!!I};await Promise.all([b,E,I]);const _=new Set;await a.loadDependentModules(_,p,null,S,g);const A=new c;A.immutable=!1,A.setField("scale",0);const M=a.compileScript(p,w),k=(C,R)=>{const U=C.$view?.timeZone;if("$view"in C&&C.$view){let B;if(A.setField("scale",typeof C.$view=="object"&&"scale"in C.$view?C.$view.scale:void 0),typeof C.$view=="object"&&"timeProperties"in C.$view&&C.$view.timeProperties!=null){const{currentStart:G,currentEnd:z}=C.$view.timeProperties;B=new c({currentStart:G!=null?U!=null?Lf.epochToArcadeDate(G,U):Lf.unknownEpochToArcadeDate(G):void 0,currentEnd:z!=null?U!=null?Lf.epochToArcadeDate(z,U):Lf.unknownEpochToArcadeDate(z):void 0,startIncluded:!0,endIncluded:!0})}A.setField("timeProperties",B),C.$view=A}return y&&(C.$config=y),M({vars:C,spatialReference:d,services:R,timeZone:U})};return new Zj(t,a,p,k,new l,r,d)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}references(t){return this._dependencies.get(t)??!1}};const PJ=/^([0-9_])/,FJ=/[^a-z0-9_\u0080-\uffff]+/gi;function UJ(e){return e==null?null:e.trim().replaceAll(FJ,"_").replace(PJ,"F$1")||null}const GJ=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],jJ=["field","normalizationField"];function zJ(e,t){if(e!=null&&t!=null){for(const n of Array.isArray(e)?e:[e])if(bR(GJ,n,t),"visualVariables"in n&&n.visualVariables)for(const r of n.visualVariables)bR(jJ,r,t)}}function bR(e,t,n){if(e)for(const r of e){const i=Ay(r,t),s=i&&typeof i!="function"&&n.get(i);s&&mc(r,s.name,t)}}function $J(e,t){if(e!=null&&t?.fields?.length)if("startField"in e){const n=t.get(e.startField),r=t.get(e.endField);e.startField=n?.name??null,e.endField=r?.name??null}else{const n=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=n?.name??null,e.endTimeField=r?.name??null}}const Yx=new Set;function r1(e,t){return e&&t?(Yx.clear(),qh(Yx,e,t),Array.from(Yx).sort()):[]}function qh(e,t,n){if(n)if(t?.fields?.length)if(n.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const r of n)Df(e,t,r);else{if(n.includes("*"))return e.clear(),void e.add("*");for(const r of n)r!=null&&e.add(r)}}function Df(e,t,n){if(typeof n=="string")if(t){const r=t.get(n);r&&e.add(r.name)}else e.add(n)}function VJ(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(n=>n.name):t}function WJ(e,t,n=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const r=r1(e,t);return r.length/e.fields.length>=n?["*"]:r}async function ol(e,t,n){if(!n)return;let r;const i=TJ(n);if(i)r=[i];else{const{arcadeUtils:s}=await Hx();r=s.extractFieldNames(n,t?.fields?.map(o=>o.name))}for(const s of r)Df(e,t,s)}async function qx(e,t,n){if(n&&n!=="1=1"){const r=await Ck(n,t);if(!r.isStandardized)throw new ct("fieldUtils:collectFilterFields","Where clause is not standardized",{where:n});qh(e,t,r.fieldNames)}}function ZJ({displayField:e,fields:t}){return e||(t?.length?Jx(t,"name-or-title")||Jx(t,"unique-identifier")||Jx(t,"type-or-category")||BJ(t):null)}function BJ(e){for(const t of e){if(!t?.name)continue;const n=t.name.toLowerCase();if(n.includes("name")||n.includes("title"))return t.name}return null}function Jx(e,t){for(const n of e)if(n?.valueType&&n.valueType===t)return n.name;return null}async function XJ(e,t){if(!t)return;const n=t.elevationInfo?.featureExpressionInfo;return n?n.collectRequiredFields(e,t.fieldsIndex):void 0}function HJ(e,t,n){n.onStatisticExpression?ol(e,t,n.onStatisticExpression.expression):e.add(n.onStatisticField)}async function YJ(e,t,n){if(!t||!n||!("fields"in n))return;const r=[],i=n.popupTemplate;r.push(_R(e,t,i)),n.fields&&r.push(...n.fields.map(async s=>HJ(e,t.fieldsIndex,s))),await Promise.all(r)}async function qJ(e,t){const{fieldsIndex:n,trackInfo:r}=t;if(!t||!r||!n)return;const i=[r.latestObservations.renderer?.collectRequiredFields(e,n),r.previousObservations.renderer?.collectRequiredFields(e,n),r.trackLines.renderer?.collectRequiredFields(e,n)];r.popupTemplate&&i.push(_R(e,t,r.popupTemplate));for(const s of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(s)for(const o of s)i.push(ER(e,n,o));await Promise.all(i)}async function _R(e,t,n){const r=[];n?.expressionInfos&&r.push(...n.expressionInfos.map(s=>ol(e,t.fieldsIndex,s.expression)));const i=n?.content;if(Array.isArray(i))for(const s of i)s.type==="expression"&&s.expressionInfo&&r.push(ol(e,t.fieldsIndex,s.expressionInfo.expression));await Promise.all(r)}async function JJ(e,t,n){t&&(t.timeInfo&&n?.timeExtent&&qh(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&qh(e,t.fieldsIndex,[t.floorInfo.floorField]),n?.where!=null&&await qx(e,t.fieldsIndex,n.where))}async function QJ(e,t,n){t&&n&&await Promise.all(n.map(r=>KJ(e,t,r)))}async function KJ(e,t,n){t&&n&&(n.valueExpression?await ol(e,t.fieldsIndex,n.valueExpression):n.field&&Df(e,t.fieldsIndex,n.field))}function eQ(e){return e?r1(e.fieldsIndex,wR(e)):[]}function tQ(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?r1(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function nQ(e,t,n){if(!t||!n)return;const r=t.fieldsIndex;await Promise.all(n.filters.map(i=>qx(e,r,i.where)))}const rQ=new Set(["oid","global-id","guid"]),iQ=new Set(["oid","global-id"]),sQ=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function oQ(e){const t=new Set;xR(e).forEach(r=>t.add(r)),tQ(e).forEach(r=>t.add(r.toLowerCase()));const n=e&&"infoFor3D"in e?e.infoFor3D:void 0;return n&&(Object.values(n.assetMapFieldRoles).forEach(r=>t.add(r.toLowerCase())),Object.values(n.transformFieldRoles).forEach(r=>t.add(r.toLowerCase()))),Array.from(t)}function wR(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:n,creatorField:r,editDateField:i,editorField:s}=t;return[n,r,i,s].filter(Boolean)}function xR(e){return wR(e).map(t=>t.toLowerCase())}function aQ(e,t){return e.editable&&!rQ.has(e.type)&&!xR(t).includes(e.name?.toLowerCase()??"")}function lQ(e,t){const n=e.name?.toLowerCase()??"";return!(t?.objectIdField!=null&&n===t.objectIdField.toLowerCase()||t?.globalIdField!=null&&n===t.globalIdField.toLowerCase()||oQ(t).includes(n)||iQ.has(e.type)||sQ.some(r=>r.test(n)))}async function cQ(e,t){const{labelingInfo:n,fieldsIndex:r}=t;n?.length&&await Promise.all(n.map(i=>ER(e,r,i)))}async function ER(e,t,n){if(!n)return;const r=n.getLabelExpression(),i=n.where;if(r.type==="arcade")await ol(e,t,r.expression);else{const s=r.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{Df(e,t,o.slice(1,-1))})}await qx(e,t,i)}function uQ(e){const t=e.defaultValue;return t!==void 0&&SR(e,t)?t:e.nullable?null:void 0}function hQ(e){const t=typeof e=="string"?{type:e}:e;return MR(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function TR(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function dQ(e){return e===null||TR(e)}function pQ(e){return e===null||Number.isInteger(e)}function fQ(){return!0}function SR(e,t){let n;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":n=e.nullable?pQ:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=e.nullable?dQ:TR;break;case"string":case"esriFieldTypeString":n=e.nullable?Rk:Dh;break;default:n=fQ}return arguments.length===1?n:n(t)}const mQ=["integer","small-integer","big-integer"],yQ=["single","double"],gQ=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],vQ=["esriFieldTypeSingle","esriFieldTypeDouble"],IR=new Set([...mQ,...gQ]),bQ=new Set([...yQ,...vQ]),_Q=eg(IR,bQ);function wQ(e){return e!=null&&IR.has(e.type)}function AR(e){return e!=null&&_Q.has(e.type)}function MR(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function xQ(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function EQ(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function TQ(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function SQ(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function IQ(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function AQ(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function MQ(e,t){return OR(e,t)===null}var i1,s1;function OQ(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function OR(e,t){return e==null||e.nullable&&t===null?null:SR(e,t)?AR(e)&&!NQ(e.type,Number(t))?i1.OUT_OF_RANGE:null:s1.INVALID_TYPE}function NQ(e,t){const n=typeof e=="string"?NR(e):e;if(!n)return!1;const r=n.min,i=n.max;return n.isInteger?Number.isInteger(t)&&t>=r&&t<=i:t>=r&&t<=i}function NR(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return kQ;case"esriFieldTypeInteger":case"integer":return CQ;case"esriFieldTypeBigInteger":case"big-integer":return RQ;case"esriFieldTypeSingle":case"single":return LQ;case"esriFieldTypeDouble":case"double":return DQ}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(i1||(i1={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(s1||(s1={}));const kQ={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},CQ={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},RQ={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},LQ={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},DQ={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function PQ(e,t,n){switch(e){case t1.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case t1.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case s1.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case i1.OUT_OF_RANGE:{const{min:r,max:i}=NR(t.type);return`Value ${n} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${r} to ${i}`}}}function FQ(e,t){return!UQ(e,t,null)}function UQ(e,t,n){if(!t?.attributes||!e)return!0;const r=new Set(Object.keys(t.attributes));let i=!1;for(const s of e)if(!r.has(s)&&(i=!0,n==null))break;return i}function GQ(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}async function jQ(e,t){const n=new Set;return e?.collectRequiredFields&&await e.collectRequiredFields(n,t),Array.from(n).sort()}function kR(e){const t=e?.match(/{[^}]+}/g);return t?t.map(n=>n.slice(1,-1).split(":")[0].trim()):[]}let o1=class extends He{constructor(e){super(e),this.type=null}};v([T({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],o1.prototype,"type",void 0),o1=v([te("esri.popup.content.Content")],o1);const Yo=o1,a1=new ps({asc:"ascending",desc:"descending"});let Pf=class extends bs.ClonableMixin(He){constructor(e){super(e),this.field=null,this.order="ascending"}};v([T({type:String,json:{write:!0}})],Pf.prototype,"field",void 0),v([T({type:a1.apiValues,json:{type:a1.jsonValues,read:a1.read,write:a1.write}})],Pf.prototype,"order",void 0),Pf=v([te("esri.popup.support.AttachmentsOrderByInfo")],Pf);const CR=Pf;let al=class extends bs.ClonableMixin(Yo){constructor(e){super(e),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};v([T({type:String,json:{write:!0}})],al.prototype,"description",void 0),v([T({type:["auto","preview","list"],json:{write:!0}})],al.prototype,"displayType",void 0),v([T({type:[CR],json:{write:!0}})],al.prototype,"orderByFields",void 0),v([T({type:String,json:{write:!0}})],al.prototype,"title",void 0),v([T({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],al.prototype,"type",void 0),al=v([te("esri.popup.content.AttachmentsContent")],al);const Jh=al;var Qx;let Gc=Qx=class extends Yo{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new Qx({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ye(this.outFields):null})}};v([T()],Gc.prototype,"creator",void 0),v([T()],Gc.prototype,"destroyer",void 0),v([T()],Gc.prototype,"outFields",void 0),v([T({type:["custom"],readOnly:!0})],Gc.prototype,"type",void 0),Gc=Qx=v([te("esri.popup.content.CustomContent")],Gc);const zQ=Gc;var Kx;let Qh=Kx=class extends He{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new Kx({title:this.title,expression:this.expression})}};v([T({type:String,json:{write:!0}})],Qh.prototype,"title",void 0),v([T({type:String,json:{write:!0}})],Qh.prototype,"expression",void 0),v([T({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Qh.prototype,"returnType",void 0),Qh=Kx=v([te("esri.popup.ElementExpressionInfo")],Qh);const RR=Qh;var eE;let Ff=eE=class extends Yo{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new eE({expressionInfo:this.expressionInfo?.clone()})}};v([T({type:RR,json:{write:!0}})],Ff.prototype,"expressionInfo",void 0),v([T({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Ff.prototype,"type",void 0),Ff=eE=v([te("esri.popup.content.ExpressionContent")],Ff);const l1=Ff;function rt(e,t={}){const n=e instanceof ps?e:new ps(e,t),{alwaysWriteDefaults:r,default:i,ignoreUnknown:s=!0,name:o,nonNullable:a,readOnly:l=!1}=t;return T({type:s?n.apiValues:String,json:{type:n.jsonValues,default:i,name:o,read:!l&&{reader:n.read},write:{writer:n.write,alwaysWriteDefaults:r}},nonNullable:a,readOnly:l})}let Uf;const $Q=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,tE=globalThis.document?.documentElement;function LR(){const e=tE?.getAttribute("lang"),t=globalThis.navigator?.language;return $Q??e??t??"en"}function jc(){return Uf===void 0&&(Uf=LR()),Uf}function VQ(e=jc()){return/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e)?.[1].toLowerCase()}const c1=[];function WQ(e){return c1.push(e),pn(()=>c1.splice(c1.indexOf(e),1))}const u1=[];function DR(e){return u1.push(e),pn(()=>u1.splice(u1.indexOf(e),1))}function PR(){const e=LR();Uf!==e&&([...u1].forEach(t=>t(e)),Uf=e,[...c1].forEach(t=>t(e)))}globalThis.addEventListener?.("languagechange",PR),tE&&new MutationObserver(()=>{PR()}).observe(tE,{attributeFilter:["lang"]});const nE="system",FR="unknown",h1="UTC",ZQ=Intl.DateTimeFormat().resolvedOptions().timeZone,BQ={year:void 0,month:void 0,day:void 0,weekday:void 0},XQ={hour:void 0,minute:void 0,second:void 0},UR={timeZone:h1},ro={year:"numeric",month:"numeric",day:"numeric"},Gf={year:"numeric",month:"long",day:"numeric"},jf={year:"numeric",month:"short",day:"numeric"},zf={year:"numeric",month:"long",weekday:"long",day:"numeric"},ll={hour:"numeric",minute:"numeric"},zc={...ll,second:"numeric"},GR={hourCycle:"h23"},$f={...ll,...GR},Vf={...zc,...GR},jR={"short-date":ro,"short-date-short-time":{...ro,...ll},"short-date-short-time-24":{...ro,...$f},"short-date-long-time":{...ro,...zc},"short-date-long-time-24":{...ro,...Vf},"short-date-le":ro,"short-date-le-short-time":{...ro,...ll},"short-date-le-short-time-24":{...ro,...$f},"short-date-le-long-time":{...ro,...zc},"short-date-le-long-time-24":{...ro,...Vf},"long-month-day-year":Gf,"long-month-day-year-short-time":{...Gf,...ll},"long-month-day-year-short-time-24":{...Gf,...$f},"long-month-day-year-long-time":{...Gf,...zc},"long-month-day-year-long-time-24":{...Gf,...Vf},"day-short-month-year":jf,"day-short-month-year-short-time":{...jf,...ll},"day-short-month-year-short-time-24":{...jf,...$f},"day-short-month-year-long-time":{...jf,...zc},"day-short-month-year-long-time-24":{...jf,...Vf},"long-date":zf,"long-date-short-time":{...zf,...ll},"long-date-short-time-24":{...zf,...$f},"long-date-long-time":{...zf,...zc},"long-date-long-time-24":{...zf,...Vf},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":ll,"long-time":zc},HQ=Li()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),zR={ar:"ar-u-nu-latn-ca-gregory"};let rE=new WeakMap;const d1=jR["short-date-short-time"];function YQ(e){let t=rE.get(e);if(!t){const n=jc(),r=zR[n]||n,i=$R(e.timeZone??nE),s={...e,timeZone:i};t=new Intl.DateTimeFormat(r,s),rE.set(e,t)}return t}function qQ(e){return jR[e]}function p1(e,t=d1){return YQ(t).format(e)}function JQ(e,t=d1){return p1(new Date(e),{...t,...UR,...XQ})}function QQ(e,t=d1){return p1(new Date(`1970-01-01T${e}Z`),{...t,...UR,...BQ})}function KQ(e,t=d1){if(t.timeZone)return p1(new Date(e),t);const n=Ne.fromISO(e,{setZone:!0}),r=jc(),i=zR[r]??r,s=n.offset===0?h1:t.timeZone,o={...t,timeZone:s};return n.toLocaleString(o,{locale:i})}function $R(e){switch(e){case nE:return ZQ;case FR:return h1;default:return e}}DR(()=>{rE=new WeakMap});let Kh=class extends bs.ClonableMixin(He){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};v([rt(HQ)],Kh.prototype,"dateFormat",void 0),v([T({type:Boolean,json:{write:!0}})],Kh.prototype,"digitSeparator",void 0),v([T({type:wn,json:{write:!0}})],Kh.prototype,"places",void 0),Kh=v([te("esri.popup.support.FieldInfoFormat")],Kh);const VR=Kh;var iE;let Ss=iE=class extends He{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new iE({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};v([T({type:String,json:{write:!0}})],Ss.prototype,"fieldName",void 0),v([T({type:VR,json:{write:!0}})],Ss.prototype,"format",void 0),v([T({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],Ss.prototype,"isEditable",void 0),v([T({type:String,json:{write:!0}})],Ss.prototype,"label",void 0),v([rt(new ps({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Ss.prototype,"stringFieldOption",void 0),v([T({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Ss.prototype,"statisticType",void 0),v([T({type:String,json:{write:!0}})],Ss.prototype,"tooltip",void 0),v([T({type:Boolean,json:{write:!0}})],Ss.prototype,"visible",void 0),Ss=iE=v([te("esri.popup.FieldInfo")],Ss);const sE=Ss;var oE;let qo=oE=class extends Yo{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(n=>n.toJSON())}clone(){return new oE(ye({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};v([T({type:Object,json:{write:!0}})],qo.prototype,"attributes",void 0),v([T({type:String,json:{write:!0}})],qo.prototype,"description",void 0),v([T({type:[sE]})],qo.prototype,"fieldInfos",void 0),v([jt("fieldInfos")],qo.prototype,"writeFieldInfos",null),v([T({type:String,json:{write:!0}})],qo.prototype,"title",void 0),v([T({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],qo.prototype,"type",void 0),qo=oE=v([te("esri.popup.content.FieldsContent")],qo);const ed=qo;let $c=class extends He{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};v([T({type:String,json:{write:!0}})],$c.prototype,"altText",void 0),v([T({type:String,json:{write:!0}})],$c.prototype,"caption",void 0),v([T({type:String,json:{write:!0}})],$c.prototype,"title",void 0),v([T({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],$c.prototype,"type",void 0),$c=v([te("esri.popup.content.mixins.MediaInfo")],$c);const aE=$c;var lE;let Vc=lE=class extends Rn{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new lE({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};v([T()],Vc.prototype,"color",void 0),v([T()],Vc.prototype,"fieldName",void 0),v([T()],Vc.prototype,"tooltip",void 0),v([T()],Vc.prototype,"value",void 0),Vc=lE=v([te("esri.popup.content.support.ChartMediaInfoValueSeries")],Vc);const WR=Vc;var cE;let cl=cE=class extends He{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new cE({colors:ye(this.colors),fields:ye(this.fields),normalizeField:this.normalizeField,series:ye(this.series),tooltipField:this.tooltipField})}};v([T({type:[lt],json:{type:[[wn]],write:!0}})],cl.prototype,"colors",void 0),v([T({type:[String],json:{write:{isRequired:!0}}})],cl.prototype,"fields",void 0),v([T({type:String,json:{write:!0}})],cl.prototype,"normalizeField",void 0),v([T({type:[WR],json:{read:!1}})],cl.prototype,"series",void 0),v([T({type:String,json:{write:!0}})],cl.prototype,"tooltipField",void 0),cl=cE=v([te("esri.popup.content.support.ChartMediaInfoValue")],cl);const eK=cl;let Wf=class extends aE{constructor(e){super(e),this.type=null,this.value=void 0}};v([T({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Wf.prototype,"type",void 0),v([T({type:eK,json:{write:{isRequired:!0}}})],Wf.prototype,"value",void 0),Wf=v([te("esri.popup.content.mixins.ChartMediaInfo")],Wf);const f1=Wf,m1=Li()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var uE;let y1=uE=class extends f1{constructor(e){super(e),this.type="bar-chart"}clone(){return new uE({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([T({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:m1.write,isRequired:!0}}})],y1.prototype,"type",void 0),y1=uE=v([te("esri.popup.content.BarChartMediaInfo")],y1);const ZR=y1;var hE;let g1=hE=class extends f1{constructor(e){super(e),this.type="column-chart"}clone(){return new hE({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([T({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:m1.write,isRequired:!0}}})],g1.prototype,"type",void 0),g1=hE=v([te("esri.popup.content.ColumnChartMediaInfo")],g1);const BR=g1;var dE;let Zf=dE=class extends He{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new dE({linkURL:this.linkURL,sourceURL:this.sourceURL})}};v([T({type:String,json:{write:!0}})],Zf.prototype,"linkURL",void 0),v([T({type:String,json:{write:{isRequired:!0}}})],Zf.prototype,"sourceURL",void 0),Zf=dE=v([te("esri.popup.content.support.ImageMediaInfoValue")],Zf);const tK=Zf;var pE;let td=pE=class extends aE{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new pE({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};v([T({type:Number,json:{write:!0}})],td.prototype,"refreshInterval",void 0),v([T({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],td.prototype,"type",void 0),v([T({type:tK,json:{write:{isRequired:!0}}})],td.prototype,"value",void 0),td=pE=v([te("esri.popup.content.ImageMediaInfo")],td);const XR=td;var fE;let v1=fE=class extends f1{constructor(e){super(e),this.type="line-chart"}clone(){return new fE({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([T({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:m1.write,isRequired:!0}}})],v1.prototype,"type",void 0),v1=fE=v([te("esri.popup.content.LineChartMediaInfo")],v1);const HR=v1;var mE;let b1=mE=class extends f1{constructor(e){super(e),this.type="pie-chart"}clone(){return new mE({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([T({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:m1.write,isRequired:!0}}})],b1.prototype,"type",void 0),b1=mE=v([te("esri.popup.content.PieChartMediaInfo")],b1);const YR=b1,yE={base:aE,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":ZR,"column-chart":BR,"line-chart":HR,"pie-chart":YR,image:XR}};var gE;let Is=gE=class extends Yo{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?XR.fromJSON(t):t.type==="barchart"?ZR.fromJSON(t):t.type==="columnchart"?BR.fromJSON(t):t.type==="linechart"?HR.fromJSON(t):t.type==="piechart"?YR.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(n=>n.toJSON())}clone(){return new gE(ye({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};v([T()],Is.prototype,"activeMediaInfoIndex",void 0),v([T({type:Object,json:{write:!0}})],Is.prototype,"attributes",void 0),v([T({type:String,json:{write:!0}})],Is.prototype,"description",void 0),v([T({types:[yE]})],Is.prototype,"mediaInfos",void 0),v([$n("mediaInfos")],Is.prototype,"readMediaInfos",null),v([jt("mediaInfos")],Is.prototype,"writeMediaInfos",null),v([T({type:String,json:{write:!0}})],Is.prototype,"title",void 0),v([T({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Is.prototype,"type",void 0),Is=gE=v([te("esri.popup.content.MediaContent")],Is);const nd=Is;var vE;let Bf=vE=class extends He{constructor(e){super(e),this.field=null,this.order=null}clone(){return new vE({field:this.field,order:this.order})}};v([T({type:String,json:{write:!0}})],Bf.prototype,"field",void 0),v([T({type:["asc","desc"],json:{write:!0}})],Bf.prototype,"order",void 0),Bf=vE=v([te("esri.popup.support.RelatedRecordsInfoFieldOrder")],Bf);const bE=Bf;let io=class extends bs.ClonableMixin(Yo){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};v([T({type:String,json:{write:!0}})],io.prototype,"description",void 0),v([T({type:Number,json:{type:wn,write:!0}})],io.prototype,"displayCount",void 0),v([T({type:["list"],json:{write:{isRequired:!0}}})],io.prototype,"displayType",void 0),v([T({type:[bE],json:{write:!0}})],io.prototype,"orderByFields",void 0),v([T({type:Number,json:{type:wn,write:{isRequired:!0}}})],io.prototype,"relationshipId",void 0),v([T({type:String,json:{write:!0}})],io.prototype,"title",void 0),v([T({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],io.prototype,"type",void 0),io=v([te("esri.popup.content.RelationshipContent")],io);const Xf=io;var _E;let Hf=_E=class extends Yo{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new _E({text:this.text})}};v([T({type:String,json:{write:!0}})],Hf.prototype,"text",void 0),v([T({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Hf.prototype,"type",void 0),Hf=_E=v([te("esri.popup.content.TextContent")],Hf);const rd=Hf;let Jo=class extends bs.ClonableMixin(He){constructor(e){super(e),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};v([T({type:String,json:{write:!0}})],Jo.prototype,"title",void 0),v([T({type:String,json:{write:!0}})],Jo.prototype,"description",void 0),v([T({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Jo.prototype,"type",void 0),v([T({type:Number,json:{type:wn,write:!0}})],Jo.prototype,"associatedNetworkSourceId",void 0),v([T({type:Number,json:{type:wn,write:!0}})],Jo.prototype,"associatedAssetGroup",void 0),v([T({type:Number,json:{type:wn,write:!0}})],Jo.prototype,"associatedAssetType",void 0),Jo=v([te("esri.popup.support.UtilityNetworkAssociationType")],Jo);const qR=Jo;let ul=class extends bs.ClonableMixin(Yo){constructor(e){super(e),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};v([T({type:String,json:{write:!0}})],ul.prototype,"description",void 0),v([T({type:Number,json:{type:wn,write:!0}})],ul.prototype,"displayCount",void 0),v([T({type:String,json:{write:!0}})],ul.prototype,"title",void 0),v([T({type:[qR],json:{write:!0}})],ul.prototype,"associationTypes",void 0),v([rt({utilityNetworkAssociations:"utility-network-associations"})],ul.prototype,"type",void 0),ul=v([te("esri.popup.content.UtilityNetworkAssociationsContent")],ul);const wE=ul,nK={base:null,key:"type",typeMap:{attachment:Jh,media:nd,text:rd,expression:l1,field:ed,relationship:Xf,utilityNetworkAssociations:wE}},rK={base:null,key:"type",typeMap:{attachment:Jh,media:nd,text:rd,expression:l1,field:ed,relationship:Xf}};var xE;let Wc=xE=class extends He{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new xE({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};v([T({type:String,json:{write:!0}})],Wc.prototype,"name",void 0),v([T({type:String,json:{write:!0}})],Wc.prototype,"title",void 0),v([T({type:String,json:{write:!0}})],Wc.prototype,"expression",void 0),v([T({type:["string","number"],json:{write:!0}})],Wc.prototype,"returnType",void 0),Wc=xE=v([te("esri.popup.ExpressionInfo")],Wc);const JR=Wc;var EE;let Yf=EE=class extends He{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new EE({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};v([T({type:Boolean,json:{write:!0}})],Yf.prototype,"returnTopmostRaster",void 0),v([T({type:Boolean,json:{write:!0}})],Yf.prototype,"showNoDataRecords",void 0),Yf=EE=v([te("esri.popup.LayerOptions")],Yf);const iK=Yf;var TE;let qf=TE=class extends He{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new TE({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ye(this.orderByFields):null})}};v([T({type:Boolean,json:{write:!0}})],qf.prototype,"showRelatedRecords",void 0),v([T({type:[bE],json:{write:!0}})],qf.prototype,"orderByFields",void 0),qf=TE=v([te("esri.popup.RelatedRecordsInfo")],qf);const QR=qf;let KR=0;const e5=e=>{let t=class extends e{constructor(...n){super(...n),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+KR++})}};return t=v([te("esri.core.Identifiable")],t),t},sK=e=>{let t=class extends e{constructor(...n){super(...n),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:KR++})}};return t=v([te("esri.core.Identifiable.NumericIdentifiable")],t),t};let Jf=class extends e5(class{}){};Jf=v([te("esri.core.Identifiable")],Jf),function(e){e.IdentifiableMixin=e5,e.NumericIdentifiableMixin=sK}(Jf||(Jf={}));const t5=Jf;var SE;let Vi=SE=class extends t5.IdentifiableMixin(Rn){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new SE({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};v([T()],Vi.prototype,"active",void 0),v([T()],Vi.prototype,"className",void 0),v([T()],Vi.prototype,"disabled",void 0),v([T()],Vi.prototype,"icon",void 0),v([T()],Vi.prototype,"id",void 0),v([T()],Vi.prototype,"indicator",void 0),v([T()],Vi.prototype,"title",void 0),v([T()],Vi.prototype,"type",void 0),v([T()],Vi.prototype,"visible",void 0),Vi=SE=v([te("esri.support.actions.ActionBase")],Vi);const _1=Vi;var IE;let w1=IE=class extends _1{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new IE({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};v([T()],w1.prototype,"image",void 0),w1=IE=v([te("esri.support.actions.ActionButton")],w1);const n5=w1;var AE;let Qf=AE=class extends _1{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new AE({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};v([T()],Qf.prototype,"image",void 0),v([T()],Qf.prototype,"value",void 0),Qf=AE=v([te("esri.support.actions.ActionToggle")],Qf);const r5=Qf,Kf="relationships/",i5="expression/",oK=ht.ofType({key:"type",defaultKeyValue:"button",base:_1,typeMap:{button:n5,toggle:r5}}),aK={base:Yo,key:"type",typeMap:{media:nd,custom:zQ,text:rd,attachments:Jh,fields:ed,expression:l1,relationship:Xf,utilityNetworkAssociations:wE}},s5=new Set(["attachments","fields","media","text","expression","relationship"]),lK=new Set([...s5,"utility-network-associations"]);let Pn=class extends bs.ClonableMixin(He){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map(t=>yc(aK,t)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||z2(e)?e:(kt.getLogger(this).error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:n}=t;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(t.description,t.mediaInfos,n):this._readPopupInfo(t)}writeWebSceneContent(e,t,n,r){this._writePopupTemplateContent(e,t,r)}writeWebMapContent(e,t,n,r){this._writePopupTemplateContent(e,t,r)}writeFieldInfos(e,t,n,r){const{content:i}=this,s=Array.isArray(i)?i:null;if(e){const o=s?s.filter(l=>l.type==="fields"):[],a=o.length&&o.every(l=>l.fieldInfos?.length);t.fieldInfos=e.filter(Boolean).map(l=>{const c=l.toJSON(r);return a&&(c.visible=!1),c})}if(s)for(const o of s)o.type==="fields"&&this._writeFieldsContent(o,t)}writeLayerOptions(e,t,n,r){t[n]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(r)}writeTitle(e,t){t.title=e||""}async collectRequiredFields(e,t){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,[...n,...this._getContentExpressionInfos(this.content,n)]),qh(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writePopupTemplateContent(e,t,n){typeof e!="string"?Array.isArray(e)&&(t.popupElements=e.filter(r=>n?.origin==="web-scene"?s5.has(r.type):lK.has(r.type)).map(r=>r?.toJSON(n)),t.popupElements.forEach(r=>{r.type==="attachments"?this._writeAttachmentContent(t):r.type==="media"?this._writeMediaContent(r,t):r.type==="text"?this._writeTextContent(r,t):r.type==="relationship"&&this._writeRelationshipContent(r,t)})):t.description=e}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const n=ye(e.fieldInfos);Array.isArray(t.fieldInfos)?n.forEach(r=>{const i=t.fieldInfos.find(s=>s.fieldName?.toLowerCase()===r.fieldName?.toLowerCase());i?i.visible=!0:t.fieldInfos.push(r)}):t.fieldInfos=n}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,t){const n=e.orderByFields?.map(i=>this._toFieldOrderJSON(i,e.relationshipId))||[],r=[...t.relatedRecordsInfo?.orderByFields||[],...n];t.relatedRecordsInfo={showRelatedRecords:!0,...r?.length&&{orderByFields:r}}}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const n=ye(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...n]:t.mediaInfos=n}_readPopupInfoElements(e,t,n){const r={description:!1,mediaInfos:!1};return n.map(i=>i.type==="media"?(i.mediaInfos||!t||r.mediaInfos||(i.mediaInfos=t,r.mediaInfos=!0),nd.fromJSON(i)):i.type==="text"?(i.text||!e||r.description||(i.text=e,r.description=!0),rd.fromJSON(i)):i.type==="attachments"?Jh.fromJSON(i):i.type==="fields"?ed.fromJSON(i):i.type==="expression"?l1.fromJSON(i):i.type==="relationship"?Xf.fromJSON(i):i.type==="utilityNetworkAssociations"?wE.fromJSON(i):void 0).filter(Boolean)}_toRelationshipContent(e){const{field:t,order:n}=e;if(!t?.startsWith(Kf))return null;const r=t.replace(Kf,"").split("/");if(r.length!==2)return null;const i=parseInt(r[0],10),s=r[1];return!Number.isNaN(i)&&s?Xf.fromJSON({relationshipId:i,orderByFields:[{field:s,order:n}]}):null}_toFieldOrderJSON(e,t){const{order:n,field:r}=e;return{field:`${Kf}${t}/${r}`,order:n}}_readPopupInfo({description:e,mediaInfos:t,showAttachments:n,relatedRecordsInfo:r={showRelatedRecords:!1}}){const i=[];e?i.push(new rd({text:e})):i.push(new ed),Array.isArray(t)&&t.length&&i.push(nd.fromJSON({mediaInfos:t})),n&&i.push(Jh.fromJSON({displayType:"auto"}));const{showRelatedRecords:s,orderByFields:o}=r;return s&&o?.length&&o.forEach(a=>{const l=this._toRelationshipContent(a);l&&i.push(l)}),i.length?i:e}_getContentElementFields(e){const t=e?.type;if(t==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(t==="custom")return e.outFields||[];if(t==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if(t==="media"){const n=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...n.reduce((r,i)=>[...r,...this._getMediaInfoFields(i)],[])]}return t==="text"?this._extractFieldNames(e.text):t==="relationship"||t==="utility-network-associations"?[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)]:[]}_getMediaInfoFields(e){const{caption:t,title:n,value:r}=e,i=r||{},{fields:s,normalizeField:o,tooltipField:a,sourceURL:l,linkURL:c}=i,d=[...this._extractFieldNames(n),...this._extractFieldNames(t),...this._extractFieldNames(l),...this._extractFieldNames(c),...s??[]];return o&&d.push(o),a&&d.push(a),d}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce((n,r)=>[...n,...r.type==="expression"&&r.expressionInfo?[r.expressionInfo]:[]],t):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((t,n)=>[...t,...this._getContentElementFields(n)],[]):[]}async _collectExpressionInfoFields(e,t,n){n&&await Promise.all(n.map(r=>ol(e,t,r.expression)))}_getFieldInfoFields(e){return e?e.filter(({fieldName:t,visible:n})=>!(n!==void 0&&!n||!t||t.startsWith(Kf)||t.startsWith(i5))).map(t=>t.fieldName):[]}_getActionsFields(e){return e?e.toArray().reduce((t,n)=>[...t,...this._getActionFields(n)],[]):[]}_getActionFields(e){const{className:t,title:n,type:r}=e,i=r==="button"||r==="toggle"?e.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(t),...this._extractFieldNames(i)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){return kR(e).filter(t=>!(t.indexOf(Kf)===0||t.indexOf(i5)===0))}};v([T({type:oK})],Pn.prototype,"actions",void 0),v([T()],Pn.prototype,"content",void 0),v([Nh("content")],Pn.prototype,"castContent",null),v([$n("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Pn.prototype,"readContent",null),v([jt("web-scene","content",{popupElements:{type:ht.ofType(rK)},showAttachments:{type:Boolean},mediaInfos:{type:ht.ofType(yE)},description:{type:String},relatedRecordsInfo:{type:QR}})],Pn.prototype,"writeWebSceneContent",null),v([jt("content",{popupElements:{type:ht.ofType(nK)},showAttachments:{type:Boolean},mediaInfos:{type:ht.ofType(yE)},description:{type:String},relatedRecordsInfo:{type:QR}})],Pn.prototype,"writeWebMapContent",null),v([T({type:[JR],json:{write:!0}})],Pn.prototype,"expressionInfos",void 0),v([T({type:[sE]})],Pn.prototype,"fieldInfos",void 0),v([jt("fieldInfos")],Pn.prototype,"writeFieldInfos",null),v([T({type:iK})],Pn.prototype,"layerOptions",void 0),v([jt("layerOptions")],Pn.prototype,"writeLayerOptions",null),v([T({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Pn.prototype,"lastEditInfoEnabled",void 0),v([T()],Pn.prototype,"outFields",void 0),v([T()],Pn.prototype,"overwriteActions",void 0),v([T()],Pn.prototype,"returnGeometry",void 0),v([T({json:{type:String}})],Pn.prototype,"title",void 0),v([jt("title")],Pn.prototype,"writeTitle",null),Pn=v([te("esri.PopupTemplate")],Pn);const o5=Pn,cK=Li()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),uK=Li()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),a5={base:Xa,key:"type",typeMap:{extent:bi,multipoint:Tf,point:En,polyline:Lh,polygon:Qa}},l5=new ps({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let hK=0,id=class extends He{constructor(e){super(e),this.id="sym"+hK++,this.type=null,this.color=new lt([0,0,0,1])}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};v([T({type:l5.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:l5.write,isRequired:!0}}})],id.prototype,"type",void 0),v([T({type:lt,json:{write:{allowNull:!0}}})],id.prototype,"color",void 0),v([$n("color")],id.prototype,"readColor",null),id=v([te("esri.symbols.Symbol")],id);const lr=id;var ME;let hl=ME=class extends lr{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if(this.data?.type==="CIMSymbolReference"){const n=this.data.primitiveOverrides;if(n){const r=n.map(i=>{const s=i.valueExpressionInfo;return s?ol(e,t,s.expression):null});await Promise.all(r)}}}clone(){return new ME({data:ye(this.data)})}hash(){return _2(JSON.stringify(this.data)).toString()}};v([T({json:{write:!1}})],hl.prototype,"color",void 0),v([T({json:{write:!0}})],hl.prototype,"data",void 0),v([$n("data",["symbol"])],hl.prototype,"readData",null),v([jt("data",{})],hl.prototype,"writeData",null),v([rt({CIMSymbolReference:"cim"},{readOnly:!0})],hl.prototype,"type",void 0),hl=ME=v([te("esri.symbols.CIMSymbol")],hl);const dl=hl;function c5(e,t,n=ht){return t||(t=new n),t===e||(t.removeAll(),dK(e)?t.addMany(e):e&&t.add(e)),t}function u5(e){return e}function dK(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var pl;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(pl||(pl={}));let pK=class{constructor(){this._resolver=yh(),this._status=pl.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=pl.RESOLVED,this._cleanUp()},()=>{this._status=pl.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===pl.RESOLVED}isRejected(){return this._status===pl.REJECTED}isFulfilled(){return this._status!==pl.PENDING}abort(){this._resolver.reject(vr())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const e=yh(),t=[...this._resolvingPromises,e.promise],n=this._allPromise=Promise.all(t);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},r=>{this.isFulfilled()||this._allPromise!==n||mh(r)||this._resolver.reject(r)}),e.resolve()}};const h5=e=>{let t=class extends e{constructor(...n){super(...n),this._promiseProps=new pK,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(n,r){return this._promiseProps.promise.then(()=>this).then(n,r)}catch(n){return this.when(null,n)}addResolvingPromise(n){n&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in n?n.when():n)}};return t=v([te("esri.core.Promise")],t),t};let em=class extends h5(Rn){};em=v([te("esri.core.Promise")],em),function(e){e.EsriPromiseMixin=h5}(em||(em={}));const d5=em,fK="not-loaded",mK="loading",yK="failed",p5="loaded",f5=e=>{let t=class extends e{constructor(...n){super(...n),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(r=>{const i=this.load.bind(this);this.load=s=>{const o=new Promise((a,l)=>{const c=$M(s,l);this.destroyed&&l(new ct("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===fK){this._set("loadStatus",mK);const a=this._loadController=new AbortController;i({signal:a.signal})}return r(),o}})),this.when(()=>{this._set("loadStatus",p5),this._loadController=null},r=>{this._set("loadStatus",yK),this._set("loadError",r),this._loadController=null})}destroy(){this._loadController&&(this._loadController=A2(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===p5}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new ct("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return v([T({readOnly:!0})],t.prototype,"loaded",null),v([T({readOnly:!0})],t.prototype,"loadError",void 0),v([T({clonable:!1})],t.prototype,"loadStatus",void 0),v([T({type:[vh],readOnly:!0})],t.prototype,"loadWarnings",null),t=v([te("esri.core.Loadable")],t),t};let tm=class extends f5(d5){};tm=v([te("esri.core.Loadable")],tm),function(e){function t(n){return!(!n||!n.load)}e.LoadableMixin=f5,e.isLoadable=t}(tm||(tm={}));const m5=tm;let x1;function gK(e){return x1&&!x1.destroyed||(x1=e()),x1}var OE;const vK=new ps({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Wi=OE=class extends Rn{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new OE({categories:this.categories?ye(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let n=[];this.categories&&(n=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let r="";if(this.extent){const o=Kw(this.extent,Ln.WGS84);o!=null&&(r=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const s={categories:n,bbox:r,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>vK.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};v([T()],Wi.prototype,"categories",void 0),v([T()],Wi.prototype,"disableExtraQuery",void 0),v([T({type:bi})],Wi.prototype,"extent",void 0),v([T()],Wi.prototype,"filter",void 0),v([T()],Wi.prototype,"num",void 0),v([T()],Wi.prototype,"query",void 0),v([T()],Wi.prototype,"sortField",void 0),v([T()],Wi.prototype,"sortOrder",null),v([T()],Wi.prototype,"start",void 0),Wi=OE=v([te("esri.portal.PortalQueryParams")],Wi);const As=Wi;var NE;let Fn=NE=class extends He{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const n=t.categorySchema||[];return n.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):n})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new ct("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new NE({sourceJSON:e});return t.read(e),t}queryItems(e,t){let n=Ci(As,e);const r=this.portal;return parseFloat(r.currentVersion)>5?(n=n||new As,r.queryPortal(`/content/groups/${this.id}/search`,n,"PortalItem",t)):(n=n?n.clone():new As,n.query="group:"+this.id+(n.query?" "+n.query:""),r.queryItems(n,t))}_fetchCategorySchemaSet(e,t){const n=this.portal;return n.fetchSelf(n.authMode,!0,t).then(r=>{const i=r.contentCategorySetsGroupQuery;if(i){const s=new As({disableExtraQuery:!0,num:1,query:i});return n.queryGroups(s,t)}throw new ct("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const i=r.results[0],s=new As({num:1,query:`typekeywords:"${e}"`});return i.queryItems(s,t)}throw new ct("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(i=>{const s=i?.categorySchema;return s?.length?s:[]}):[])}};v([T()],Fn.prototype,"access",void 0),v([T({type:Date})],Fn.prototype,"created",void 0),v([T()],Fn.prototype,"description",void 0),v([T()],Fn.prototype,"id",void 0),v([T()],Fn.prototype,"isInvitationOnly",void 0),v([T({type:Date})],Fn.prototype,"modified",void 0),v([T()],Fn.prototype,"owner",void 0),v([T()],Fn.prototype,"portal",void 0),v([T()],Fn.prototype,"snippet",void 0),v([T()],Fn.prototype,"sortField",void 0),v([T()],Fn.prototype,"sortOrder",void 0),v([T()],Fn.prototype,"sourceJSON",void 0),v([T()],Fn.prototype,"tags",void 0),v([T()],Fn.prototype,"thumbnail",void 0),v([T({readOnly:!0})],Fn.prototype,"thumbnailUrl",null),v([T()],Fn.prototype,"title",void 0),v([T({readOnly:!0})],Fn.prototype,"url",null),Fn=NE=v([te("esri.portal.PortalGroup")],Fn);const kE=Fn;let Zc=class extends Rn{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};v([T()],Zc.prototype,"nextQueryParams",void 0),v([T()],Zc.prototype,"queryParams",void 0),v([T()],Zc.prototype,"results",void 0),v([T()],Zc.prototype,"total",void 0),Zc=v([te("esri.portal.PortalQueryResult")],Zc);const bK=Zc;let Qo=class extends He{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new ct("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};v([T({type:Date})],Qo.prototype,"created",void 0),v([T()],Qo.prototype,"id",void 0),v([T()],Qo.prototype,"portal",void 0),v([T()],Qo.prototype,"title",void 0),v([T({readOnly:!0})],Qo.prototype,"url",null),v([T()],Qo.prototype,"username",void 0),Qo=v([te("esri.portal.PortalFolder")],Qo);const _K=Qo;var CE;let Dt=CE=class extends He{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,n=e?.data,r=e?.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),n!=null&&(typeof n=="string"?i.query.text=n:typeof n=="object"&&(i.query.text=JSON.stringify(n))));let s=this.userContentUrl;return r&&(s+="/"+(typeof r=="string"?r:r.id)),this.portal.request(s+"/addItem",i).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let n=this.userContentUrl;e.ownerFolder&&(n+="/"+e.ownerFolder);const r=t?{permanentDelete:!0}:{};await this.portal.request(n+`/items/${e.id}/delete`,{method:"post",query:r}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const n=this.userContentUrl+"/deleteItems",r=[],i=e.map(s=>s.id);if(i.length){const s={method:"post",query:{items:i.join(","),permanentDelete:t}},o=await this.portal.request(n,s);for(const a of o.results){const l=e.find(p=>a.itemId===p.id),c=a.success;let d=null;c?(l.id=null,l.portal=null):a.error&&(d=new ct("portal:delete-item-failed",a.error.message,a.error)),r.push({item:l,success:c,error:d})}}return r}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let n;return n=t&&t.folders?t.folders.map(r=>{const i=_K.fromJSON(r);return i.portal=this.portal,i}):[],n})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(n=>{const r=kE.fromJSON(n);return r.portal=this.portal,r}):[],t})}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:n}=await import("./PortalItem-CvYW2LNW.js"),r={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},i=await this.portal.request(t,{query:r});let s;return i?.items?(s=i.items.map(o=>{const a=n.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(s.map(o=>o.load())),{items:s,nextStart:i.nextStart,total:i.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new kE({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new ct("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const n=this.userContentUrl,r=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(n+`/items/${e.id}/restore`,{method:"post",query:r})}toJSON(){throw new ct("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new CE({sourceJSON:e});return t.read(e),t}};v([T()],Dt.prototype,"access",void 0),v([T({type:Date})],Dt.prototype,"created",void 0),v([T()],Dt.prototype,"culture",void 0),v([T()],Dt.prototype,"description",void 0),v([T()],Dt.prototype,"email",void 0),v([T()],Dt.prototype,"favGroupId",void 0),v([T()],Dt.prototype,"fullName",void 0),v([T({type:Date})],Dt.prototype,"modified",void 0),v([T()],Dt.prototype,"orgId",void 0),v([T()],Dt.prototype,"portal",void 0),v([T()],Dt.prototype,"preferredView",void 0),v([T()],Dt.prototype,"privileges",void 0),v([T()],Dt.prototype,"region",void 0),v([T()],Dt.prototype,"role",void 0),v([T()],Dt.prototype,"roleId",void 0),v([T()],Dt.prototype,"sourceJSON",void 0),v([T()],Dt.prototype,"thumbnail",void 0),v([T({readOnly:!0})],Dt.prototype,"thumbnailUrl",null),v([T()],Dt.prototype,"units",void 0),v([T({readOnly:!0})],Dt.prototype,"userContentUrl",null),v([T({readOnly:!0})],Dt.prototype,"url",null),v([T()],Dt.prototype,"username",void 0),v([T()],Dt.prototype,"userLicenseTypeId",void 0),v([T()],Dt.prototype,"userType",void 0),Dt=CE=v([te("esri.portal.PortalUser")],Dt);const RE=Dt;var wi;let nm;const y5={PortalGroup:()=>Promise.resolve({default:kE}),PortalItem:()=>import("./PortalItem-CvYW2LNW.js"),PortalUser:()=>Promise.resolve({default:RE})};let he=wi=class extends He.JSONSupportMixin(m5){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=At.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){g5.unregister(this),this.defaultBasemap=Xp(this.defaultBasemap),this.defaultDevBasemap=Xp(this.defaultDevBasemap),this.defaultVectorBasemap=Xp(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=gc(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)At.request.trustedServers.includes(t)||At.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return dN(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=RE.fromJSON(e),t.portal=this),t}load(e){const t=import("./Basemap-BPN-ubBN.js").then(n=>n.B).then(({default:n})=>{fh(e),nm=n}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(n=>{if(!this.hasAPIKey&&Ut){const r=Ut;this.credential=r.findCredential(this.restUrl),this.credential||this.authMode!==wi.AUTH_MODE_AUTO&&this.authMode!==wi.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=r.on("credential-create",wK(new WeakRef(this))),g5.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await import("./ElevationLayer-D2AjSjed.js")).default;return e?e.map(n=>new t({id:n.id,url:n.url})):[]}async fetchBasemaps(e,t){const n=await this._fetchBasemaps(e,t);if(t?.include3d===!0&&this.use3dBasemaps!==!1){const r=await this._fetchBasemaps3D(e,t);n.unshift(...r)}return n}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const t=new As;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const n=(await this.queryItems(t,e)).results.find(r=>r.type==="Web Scene");return n?new nm({portalItem:n}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Ks(e)?Promise.reject(vr()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(t=>t.classificationSchema):null}fetchFeaturedGroups(e){const t=this.featuredGroups,n=new As({num:100,sortField:"title"});if(t?.length){const r=[];for(const i of t)r.push(`(title:"${i.title}" AND owner:${i.owner})`);return n.query=r.join(" OR "),this.queryGroups(n,e).then(i=>i.results)}return Ks(e)?Promise.reject(vr()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||jc();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||jc();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return gK(()=>new wi)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,n){const r=this.restUrl+"/portals/self",i={authMode:e,query:{culture:jc().toLowerCase()},withCredentials:!0,...n};return i.authMode==="auto"&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this.request(r,i)}queryPortal(e,t,n,r){const i=Ci(As,t),s=o=>this.request(this.restUrl+e,{...i.toRequestOptions(this),...r}).then(a=>{const l=i.clone();return l.start=a.nextStart,new bK({nextQueryParams:l,queryParams:i,total:a.total,results:wi._resultsToTypedArray(o,{portal:this},a,r)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(G2(l),a)));return n&&y5[n]?y5[n]().then(({default:o})=>(fh(r),s(o))):s()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new ct("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===wi.AUTH_MODE_ANONYMOUS||this.authMode===wi.AUTH_MODE_NO_PROMPT&&!Ut)return Promise.reject(new ct("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(n=>{n&&(this.sourceJSON=n,this.read(n))});return Ut?Ut.getCredential(this.restUrl,{prompt:this.authMode!==wi.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){const t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,n){return this.request(e,t).then(r=>{const i=wi._resultsToTypedArray(n,{portal:this},r);return Promise.all(i.map(s=>typeof s.when=="function"?s.when():r)).then(()=>i,()=>i)})}request(e,t={}){const n={f:"json",...t.query},{authMode:r=this.authMode===wi.AUTH_MODE_ANONYMOUS||this.authMode===wi.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:i=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=t,c={authMode:r,body:i,cacheBust:s,method:o,query:n,responseType:a,timeout:0,signal:l};return t.withCredentials&&(c.withCredentials=!0),xn(this._normalizeSSL(e),c).then(d=>d.data)}toJSON(){throw new ct("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new wi({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new ct("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const n=new As;n.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),n.disableExtraQuery=!0;const r=await this.queryGroups(n,t);if(!r.total)return[];const i=r.results[0];n.num=100,n.query='type:"Web Map" -type:"Web Application"',n.sortField=i.sortField||"name",n.sortOrder=i.sortOrder||"desc";const s=await i.queryItems(n,t);return s.total?s.results.filter(o=>o.type==="Web Map").map(o=>new nm({portalItem:o})):[]}async _fetchBasemaps3D(e,t){const n=e||this.basemapGalleryGroupQuery3D;if(!n)return[];if(this.hasAPIKey)return[];const r=new As({query:n,disableExtraQuery:!0}),i=await this.queryGroups(r,t);if(!i.total)return[];const s=i.results[0];r.num=100,r.query='type:"Web Scene"',r.sortField=s.sortField||"name",r.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(r,t);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new nm({portalItem:a})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=nm.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,n,r){let i;if(n){const s=r!=null?r.signal:null;i=n.listings||n.notifications||n.userInvitations||n.tags||n.items||n.groups||n.comments||n.provisions||n.results||n.relatedItems||n,(e||t)&&(i=i.map(o=>{const a=Object.assign(e?e.fromJSON(o):o,t);return typeof a.load=="function"&&a.load(s),a}))}else i=[];return i}};he.AUTH_MODE_ANONYMOUS="anonymous",he.AUTH_MODE_AUTO="auto",he.AUTH_MODE_IMMEDIATE="immediate",he.AUTH_MODE_NO_PROMPT="no-prompt",v([T()],he.prototype,"access",void 0),v([T()],he.prototype,"allSSL",void 0),v([T()],he.prototype,"authMode",void 0),v([T()],he.prototype,"authorizedCrossOriginDomains",void 0),v([$n("authorizedCrossOriginDomains")],he.prototype,"readAuthorizedCrossOriginDomains",null),v([T()],he.prototype,"basemapGalleryGroupQuery",void 0),v([T({json:{name:"3DBasemapGalleryGroupQuery"}})],he.prototype,"basemapGalleryGroupQuery3D",void 0),v([T()],he.prototype,"bingKey",void 0),v([T()],he.prototype,"canListApps",void 0),v([T()],he.prototype,"canListData",void 0),v([T()],he.prototype,"canListPreProvisionedItems",void 0),v([T()],he.prototype,"canProvisionDirectPurchase",void 0),v([T()],he.prototype,"canSearchPublic",void 0),v([T()],he.prototype,"canShareBingPublic",void 0),v([T()],he.prototype,"canSharePublic",void 0),v([T()],he.prototype,"canSignInArcGIS",void 0),v([T()],he.prototype,"canSignInIDP",void 0),v([T()],he.prototype,"colorSetsGroupQuery",void 0),v([T()],he.prototype,"commentsEnabled",void 0),v([T({type:Date})],he.prototype,"created",void 0),v([T()],he.prototype,"credential",void 0),v([T()],he.prototype,"culture",void 0),v([T()],he.prototype,"currentVersion",void 0),v([T()],he.prototype,"customBaseUrl",void 0),v([T()],he.prototype,"default3DBasemapQuery",void 0),v([T()],he.prototype,"defaultBasemap",void 0),v([$n("defaultBasemap")],he.prototype,"readDefaultBasemap",null),v([T()],he.prototype,"defaultDevBasemap",void 0),v([$n("defaultDevBasemap")],he.prototype,"readDefaultDevBasemap",null),v([T({type:bi})],he.prototype,"defaultExtent",void 0),v([T()],he.prototype,"defaultVectorBasemap",void 0),v([$n("defaultVectorBasemap")],he.prototype,"readDefaultVectorBasemap",null),v([T()],he.prototype,"description",void 0),v([T()],he.prototype,"devBasemapGalleryGroupQuery",void 0),v([T()],he.prototype,"eueiEnabled",void 0),v([T({readOnly:!0})],he.prototype,"extraQuery",null),v([T()],he.prototype,"featuredGroups",void 0),v([T()],he.prototype,"featuredItemsGroupQuery",void 0),v([T()],he.prototype,"galleryTemplatesGroupQuery",void 0),v([T()],he.prototype,"layoutGroupQuery",void 0),v([T()],he.prototype,"livingAtlasGroupQuery",void 0),v([T({readOnly:!0})],he.prototype,"hasAPIKey",null),v([T()],he.prototype,"hasCategorySchema",void 0),v([T()],he.prototype,"hasClassificationSchema",void 0),v([T()],he.prototype,"helpBase",void 0),v([T()],he.prototype,"helperServices",void 0),v([T()],he.prototype,"helpMap",void 0),v([T()],he.prototype,"homePageFeaturedContent",void 0),v([T()],he.prototype,"homePageFeaturedContentCount",void 0),v([T()],he.prototype,"httpPort",void 0),v([T()],he.prototype,"httpsPort",void 0),v([T()],he.prototype,"id",void 0),v([T()],he.prototype,"ipCntryCode",void 0),v([T({readOnly:!0})],he.prototype,"isOrganization",null),v([T()],he.prototype,"isPortal",void 0),v([T()],he.prototype,"isReadOnly",void 0),v([T({readOnly:!0})],he.prototype,"itemPageUrl",null),v([T()],he.prototype,"layerTemplatesGroupQuery",void 0),v([T()],he.prototype,"maxTokenExpirationMinutes",void 0),v([T({type:Date})],he.prototype,"modified",void 0),v([T()],he.prototype,"name",void 0),v([T()],he.prototype,"portalHostname",void 0),v([T()],he.prototype,"portalMode",void 0),v([T()],he.prototype,"portalProperties",void 0),v([T()],he.prototype,"region",void 0),v([T()],he.prototype,"recycleBinEnabled",void 0),v([T({readOnly:!0})],he.prototype,"restUrl",null),v([T()],he.prototype,"rotatorPanels",void 0),v([T()],he.prototype,"showHomePageDescription",void 0),v([T()],he.prototype,"sourceJSON",void 0),v([T()],he.prototype,"staticImagesUrl",void 0),v([T({json:{name:"2DStylesGroupQuery"}})],he.prototype,"stylesGroupQuery2d",void 0),v([T({json:{name:"stylesGroupQuery"}})],he.prototype,"stylesGroupQuery3d",void 0),v([T()],he.prototype,"supportsHostedServices",void 0),v([T()],he.prototype,"symbolSetsGroupQuery",void 0),v([T()],he.prototype,"templatesGroupQuery",void 0),v([T()],he.prototype,"thumbnail",void 0),v([T({readOnly:!0})],he.prototype,"thumbnailUrl",null),v([T()],he.prototype,"units",void 0),v([T()],he.prototype,"url",void 0),v([T()],he.prototype,"urlKey",void 0),v([$n("urlKey")],he.prototype,"readUrlKey",null),v([T()],he.prototype,"user",void 0),v([$n("user")],he.prototype,"readUser",null),v([T()],he.prototype,"use3dBasemaps",void 0),v([T()],he.prototype,"useDefault3dBasemap",void 0),v([T()],he.prototype,"useStandardizedQuery",void 0),v([T()],he.prototype,"useVectorBasemaps",void 0),v([T()],he.prototype,"vectorBasemapGalleryGroupQuery",void 0),he=wi=v([te("esri.portal.Portal")],he);const rm=he,g5=new FinalizationRegistry(e=>{e.remove()});function wK(e){const t=Ut;return()=>{const n=e.deref();n&&t.findCredential(n.restUrl)&&n.signIn().catch(()=>{})}}let sd=class extends He{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,t,n){e||(t[n]=e)}};v([T({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],sd.prototype,"enabled",void 0),v([jt("enabled")],sd.prototype,"writeEnabled",null),v([T({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],sd.prototype,"type",void 0),sd=v([te("esri.symbols.Symbol3DLayer")],sd);const so=sd,xK=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,EK="screenUtils.toPt: input not recognized!",v5=96;function TK(e){return e?e/72*v5:0}function Ms(e){return e?72*e/v5:0}function Xt(e){if(typeof e=="string"){const t=e.match(xK);if(t){const n=Number(t[1]),r=t[3]&&t[3].toLowerCase(),i=e.charAt(0)==="-",s=r==="px"?Ms(n):n;return i?-s:s}return console.warn(EK),null}return e}function b5(e=0,t=0){return{x:e,y:t}}function SK(e){return e?b5(e.x,e.y):null}function IK(e=0,t=0){return[e,t]}function AK(e=0,t=0,n=0){return[e,t,n]}function MK(e){return e}function OK(e){return e}function NK(e){return e}function kK(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function _5(e){const t=Oy(100*(1-e));return Math.max(0,Math.min(t,100))}function w5(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function CK(e,t){const n=t.transparency!=null?w5(t.transparency):1,r=t.color;return r&&Array.isArray(r)?new lt([r[0]||0,r[1]||0,r[2]||0,n]):null}function RK(e,t){t.color=e.toJSON().slice(0,3);const n=_5(e.a);n!==0&&(t.transparency=n)}function fl(e){return{type:lt,nonNullable:e?.nonNullable,json:{type:[wn],default:null,read:{source:["color","transparency"],reader:CK},write:{target:{color:{type:[wn],isRequired:e?.colorRequiredOnWrite},transparency:{type:wn}},writer:RK}}}}const oo={type:Number,cast:Xt,json:{write:!0}};let Bc=class extends He{constructor(e){super(e),this.color=new lt([0,0,0,1]),this.extensionLength=0,this.size=Ms(1)}clone(){}cloneProperties(){return{color:ye(this.color),size:this.size,extensionLength:this.extensionLength}}};v([T({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],Bc.prototype,"type",void 0),v([T(fl({colorRequiredOnWrite:!0}))],Bc.prototype,"color",void 0),v([T({...oo,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Bc.prototype,"extensionLength",void 0),v([T(oo)],Bc.prototype,"size",void 0),Bc=v([te("esri.symbols.edges.Edges3D")],Bc);const LE=Bc;var DE;let E1=DE=class extends LE{constructor(e){super(e),this.type="sketch"}clone(){return new DE(this.cloneProperties())}};v([rt({sketch:"sketch"},{readOnly:!0})],E1.prototype,"type",void 0),E1=DE=v([te("esri.symbols.edges.SketchEdges3D")],E1);const LK=E1;var PE;let T1=PE=class extends LE{constructor(e){super(e),this.type="solid"}clone(){return new PE(this.cloneProperties())}};v([rt({solid:"solid"},{readOnly:!0})],T1.prototype,"type",void 0),T1=PE=v([te("esri.symbols.edges.SolidEdges3D")],T1);const x5=T1,FE={types:{key:"type",base:LE,typeMap:{solid:x5,sketch:LK}},json:{write:!0}};function S1(){return[0,0,0]}function I1(e){return[e[0],e[1],e[2]]}function Xc(e,t,n){return[e,t,n]}function E5(e,t,n){return[e,t,n]}function T5(e,t=S1()){const n=Math.min(3,e.length);for(let r=0;r<n;++r)t[r]=e[r];return t}function DK(e,t){return new Float64Array(e,t,3)}function UE(){return S1()}function GE(){return Xc(1,1,1)}function S5(){return Xc(1,0,0)}function I5(){return Xc(0,1,0)}function A5(){return Xc(0,0,1)}const M5=UE(),O5=GE(),N5=S5(),k5=I5(),C5=A5();Object.freeze(Object.defineProperty({__proto__:null,ONES:O5,UNIT_X:N5,UNIT_Y:k5,UNIT_Z:C5,ZEROS:M5,clone:I1,create:S1,createView:DK,freeze:E5,fromArray:T5,fromValues:Xc,ones:GE,unitX:S5,unitY:I5,unitZ:A5,zeros:UE},Symbol.toStringTag,{value:"Module"}));var jE;let Hr=jE=class extends He{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?I1(this.emissiveFactor):null};return new jE(e)}};v([T(fl())],Hr.prototype,"color",void 0),v([T({type:[Number],json:{write:!1}})],Hr.prototype,"emissiveFactor",void 0),Hr=jE=v([te("esri.symbols.support.Symbol3DMaterial")],Hr);var zE;let ml=zE=class extends so{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new zE({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};v([rt({Extrude:"extrude"},{readOnly:!0})],ml.prototype,"type",void 0),v([T({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],ml.prototype,"size",void 0),v([T({type:Hr,json:{write:!0}})],ml.prototype,"material",void 0),v([T({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ml.prototype,"castShadows",void 0),v([T(FE)],ml.prototype,"edges",void 0),ml=zE=v([te("esri.symbols.ExtrudeSymbol3DLayer")],ml);const R5=ml;let A1=class extends He{constructor(e){super(e)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};v([T({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],A1.prototype,"type",void 0),A1=v([te("esri.symbols.patterns.LinePattern3D")],A1);const L5=A1,PK=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var $E;const FK=Li()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let im=$E=class extends L5{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new $E(e)}};v([T({type:["style"],json:{write:{isRequired:!0}}})],im.prototype,"type",void 0),v([rt(FK),T({type:PK,json:{write:{isRequired:!0}}})],im.prototype,"style",void 0),im=$E=v([te("esri.symbols.patterns.LineStylePattern3D")],im);const VE=im;let M1=class extends He{constructor(e){super(e),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};v([T({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],M1.prototype,"type",void 0),M1=v([te("esri.symbols.patterns.Pattern3D")],M1);const D5=M1,UK=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var WE;let sm=WE=class extends D5{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new WE({style:this.style})}};v([T({type:["style"],json:{write:{isRequired:!0}}})],sm.prototype,"type",void 0),v([T({type:UK,json:{read:!0,write:{isRequired:!0}}})],sm.prototype,"style",void 0),sm=WE=v([te("esri.symbols.patterns.StylePattern3D")],sm);const P5=sm,GK={types:{key:"type",base:D5,typeMap:{style:P5}},json:{write:!0}},F5={types:{key:"type",base:L5,typeMap:{style:VE}},json:{write:!0}},om=new lt("white"),jK=new lt([255,255,255,0]);function zK(e){return e.r===0&&e.g===0&&e.b===0}var ZE;let am=ZE=class extends Hr{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?I1(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new ZE(e)}};v([rt({multiply:"multiply",replace:"replace",tint:"tint"})],am.prototype,"colorMixMode",void 0),am=ZE=v([te("esri.symbols.support.Symbol3DFillMaterial")],am);function U5(e,t=!1){return e<=m2?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function $K(e){return(HA(e)?e.byteLength/8:e.length)<=m2?Array.from(e):new Float64Array(e)}function VK(e,t,n){return Array.isArray(e)?e.slice(t,t+n):e.subarray(t,t+n)}function od(e=z5){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function O1(e,t,n,r,i,s,o=od()){return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o[4]=i,o[5]=s,o}function WK(e,t=od()){return G5(e,0,e.length/3,t)}function G5(e,t,n,r=od()){return BE(r,N1),j5(r,e,t,n),r}function ZK(e,t=U5(24)){const[n,r,i,s,o,a]=e;return t[0]=n,t[1]=r,t[2]=i,t[3]=n,t[4]=r,t[5]=a,t[6]=n,t[7]=o,t[8]=i,t[9]=n,t[10]=o,t[11]=a,t[12]=s,t[13]=r,t[14]=i,t[15]=s,t[16]=r,t[17]=a,t[18]=s,t[19]=o,t[20]=i,t[21]=s,t[22]=o,t[23]=a,t}function BK(e,t){const n=isFinite(e[2])||isFinite(e[5]);return new bi(n?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function XK(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function HK(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function YK(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function j5(e,t,n=0,r=t.length/3){let i=e[0],s=e[1],o=e[2],a=e[3],l=e[4],c=e[5];for(let d=0;d<r;d++)i=Math.min(i,t[n+3*d]),s=Math.min(s,t[n+3*d+1]),o=Math.min(o,t[n+3*d+2]),a=Math.max(a,t[n+3*d]),l=Math.max(l,t[n+3*d+1]),c=Math.max(c,t[n+3*d+2]);e[0]=i,e[1]=s,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function qK(e,t,n){const r=t.length;let i=e[0],s=e[1],o=e[2],a=e[3],l=e[4],c=e[5];if(n)for(let d=0;d<r;d++){const p=t[d];i=Math.min(i,p[0]),s=Math.min(s,p[1]),o=Math.min(o,p[2]),a=Math.max(a,p[0]),l=Math.max(l,p[1]),c=Math.max(c,p[2])}else for(let d=0;d<r;d++){const p=t[d];i=Math.min(i,p[0]),s=Math.min(s,p[1]),a=Math.max(a,p[0]),l=Math.max(l,p[1])}e[0]=i,e[1]=s,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function JK(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function ad(e){return e[0]>=e[3]?0:e[3]-e[0]}function ld(e){return e[1]>=e[4]?0:e[4]-e[1]}function cd(e){return e[2]>=e[5]?0:e[5]-e[2]}function QK(e){const t=ad(e),n=cd(e),r=ld(e);return Math.sqrt(t*t+n*n+r*r)}function KK(e,t=[0,0,0]){return t[0]=e[0]+ad(e)/2,t[1]=e[1]+ld(e)/2,t[2]=e[2]+cd(e)/2,t}function eee(e,t=[0,0,0]){return t[0]=ad(e),t[1]=ld(e),t[2]=cd(e),t}function tee(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function nee(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function ree(e,t){return t==null||nee(e,t)}function iee(e,t,n,r,i=e){return i[0]=e[0]+t,i[1]=e[1]+n,i[2]=e[2]+r,i[3]=e[3]+t,i[4]=e[4]+n,i[5]=e[5]+r,i}function see(e,t,n=e){const r=e[0]+ad(e)/2,i=e[1]+ld(e)/2,s=e[2]+cd(e)/2;return n[0]=r+(e[0]-r)*t,n[1]=i+(e[1]-i)*t,n[2]=s+(e[2]-s)*t,n[3]=r+(e[3]-r)*t,n[4]=i+(e[4]-i)*t,n[5]=s+(e[5]-s)*t,n}function oee(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function aee(e,t,n=e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n!==e&&(n[3]=e[3],n[4]=e[4],n[5]=e[5]),n}function lee(e,t,n=e){return n[3]=t[0],n[4]=t[1],n[5]=t[2],n!==e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),e}function BE(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function cee(e){return e?BE(e,N1):od(N1)}function uee(e,t){return t||(t=Rc()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function hee(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function dee(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=Number.NEGATIVE_INFINITY,e[3]=r,e[4]=i,e[5]=Number.POSITIVE_INFINITY,e}function XE(e){return e.length===6}function pee(e){return ad(e)===0&&ld(e)===0&&cd(e)===0}function fee(e,t,n){if(e==null||t==null)return e===t;if(!XE(e)||!XE(t))return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const N1=[1/0,1/0,1/0,-1/0,-1/0,-1/0],z5=[0,0,0,0,0,0];od();function mee(e,{isPrimitive:t,width:n,depth:r,height:i}){const s=t?10:1;if(n==null&&i==null&&r==null)return[s*e[0],s*e[1],s*e[2]];const o=Xc(n,r,i);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/e[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=e[l]*a);return o}const yee=O1(-.5,-.5,-.5,.5,.5,.5),gee=O1(-.5,-.5,0,.5,.5,1),vee=O1(-.5,-.5,0,.5,.5,.5);function bee(e){switch(e){case"sphere":case"cube":case"diamond":return yee;case"cylinder":case"cone":case"inverted-cone":return gee;case"tetrahedron":return vee;default:return}}const HE=["butt","square","round"],_ee=[...HE,"none"],$5=["miter","bevel","round"];var YE;let Hc=YE=class extends He{constructor(e){super(e),this.color=new lt([0,0,0,1]),this.size=Ms(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new YE(e)}};v([T(fl({colorRequiredOnWrite:!0}))],Hc.prototype,"color",void 0),v([T({...oo,json:{write:{isRequired:!0}}})],Hc.prototype,"size",void 0),v([T(F5)],Hc.prototype,"pattern",void 0),v([T({type:HE,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Hc.prototype,"patternCap",void 0),Hc=YE=v([te("esri.symbols.support.Symbol3DOutline")],Hc);var k1;let Ko=k1=class extends so{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new k1(e)}static fromSimpleFillSymbol(e){const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new VE({style:e.outline.style}):null,n={size:e.outline?.width??0,color:(e.outline?.color??om).clone(),pattern:t};return t&&e.outline?.cap&&(n.patternCap=e.outline.cap),new k1({material:new am({color:(e.color??jK).clone()}),pattern:e.style&&e.style!=="solid"?new P5({style:e.style}):null,outline:n})}};v([rt({Fill:"fill"},{readOnly:!0})],Ko.prototype,"type",void 0),v([T({type:am,json:{write:!0}})],Ko.prototype,"material",void 0),v([T(GK)],Ko.prototype,"pattern",void 0),v([T({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ko.prototype,"castShadows",void 0),v([T({type:Hc,json:{write:!0}})],Ko.prototype,"outline",void 0),v([T(FE)],Ko.prototype,"edges",void 0),Ko=k1=v([te("esri.symbols.FillSymbol3DLayer")],Ko);const yl=Ko;var qE;const wee=Li()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Yc=qE=class extends He{constructor(e){super(e)}readHref(e,t,n){return e?Th(e,n):t.dataURI}writeHref(e,t,n,r){e&&(Ec(e)?t.dataURI=e:(t.href=df(e,r),Pi(t.href)&&(t.href=Xo(t.href))))}clone(){return new qE({href:this.href,primitive:this.primitive})}};v([T({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Yc.prototype,"href",void 0),v([$n("href")],Yc.prototype,"readHref",null),v([jt("href",{href:{type:String},dataURI:{type:String}})],Yc.prototype,"writeHref",null),v([rt(wee)],Yc.prototype,"primitive",void 0),Yc=qE=v([te("esri.symbols.support.IconSymbol3DLayerResource")],Yc);const xee="circle";var JE;let qc=JE=class extends Rn{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new JE({x:this.x,y:this.y})}};v([T({type:Number})],qc.prototype,"x",void 0),v([T({type:Number})],qc.prototype,"y",void 0),qc=JE=v([te("esri.symbols.support.Symbol3DAnchorPosition2D")],qc);var QE;let lm=QE=class extends He{constructor(e){super(e),this.color=new lt([0,0,0,1]),this.size=Ms(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new QE(e)}};v([T(fl({colorRequiredOnWrite:!0}))],lm.prototype,"color",void 0),v([T({...oo,json:{write:{isRequired:!0}}})],lm.prototype,"size",void 0),lm=QE=v([te("esri.symbols.support.Symbol3DIconOutline")],lm);var ud;const V5="esri.symbols.IconSymbol3DLayer";let Os=ud=class extends so{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new ud({anchor:this.anchor,anchorPosition:ye(this.anchorPosition),enabled:this.enabled,material:ye(this.material),outline:ye(this.outline),resource:ye(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||om,n=W5(e),r=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||om).clone()}:null;return new ud({size:e.size,angle:e.angle,resource:{primitive:Tee(e.style)},material:{color:t},outline:r,anchor:n?"relative":void 0,anchorPosition:n})}static fromPictureMarkerSymbol(e){const t=!e.color||zK(e.color)?om:e.color,n=W5(e);return new ud({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:n?"relative":void 0,anchorPosition:n})}static fromCIMSymbol(e){return new ud({resource:{href:JO({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};v([T({type:Hr,json:{write:!0}})],Os.prototype,"material",void 0),v([T({type:Yc,json:{write:!0}})],Os.prototype,"resource",void 0),v([rt({Icon:"icon"},{readOnly:!0})],Os.prototype,"type",void 0),v([T({...oo,json:{write:{isRequired:!0}}})],Os.prototype,"size",void 0),v([rt({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],Os.prototype,"anchor",void 0),v([T({type:qc,json:{type:[Number],read:{reader:e=>new qc({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Os.prototype,"anchorPosition",void 0),v([T({type:lm,json:{write:!0}})],Os.prototype,"outline",void 0),v([T({type:Number,json:{write:!0,default:0}})],Os.prototype,"angle",void 0),Os=ud=v([te(V5)],Os);const Jc=Os;function W5(e){const t="width"in e?e.width:e.size,n="height"in e?e.height:e.size,r=Z5(e.xoffset),i=Z5(e.yoffset);return(r||i)&&t&&n?{x:-r/t,y:i/n}:null}function Z5(e){return isFinite(e)?e:0}const Eee={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function Tee(e){return Eee[e]||(kt.getLogger(V5).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const See=["begin","end","begin-end"],B5=["arrow","circle","square","diamond","cross","x"];let Qc=class extends bs.ClonableMixin(He){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return e!=null&&e.placement===this.placement&&e.style===this.style&&(this.color==null&&e.color==null||this.color!=null&&e.color!=null&&this.color.toJSON()===e.color.toJSON())}};v([T({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],Qc.prototype,"type",void 0),v([T({type:See,json:{default:"begin-end",write:!0}})],Qc.prototype,"placement",void 0),v([T({type:B5,json:{default:"arrow",write:!0}})],Qc.prototype,"style",void 0),v([T({type:lt,json:{type:[wn],default:null,write:!0}})],Qc.prototype,"color",void 0),Qc=v([te("esri.symbols.LineStyleMarker3D")],Qc);const KE=Qc;var C1;let ao=C1=class extends so{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Ms(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new C1(e)}static fromSimpleLineSymbol(e){const t={enabled:!0,size:e.width??Ms(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new VE({style:e.style}):null,material:new Hr({color:(e.color||om).clone()}),marker:e.marker?new KE({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new C1(t)}};v([T({type:Hr,json:{write:!0}})],ao.prototype,"material",void 0),v([rt({Line:"line"},{readOnly:!0})],ao.prototype,"type",void 0),v([T({type:$5,json:{write:!0,default:"miter"}})],ao.prototype,"join",void 0),v([T({type:HE,json:{write:!0,default:"butt"}})],ao.prototype,"cap",void 0),v([T({...oo,json:{write:{isRequired:!0}}})],ao.prototype,"size",void 0),v([T(F5)],ao.prototype,"pattern",void 0),v([T({types:{key:"type",base:KE,typeMap:{style:KE}},json:{write:!0}})],ao.prototype,"marker",void 0),ao=C1=v([te("esri.symbols.LineSymbol3DLayer")],ao);const hd=ao;var e3;const Iee=Li()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let cm=e3=class extends He{clone(){return new e3({href:this.href,primitive:this.primitive})}};v([T({type:String,json:{read:gg,write:Tc}})],cm.prototype,"href",void 0),v([rt(Iee)],cm.prototype,"primitive",void 0),cm=e3=v([te("esri.symbols.support.ObjectSymbol3DLayerResource")],cm);const Aee="sphere";var t3;let Kc=t3=class extends Rn{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new t3({x:this.x,y:this.y,z:this.z})}};v([T({type:Number})],Kc.prototype,"x",void 0),v([T({type:Number})],Kc.prototype,"y",void 0),v([T({type:Number})],Kc.prototype,"z",void 0),Kc=t3=v([te("esri.symbols.support.Symbol3DAnchorPosition3D")],Kc);var n3;let wr=n3=class extends so{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new n3({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};v([T({type:Hr,json:{write:!0}})],wr.prototype,"material",void 0),v([T({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],wr.prototype,"castShadows",void 0),v([T({type:cm,json:{write:!0}})],wr.prototype,"resource",void 0),v([rt({Object:"object"},{readOnly:!0})],wr.prototype,"type",void 0),v([T({type:Number,json:{write:!0}})],wr.prototype,"width",void 0),v([T({type:Number,json:{write:!0}})],wr.prototype,"height",void 0),v([T({type:Number,json:{write:!0}})],wr.prototype,"depth",void 0),v([rt({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],wr.prototype,"anchor",void 0),v([T({type:Kc,json:{type:[Number],read:{reader:e=>new Kc({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],wr.prototype,"anchorPosition",void 0),v([T({type:Number,json:{write:!0}})],wr.prototype,"heading",void 0),v([T({type:Number,json:{write:!0}})],wr.prototype,"tilt",void 0),v([T({type:Number,json:{write:!0}})],wr.prototype,"roll",void 0),v([T({readOnly:!0})],wr.prototype,"isPrimitive",null),wr=n3=v([te("esri.symbols.ObjectSymbol3DLayer")],wr);const r3=wr;var i3;let Lr=i3=class extends so{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new i3({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};v([T({type:Hr,json:{write:!0}})],Lr.prototype,"material",void 0),v([T({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Lr.prototype,"castShadows",void 0),v([rt({Path:"path"},{readOnly:!0})],Lr.prototype,"type",void 0),v([T({type:["circle","quad"],json:{write:!0,default:"circle"}})],Lr.prototype,"profile",void 0),v([T({type:$5,json:{write:!0,default:"miter"}})],Lr.prototype,"join",void 0),v([T({type:_ee,json:{write:!0,default:"butt"}})],Lr.prototype,"cap",void 0),v([T({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Lr.prototype,"width",void 0),v([$n("width",["width","size","height"])],Lr.prototype,"readWidth",null),v([T({type:Number,json:{write:!0}})],Lr.prototype,"height",void 0),v([$n("height",["height","size","width"])],Lr.prototype,"readHeight",null),v([T({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Lr.prototype,"anchor",void 0),v([T({type:["heading","all"],json:{write:!0,default:"all"}})],Lr.prototype,"profileRotation",void 0),Lr=i3=v([te("esri.symbols.PathSymbol3DLayer")],Lr);const s3=Lr,Mee=["none","underline","line-through"],Oee=["normal","italic","oblique"],Nee=["normal","lighter","bold","bolder"],X5={type:Number,cast:e=>{const t=Zp(e);return t===0?1:jp(t,.1,4)},nonNullable:!0},kee=["left","right","center"],Cee=["baseline","top","middle","bottom"],H5={type:kee,nonNullable:!0},Y5={type:Cee,nonNullable:!0},Ree=8;var o3;let ea=o3=class extends He{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return Xt(e)}clone(){return new o3({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};v([T({type:Mee,json:{default:"none",write:!0}})],ea.prototype,"decoration",void 0),v([T({type:String,json:{write:!0}})],ea.prototype,"family",void 0),v([T({type:Number,json:{write:{overridePolicy:(e,t,n)=>({enabled:!n||!n.textSymbol3D})}}})],ea.prototype,"size",void 0),v([Nh("size")],ea.prototype,"castSize",null),v([T({type:Oee,json:{default:"normal",write:!0}})],ea.prototype,"style",void 0),v([T({type:Nee,json:{default:"normal",write:!0}})],ea.prototype,"weight",void 0),ea=o3=v([te("esri.symbols.Font")],ea);const um=ea;var a3;let dd=a3=class extends He{constructor(){super(...arguments),this.color=new lt([0,0,0,1]),this.size=0}clone(){const e={color:ye(this.color),size:this.size};return new a3(e)}};v([T(fl())],dd.prototype,"color",void 0),v([T(oo)],dd.prototype,"size",void 0),dd=a3=v([te("esri.symbols.support.Symbol3DHalo")],dd);let hm=class extends bs.ClonableMixin(He){constructor(e){super(e),this.color=null}};v([T(fl())],hm.prototype,"color",void 0),hm=v([te("esri.symbols.support.Symbol3DTextBackground")],hm);var R1;let Yr=R1=class extends so{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,n,r){const i={...r,textSymbol3D:!0};t.font=e.write({},i),delete t.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new R1({enabled:this.enabled,font:this.font&&ye(this.font),halo:this.halo&&ye(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ye(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new R1({font:e.font!=null?e.font.clone():new um,halo:Lee(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new Hr({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new hm({color:e.backgroundColor.clone()}):null})}};function Lee(e,t){return e&&t!=null&&t>0?new dd({color:ye(e),size:t}):null}v([T({type:um,json:{write:!0}})],Yr.prototype,"font",null),v([jt("font")],Yr.prototype,"writeFont",null),v([T({type:dd,json:{write:!0}})],Yr.prototype,"halo",void 0),v([T({...H5,json:{default:"center",write:!0}})],Yr.prototype,"horizontalAlignment",void 0),v([T({...X5,json:{default:1,write:!0}})],Yr.prototype,"lineHeight",void 0),v([T({type:Hr,json:{write:!0}})],Yr.prototype,"material",void 0),v([T({type:hm,json:{write:!0}})],Yr.prototype,"background",void 0),v([T(oo)],Yr.prototype,"size",null),v([T({type:String,json:{write:!0}})],Yr.prototype,"text",void 0),v([rt({Text:"text"},{readOnly:!0})],Yr.prototype,"type",void 0),v([T({...Y5,json:{default:"baseline",write:!0}})],Yr.prototype,"verticalAlignment",void 0),Yr=R1=v([te("esri.symbols.TextSymbol3DLayer")],Yr);const eu=Yr;var l3;let gl=l3=class extends so{constructor(e){super(e),this.color=c3.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new l3({color:ye(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};v([T({type:lt,nonNullable:!0,json:{type:[wn],write:(e,t,n)=>t[n]=e.toArray(lt.AlphaMode.UNLESS_OPAQUE),default:()=>c3.clone(),defaultEquals:e=>e.toCss(!0)===c3.toCss(!0)}})],gl.prototype,"color",void 0),v([rt({Water:"water"},{readOnly:!0})],gl.prototype,"type",void 0),v([T({type:["small","medium","large"],json:{write:!0,default:"medium"}})],gl.prototype,"waterbodySize",void 0),v([T({type:Number,json:{write:!0,default:null}})],gl.prototype,"waveDirection",void 0),v([T({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],gl.prototype,"waveStrength",void 0),gl=l3=v([te("esri.symbols.WaterSymbol3DLayer")],gl);const q5=gl,c3=new lt([0,119,190]);var u3;let tu=u3=class extends Rn{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new u3({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};v([T({type:String})],tu.prototype,"name",void 0),v([T({type:String})],tu.prototype,"styleUrl",void 0),v([T({type:String})],tu.prototype,"styleName",void 0),v([T({type:rm})],tu.prototype,"portal",void 0),tu=u3=v([te("esri.symbols.support.StyleOrigin")],tu);const L1=tu;var h3;let pd=h3=class extends Rn{constructor(){super(...arguments),this.url=""}clone(){return new h3({url:this.url})}};v([T({type:String})],pd.prototype,"url",void 0),pd=h3=v([te("esri.symbols.support.Thumbnail")],pd);const J5={icon:Jc,object:r3,line:hd,path:s3,fill:yl,extrude:R5,text:eu,water:q5},Dee=ht.ofType({base:so,key:"type",typeMap:J5,errorContext:"symbol-layer"});let lo=class extends lr{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,n=t?.type,r=n||ht;this._set("symbolLayers",new r)}get color(){return null}set color(e){this.constructed&&kt.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){c5(e,this._get("symbolLayers"))}readStyleOrigin(e,t,n){if(e.styleUrl&&e.name){const r=Th(e.styleUrl,n);return new L1({styleUrl:r,name:e.name})}if(e.styleName&&e.name)return new L1({portal:n?.portal||rm.getDefault(),styleName:e.styleName,name:e.name});n?.messages&&n.messages.push(new vh("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:e}))}writeStyleOrigin(e,t,n,r){if(e.styleUrl&&e.name){let i=df(e.styleUrl,r);Pi(i)&&(i=Xo(i)),t.styleOrigin={styleUrl:i,name:e.name}}else e.styleName&&e.name&&(e.portal&&r?.portal&&!YO(e.portal.restUrl,r.portal.restUrl)?r?.messages&&r.messages.push(new vh("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof so||e&&J5[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};v([T({json:{read:!1,write:!1}})],lo.prototype,"color",null),v([T({type:Dee,nonNullable:!0,json:{write:!0}}),Nh(u5)],lo.prototype,"symbolLayers",null),v([T({type:L1})],lo.prototype,"styleOrigin",void 0),v([$n("styleOrigin")],lo.prototype,"readStyleOrigin",null),v([jt("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],lo.prototype,"writeStyleOrigin",null),v([T({type:pd,json:{read:!1}})],lo.prototype,"thumbnail",void 0),v([T({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],lo.prototype,"type",void 0),lo=v([te("esri.symbols.Symbol3D")],lo);const dm=lo;let pm=class extends He{constructor(e){super(e),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};v([T({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],pm.prototype,"type",void 0),v([T({readOnly:!0})],pm.prototype,"visible",void 0),pm=v([te("esri.symbols.callouts.Callout3D")],pm);const Q5=pm;var d3;let D1=d3=class extends He{constructor(e){super(e),this.color=new lt("white")}clone(){return new d3({color:ye(this.color)})}};v([T(fl({colorRequiredOnWrite:!0}))],D1.prototype,"color",void 0),D1=d3=v([te("esri.symbols.callouts.LineCallout3DBorder")],D1);const K5=D1;var p3;let vl=p3=class extends Q5{constructor(e){super(e),this.type="line",this.color=new lt([0,0,0,1]),this.size=Ms(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new p3({color:ye(this.color),size:this.size,border:ye(this.border)})}};v([rt({line:"line"})],vl.prototype,"type",void 0),v([T(fl({colorRequiredOnWrite:!0}))],vl.prototype,"color",void 0),v([T({...oo,json:{write:{isRequired:!0}}})],vl.prototype,"size",void 0),v([T({type:K5,json:{write:!0}})],vl.prototype,"border",void 0),v([T({readOnly:!0})],vl.prototype,"visible",null),vl=p3=v([te("esri.symbols.callouts.LineCallout3D")],vl);const f3=vl;function m3(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function e6(e){return!e||!e.supportsCallout||!e.supportsCallout()?!1:!!e.callout?.visible&&!!m3(e)}function Pee(e){return e.type==="point-3d"||e.type==="label-3d"}function Fee(e){return e.horizontalAlignment==="center"}const t6={types:{key:"type",base:Q5,typeMap:{line:f3}},json:{write:!0}};var y3;let fd=y3=class extends He{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new y3({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};v([T({...oo,json:{write:{isRequired:!0}}})],fd.prototype,"screenLength",void 0),v([T({type:Number,nonNullable:!0,json:{write:!0,default:0}})],fd.prototype,"minWorldLength",void 0),v([T({type:Number,json:{write:!0}})],fd.prototype,"maxWorldLength",void 0),fd=y3=v([te("esri.symbols.support.Symbol3DVerticalOffset")],fd);const P1=fd;var F1;const n6=ht.ofType({base:null,key:"type",typeMap:{text:eu}});let bl=F1=class extends dm{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new n6,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return e6(this)}hasVisibleVerticalOffset(){return m3(this)}clone(){return new F1({styleOrigin:ye(this.styleOrigin),symbolLayers:ye(this.symbolLayers),thumbnail:ye(this.thumbnail),callout:ye(this.callout),verticalOffset:ye(this.verticalOffset)})}static fromTextSymbol(e){return new F1({symbolLayers:new ht([eu.fromTextSymbol(e)])})}};v([T({type:P1,json:{write:!0}})],bl.prototype,"verticalOffset",void 0),v([T(t6)],bl.prototype,"callout",void 0),v([T({json:{read:!1,write:!1}})],bl.prototype,"styleOrigin",void 0),v([T({type:n6})],bl.prototype,"symbolLayers",void 0),v([rt({LabelSymbol3D:"label-3d"},{readOnly:!0})],bl.prototype,"type",void 0),bl=F1=v([te("esri.symbols.LabelSymbol3D")],bl);const fm=bl;var U1;const r6=ht.ofType({base:null,key:"type",typeMap:{line:hd,path:s3}}),Uee=ht.ofType({base:null,key:"type",typeMap:{line:hd,path:s3}});let mm=U1=class extends dm{constructor(e){super(e),this.symbolLayers=new r6,this.type="line-3d"}clone(){return new U1({styleOrigin:ye(this.styleOrigin),symbolLayers:ye(this.symbolLayers),thumbnail:ye(this.thumbnail)})}static fromSimpleLineSymbol(e){return new U1({symbolLayers:new ht([hd.fromSimpleLineSymbol(e)])})}};v([T({type:r6,json:{type:Uee}})],mm.prototype,"symbolLayers",void 0),v([rt({LineSymbol3D:"line-3d"},{readOnly:!0})],mm.prototype,"type",void 0),mm=U1=v([te("esri.symbols.LineSymbol3D")],mm);const nu=mm;var G1;const i6=ht.ofType({base:null,key:"type",typeMap:{fill:yl}});let ym=G1=class extends dm{constructor(e){super(e),this.symbolLayers=new i6,this.type="mesh-3d"}clone(){return new G1({styleOrigin:ye(this.styleOrigin),symbolLayers:ye(this.symbolLayers),thumbnail:ye(this.thumbnail)})}static fromSimpleFillSymbol(e){return new G1({symbolLayers:new ht([yl.fromSimpleFillSymbol(e)])})}};v([T({type:i6})],ym.prototype,"symbolLayers",void 0),v([rt({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],ym.prototype,"type",void 0),ym=G1=v([te("esri.symbols.MeshSymbol3D")],ym);const md=ym;let gm=class extends lr{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};v([rt({esriSLS:"simple-line"},{readOnly:!0})],gm.prototype,"type",void 0),v([T({type:Number,cast:Xt,json:{write:!0}})],gm.prototype,"width",void 0),gm=v([te("esri.symbols.LineSymbol")],gm);const Gee=gm;var g3;let co=g3=class extends He{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,n,r){t[n]=r?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,n,r){r?.origin==="web-map"||(t[n]=e)}clone(){return new g3({color:ye(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};v([T({type:["begin","end","begin-end"],json:{write:!0}})],co.prototype,"placement",void 0),v([rt({"line-marker":"line-marker"},{readOnly:!0}),T({json:{origins:{"web-map":{write:!1}}}})],co.prototype,"type",void 0),v([T({type:B5})],co.prototype,"style",void 0),v([jt("style")],co.prototype,"writeStyle",null),v([T({type:lt,value:null,json:{write:{allowNull:!0}}})],co.prototype,"color",null),v([$n("color")],co.prototype,"readColor",null),v([jt("color")],co.prototype,"writeColor",null),co=g3=v([te("esri.symbols.LineSymbolMarker")],co);const jee=co;var v3;const b3=new ps({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let ta=v3=class extends Gee{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,n,r,i,s){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),n!=null&&(o.width=Xt(n)),r!=null&&(o.cap=r),i!=null&&(o.join=i),s!=null&&(o.miterLimit=Xt(s)),o}clone(){return new v3({color:ye(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};v([rt({esriSLS:"simple-line"},{readOnly:!0})],ta.prototype,"type",void 0),v([T({type:b3.apiValues,json:{read:b3.read,write:b3.write}})],ta.prototype,"style",void 0),v([T({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,n)=>({enabled:e!=="round"&&n?.origin==null})}}})],ta.prototype,"cap",void 0),v([T({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,n)=>({enabled:e!=="round"&&n?.origin==null})}}})],ta.prototype,"join",void 0),v([T({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":jee}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],ta.prototype,"marker",void 0),v([T({type:Number,json:{read:!1,write:!1}})],ta.prototype,"miterLimit",void 0),ta=v3=v([te("esri.symbols.SimpleLineSymbol")],ta);const Zi=ta;let vm=class extends lr{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};v([T({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Zi}},json:{default:null,write:!0}})],vm.prototype,"outline",void 0),v([T({type:["simple-fill","picture-fill"],readOnly:!0})],vm.prototype,"type",void 0),vm=v([te("esri.symbols.FillSymbol")],vm);const s6=vm;function zee(e,t,n){return t.imageData?JO({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):o6(t.url,n)}function o6(e,t){if(!Pi(e)){const n=Vee(t);if(n)return hf(n,"images",e)}return Th(e,t)}function $ee(e,t,n,r){if(Ec(e)){const i=Eh(e);if(!i)return;t.contentType=i.mediaType,t.imageData=i.data,n&&n.imageData===t.imageData&&n.url&&Tc(n.url,t,"url",r)}else Tc(e,t,"url",r)}const a6={json:{read:{source:["imageData","url"],reader:zee},write:{writer(e,t,n,r){$ee(e,t,this.source,r)}}}},l6={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,n){const r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=o6(t.url,n)),r}}}};function Vee(e){if(!e)return null;const{origin:t,layer:n}=e;if(t!=="service"&&t!=="portal-item")return null;const r=n?.type;return r==="feature"||r==="stream"?n.parsedUrl?.path:r==="map-image"||r==="tile"?e.url?.path:null}var _3;let Bi=_3=class extends s6{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,n,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t&&(i.outline=t),n!=null&&(i.width=Xt(n)),r!=null&&(i.height=Xt(r)),i}clone(){const e=new _3({color:ye(this.color),height:this.height,outline:ye(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",ye(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};v([rt({esriPFS:"picture-fill"},{readOnly:!0})],Bi.prototype,"type",void 0),v([T(a6)],Bi.prototype,"url",void 0),v([T({type:Number,json:{write:!0}})],Bi.prototype,"xscale",void 0),v([T({type:Number,json:{write:!0}})],Bi.prototype,"yscale",void 0),v([T({type:Number,cast:Xt,json:{write:!0}})],Bi.prototype,"width",void 0),v([T({type:Number,cast:Xt,json:{write:!0}})],Bi.prototype,"height",void 0),v([T({type:Number,cast:Xt,json:{write:!0}})],Bi.prototype,"xoffset",void 0),v([T({type:Number,cast:Xt,json:{write:!0}})],Bi.prototype,"yoffset",void 0),v([T(l6)],Bi.prototype,"source",void 0),Bi=_3=v([te("esri.symbols.PictureFillSymbol")],Bi);const w3=Bi;let _l=class extends lr{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};v([T({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],_l.prototype,"angle",void 0),v([T({type:["simple-marker","picture-marker"],readOnly:!0})],_l.prototype,"type",void 0),v([T({type:Number,cast:Xt,json:{write:!0}})],_l.prototype,"xoffset",void 0),v([T({type:Number,cast:Xt,json:{write:!0}})],_l.prototype,"yoffset",void 0),v([T({cast:e=>e==="auto"?e:Zp(Xt(e)),json:{write:!0}})],_l.prototype,"size",void 0),_l=v([te("esri.symbols.MarkerSymbol")],_l);const c6=_l;var x3;let Ns=x3=class extends c6{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,n){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t!=null&&(r.width=Xt(t)),n!=null&&(r.height=Xt(n)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new x3({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",ye(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};v([T({json:{write:!1}})],Ns.prototype,"color",void 0),v([rt({esriPMS:"picture-marker"},{readOnly:!0})],Ns.prototype,"type",void 0),v([T(a6)],Ns.prototype,"url",void 0),v([T(l6)],Ns.prototype,"source",void 0),v([T({type:Number,cast:Xt,json:{write:!0}})],Ns.prototype,"height",void 0),v([$n("height",["height","size"])],Ns.prototype,"readHeight",null),v([T({type:Number,cast:Xt,json:{write:!0}})],Ns.prototype,"width",void 0),v([T({json:{write:!1}})],Ns.prototype,"size",void 0),Ns=x3=v([te("esri.symbols.PictureMarkerSymbol")],Ns);const ru=Ns;var iu;const u6=ht.ofType({base:null,key:"type",typeMap:{icon:Jc,object:r3,text:eu}});let su=iu=class extends dm{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new u6,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return e6(this)}hasVisibleVerticalOffset(){return m3(this)}clone(){return new iu({verticalOffset:ye(this.verticalOffset),callout:ye(this.callout),styleOrigin:ye(this.styleOrigin),symbolLayers:ye(this.symbolLayers),thumbnail:ye(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new iu({symbolLayers:new ht([Jc.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new iu({symbolLayers:new ht([Jc.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const t=e.data.symbol;return new iu(t?.callout?{symbolLayers:new ht([Jc.fromCIMSymbol(e)]),callout:new f3({size:.5,color:new lt([0,0,0])}),verticalOffset:new P1({screenLength:40})}:{symbolLayers:new ht([Jc.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new iu({symbolLayers:new ht([eu.fromTextSymbol(e)])})}};v([T({type:P1,json:{write:!0}})],su.prototype,"verticalOffset",void 0),v([T(t6)],su.prototype,"callout",void 0),v([T({type:u6,json:{origins:{"web-scene":{write:!0}}}})],su.prototype,"symbolLayers",void 0),v([rt({PointSymbol3D:"point-3d"},{readOnly:!0})],su.prototype,"type",void 0),su=iu=v([te("esri.symbols.PointSymbol3D")],su);const uo=su;var bm;const h6=ht.ofType({base:null,key:"type",typeMap:{extrude:R5,fill:yl,icon:Jc,line:hd,object:r3,text:eu,water:q5}});let _m=bm=class extends dm{constructor(e){super(e),this.symbolLayers=new h6,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&dh(kt.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&dh(kt.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(cg(()=>this.symbolLayers,"after-add",({item:t})=>e(t),pw))}clone(){return new bm({styleOrigin:ye(this.styleOrigin),symbolLayers:ye(this.symbolLayers),thumbnail:ye(this.thumbnail)})}static fromJSON(e){const t=new bm;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const n=t.symbolLayers.at(0),r=t.symbolLayers.at(1);!r.enabled||e.symbolLayers?.[1]&&e.symbolLayers[1].enable===!1||(n.outline={size:r.size,color:r.material!=null?r.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new bm({symbolLayers:new ht([yl.fromSimpleFillSymbol(e)])})}};v([T({type:h6,json:{write:!0}})],_m.prototype,"symbolLayers",void 0),v([rt({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],_m.prototype,"type",void 0),_m=bm=v([te("esri.symbols.PolygonSymbol3D")],_m);const wl=_m;var E3;const T3=new ps({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let ou=E3=class extends s6{constructor(...e){super(...e),this.color=new lt([0,0,0,.25]),this.outline=new Zi,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,n){if(e&&typeof e!="string")return e;const r={};return e&&(r.style=e),t&&(r.outline=t),n&&(r.color=n),r}clone(){return new E3({color:ye(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};v([T()],ou.prototype,"color",void 0),v([T()],ou.prototype,"outline",void 0),v([rt({esriSFS:"simple-fill"},{readOnly:!0})],ou.prototype,"type",void 0),v([T({type:T3.apiValues,json:{read:T3.read,write:T3.write}})],ou.prototype,"style",void 0),ou=E3=v([te("esri.symbols.SimpleFillSymbol")],ou);const xl=ou;var S3;const I3=new ps({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let ho=S3=class extends c6{constructor(...e){super(...e),this.color=new lt([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Zi}normalizeCtorArgs(e,t,n,r){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t!=null&&(i.size=Xt(t)),n&&(i.outline=n),r&&(i.color=r),i}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new S3({angle:this.angle,color:ye(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};v([T()],ho.prototype,"color",void 0),v([jt("color")],ho.prototype,"writeColor",null),v([rt({esriSMS:"simple-marker"},{readOnly:!0})],ho.prototype,"type",void 0),v([T()],ho.prototype,"size",void 0),v([T({type:I3.apiValues,json:{read:I3.read,write:I3.write}})],ho.prototype,"style",void 0),v([T({type:String,json:{write:!0}})],ho.prototype,"path",null),v([T({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Zi}},json:{default:null,write:!0}})],ho.prototype,"outline",void 0),ho=S3=v([te("esri.symbols.SimpleMarkerSymbol")],ho);const ks=ho;var A3;let Ht=A3=class extends lr{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new um,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,n){if(e&&typeof e!="string")return e;const r={};return e&&(r.text=e),t&&(r.font=t),n&&(r.color=n),r}writeLineWidth(e,t,n,r){r&&typeof r!="string"?r.origin:t[n]=e}castLineWidth(e){return Xt(e)}writeLineHeight(e,t,n,r){r&&typeof r!="string"?r.origin:t[n]=e}clone(){return new A3({angle:this.angle,backgroundColor:ye(this.backgroundColor),borderLineColor:ye(this.borderLineColor),borderLineSize:this.borderLineSize,color:ye(this.color),font:this.font&&this.font.clone(),haloColor:ye(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};v([T({type:lt,json:{write:!0}})],Ht.prototype,"backgroundColor",void 0),v([T({type:lt,json:{write:!0}})],Ht.prototype,"borderLineColor",void 0),v([T({type:Number,json:{write:!0},cast:Xt})],Ht.prototype,"borderLineSize",void 0),v([T({type:um,json:{write:!0}})],Ht.prototype,"font",void 0),v([T({...H5,json:{write:!0}})],Ht.prototype,"horizontalAlignment",void 0),v([T({type:Boolean,json:{write:!0}})],Ht.prototype,"kerning",void 0),v([T({type:lt,json:{write:!0}})],Ht.prototype,"haloColor",void 0),v([T({type:Number,cast:Xt,json:{write:!0}})],Ht.prototype,"haloSize",void 0),v([T({type:Boolean,json:{write:!0}})],Ht.prototype,"rightToLeft",void 0),v([T({type:Boolean,json:{write:!0}})],Ht.prototype,"rotated",void 0),v([T({type:String,json:{write:!0}})],Ht.prototype,"text",void 0),v([rt({esriTS:"text"},{readOnly:!0})],Ht.prototype,"type",void 0),v([T({...Y5,json:{write:!0}})],Ht.prototype,"verticalAlignment",void 0),v([T({type:Number,cast:Xt,json:{write:!0}})],Ht.prototype,"xoffset",void 0),v([T({type:Number,cast:Xt,json:{write:!0}})],Ht.prototype,"yoffset",void 0),v([T({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Ht.prototype,"angle",void 0),v([T({type:Number,json:{write:!0}})],Ht.prototype,"width",void 0),v([T({type:Number})],Ht.prototype,"lineWidth",void 0),v([jt("lineWidth")],Ht.prototype,"writeLineWidth",null),v([Nh("lineWidth")],Ht.prototype,"castLineWidth",null),v([T(X5)],Ht.prototype,"lineHeight",void 0),v([jt("lineHeight")],Ht.prototype,"writeLineHeight",null),Ht=A3=v([te("esri.symbols.TextSymbol")],Ht);const au=Ht;var M3;let Cs=M3=class extends lr{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:rm.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new M3({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){const t=e&&"acceptedFormats"in e?e.acceptedFormats:["web"];return this._fetchSymbol({...e,acceptedFormats:t})}async fetchCIMSymbol(e){const t=await this.fetchSymbol({...e,acceptedFormats:["cim"]});if(t?.type!=="cim")throw new ct("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=e!=null?e.cache:null,n=t?this._fetchCacheKey:null;if(t!=null){const o=n&&t.get(n);if(o)return o.clone()}const{resolveWebStyleSymbol:r}=await import("./webStyleSymbolUtils-BW6OUxKy.js");fh(e);const i=r(this,{portal:this.portal},e);i.catch(o=>{kt.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const s=await i;return t?.set(n,s.clone()),s}};v([T({json:{write:!1}})],Cs.prototype,"color",void 0),v([T({type:String,json:{write:!0}})],Cs.prototype,"styleName",void 0),v([T({type:rm,json:{write:!1}})],Cs.prototype,"portal",void 0),v([T({type:String,json:{read:gg,write:Tc}})],Cs.prototype,"styleUrl",void 0),v([T({type:pd,json:{read:!1}})],Cs.prototype,"thumbnail",void 0),v([T({type:String,json:{write:!0}})],Cs.prototype,"name",void 0),v([rt({styleSymbolReference:"web-style"},{readOnly:!0})],Cs.prototype,"type",void 0),v([T()],Cs.prototype,"_fetchCacheKey",null),Cs=M3=v([te("esri.symbols.WebStyleSymbol")],Cs);const El=Cs;function Wee(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function O3(e){switch(e?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const j1={base:lr,key:"type",typeMap:{"simple-fill":xl,"picture-fill":w3,"picture-marker":ru,"simple-line":Zi,"simple-marker":ks,text:au,"label-3d":fm,"line-3d":nu,"mesh-3d":md,"point-3d":uo,"polygon-3d":wl,"web-style":El,cim:dl},errorContext:"symbol"},Zee={base:lr,key:"type",typeMap:{"picture-marker":ru,"simple-marker":ks,"point-3d":uo,cim:dl},errorContext:"symbol"},Bee={base:lr,key:"type",typeMap:{"simple-line":Zi,"line-3d":nu,cim:dl},errorContext:"symbol"},Xee={base:lr,key:"type",typeMap:{"simple-fill":xl,"picture-fill":w3,"polygon-3d":wl,cim:dl},errorContext:"symbol"},Hee={base:lr,key:"type",typeMap:{"picture-marker":ru,"simple-marker":ks,text:au,"web-style":El,cim:dl},errorContext:"symbol"},Yee=Q2({types:j1}),qee={base:lr,key:"type",typeMap:{"simple-fill":xl,"picture-fill":w3,"picture-marker":ru,"simple-line":Zi,"simple-marker":ks,text:au,"line-3d":nu,"mesh-3d":md,"point-3d":uo,"polygon-3d":wl,"web-style":El,cim:dl},errorContext:"symbol"},Jee={base:lr,key:"type",typeMap:{text:au,"label-3d":fm},errorContext:"symbol"},Qee={base:lr,key:"type",typeMap:{"line-3d":nu,"mesh-3d":md,"point-3d":uo,"polygon-3d":wl,"web-style":El,cim:dl},errorContext:"symbol"},Kee={base:lr,key:"type",typeMap:{"label-3d":fm},errorContext:"symbol"},ete=yc(j1);var N3;function tte(e){if(!e)return null;const t={};for(const n in e){const r=Dg(e[n]);r&&(t[n]=r)}return Object.keys(t).length!==0?t:null}function nte(e){if(e==null)return null;const t={};for(const n in e){const r=e[n];r&&(t[n]=r.toJSON())}return Object.keys(t).length!==0?t:null}let qr=N3=class extends bs.ClonableMixin(He){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:tf(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&aV(kt.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),e?.type!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new N3({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const n of[t,this.sourceLayer,this.layer])if(n){if("popupTemplate"in n&&n.popupTemplate)return n.popupTemplate;if(e&&"defaultPopupTemplate"in n&&n.defaultPopupTemplate!=null)return n.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const n=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",n,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:nte(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:He.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if(t?.type==="mesh"){const n={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",n,n,e.action)}}_notifyLayer(e,t,n,r){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const i={graphic:this,property:e,oldValue:t,newValue:n};e==="origin-transform"&&(i.action=r),e==="attributes"&&(i.attributeName=r),this.layer.graphicChanged(i)}_watchMeshGeometryChanges(){this.addHandles([lg(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),lg(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const e=this.geometry;e?.type==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};v([T({value:null,json:{read:tte}})],qr.prototype,"aggregateGeometries",null),v([T({value:null})],qr.prototype,"attributes",null),v([T({value:null,types:a5,json:{read:Dg}})],qr.prototype,"geometry",null),v([T({type:Boolean})],qr.prototype,"isAggregate",void 0),v([T({clonable:"reference"})],qr.prototype,"layer",void 0),v([T({clonable:"reference"})],qr.prototype,"origin",void 0),v([T({type:o5})],qr.prototype,"popupTemplate",void 0),v([T({clonable:"reference"})],qr.prototype,"sourceLayer",void 0),v([T({value:null,types:j1})],qr.prototype,"symbol",null),v([T({clonable:!1,json:{read:!1,write:!1}})],qr.prototype,"_version",void 0),v([T({type:Boolean,value:!0})],qr.prototype,"visible",null),qr=N3=v([te("esri.Graphic")],qr);const d6=qr;function rte(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function ite(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="graphics"}function ste(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="map-notes"&&"sublayers"in e}function ote(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="knowledge-graph"&&"layers"in e}function ate(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="link-chart"&&"layers"in e}function lte(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function cte(e){return e?.type==="subtype-sublayer"}const ute={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function k3(e){const t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function hte(e){return e==="integrated-mesh"||e==="integrated-mesh-3dtiles"}function dte(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function pte(e){const t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e?.source?.type==="feature-layer"}async function fte(e,t){const n=Ut?.findServerInfo(e);if(n?.currentVersion!=null)return n.owningSystemUrl||null;const r=e.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const i=`${e.slice(0,r)}/rest/info`,s=t!=null?t.signal:null,{data:o}=await xn(i,{query:{f:"json"},responseType:"json",signal:s});return o?.owningSystemUrl||null}function p6(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function mte(e){return p6(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function yte(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function gte(e){return!!yte(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const C3=[252,146,31,255],vte=[153,153,153,255],f6={type:"esriSMS",style:"esriSMSCircle",size:6,color:C3,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},m6={type:"esriSLS",style:"esriSLSSolid",width:.75,color:C3},y6={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},bte={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},_te={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},wte={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},xte={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},R3=ks.fromJSON(f6),L3=Zi.fromJSON(m6),D3=xl.fromJSON(y6),Ete=au.fromJSON(bte);function Tte(e){if(e==null)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return R3;case"polyline":return L3;case"polygon":case"extent":return D3}return null}const Ste=ks.fromJSON(_te),Ite=Zi.fromJSON(wte),Ate=xl.fromJSON(xte),Mte=uo.fromSimpleMarkerSymbol(R3),Ote=nu.fromSimpleLineSymbol(L3),Nte=wl.fromSimpleFillSymbol(D3),kte=new md({symbolLayers:new ht([new yl({material:{color:C3},edges:new x5({size:Ms(1),color:new lt(vte)})})])}),Cte=new nu({symbolLayers:new ht([new hd({material:{color:new lt([0,0,0])},size:Ms(1)})])}),Rte=new wl({symbolLayers:new ht([new yl({outline:{color:new lt([0,0,0]),size:Ms(1)}})])});function Lte(e){if(e==null)return null;switch(e.type){case"mesh":return kte;case"point":case"multipoint":return Mte;case"polyline":return Ote;case"polygon":case"extent":return Nte}return null}const g6="#useCIMFallbackSymbology()",lu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function v6(e,t=lu){if(!e)return{symbol:null};const{retainId:n=lu.retainId,ignoreDrivers:r=lu.ignoreDrivers,hasLabelingContext:i=lu.hasLabelingContext,retainCIM:s=lu.retainCIM,cimFallbackEnabled:o=lu.cimFallbackEnabled}=t;let a=null;if(O3(e)||e instanceof El)a=e.clone();else if(e.type==="cim"){const l=e.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=s?e.clone():uo.fromCIMSymbol(e);break;case"CIMLineSymbol":o&&(a=Cte.clone(),t?.logWarning?.(g6,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=Rte.clone(),t?.logWarning?.(g6,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new ct("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof Zi)a=nu.fromSimpleLineSymbol(e);else if(e instanceof ks)a=uo.fromSimpleMarkerSymbol(e);else if(e instanceof ru)a=uo.fromPictureMarkerSymbol(e);else if(e instanceof xl)a=t.geometryType&&t.geometryType==="mesh"?md.fromSimpleFillSymbol(e):wl.fromSimpleFillSymbol(e);else{if(!(e instanceof au))return{error:new ct("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=i?fm.fromTextSymbol(e):uo.fromTextSymbol(e)}return n&&a&&a.type!=="cim"&&(a.id=e.id),!r||a.type==="cim"||a instanceof El||a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function Dte(e,t,n,r){const i=_6(e,{},{context:r,isLabelSymbol:!1});i!=null&&(t[n]=i)}function Pte(e,t,n,r){const i=_6(e,{},{context:r,isLabelSymbol:!0});i!=null&&(t[n]=i)}function b6(e){return O3(e)||e instanceof El}function Fte(e){return e?.type==="polygon-3d"||e?.type==="line-3d"}function _6(e,t,n){if(e==null)return null;const{context:r,isLabelSymbol:i}=n,s=r?.origin,o=r?.messages;if(s==="web-scene"&&!b6(e)){const a=v6(e,{retainCIM:!0,hasLabelingContext:i});return a.symbol!=null?a.symbol.write(t,r):(o?.push(new ct("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:a.error})),null)}return k3(r?.layer)&&Fte(e)?(o?.push(new ct("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${r?.layer?.declaredClass}'.`,{symbol:e,context:r})),null):(s==="web-map"||s==="portal-item"&&!k3(r?.layer))&&b6(e)?(o?.push(new ct("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:r})),null):e.write(t,r)}function z1(e,t){return Yee(e,null,t)}var Ute=":",Gte={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_62678b5c-7b69-42d1-bdc4-82a00485e0c4",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_62678b5c-7b69-42d1-bdc4-82a00485e0c4",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"milespetrov",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.14.2",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/28.1.13356709",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"10187181",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"836",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20250609.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.10/x64",JOURNAL_STREAM:"9:8318",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.4/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"false",GITHUB_RUN_ID:"15714620255",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"milespetrov/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/2617-keynav-temp",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy8yNjE3LWtleW5hdi10ZW1wXCIsXCJQZXJtaXNzaW9uXCI6M30se1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvbWFpblwiLFwiUGVybWlzc2lvblwiOjF9XSIsImFjc2wiOiIxMCIsImF1ZCI6InZzbzpmNGQ4ODY1NC0wMzkxLTRmMzUtYWIxMS0xNDFlYTQ5OTNjYzMiLCJiaWxsaW5nX293bmVyX2lkIjoiVV9rZ0RPQUp0eHJRIiwiZXhwIjoxNzUwMjA1MTUxLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJpYXQiOjE3NTAxODI5NTEsImlzcyI6Imh0dHBzOi8vdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb20iLCJqb2JfaWQiOiI1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYiLCJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJuYmYiOjE3NTAxODI2NTEsIm9pZGNfZXh0cmEiOiJ7XCJhY3RvclwiOlwibWlsZXNwZXRyb3ZcIixcImFjdG9yX2lkXCI6XCIxMDE4NzE4MVwiLFwiYmFzZV9yZWZcIjpcIlwiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0lDbTRMczVBd3FDU1wiLFwiZXZlbnRfbmFtZVwiOlwicHVzaFwiLFwiaGVhZF9yZWZcIjpcIlwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwibWlsZXNwZXRyb3YvcmFtcDQtcGNhcjQvLmdpdGh1Yi93b3JrZmxvd3MvZGVtby1idWlsZC55bWxAcmVmcy9oZWFkcy8yNjE3LWtleW5hdi10ZW1wXCIsXCJqb2Jfd29ya2Zsb3dfc2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCIsXCJyZWZcIjpcInJlZnMvaGVhZHMvMjYxNy1rZXluYXYtdGVtcFwiLFwicmVmX3Byb3RlY3RlZFwiOlwiZmFsc2VcIixcInJlZl90eXBlXCI6XCJicmFuY2hcIixcInJlcG9zaXRvcnlcIjpcIm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X2lkXCI6XCI1Mzk2MDUwMzhcIixcInJlcG9zaXRvcnlfb3duZXJcIjpcIm1pbGVzcGV0cm92XCIsXCJyZXBvc2l0b3J5X293bmVyX2lkXCI6XCIxMDE4NzE4MVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJ1bl9hdHRlbXB0XCI6XCIxXCIsXCJydW5faWRcIjpcIjE1NzE0NjIwMjU1XCIsXCJydW5fbnVtYmVyXCI6XCIxODhcIixcInJ1bm5lcl9lbnZpcm9ubWVudFwiOlwiZ2l0aHViLWhvc3RlZFwiLFwic2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCIsXCJ3b3JrZmxvd1wiOlwiQnVpbGQgZGVtbyBzaXRlIGFuZCBkZXBsb3kgdG8gR2l0SHViIFBhZ2VzXCIsXCJ3b3JrZmxvd19yZWZcIjpcIm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvMjYxNy1rZXluYXYtdGVtcFwiLFwid29ya2Zsb3dfc2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCJ9Iiwib2lkY19zdWIiOiJyZXBvOm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0OmVudmlyb25tZW50OmdpdGh1Yi1wYWdlcyIsIm9yY2hfaWQiOiI0YjM5NzIxZi1kMDFhLTQ3ZDItOGNmNS0wMzBiYWQ3ZmI3MzEuYnVpbGQuX19kZWZhdWx0Iiwib3duZXJfaWQiOiJVX2tnRE9BSnR4clEiLCJwbGFuX2lkIjoiNGIzOTcyMWYtZDAxYS00N2QyLThjZjUtMDMwYmFkN2ZiNzMxIiwicnVuX2lkIjoiMTU3MTQ2MjAyNTUiLCJydW5fbnVtYmVyIjoiMTg4IiwicnVuX3R5cGUiOiJmdWxsIiwicnVubmVyX2lkIjoiMTAwMDAwMDIxMiIsInJ1bm5lcl90eXBlIjoiaG9zdGVkIiwic2NwIjoiQWN0aW9ucy5SZXN1bHRzOjRiMzk3MjFmLWQwMWEtNDdkMi04Y2Y1LTAzMGJhZDdmYjczMTo1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYgQWN0aW9ucy5SdW5uZXI6NGIzOTcyMWYtZDAxYS00N2QyLThjZjUtMDMwYmFkN2ZiNzMxOjVmOTgwNmRkLThmZmItNTAzNy04N2M0LWZjMWNkZTNjNThiZiBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czo0YjM5NzIxZi1kMDFhLTQ3ZDItOGNmNS0wMzBiYWQ3ZmI3MzE6NWY5ODA2ZGQtOGZmYi01MDM3LTg3YzQtZmMxY2RlM2M1OGJmIGdlbmVyYXRlX2lkX3Rva2VuOjRiMzk3MjFmLWQwMWEtNDdkMi04Y2Y1LTAzMGJhZDdmYjczMTo1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYgQWN0aW9ucy5HZW5lcmljUmVhZDowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAiLCJzaGEiOiI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiIn0.kmAkbBjIAXO1eC1WXQwWxI0VXZseOkSzfl9lDEjYQAIv-TpXaw_gqzJI9DM82TP1ZoAvoDTgQlkoRa6yQejWX0X8Dy0X1Xr2hk7hRfnPq6YcxYoqvksqzy3uX_hqt3elFCRqSUxBv33A3yP2KOxWCw1AMTPe9vLYX5kIG5qaIHgo6n-cfWUQyKg38oxNMWYBaymKrZXJx8CQDYjuhCJ0FngAUJ3OH7Xuw8sK7IO9QQ9f6l0vy2nt--7lDk00kYllWcO77val14tA6gSh7NT4UL64356e0GytaoGraTpH6uMxPC37B_QSDghjdpejHe4Z34x4oLkIYRWo-Pdq_zRD1g",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_97147315-e45d-41fa-b240-9ba30473ecd4",INVOCATION_ID:"933f59bb5d194f848b3bae16fc292b09",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"188",GITHUB_TRIGGERING_ACTOR:"milespetrov",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000000212",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"2617-keynav-temp",GITHUB_REPOSITORY:"milespetrov/ramp4-pcar4",STATS_D_D:"false",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"539605038",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.13.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/heads/2617-keynav-temp",GITHUB_ACTOR:"milespetrov",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_62678b5c-7b69-42d1-bdc4-82a00485e0c4",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"10187181",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-3-azure-eastus.actions.githubusercontent.com/88//idtoken/4b39721f-d01a-47d2-8cf5-030bad7fb731/5f9806dd-8ffb-5037-87c4-fc1cde3c58bf?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_62678b5c-7b69-42d1-bdc4-82a00485e0c4",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_62678b5c-7b69-42d1-bdc4-82a00485e0c4",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};function P3(...e){const t=[];for(let r=0;r<e.length;r++){const i=e[r];if(typeof i=="string")t.push(i);else if(Array.isArray(i))t.push.apply(t,i);else if(typeof i=="object")for(const s in i)i[s]&&t.push(s)}const n=t.join(" ");return t.length=0,n}var cu=class{resolve(e){}reject(e){}constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};function jte(e,t){let n=e;for(;n;){if(n===t)return!0;if(!n.parentNode)return!1;n.parentNode instanceof ShadowRoot?n=n.parentNode.host:n=n.parentNode}return!1}function zte(e,t,n){const{subscribe:r}=$te(t);return r(i=>{i.some(s=>jte(e,s.target))&&n()})}var F3={};function $te(e){const t=e.join(","),n=F3[t];if(n!==void 0)return n;const r=new Set,i=new MutationObserver(o=>r.forEach(a=>a(o)));globalThis.document&&i.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const s={subscribe(o){return r.add(o),()=>{r.delete(o),r.size===0&&(i.disconnect(),F3[t]=void 0)}}};return F3[t]=s,s}function Vte(e,t){let n=e;for(;n;){const r=n.closest?.(t);if(r)return r;const i=n.getRootNode?.();if(i===globalThis.document)return null;n=i.host}return null}function Wte(e,t,n){return Vte(e,`[${t}]`)?.getAttribute(t)??n}function Zte(){return typeof globalThis.process=="object"&&!!Gte.ESRI_INTERNAL}function Kt(e,t,...n){try{return e?.call(t,...n)}catch(r){console.error(r,e)}}async function U3(e,t,...n){try{const r=e?.call(t,...n);return r instanceof Promise?await r:r}catch(r){console.error(r,e)}}var Bte=["ar","bg","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nl","nb","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],Xte=new Set(Bte),$1="en",Hte={pt:"pt-PT",nb:"no",zh:"zh-CN"};async function Yte(e,t,n=""){const r=`${t}/${n}`,i=`${r}${e}.json`;return G3[i]??(G3[i]=w6(e,r)),await G3[i]}var G3={};async function w6(e,t){const n=`${t}${e}.json`;try{const r=await fetch(n);if(r.ok)return await r.json()}catch(r){return console.error(r),{}}return e===$1?{}:await w6($1,t)}function x6(e){const t=Wte(e,"lang",globalThis.navigator?.language||$1);return{lang:t,t9nLocale:E6(t)}}function E6(e){const[t,n]=e.split("-"),r=t.toLowerCase();let i=r;return n&&(i=`${r}-${n.toUpperCase()}`),i=Hte[i]??i,Xte.has(i)?i:n?E6(r):$1}function qte(e,t,n,r){let i;const s=()=>void Jte(e,t(),r).then(o=>{(i?.lang!==o.lang||i.t9nLocale!==o.t9nLocale||i.t9nStrings!==o.t9nStrings)&&n(o),i=o}).catch(console.error);return queueMicrotask(s),zte(e,["lang"],s)}async function Jte(e,t,n=e.tagName.toLowerCase().split("-").slice(1).join("-")){const{lang:r,t9nLocale:i}=x6(e),s=`${t}/${n}/t9n`,o=n===null?{}:await Yte(i,s,"messages.");return{lang:r,t9nLocale:i,t9nStrings:o}}var j3=e=>e.replace(Qte,(t,n)=>`${n===0?"":"-"}${t.toLowerCase()}`),Qte=/[A-Z]+(?![a-z])|[A-Z]/gu;function Kte(e,t){const n=t/ene;let r=0;const i=setInterval(()=>{r+=n,r>=t&&(clearInterval(i),e())},n);return i}var ene=4;function T6(e){return e!==void 0}function S6(e){let t=e;for(;t=t.parentNode??t.host;)if(t?.constructor?.lumina){const n=t;return n.manager?.loadedCalled||n._offspring.push(e),n._postLoad.promise}return!1}var V1=Object.defineProperty;function tne(e){const t=e.split(Ute);return t.length===1?[t[0],j3(t[0])]:t}var nne=globalThis.HTMLElement??tne;(class extends nne{constructor(){super(),this._store={},this._pendingAttributes=[],this._postLoad=new cu,this._postLoaded=new cu,this._offspring=[],this._saveInstanceProperties();const e=this.constructor;e._LitConstructor?this._initializeComponent({a:e._LitConstructor}):e._loadPromise.then(this._initializeComponent.bind(this)).catch(t=>{this._postLoaded.reject(t),setTimeout(()=>{throw t})})}static{this.lumina=!0}static _initializePrototype(){this._properties?.forEach(this._bindProp,this),this._asyncMethods?.forEach(this._bindAsync,this),this._syncMethods?.forEach(this._bindSync,this)}static _bindProp(e){V1(this.prototype,e,{configurable:!0,enumerable:!0,get(){return this._store[e]},set(t){this._store[e]=t}})}static _bindAsync(e){V1(this.prototype,e,{async value(...t){return this._litElement||await this._postLoaded.promise,await this._litElement[e](...t)},configurable:!0})}static _bindSync(e){V1(this.prototype,e,{value(...t){return this._litElement[e](...t)},configurable:!0})}get manager(){return this._litElement?.manager}_saveInstanceProperties(){const e=this.constructor,t=this;e._properties?.forEach(n=>{Object.hasOwn(this,n)&&(this._store[n]=t[n],delete t[n])})}attributeChangedCallback(e,t,n){this._litElement?.attributeChangedCallback(e,t,n),this._litElement||this._pendingAttributes.push(e)}connectedCallback(){this._litElement?this._litElement.connectedCallback?.():queueMicrotask(()=>{this._ancestorLoad=S6(this)})}disconnectedCallback(){this._litElement?.disconnectedCallback?.()}async componentOnReady(){return await this._postLoaded.promise,this}_initializeComponent(e){const t=this.constructor,n=t._name,r=this._store,i=Object.values(e).find(c=>c.tagName===n),s=`${n}--lazy`;let o=i;for(;o&&!Object.hasOwn(o,"lumina");)o=Object.getPrototypeOf(o);ine(o),!t._LitConstructor&&(t._LitConstructor=i,customElements.define(s,i)),i.lazy=this;const a=document.createElement(s);i.lazy=void 0,this._litElement=a,this._store=a,this._pendingAttributes.forEach(c=>{const d=this.getAttribute(c);a.attributeChangedCallback(c,null,d)}),Object.entries(r).forEach(rne,a);const l=this.isConnected;(l||this._ancestorLoad)&&(a.connectedCallback?.(),l||a.disconnectedCallback())}addController(){}requestUpdate(){this._litElement?.requestUpdate()}});function rne([e,t]){this[e]=t}function ine(e){const t=e.prototype,n=Element.prototype;Object.hasOwn(t,"isConnected")||(t.setAttribute=function(r,i){n.setAttribute.call(this.el,r,i)},t.removeAttribute=function(r){n.removeAttribute.call(this.el,r)},V1(t,"isConnected",{get(){return Reflect.get(n,"isConnected",this.el)}}))}var W1={};function sne(e,t){if(t){const n=e.constructor.elementProperties;e.manager.internals.members=Object.fromEntries(Array.from(n,([r,i])=>i.noAccessor?void 0:[r,[(i.readOnly?2048:0)|(i.state?32:16)]]).filter(T6))}else{const n=e.constructor,r=n.__registerControllers?.(e)??void 0;if(n.__registerControllers=void 0,typeof r!="object")throw new Error("Failed to retrieve component meta");e.manager.internals.members=Object.fromEntries(Object.entries(r).filter(([i,[s]])=>(s&63)!==0))}}function one(e,t=8){return e==null||typeof e=="object"||typeof e=="function"?e:t&4?e==="false"?!1:e===""||!!e:t&2?Number.parseFloat(e):t&1?String(e):e}var ane=(e,t)=>e.manager.internals.members?.[t]?.[0],z3=Symbol.for("controller"),lne=e=>typeof e=="object"&&e!==null&&(z3 in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e),wm;function yd(e){wm!==e&&(wm=e,queueMicrotask(()=>{wm===e&&(wm=void 0)}))}function gd(e){return wm}var uu=[];function I6(e){if(e===void 0){uu=[];return}const t=uu.indexOf(e);uu=t===-1?[...uu,e]:uu.slice(0,t+1),queueMicrotask(()=>{uu=[]})}function A6(){return uu}var vd;function cne(e){vd!==e&&(vd=e,queueMicrotask(()=>{vd===e&&(vd=void 0)}))}function une(){const e=vd;return vd=void 0,e}var hne=async(e,t)=>{const n=$3(e);if(n===void 0)return e;if(await n.ready,typeof t=="function"){const r=n.watchExports(i=>t(i,r))}return n.exports},dne=async e=>{const t=$3(e);return await t.ready,t},$3=e=>{const t=gd().manager.internals.resolveExports(e);if(t!==void 0)return t;if(lne(e))return e;const n=une();if(n!==void 0)return n},na={setter:!1,getter:!1,readOnly:!1},Z1=new WeakMap,M6;M6=z3;var V3=class{constructor(e){this._callbacks={hostConnected:[],hostDisconnected:[],hostLoad:[],hostLoaded:[],hostUpdate:[],hostUpdated:[],hostDestroy:[],hostLifecycle:[]},this._ready=new cu,this._lifecycleCleanups=[],this.connectedCalled=!1,this._loadCalled=!1,this.loadedCalled=!1,this[M6]=!0,this.ready=this._ready.promise,this._exports=k6(this),this._exportWatchers=new Set;const t=e??gd();this.component=t,this.component.addController(this),this.component.manager===void 0||(I6(this),queueMicrotask(()=>this.catchUpLifecycle()))}catchUpLifecycle(){const{manager:e}=this.component;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e._loadCalled&&this.triggerLoad().then(()=>{e.loadedCalled&&this.triggerLoaded()}).catch(console.error)}get exports(){return this._exports}set exports(e){const t=this._exports;t!==e&&(this._exports=e,this._exportWatchers.forEach(Kt),this.connectedCalled&&this.assignedProperty!==!1&&this.component.requestUpdate(this.assignedProperty,t)),this._ready.resolve(e)}setProvisionalExports(e,t=!0){this._exports=t?k6(e):e,this._exportWatchers.forEach(Kt)}watchExports(e){const t=()=>e(this._exports);return this._exportWatchers.add(t),()=>void this._exportWatchers.delete(t)}get use(){return yd(this.component),hne}get useRef(){return yd(this.component),dne}get useRefSync(){return yd(this.component),$3}controllerRemoved(){this.component.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this._callbacks.hostConnected.push(e)}onDisconnected(e){this._callbacks.hostDisconnected.push(e)}onLoad(e){this._callbacks.hostLoad.push(e)}onLoaded(e){this._callbacks.hostLoaded.push(e)}onUpdate(e){this._callbacks.hostUpdate.push(e)}onUpdated(e){this._callbacks.hostUpdated.push(e)}onDestroy(e){this._callbacks.hostDestroy.push(e)}onLifecycle(e){this._callbacks.hostLifecycle.push(e),this.connectedCalled&&this.component.el.isConnected&&this._callLifecycle(e)}triggerConnected(){const e=this;e.hostConnected&&Kt(e.hostConnected,e),this._callbacks.hostConnected.forEach(Kt),this.triggerLifecycle(),this.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&Kt(e.hostDisconnected,e),this._callbacks.hostDisconnected.forEach(Kt),this._lifecycleCleanups.forEach(Kt),this._lifecycleCleanups=[]}async triggerLoad(){if(this._loadCalled)return;this._loadCalled=!0;const e=this;e.hostLoad&&await U3(e.hostLoad,e),this._callbacks.hostLoad.length>0&&await Promise.allSettled(this._callbacks.hostLoad.map(U3)),this._ready.resolve(this._exports)}triggerLoaded(){if(this.loadedCalled)return;const e=this;e.hostLoaded&&Kt(e.hostLoaded,e),this._callbacks.hostLoaded.forEach(Kt),this.loadedCalled=!0}triggerUpdate(e){const t=this;t.hostUpdate&&Kt(t.hostUpdate,t,e),this._callbacks.hostUpdate.forEach(O6,e)}triggerUpdated(e){const t=this;t.hostUpdated&&Kt(t.hostUpdated,t,e),this._callbacks.hostUpdated.forEach(O6,e)}triggerDestroy(){const e=this;e.hostDestroy&&Kt(e.hostDestroy,e),this._callbacks.hostDestroy.forEach(Kt)}triggerLifecycle(){const e=this;e.hostLifecycle&&this._callLifecycle(()=>e.hostLifecycle()),this._callbacks.hostLifecycle.forEach(this._callLifecycle,this)}_callLifecycle(e){yd(this.component);const t=Kt(e);(Array.isArray(t)?t:[t]).forEach(n=>{typeof n=="function"?this._lifecycleCleanups.push(n):typeof n=="object"&&typeof n.remove=="function"&&this._lifecycleCleanups.push(n.remove)})}};function O6(e){Kt(e,void 0,this)}var N6=V3;function k6(e){if(typeof e!="object"&&typeof e!="function"||e===null)return e;const t=new Proxy(e,{get(n,r,i){if(!(pne.has(r)&&r in n&&n[r]===t)&&(r in n||r in Promise.prototype||typeof r=="symbol"))return typeof n=="function"?n[r]:Reflect.get(n,r,i)},set:(n,r,i,s)=>Reflect.set(n,r,i,s)});return t}var pne=new Set(["exports","_exports"]);function fne(e,t,n){const r=Object.keys(e),i=r.length;hu===void 0&&queueMicrotask(W3),hu??(hu=new Map);let s=hu.get(e);return s===void 0&&(s={callbacks:[],keyCount:i},hu.set(e,s)),s.keyCount!==i&&(s.callbacks.forEach(o=>o(r)),s.callbacks=[],s.keyCount=i),s.callbacks.push(o=>{const a=c=>Kt(t,null,c),l=o[i];l===void 0?a(void 0):e[l]===n?a(l):a(void 0)}),n}var hu=void 0;function W3(){Array.from(hu?.entries()??[]).forEach(([e,{callbacks:t}])=>{const n=Object.keys(e);t.forEach(r=>r(n))}),hu=void 0}function du(e,t,n){var r;const i=t,s=e.manager.internals;(r=s.allWatchers)[i]??(r[i]=[]);const o=s.allWatchers[i],a=n,l=(c,d,p)=>Kt(a,null,c,d,p);return o.push(l),()=>{const c=o.indexOf(l);c!==-1&&o.splice(c,1)}}var mne=class{constructor(e){this.enabledWatchers={},this.allWatchers={},this.enableReadonly=()=>{if(this.enableReadonly=void 0,!this.component.manager.isLit)return;const t=this.component.manager.internals;Object.entries(t.members).forEach(([n,[r]])=>{var i;r&2048&&((i=t.setters)[n]??(i[n]=[]),t.setters[n].push(t.readonlySetter))})},this.trackedValue=B3,this.keyTrackers=[],this.getters={},this.setters={},this.accessorGetter={},this.accessorSetter={},this._exports=new WeakMap,this.readonlySetter=(t,n,r)=>{if(na.readOnly)return t;throw new Error(`Cannot assign to read-only property "${r}" of ${this.component.el.tagName.toLowerCase()}. Trying to assign "${String(t)}"`)},this.component=e}firePropTrackers(e,t){const n=this.keyTrackers;this.trackedValue=B3,this.keyTrackers=[],n.forEach(r=>r(e,t))}getSetProxy(e){const t=this.component,n=t.constructor.prototype;if(this._getSetProxy(n,e,"class"),t.manager.isLit)return;const r=t.el.constructor.prototype;n!==r&&this._getSetProxy(r,e,"html")}_getSetProxy(e,t,n){const r=this.component,i=ane(r,t);let s;do s=Object.getOwnPropertyDescriptor(e,t);while(!s&&(e=Object.getPrototypeOf(e)));if(!s)return;const o=s.get,a=s.set,l=B1 in o,c=B1 in a;if(l&&c)return;const d=!l,p=!c,f=d?function(){let g=o.call(this);const b=Z1.get(this);if(na.getter||b===void 0)return g;const E=b.manager.internals;g=E.accessorGetter[t](g,t);const S=E.getters[t]??Z3;for(let I=0;I<S.length;I++)g=S[I](g,t);return g}:o,y=p?function(g){const b=o.call(this),E=Z1.get(this);if(E===void 0){a.call(this,g);return}let S=E.manager.isLit?g??void 0:one(g,i);const I=E.manager.internals;if(S===b)a.call(this,S);else{const w=na.setter?Z3:I.setters[t]??Z3;for(let _=0;_<w.length&&(S=w[_](S,b,t),S!==b);_++);S=I.accessorSetter[t](S,b,t),a.call(this,S),S!==b&&I.enabledWatchers[t]?.forEach(_=>_(S,b,t))}I.keyTrackers.length>0&&I?.firePropTrackers(t,g)}:a;d&&(f[B1]=!0),p&&(y[B1]=!0),Object.defineProperty(e,t,{...s,get:f,set:y})}markExports(e,t){(typeof t=="object"&&t!==null||typeof t=="function")&&this._exports.set(t,e)}resolveExports(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this._exports.get(e)}},Z3=[],B1=Symbol(),B3=Symbol();function X3(e,t,n){const r=e.manager.internals;return r.trackedValue!==B3&&r.trackedValue!==n&&r.firePropTrackers(void 0,void 0),r.keyTrackers.length===0&&queueMicrotask(()=>r.firePropTrackers(void 0,void 0)),r.trackedValue=n,r.keyTrackers.push((i,s)=>Kt(t,void 0,n===s?i:void 0)),n}function H3(e=[gd(),...A6()],t,n){const r=Array.isArray(e)?e:[e];let i=r.length+1;const s=a=>{i-=1,a!==void 0&&(i=Math.min(i,0)),i===0&&t(a)};r.forEach(a=>fne(a,l=>s(l===void 0?void 0:{key:l,host:a,isReactive:!1}),n));const o=r.find(a=>"manager"in a&&typeof a.manager=="object"&&a.manager.component===a);return o&&X3(o,a=>s(a===void 0?void 0:{key:a,host:o,isReactive:!0}),n),n}function yne(e){na.setter=!0;try{return e()}finally{na.setter=!1}}function gne(e){na.getter=!0;try{return e()}finally{na.getter=!1}}function vne(e){na.readOnly=!0;try{return e()}finally{na.readOnly=!1}}var Y3=e=>(...t)=>{const n=A6(),r=new e(...t),i=r.exports;I6(n.at(-1));const s=r.component.manager.internals;s.markExports(r,i),r.watchExports(a=>s.markExports(r,a)),cne(r);const o=[r.component,...n].reverse();return H3(o,a=>a===void 0?void 0:bne(r,a,i),i)};function bne(e,{host:t,key:n,isReactive:r},i){const s=t,o=s[n]!==e.exports,a=s[n]!==i,l=i!==e.exports;if(o&&!a&&l&&(s[n]=e.exports),t===e.component){if(r){const c=e.component.manager.internals;a&&c.markExports(e,s[n]),du(e.component,n,d=>{d!==e.exports&&c.markExports(e,d)})}e.assignedProperty=r?void 0:n}e.watchExports(()=>{if(s[n]===e.exports)return;const c=e.component.manager;c.internals.setters[n]?.includes(c.internals.readonlySetter)?vne(()=>{s[n]=e.exports}):s[n]=e.exports})}var _ne=(e,t)=>new wne(e,t),wne=class extends N6{constructor(e,t){const n="addController"in e,r=new Set;function i(l){r.add(l),!(z3 in l)&&e.renderRoot&&e.el.isConnected&&l.hostConnected?.()}function s(l){r.delete(l),l.controllerRemoved?.()}const o=e;if(o.addController=i,o.removeController=s,!n){const l=t??e.constructor.__forceUpdate;o.requestUpdate=()=>l(e)}super(e),this.internals=new mne(this.component),this.destroyed=!1,this._updatePromise=new cu,this._originalLifecycles={},this.isLit=n,this.component.manager=this,sne(e,n),this._controllers=r,this.exports=void 0,this.hasDestroy=q3 in this.component&&typeof this.component.destroy=="function",this._bindLifecycleMethods();const a=this.internals;Object.keys(a.members).forEach(l=>{a.accessorGetter[l]=C6,a.accessorSetter[l]=C6,a.getSetProxy(l)}),n?this.internals.enabledWatchers=this.internals.allWatchers:Object.defineProperty(e,"updateComplete",{get:async()=>await this._updatePromise.promise}),queueMicrotask(a.enableReadonly),yd(e),Z1.set(e.el,e),Z1.set(e,e)}_bindLifecycleMethods(){const e=this.component,t=this.isLit,n=e.el===e;this._originalLifecycles={_connectedCallback:t||n?void 0:e.connectedCallback,_disconnectedCallback:t||n?void 0:e.disconnectedCallback,_load:t?e.load:e.componentWillLoad,_loaded:t?e.loaded:e.componentDidLoad,_willUpdate:t?void 0:e.componentWillUpdate,_updated:t?void 0:e.componentDidUpdate,_destroy:e.destroy};const r=this._connectedCallback.bind(this),i=this._disconnectedCallback.bind(this),s=this._update.bind(this),o=this._updated.bind(this);t?e.constructor.prototype.addController.call(e,{hostConnected:r,hostDisconnected:i,hostUpdate:s,hostUpdated:o}):(e.connectedCallback=r,e.disconnectedCallback=i,e.componentWillLoad=this._load.bind(this),e.componentDidLoad=this._loaded.bind(this),e.componentWillUpdate=s,e.componentDidUpdate=o),this.hasDestroy&&(e.destroy=this.destroy.bind(this))}_connectedCallback(){if(this.destroyed){const t=this.component.el.tagName.toLowerCase();throw this.component.el.remove(),new Error(`The ${t} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${q3} prop.`)}this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout);const e=this.internals;e.enabledWatchers=e.allWatchers,W3(),e.enableReadonly?.(),this._controllers.forEach(Ene),this._originalLifecycles._connectedCallback?.call(this.component)}_disconnectedCallback(){this.destroyed||(this._controllers.forEach(Tne),this._originalLifecycles._disconnectedCallback?.call(this.component),this.hasDestroy&&this._setAutoDestroyTimeout())}async _load(){await Promise.allSettled(Array.from(this._controllers,Sne)),await this._originalLifecycles._load?.call(this.component),this.hasDestroy&&du(this.component,q3,()=>this._setAutoDestroyTimeout())}_loaded(){this._controllers.forEach(Ine),this._originalLifecycles._loaded?.call(this.component)}_update(){const e=this.component;return this._controllers.forEach(Ane,e.$changes),this._originalLifecycles._willUpdate?.call(this.component)}_updated(){const e=this.component;if(this._controllers.forEach(Mne,e.$changes),this._originalLifecycles._updated?.call(this.component),this.isLit)e.$changes=new Map;else{const t=this._updatePromise;this._updatePromise=new cu,t.resolve(!0)}}async destroy(){if(!this.destroyed){if(this.component.el.isConnected){this.hasDestroy=!1;try{this.component.el.remove()}finally{this.hasDestroy=!0}}this._autoDestroyTimeout=void 0,this.destroyed=!0,this._controllers.forEach(One),this._controllers.clear(),await this._originalLifecycles._destroy?.call(this.component)}}_setAutoDestroyTimeout(){if(this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout),!this.component.el.isConnected&&!this.component.autoDestroyDisabled){const e=()=>void this.destroy().catch(console.error);this._autoDestroyTimeout=Kte(e,xne)}}},q3="autoDestroyDisabled",xne=1e3,C6=e=>e;function Ene(e){"triggerConnected"in e?e.triggerConnected():Kt(e.hostConnected,e)}function Tne(e){"triggerDisconnected"in e?e.triggerDisconnected():Kt(e.hostDisconnected,e)}async function Sne(e){"triggerLoad"in e?await e.triggerLoad():await U3(e.hostLoad,e)}function Ine(e){"triggerLoaded"in e?e.triggerLoaded():Kt(e.hostLoaded,e)}function Ane(e){"triggerUpdate"in e?e.triggerUpdate(this):Kt(e.hostUpdate,e,this)}function Mne(e){"triggerUpdated"in e?e.triggerUpdated(this):Kt(e.hostUpdated,e,this)}function One(e){"triggerDestroy"in e?e.triggerDestroy():Kt(e.hostDestroy,e)}var Nne=e=>R6(void 0,e),kne=e=>t=>R6(t,e),Cne=class extends V3{constructor(e,t){super(e);const n=this.exports;try{yd(this.component);const r=t(this.component,this),i=this.exports!==n;if(r instanceof Promise){i||this.setProvisionalExports(r);const s=r.then(o=>{this.exports=o,super.catchUpLifecycle()}).catch(o=>{this._ready.reject(o),console.error(o)});this.onLoad(async()=>await s)}else(!i||r!==void 0)&&(this.exports=r),queueMicrotask(()=>super.catchUpLifecycle())}catch(r){this._ready.reject(r),console.error(r)}}catchUpLifecycle(){}},R6=Y3(Cne),Rne=(e,t)=>new Lne(e,t),Lne=class extends V3{constructor(e,t){super(),this._attributes=e,this._callback=t,this._observer=new MutationObserver(n=>{n.forEach(r=>{e.includes(r.attributeName)&&t.call(this.component,this.component.el.getAttribute(r.attributeName),r.oldValue,r.attributeName)})})}hostConnected(){this._attributes.forEach(e=>{this.component.el.hasAttribute(e)&&this._callback.call(this.component,null,this.component.el.getAttribute(e),e)}),this._observer.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this._attributes})}hostDisconnected(){this._observer.disconnect()}},L6=e=>(t={})=>Nne((n,r)=>{const i=x6(n.el),s={_lang:i.lang,_t9nLocale:i.t9nLocale,_loading:!0},o=n;r.onLifecycle(()=>qte(n.el,()=>e("./assets"),({t9nLocale:l,t9nStrings:c,lang:d})=>{const p={...c,_lang:d,_t9nLocale:l,_loading:!1};r.exports=p;const f=c.componentLabel;typeof f=="string"&&"label"in n&&n.label==null&&(n.label??(n.label=f)),a(o.messageOverrides)},t.name));function a(l){const c=r.exports,d=c._original??c,p=D6(d,l);l&&(p._original=d),r.exports=p}return"messageOverrides"in o&&r.onLifecycle(()=>du(o,"messageOverrides",a)),t.blocking?(r.setProvisionalExports(s,!1),r.ready):s});function D6(e,t){if(!t)return e;const n={...e};return Object.entries(t).forEach(([r,i])=>{typeof i=="object"?n[r]=D6(e[r],i):n[r]=i??e[r]}),n}var P6=e=>Dne,F6="arcgisPropertyChange";function Dne(...e){const t=gd();let n=t[F6];return t.manager.isLit&&(n=t.constructor.$createEvent(F6,void 0,t)),t.manager.onLoad(()=>t.manager.onLifecycle(()=>e.map(r=>du(t,r,()=>n.emit({name:r}))))),n}const X1=globalThis,J3=X1.ShadowRoot&&(X1.ShadyCSS===void 0||X1.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Q3=Symbol(),U6=new WeakMap;let G6=class{constructor(e,t,n){if(this._$cssResult$=!0,n!==Q3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(J3&&e===void 0){const n=t!==void 0&&t.length===1;n&&(e=U6.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&U6.set(t,e))}return e}toString(){return this.cssText}};const Pne=e=>new G6(typeof e=="string"?e:e+"",void 0,Q3),j6=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[s+1],e[0]);return new G6(n,e,Q3)},Fne=(e,t)=>{if(J3)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),i=X1.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,e.appendChild(r)}},z6=J3?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return Pne(n)})(e):e,{is:Une,defineProperty:Gne,getOwnPropertyDescriptor:jne,getOwnPropertyNames:zne,getOwnPropertySymbols:$ne,getPrototypeOf:Vne}=Object,H1=globalThis,$6=H1.trustedTypes,Wne=$6?$6.emptyScript:"",Zne=H1.reactiveElementPolyfillSupport,xm=(e,t)=>e,K3={toAttribute(e,t){switch(t){case Boolean:e=e?Wne:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},V6=(e,t)=>!Une(e,t),W6={attribute:!0,type:String,converter:K3,reflect:!1,hasChanged:V6};Symbol.metadata??=Symbol("metadata"),H1.litPropertyMetadata??=new WeakMap;let bd=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=W6){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),r=this.getPropertyDescriptor(e,n,t);r!==void 0&&Gne(this.prototype,e,r)}}static getPropertyDescriptor(e,t,n){const{get:r,set:i}=jne(this.prototype,e)??{get(){return this[t]},set(s){this[t]=s}};return{get(){return r?.call(this)},set(s){const o=r?.call(this);i.call(this,s),this.requestUpdate(e,o,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??W6}static _$Ei(){if(this.hasOwnProperty(xm("elementProperties")))return;const e=Vne(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(xm("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(xm("properties"))){const t=this.properties,n=[...zne(t),...$ne(t)];for(const r of n)this.createProperty(r,t[r])}const e=this[Symbol.metadata];if(e!==null){const t=litPropertyMetadata.get(e);if(t!==void 0)for(const[n,r]of t)this.elementProperties.set(n,r)}this._$Eh=new Map;for(const[t,n]of this.elementProperties){const r=this._$Eu(t,n);r!==void 0&&this._$Eh.set(r,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const r of n)t.unshift(z6(r))}else e!==void 0&&t.push(z6(e));return t}static _$Eu(e,t){const n=t.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Fne(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EC(e,t){const n=this.constructor.elementProperties.get(e),r=this.constructor._$Eu(e,n);if(r!==void 0&&n.reflect===!0){const i=(n.converter?.toAttribute!==void 0?n.converter:K3).toAttribute(t,n.type);this._$Em=e,i==null?this.removeAttribute(r):this.setAttribute(r,i),this._$Em=null}}_$AK(e,t){const n=this.constructor,r=n._$Eh.get(e);if(r!==void 0&&this._$Em!==r){const i=n.getPropertyOptions(r),s=typeof i.converter=="function"?{fromAttribute:i.converter}:i.converter?.fromAttribute!==void 0?i.converter:K3;this._$Em=r,this[r]=s.fromAttribute(t,i.type),this._$Em=null}}requestUpdate(e,t,n){if(e!==void 0){if(n??=this.constructor.getPropertyOptions(e),!(n.hasChanged??V6)(this[e],t))return;this.P(e,t,n)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,t,n){this._$AL.has(e)||this._$AL.set(e,t),n.reflect===!0&&this._$Em!==e&&(this._$Ej??=new Set).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[r,i]of this._$Ep)this[r]=i;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[r,i]of n)i.wrapped!==!0||this._$AL.has(r)||this[r]===void 0||this.P(r,this[r],i)}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach(n=>n.hostUpdate?.()),this.update(t)):this._$EU()}catch(n){throw e=!1,this._$EU(),n}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach(t=>t.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&=this._$Ej.forEach(t=>this._$EC(t,this[t])),this._$EU()}updated(e){}firstUpdated(e){}};bd.elementStyles=[],bd.shadowRootOptions={mode:"open"},bd[xm("elementProperties")]=new Map,bd[xm("finalized")]=new Map,Zne?.({ReactiveElement:bd}),(H1.reactiveElementVersions??=[]).push("2.0.4");const eT=globalThis,Y1=eT.trustedTypes,Z6=Y1?Y1.createPolicy("lit-html",{createHTML:e=>e}):void 0,tT="$lit$",ra=`lit$${Math.random().toFixed(9).slice(2)}$`,nT="?"+ra,Bne=`<${nT}>`,pu=document,Em=()=>pu.createComment(""),Tm=e=>e===null||typeof e!="object"&&typeof e!="function",rT=Array.isArray,B6=e=>rT(e)||typeof e?.[Symbol.iterator]=="function",iT=`[ 	
\f\r]`,Sm=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,X6=/-->/g,H6=/>/g,fu=RegExp(`>|${iT}(?:([^\\s"'>=/]+)(${iT}*=${iT}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Y6=/'/g,q6=/"/g,J6=/^(?:script|style|textarea|title)$/i,Q6=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),_d=Q6(1),Xne=Q6(2),ia=Symbol.for("lit-noChange"),Un=Symbol.for("lit-nothing"),K6=new WeakMap,mu=pu.createTreeWalker(pu,129);function eL(e,t){if(!rT(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Z6!==void 0?Z6.createHTML(t):t}const tL=(e,t)=>{const n=e.length-1,r=[];let i,s=t===2?"<svg>":t===3?"<math>":"",o=Sm;for(let a=0;a<n;a++){const l=e[a];let c,d,p=-1,f=0;for(;f<l.length&&(o.lastIndex=f,d=o.exec(l),d!==null);)f=o.lastIndex,o===Sm?d[1]==="!--"?o=X6:d[1]!==void 0?o=H6:d[2]!==void 0?(J6.test(d[2])&&(i=RegExp("</"+d[2],"g")),o=fu):d[3]!==void 0&&(o=fu):o===fu?d[0]===">"?(o=i??Sm,p=-1):d[1]===void 0?p=-2:(p=o.lastIndex-d[2].length,c=d[1],o=d[3]===void 0?fu:d[3]==='"'?q6:Y6):o===q6||o===Y6?o=fu:o===X6||o===H6?o=Sm:(o=fu,i=void 0);const y=o===fu&&e[a+1].startsWith("/>")?" ":"";s+=o===Sm?l+Bne:p>=0?(r.push(c),l.slice(0,p)+tT+l.slice(p)+ra+y):l+ra+(p===-2?a:y)}return[eL(e,s+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};class py{constructor({strings:t,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=t.length-1,l=this.parts,[c,d]=tL(t,n);if(this.el=py.createElement(c,r),mu.currentNode=this.el.content,n===2||n===3){const p=this.el.content.firstChild;p.replaceWith(...p.childNodes)}for(;(i=mu.nextNode())!==null&&l.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const p of i.getAttributeNames())if(p.endsWith(tT)){const f=d[o++],y=i.getAttribute(p).split(ra),g=/([.?@])?(.*)/.exec(f);l.push({type:1,index:s,name:g[2],strings:y,ctor:g[1]==="."?rL:g[1]==="?"?iL:g[1]==="@"?sL:Im}),i.removeAttribute(p)}else p.startsWith(ra)&&(l.push({type:6,index:s}),i.removeAttribute(p));if(J6.test(i.tagName)){const p=i.textContent.split(ra),f=p.length-1;if(f>0){i.textContent=Y1?Y1.emptyScript:"";for(let y=0;y<f;y++)i.append(p[y],Em()),mu.nextNode(),l.push({type:2,index:++s});i.append(p[f],Em())}}}else if(i.nodeType===8)if(i.data===nT)l.push({type:2,index:s});else{let p=-1;for(;(p=i.data.indexOf(ra,p+1))!==-1;)l.push({type:7,index:s}),p+=ra.length-1}s++}}static createElement(t,n){const r=pu.createElement("template");return r.innerHTML=t,r}}function yu(e,t,n=e,r){if(t===ia)return t;let i=r!==void 0?n._$Co?.[r]:n._$Cl;const s=Tm(t)?void 0:t._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),s===void 0?i=void 0:(i=new s(e),i._$AT(e,n,r)),r!==void 0?(n._$Co??=[])[r]=i:n._$Cl=i),i!==void 0&&(t=yu(e,i._$AS(e,t.values),i,r)),t}let nL=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,r=(e?.creationScope??pu).importNode(t,!0);mu.currentNode=r;let i=mu.nextNode(),s=0,o=0,a=n[0];for(;a!==void 0;){if(s===a.index){let l;a.type===2?l=new Pp(i,i.nextSibling,this,e):a.type===1?l=new a.ctor(i,a.name,a.strings,this,e):a.type===6&&(l=new oL(i,this,e)),this._$AV.push(l),a=n[++o]}s!==a?.index&&(i=mu.nextNode(),s++)}return mu.currentNode=pu,r}p(e){let t=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}};class Pp{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,n,r,i){this.type=2,this._$AH=Un,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&t?.nodeType===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=yu(this,t,n),Tm(t)?t===Un||t==null||t===""?(this._$AH!==Un&&this._$AR(),this._$AH=Un):t!==this._$AH&&t!==ia&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):B6(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==Un&&Tm(this._$AH)?this._$AA.nextSibling.data=t:this.T(pu.createTextNode(t)),this._$AH=t}$(t){const{values:n,_$litType$:r}=t,i=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=py.createElement(eL(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===i)this._$AH.p(n);else{const s=new nL(i,this),o=s.u(this.options);s.p(n),this.T(o),this._$AH=s}}_$AC(t){let n=K6.get(t.strings);return n===void 0&&K6.set(t.strings,n=new py(t)),n}k(t){rT(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of t)i===n.length?n.push(r=new Pp(this.O(Em()),this.O(Em()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(t=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);t&&t!==this._$AB;){const r=t.nextSibling;t.remove(),t=r}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}}class Im{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,i,s){this.type=1,this._$AH=Un,this._$AN=void 0,this.element=t,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Un}_$AI(t,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)t=yu(this,t,n,0),o=!Tm(t)||t!==this._$AH&&t!==ia,o&&(this._$AH=t);else{const a=t;let l,c;for(t=s[0],l=0;l<s.length-1;l++)c=yu(this,a[r+l],n,l),c===ia&&(c=this._$AH[l]),o||=!Tm(c)||c!==this._$AH[l],c===Un?t=Un:t!==Un&&(t+=(c??"")+s[l+1]),this._$AH[l]=c}o&&!i&&this.j(t)}j(t){t===Un?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}let rL=class extends Im{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Un?void 0:e}},iL=class extends Im{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Un)}};class sL extends Im{constructor(t,n,r,i,s){super(t,n,r,i,s),this.type=5}_$AI(t,n=this){if((t=yu(this,t,n,0)??Un)===ia)return;const r=this._$AH,i=t===Un&&r!==Un||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,s=t!==Un&&(r===Un||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class oL{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){yu(this,t)}}const Hne={M:tT,P:ra,A:nT,C:1,L:tL,R:nL,D:B6,V:yu,I:Pp,H:Im,N:iL,U:sL,B:rL,F:oL},Yne=eT.litHtmlPolyfillSupport;Yne?.(py,Pp),(eT.litHtmlVersions??=[]).push("3.2.1");const qne=(e,t,n)=>{const r=n?.renderBefore??t;let i=r._$litPart$;if(i===void 0){const s=n?.renderBefore??null;r._$litPart$=i=new Pp(t.insertBefore(Em(),s),s,void 0,n??{})}return i._$AI(e),i};class wd extends bd{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=qne(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return ia}}wd._$litElement$=!0,wd.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:wd});const Jne=globalThis.litElementPolyfillSupport;Jne?.({LitElement:wd}),(globalThis.litElementVersions??=[]).push("4.1.1");const sT={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},oT=e=>(...t)=>({_$litDirective$:e,values:t});let aT=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}};const Qne=oT(class extends aT{constructor(e){if(super(e),e.type!==sT.ATTRIBUTE||e.name!=="class"||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(r=>r!=="")));for(const r in t)t[r]&&!this.nt?.has(r)&&this.st.add(r);return this.render(t)}const n=e.element.classList;for(const r of this.st)r in t||(n.remove(r),this.st.delete(r));for(const r in t){const i=!!t[r];i===this.st.has(r)||this.nt?.has(r)||(i?(n.add(r),this.st.add(r)):(n.remove(r),this.st.delete(r)))}return ia}}),aL="important",Kne=" !"+aL,ere=oT(class extends aT{constructor(e){if(super(e),e.type!==sT.ATTRIBUTE||e.name!=="style"||e.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r==null?t:t+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(e,[t]){const{style:n}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const r of this.ft)t[r]==null&&(this.ft.delete(r),r.includes("-")?n.removeProperty(r):n[r]=null);for(const r in t){const i=t[r];if(i!=null){this.ft.add(r);const s=typeof i=="string"&&i.endsWith(Kne);r.includes("-")||s?n.setProperty(r,s?i.slice(0,-11):i,s?aL:""):n[r]=i}}return ia}});var lL=(e="",t={},n=gd())=>{const r={emit:i=>{e===""&&W3();const s=new CustomEvent(e,{detail:i,cancelable:!0,bubbles:!0,composed:!0,...t});return n.el.dispatchEvent(s),s}};return e===""&&H3(void 0,i=>{e=i.key},r),r},cL=lL.bind(null,""),tre=()=>{},lT=class Bj extends wd{constructor(){super(),this.el=this.constructor.lazy??this,this.manager=_ne(this),this._postLoad=this.constructor.lazy?._postLoad??new cu,this._offspring=this.constructor.lazy?._offspring??[],this._postLoaded=this.constructor.lazy?._postLoaded??new cu,this._enableUpdating=this.enableUpdating,this.enableUpdating=tre;const t=Bj.prototype.shouldUpdate;this.shouldUpdate!==t&&(this._originalShouldUpdate=this.shouldUpdate,this.shouldUpdate=t)}static finalizeStyles(t){const n=super.finalizeStyles(t),r=this.shadowRootOptions===W1;return this.runtime?.commonStyles===void 0||r?n:[this.runtime.commonStyles,...n]}static createProperty(t,n){const r=typeof n=="number"?n:Array.isArray(n)?n[0]:0,i=Array.isArray(n)?n[1]:void 0;super.createProperty(t,{attribute:r&1&&typeof t=="string"?j3(t):!1,reflect:!!(r&2),type:r&4?Boolean:r&8?Number:void 0,state:!!(r&16),readOnly:!!(r&32),noAccessor:!!(r&64),...i})}static{this.lumina=!0}connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const t=!this.manager.connectedCalled;super.connectedCallback(),t&&queueMicrotask(()=>this._load().catch(n=>{this._postLoaded.reject(n),setTimeout(()=>{throw n})}))}createRenderRoot(){const t=this.el.shadowRoot,n=this.constructor,r=n.shadowRootOptions,i=t??(r===W1?this.el:this.el.attachShadow(r));if(Object.defineProperty(this,"shadowRoot",{value:i}),t)return wd.prototype.createRenderRoot.call(this),t;if(this.isConnected){const s=i.getRootNode();s.adoptedStyleSheets=[...s.adoptedStyleSheets,...n.elementStyles.map(o=>"styleSheet"in o?o.styleSheet:o)]}return i}async _load(){const t=this.el._ancestorLoad??S6(this.el);t&&await t,await this.manager._load(),this._enableUpdating(!0),this.performUpdate(),this._postLoad.resolve(),await Promise.resolve();const n=this._offspring.filter(r=>!r.manager?.loadedCalled);n.length&&await Promise.allSettled(n.map(async r=>await r.componentOnReady())),this._offspring.length=0,this.el.setAttribute(this.constructor.runtime.hydratedAttribute,""),this.manager._loaded(),this._postLoaded.resolve()}shouldUpdate(t){return this.$changes=t,this._originalShouldUpdate?.(t)??!0}listen(t,n,r){const i=n?.bind(this)??n;this.manager.onLifecycle(()=>(this.el.addEventListener(t,i,r),()=>this.el.removeEventListener(t,i,r)))}listenOn(t,n,r,i){const s=r?.bind(this)??r;this.manager.onLifecycle(()=>(t.addEventListener(n,s,i),()=>t.removeEventListener(n,s,i)))}async componentOnReady(){return await this._postLoaded.promise,this}};lT.$createEvent=lL;function uL(e){let t;const n=i=>{t=new URL(i,globalThis.location?.href||void 0).href},r={...e,getAssetPath(i){const s=new URL(i,t);return s.origin!==globalThis.location?.origin?s.href:s.pathname},setAssetPath:n,customElement(i,s){s.runtime=r,s.tagName=i,customElements.get(i)||customElements.define(i,s)}};return n(e.defaultAssetPath),r}var gu=e=>typeof e=="object"&&e!=null?Qne(e):e,cT=e=>typeof e=="object"&&e!=null?ere(e):e,hL=Un;function nre(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}var rre={toAttribute:e=>e===!0?"":e===!1?null:e};const ire=uL({defaultAssetPath:"https://js.arcgis.com/map-components/4.32/",hydratedAttribute:"hydrated"}),{customElement:dL,getAssetPath:sre,setAssetPath:iwe}=ire;let q1=class extends He{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};v([T({readOnly:!0})],q1.prototype,"version",null),q1=v([te("esri.views.layers.support.ClipArea")],q1);const pL=q1;var uT;let vu=uT=class extends pL{constructor(e){super(e),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new uT({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};v([T({type:[Number,String],json:{write:!0}})],vu.prototype,"left",void 0),v([T({type:[Number,String],json:{write:!0}})],vu.prototype,"right",void 0),v([T({type:[Number,String],json:{write:!0}})],vu.prototype,"top",void 0),v([T({type:[Number,String],json:{write:!0}})],vu.prototype,"bottom",void 0),vu=uT=v([te("esri.views.layers.support.ClipRect")],vu);const Am=vu;function ore(e,t){const n=10**t;return Math.round(e*n)/n}const J1={left:0,right:0,top:0,bottom:0};let Jr=class extends Rn{constructor(e){super(e),this._leadingClips=new Map,this._trailingClips=new Map,this.direction="horizontal",this.leadingLayers=new ht,this.max=100,this.min=0,this.precision=4,this.step=.5,this.stepMultiplier=10,this.trailingLayers=new ht,this.view=null}initialize(){this.addHandles([Qn(()=>[this.view,this.view?.ready,this.position,this.direction],()=>this._clipLayers(),of),Qn(()=>this.leadingLayers.toArray(),()=>this._clipLeadingLayers(),of),Qn(()=>this.trailingLayers.toArray(),()=>this._clipTrailingLayers(),of)])}destroy(){this._removeExistingClips()}get position(){return 25}set position(e){const{precision:t,min:n,max:r}=this;this._set("position",ore(Math.max(Math.min(e,r),n),t))}get state(){return this.view?.ready?"ready":"disabled"}_clipLayers(){this._clipLeadingLayers(),this._clipTrailingLayers()}_clipLeadingLayers(){this._removeClips("leading");const{leadingLayers:e}=this;e.forEach(t=>this._clipLayer({layer:t,type:"leading"}))}_clipTrailingLayers(){this._removeClips("trailing");const{trailingLayers:e}=this;e.forEach(t=>this._clipLayer({layer:t,type:"trailing"}))}async _getLayerView(e){const{view:t}=this;if(!e||!t)return null;const n=await t.whenLayerView(e);return"clips"in n?n:null}_getVerticalClipRect(e){const{position:t}=this;return e==="leading"?new Am({...J1,bottom:100-t+"%"}):e==="trailing"?new Am({...J1,top:`${t}%`}):null}_getHorizontalClipRect(e){const{position:t}=this;return e==="leading"?new Am({...J1,right:100-t+"%"}):e==="trailing"?new Am({...J1,left:`${t}%`}):null}_getClipRect(e){const{direction:t}=this;return t==="vertical"?this._getVerticalClipRect(e):t==="horizontal"?this._getHorizontalClipRect(e):null}async _clipLayer(e){const{_leadingClips:t,_trailingClips:n}=this,{layer:r,type:i}=e,s=i==="trailing"?n:i==="leading"?t:null,o=await this._getLayerView(r);if(!(o&&"clips"in o&&s&&o.hasOwnProperty("clips")))return;const a=s.get(o);a&&o.clips.remove(a);const l=this._getClipRect(i);l&&(s.set(o,l),o.clips.add(l))}_removeClips(e){const{_leadingClips:t,_trailingClips:n}=this,r=e==="trailing"?n:e==="leading"?t:null;r&&(r.forEach((i,s)=>{s&&s.hasOwnProperty("clips")&&s.clips.remove(i)}),r.clear())}_removeExistingClips(){this._removeClips("leading"),this._removeClips("trailing")}};v([T()],Jr.prototype,"direction",void 0),v([T({type:ht,nonNullable:!0})],Jr.prototype,"leadingLayers",void 0),v([T({readOnly:!0})],Jr.prototype,"max",void 0),v([T({readOnly:!0})],Jr.prototype,"min",void 0),v([T()],Jr.prototype,"position",null),v([T()],Jr.prototype,"precision",void 0),v([T({readOnly:!0})],Jr.prototype,"state",null),v([T()],Jr.prototype,"step",void 0),v([T()],Jr.prototype,"stepMultiplier",void 0),v([T({type:ht,nonNullable:!0})],Jr.prototype,"trailingLayers",void 0),v([T()],Jr.prototype,"view",void 0),Jr=v([te("esri.widgets.Swipe.SwipeViewModel")],Jr);const are=Jr,lre=L6(sre);var cre=typeof window<"u"&&"$arcgis"in window&&typeof window.$arcgis=="object"&&"import"in window.$arcgis&&!("forceESM"in window.$arcgis);function ure(e){return e.default!==void 0}async function hre(){if(cre)return await window.$arcgis.import("esri/core/reactiveUtils");const e=await Promise.resolve().then(()=>hZ);return ure(e)?e.default:e}var dre={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_62678b5c-7b69-42d1-bdc4-82a00485e0c4",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_62678b5c-7b69-42d1-bdc4-82a00485e0c4",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"milespetrov",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.14.2",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/28.1.13356709",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"10187181",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"836",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20250609.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.10/x64",JOURNAL_STREAM:"9:8318",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.4/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"false",GITHUB_RUN_ID:"15714620255",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"milespetrov/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/2617-keynav-temp",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy8yNjE3LWtleW5hdi10ZW1wXCIsXCJQZXJtaXNzaW9uXCI6M30se1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvbWFpblwiLFwiUGVybWlzc2lvblwiOjF9XSIsImFjc2wiOiIxMCIsImF1ZCI6InZzbzpmNGQ4ODY1NC0wMzkxLTRmMzUtYWIxMS0xNDFlYTQ5OTNjYzMiLCJiaWxsaW5nX293bmVyX2lkIjoiVV9rZ0RPQUp0eHJRIiwiZXhwIjoxNzUwMjA1MTUxLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJpYXQiOjE3NTAxODI5NTEsImlzcyI6Imh0dHBzOi8vdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb20iLCJqb2JfaWQiOiI1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYiLCJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJuYmYiOjE3NTAxODI2NTEsIm9pZGNfZXh0cmEiOiJ7XCJhY3RvclwiOlwibWlsZXNwZXRyb3ZcIixcImFjdG9yX2lkXCI6XCIxMDE4NzE4MVwiLFwiYmFzZV9yZWZcIjpcIlwiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0lDbTRMczVBd3FDU1wiLFwiZXZlbnRfbmFtZVwiOlwicHVzaFwiLFwiaGVhZF9yZWZcIjpcIlwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwibWlsZXNwZXRyb3YvcmFtcDQtcGNhcjQvLmdpdGh1Yi93b3JrZmxvd3MvZGVtby1idWlsZC55bWxAcmVmcy9oZWFkcy8yNjE3LWtleW5hdi10ZW1wXCIsXCJqb2Jfd29ya2Zsb3dfc2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCIsXCJyZWZcIjpcInJlZnMvaGVhZHMvMjYxNy1rZXluYXYtdGVtcFwiLFwicmVmX3Byb3RlY3RlZFwiOlwiZmFsc2VcIixcInJlZl90eXBlXCI6XCJicmFuY2hcIixcInJlcG9zaXRvcnlcIjpcIm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X2lkXCI6XCI1Mzk2MDUwMzhcIixcInJlcG9zaXRvcnlfb3duZXJcIjpcIm1pbGVzcGV0cm92XCIsXCJyZXBvc2l0b3J5X293bmVyX2lkXCI6XCIxMDE4NzE4MVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJ1bl9hdHRlbXB0XCI6XCIxXCIsXCJydW5faWRcIjpcIjE1NzE0NjIwMjU1XCIsXCJydW5fbnVtYmVyXCI6XCIxODhcIixcInJ1bm5lcl9lbnZpcm9ubWVudFwiOlwiZ2l0aHViLWhvc3RlZFwiLFwic2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCIsXCJ3b3JrZmxvd1wiOlwiQnVpbGQgZGVtbyBzaXRlIGFuZCBkZXBsb3kgdG8gR2l0SHViIFBhZ2VzXCIsXCJ3b3JrZmxvd19yZWZcIjpcIm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvMjYxNy1rZXluYXYtdGVtcFwiLFwid29ya2Zsb3dfc2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCJ9Iiwib2lkY19zdWIiOiJyZXBvOm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0OmVudmlyb25tZW50OmdpdGh1Yi1wYWdlcyIsIm9yY2hfaWQiOiI0YjM5NzIxZi1kMDFhLTQ3ZDItOGNmNS0wMzBiYWQ3ZmI3MzEuYnVpbGQuX19kZWZhdWx0Iiwib3duZXJfaWQiOiJVX2tnRE9BSnR4clEiLCJwbGFuX2lkIjoiNGIzOTcyMWYtZDAxYS00N2QyLThjZjUtMDMwYmFkN2ZiNzMxIiwicnVuX2lkIjoiMTU3MTQ2MjAyNTUiLCJydW5fbnVtYmVyIjoiMTg4IiwicnVuX3R5cGUiOiJmdWxsIiwicnVubmVyX2lkIjoiMTAwMDAwMDIxMiIsInJ1bm5lcl90eXBlIjoiaG9zdGVkIiwic2NwIjoiQWN0aW9ucy5SZXN1bHRzOjRiMzk3MjFmLWQwMWEtNDdkMi04Y2Y1LTAzMGJhZDdmYjczMTo1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYgQWN0aW9ucy5SdW5uZXI6NGIzOTcyMWYtZDAxYS00N2QyLThjZjUtMDMwYmFkN2ZiNzMxOjVmOTgwNmRkLThmZmItNTAzNy04N2M0LWZjMWNkZTNjNThiZiBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czo0YjM5NzIxZi1kMDFhLTQ3ZDItOGNmNS0wMzBiYWQ3ZmI3MzE6NWY5ODA2ZGQtOGZmYi01MDM3LTg3YzQtZmMxY2RlM2M1OGJmIGdlbmVyYXRlX2lkX3Rva2VuOjRiMzk3MjFmLWQwMWEtNDdkMi04Y2Y1LTAzMGJhZDdmYjczMTo1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYgQWN0aW9ucy5HZW5lcmljUmVhZDowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAiLCJzaGEiOiI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiIn0.kmAkbBjIAXO1eC1WXQwWxI0VXZseOkSzfl9lDEjYQAIv-TpXaw_gqzJI9DM82TP1ZoAvoDTgQlkoRa6yQejWX0X8Dy0X1Xr2hk7hRfnPq6YcxYoqvksqzy3uX_hqt3elFCRqSUxBv33A3yP2KOxWCw1AMTPe9vLYX5kIG5qaIHgo6n-cfWUQyKg38oxNMWYBaymKrZXJx8CQDYjuhCJ0FngAUJ3OH7Xuw8sK7IO9QQ9f6l0vy2nt--7lDk00kYllWcO77val14tA6gSh7NT4UL64356e0GytaoGraTpH6uMxPC37B_QSDghjdpejHe4Z34x4oLkIYRWo-Pdq_zRD1g",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_97147315-e45d-41fa-b240-9ba30473ecd4",INVOCATION_ID:"933f59bb5d194f848b3bae16fc292b09",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"188",GITHUB_TRIGGERING_ACTOR:"milespetrov",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000000212",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"2617-keynav-temp",GITHUB_REPOSITORY:"milespetrov/ramp4-pcar4",STATS_D_D:"false",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"539605038",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.13.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/heads/2617-keynav-temp",GITHUB_ACTOR:"milespetrov",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_62678b5c-7b69-42d1-bdc4-82a00485e0c4",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"10187181",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-3-azure-eastus.actions.githubusercontent.com/88//idtoken/4b39721f-d01a-47d2-8cf5-030bad7fb731/5f9806dd-8ffb-5037-87c4-fc1cde3c58bf?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_62678b5c-7b69-42d1-bdc4-82a00485e0c4",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_62678b5c-7b69-42d1-bdc4-82a00485e0c4",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"},hT;async function fL(){return hT??(hT=hre()),await hT}var mL=class extends N6{constructor(e,t,n){super(e),this._loadAccessor=t,this._options=n,this._watchedProperties=new Map,this._isBinding={value:!0},this.setProvisionalExports(Q1.makeGetterProxy(e,this._watchedProperties,this._isBinding,this.constructor.allowedPropNameMismatches)),X3(e,r=>{r&&(this._instancePropName=r)},this.exports)}hostConnected(){this._isBinding.value=!1}async hostLoad(){this.reactiveUtils=await fL();const e=this.component,t=this._gatherParameters(),n=this._options?.editConstructorProperties?.call(e,t)??t,r=n instanceof Promise?await n:n,i=e,s=typeof this._instancePropName=="string"?i[this._instancePropName]:void 0;s!=null&&s!==this.exports?(this._instance=s,s.set(r)):this._instance=await this._createInstance(r),!e.manager.destroyed&&(Q1.watchComponentUpdates(this,this._instance,this._watchedProperties),Q1.watchAccessorUpdates(this,this._instance,this._watchedProperties),this.exports=this._instance)}_gatherParameters(){return Object.fromEntries(Array.from(this._watchedProperties,([e,t])=>[t,this.component[e]]).filter(([,e])=>e!==void 0))}async _createInstance(e){return this._isAccessorConstructor(this._loadAccessor)?new this._loadAccessor(e):await this._loadAccessor(e)}_isAccessorConstructor(e){return"prototype"in e&&"declaredClass"in e.prototype}hostDestroy(){this._instance&&this._instance.destroy()}async reCreate(){this.hostDestroy(),await this.hostLoad()}},Q1={makeGetterProxy:(e,t,n,r)=>new Proxy({},{has:(i,s)=>typeof s=="string"||s in i,get:(i,s)=>{const o=Reflect.get(i,s);if(typeof s=="symbol"||s in Promise.prototype)return o;const a=s in i,l=n?.value??!0;if(a||!l)return o;if(!t.has(s))return H3(e,c=>{c!==void 0&&t.set(c.key,s)},o)}}),watchComponentUpdates(e,t,n){function r(a,l){const c=n.get(l),d=t[c];return typeof d=="boolean"&&c!==l&&l.toLowerCase().includes("disable")?!d:d}const i=(a,l,c)=>{const d=n.get(c),p=t[d],f=typeof p=="boolean"&&d!==c&&c.toLowerCase().includes("disable");if((f?!p:s.manager.isLit?p??void 0:p)===a)return a;t[d]=f?!a:a;const y=t[d];return f?!y:y},s=e.component,o=s.manager.internals;n.forEach((a,l)=>{o.accessorGetter[l]=r,o.accessorSetter[l]=i})},watchAccessorUpdates(e,t,n){const{component:r}=e,i=r,s=t,o=pre(t);gne(()=>n.forEach((a,l)=>{if(dre.NODE_ENV!=="production"&&Zte()&&a in t,o.has(a))return;const c=i[l];let d=s[a];r.manager.isLit&&(d??(d=void 0));const p=typeof c=="boolean"&&a!==l&&l.toLowerCase().includes("disable")?!c:c;p!=null&&d!==p&&(s[a]=p)})),e.onLifecycle(()=>{if(!t.destroyed)return Array.from(n,([a,l])=>e.reactiveUtils.watch(()=>s[l],()=>{const c=s[l],d=typeof c=="boolean"&&l!==a&&a.toLowerCase().includes("disable")?!c:c;yne(()=>{i[a]=d})},{initial:!0}))})},reEmitAccessorEvents(e,t,n,r){if(!("on"in t&&typeof t.on=="function"))return;const i=Object.entries(e.component).map(([a,l])=>{const c=l;if(!a.startsWith(r)||a===r||typeof c!="object"||c===null||!("emit"in c)||typeof c.emit!="function")return;const d=c.emit,p=a.slice(r.length);return[j3(p).toLowerCase(),d]}).filter(T6);if(i.length===0)return;const s=t,o=()=>s;e.onLifecycle(()=>{if(!t.destroyed)return i.map(([a,l])=>n.on(o,a,l))})},async reCreate(e,t){const n=t.manager.useRefSync(e);n!==void 0&&await n.reCreate()}};function pre(e){const t=Object.entries(e.__accessor__?.metadata??{});return new Set(t.filter(([n,r])=>r?.readOnly===!0).map(([n])=>n))}function fre(e,t){const n=gd(),r=n.manager,i=fL();r.onLoaded(()=>{i.then(o=>r.onLifecycle(()=>o.on(e,t,s.emit)))});const s=n.constructor.$createEvent();return s}function Mm(e){e.el.childElem&&(e.el.childElem.ownedBy=e.el);const t=mre(e);if(!t){const n=_re(e.referenceElement);if(!n){vL(e);return}return gL(n,e,!0),n}return yre(t,e.el.parent)||(e.el.parent=t,t.tagName.toLowerCase()==="arcgis-expand"?gre(t,e):t.tagName.toLowerCase()==="arcgis-placement"?vre(t,e):gL(t,e,!1)),t}function mre({el:e}){for(let t=e.parentElement;t;t=t?.parentElement??null){if(yL.has(t.tagName.toLowerCase()))return t;if("ownedBy"in t&&t.ownedBy instanceof HTMLElement&&yL.has(t.ownedBy.tagName.toLowerCase()))return t.ownedBy}}const yL=new Set(["arcgis-map","arcgis-scene","arcgis-link-chart","arcgis-expand","arcgis-placement"]);function yre(e,t){if(e!==t)return!1;const n=e.tagName.toLowerCase();return n==="arcgis-expand"||n==="arcgis-placement"}function K1(e,t,n="arcgisReady"){const r=e;if(typeof r.view?.ready=="boolean")t(r.view);else{let i=function(s){s.target===e&&(K1(e,t,n),e.removeEventListener(n,i))};e.addEventListener(n,i)}}const gre=(e,t)=>K1(e,n=>{t.el.childElem&&e.content!=null&&e.content.append(t.el.childElem),e.expandIcon=t.icon||t.widget?.icon||e.expandIcon,t.position=e.position,t.el.view=n}),vre=(e,t)=>K1(e,n=>{t.el.childElem&&t.el.append(t.el.childElem),t.position=e.position,t.el.view=n}),gL=(e,t,n)=>K1(e,r=>{n?vL(t):t.el.childElem&&bre(e,t),t.el.view=r},"arcgisViewReadyChange");function bre(e,t){const n=t.el.childElem??t.el,r=[...e.children],i={};for(const a of r){const l=a.getAttribute("position")??"manual";i[l]??=[],i[l].push({child:a,position:l,index:r.indexOf(a)})}const s=i[t.position??"manual"]?.findIndex(({child:a})=>a===t.el),o=e.view.ui;o.remove(n),o.add(n,{position:t.position,index:s})}function vL(e){e.el.childElem&&(e.el.shadowRoot??e.el).append(e.el.childElem)}function _re(e){return typeof e!="string"?e??void 0:(e.includes("#")||e.includes(".")||e.includes("[")?void 0:document.querySelector(`#${e}`))??document.querySelector(e)??void 0}const wre=(e,t)=>(n,r)=>Ere(n,e,r);let xre=class extends mL{hostConnected(){this.component.manager.loadedCalled&&Mm(this.component)}async hostLoad(){await super.hostLoad(),!this.component.manager.destroyed&&this._watchMetaProperties()}hostLoaded(){const{el:e}=this.component,t=e.shadowRoot?.firstElementChild??e.firstElementChild??void 0;e.childElem=t??e.childElem;let n=!1;const r=this.component.el.view;Object.defineProperty(this.component.el,"view",{get:()=>this._instance.view,set:i=>{const s=this.component.el.view,o=i;this._instance.view=o,this._instance.map=o?.map,this._watchViewDestroy(),this.component.requestUpdate("view",s),i&&!n&&(n=!0,this.component.arcgisReady.emit())},configurable:!0,enumerable:!0}),r&&(this._instance.view=r),this.component.el.isConnected&&(Mm(this.component),this._watchViewDestroy())}hostDisconnected(){typeof this.component.el.childElem=="object"&&this.component.el.view?.ui?.remove(this.component.el.childElem)}hostDestroy(){super.hostDestroy(),this._watchViewDestroyHandle?.remove()}_watchMetaProperties(){du(this.component,"position",e=>{this.component.el.childElem!=null&&typeof e=="string"&&Mm(this.component)}),du(this.component,"referenceElement",()=>Mm(this.component))}_watchViewDestroy(){this._watchViewDestroyHandle?.remove(),this._watchViewDestroyHandle=this.reactiveUtils.when(()=>this.component.el.view?.destroyed===!0,()=>void this.component.destroy().catch(console.error),{sync:!0})}};const Ere=Y3(xre),bL={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",disabledElement:"esri-disabled-element",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",noBookmarksIcon:"esri-widget__no-bookmark-icon",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",ui:"esri-component",widget:"esri-widget esri-component",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"},_L={arrowDown:"esri-icon-arrow-down",arrowUp:"esri-icon-arrow-up",basemap:"esri-icon-basemap",bookmark:"esri-icon-bookmark",calendar:"esri-icon-calendar",checkMark:"esri-icon-check-mark",checkboxUnchecked:"esri-icon-checkbox-unchecked",close:"esri-icon-close",collapse:"esri-icon-collapse",defaultAction:"esri-icon-default-action",description:"esri-icon-description",directions:"esri-icon-directions",dockBottom:"esri-icon-dock-bottom",dockLeft:"esri-icon-dock-left",dockRight:"esri-icon-dock-right",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",download:"esri-icon-download",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",edit:"esri-icon-edit",elevationProfile:"esri-icon-elevation-profile",environmentSettings:"esri-icon-environment-settings",erase:"esri-icon-erase",error:"esri-icon-error",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",gear:"esri-icon-gear",handleHorizontal:"esri-icon-handle-horizontal",handleVertical:"esri-icon-handle-vertical",home:"esri-icon-home",icon:"esri-icon",launchLinkExternal:"esri-icon-launch-link-external",layerList:"esri-icon-layer-list",layers:"esri-icon-layers",left:"esri-icon-left",leftArrows:"esri-icon-left-arrow",leftTriangleArrow:"esri-icon-left-triangle-arrow",lineOfSight:"esri-icon-line-of-sight",link:"esri-icon-link",linkExternal:"esri-icon-link-external",linkHorizontal:"esri-icon-link-horizontal",loadingIndicator:"esri-icon-loading-indicator",locate:"esri-icon-locate",locateCircled:"esri-icon-locate-circled",locked:"esri-icon-locked",mapPin:"esri-icon-map-pin",maximize:"esri-icon-maximize",measure:"esri-icon-measure",measureArea:"esri-icon-measure-area",measureBuildingHeightShadow:"esri-icon-measure-building-height-shadow",measureLine:"esri-icon-measure-line",menu:"esri-icon-menu",minimize:"esri-icon-minimize",minus:"esri-icon-minus",nonVisible:"esri-icon-non-visible",northNavigation:"esri-icon-north-navigation",noticeTriangle:"esri-icon-notice-triangle",organization:"esri-icon-organization",pan:"esri-icon-pan",pan2:"esri-icon-pan2",partlyCloudy:"esri-icon-partly-cloudy",pause:"esri-icon-pause",play:"esri-icon-play",playCircled:"esri-icon-play-circled",plus:"esri-icon-plus",polyline:"esri-icon-polyline",printer:"esri-icon-printer",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",rightArrow:"esri-icon-right-arrow",rightTriangleArrow:"esri-icon-right-triangle-arrow",rotate:"esri-icon-rotate",save:"esri-icon-save",search:"esri-icon-search",settings2:"esri-icon-settings2",slice:"esri-icon-slice",swap:"esri-icon-swap",table:"esri-icon-table",timeClock:"esri-icon-time-clock",tracking:"esri-icon-tracking",trash:"esri-icon-trash",unlockedLinkHorizontal:"esri-icon-unlocked-link-horizontal",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",vertexGps:"esri-icon-vertex-gps",visible:"esri-icon-visible",zoomInFixed:"esri-icon-zoom-in-fixed",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomOutFixed:"esri-icon-zoom-out-fixed",zoomToObject:"esri-icon-zoom-to-object"},Tre=j6`@layer{arcgis-swipe,.arcgis-swipe{position:absolute;margin:0;background:transparent!important;padding:0;width:100%;height:100%;overflow:hidden;user-select:none}.arcgis-swipe,.arcgis-ui .arcgis-swipe{pointer-events:none!important}.arcgis-swipe__container{position:absolute;z-index:1;margin:0;outline:0;border:0;padding:0;overflow:hidden;pointer-events:auto;touch-action:none;outline-color:transparent}.arcgis-swipe--horizontal .arcgis-swipe__container{margin-left:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:col-resize;height:100%}.arcgis-swipe--vertical .arcgis-swipe__container{margin-top:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:row-resize;width:100%}.arcgis-swipe--disabled .arcgis-swipe__container{cursor:default;pointer-events:none}.arcgis-swipe__divider{position:absolute;background-color:var(--calcite-color-background)}.arcgis-swipe--horizontal .arcgis-swipe__divider{top:0;left:calc(var(--calcite-spacing-xxxl) / 2);margin-left:calc(var(--calcite-border-width-lg) * .5 * -1);border-right:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-left:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:var(--calcite-border-width-lg);height:100%}.arcgis-swipe--vertical .arcgis-swipe__divider{top:calc(var(--calcite-spacing-xxxl) / 2);left:0;margin-top:calc(var(--calcite-border-width-lg) * .5 * -1);border-top:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-bottom:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:100%;height:var(--calcite-border-width-lg)}.arcgis-swipe__handle{display:flex;position:relative;align-items:center;justify-content:center;border:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-radius:var(--calcite-corner-radius-round);background-color:var(--calcite-color-background);width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl);color:var(--calcite-color-border-input)}.arcgis-swipe__handle--hidden{visibility:hidden}.arcgis-swipe--vertical .arcgis-swipe__handle{rotate:90deg}.arcgis-swipe__handle-icon{position:relative;z-index:2}.arcgis-swipe--horizontal .arcgis-swipe__handle{top:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe--vertical .arcgis-swipe__handle{left:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe__container:focus .arcgis-swipe__handle,.arcgis-swipe__container:focus .arcgis-swipe__divider{outline:inset 2px var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)))}.arcgis-swipe__container:focus .arcgis-swipe__handle{outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}}`,sa="arcgis-swipe",po={base:sa,baseDisabled:`${sa}--disabled`,vertical:`${sa}--vertical`,horizontal:`${sa}--horizontal`,container:`${sa}__container`,divider:`${sa}__divider`,handle:`${sa}__handle`,handleHidden:`${sa}__handle--hidden`,handleIcon:`${sa}__handle-icon`},Sre=wre(are);let Ire=class extends lT{constructor(){super(...arguments),this._container=null,this._swiping=!1,this.messages=lre({}),this._pointerOffset=0,this.viewModel=Sre(this),this._onContainerPointerDown=e=>{e.preventDefault();const{_container:t}=this;t&&document.activeElement!==this.el&&t.focus(),this._swiping=!0,this._calculatePointerOffset(e)},this.autoDestroyDisabled=!1,this.direction=this.viewModel.direction,this.disabled=!1,this.hideDivider=!1,this.hideHandle=!1,this.icon="compare",this.label=this.messages.componentLabel,this.leadingLayers=this.viewModel.leadingLayers,this.position="manual",this.swipePosition=this.viewModel.position,this.state=this.viewModel.state,this.trailingLayers=this.viewModel.trailingLayers,this.arcgisPropertyChange=P6()("state"),this.arcgisReady=cL()}static{this.properties={autoDestroyDisabled:5,direction:3,disabled:7,hideDivider:7,hideHandle:7,icon:3,label:1,leadingLayers:0,messageOverrides:0,position:3,swipePosition:9,referenceElement:1,state:3,trailingLayers:0}}static{this.shadowRootOptions=W1}static{this.styles=Tre}async destroy(){await this.manager.destroy()}loaded(){this.listenOn(document,"pointermove",this._onContainerPointerMove),this.listenOn(document,"pointerup",this._onContainerPointerUp)}_calculatePointerOffset(e){const{direction:t}=this,n=e.target,r=(t==="vertical"?n.clientHeight:n.clientWidth)/2,i=n.getBoundingClientRect(),s=e.clientX-i.left,o=e.clientY-i.top;this._pointerOffset=t==="vertical"?o-r:s-r}_onContainerPointerUp(e){this._swiping&&(e.preventDefault(),this._swiping=!1)}_onContainerPointerMove(e){if(!this._swiping)return;e.preventDefault();const{_pointerOffset:t,el:n,direction:r}=this,{clientX:i,clientY:s}=e,{top:o,left:a,width:l,height:c}=n.getBoundingClientRect(),d=r==="vertical"?c:l,p=(r==="vertical"?s-o-t:i-a-t)/d*100;this.swipePosition=p}_getKeyPosition(e){const{key:t}=e,{swipePosition:n}=this,{max:r,min:i,step:s,stepMultiplier:o,direction:a}=this.viewModel,l=s*o;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].includes(t)&&(e.preventDefault(),e.stopPropagation()),a==="vertical"?t==="ArrowDown"||t==="ArrowRight":t==="ArrowUp"||t==="ArrowRight"){const c=e.shiftKey?l:s;return n+c}if(a==="vertical"?t==="ArrowUp"||t==="ArrowLeft":t==="ArrowDown"||t==="ArrowLeft"){const c=e.shiftKey?l:s;return n-c}return t==="Home"?i:t==="End"?r:(a==="vertical"?t==="PageDown":t==="PageUp")?n+l:(a==="vertical"?t==="PageUp":t==="PageDown")?n-l:null}_onContainerKeyDown(e){const t=this._getKeyPosition(e);typeof t=="number"&&(this.swipePosition=t)}render(){const{state:e,direction:t}=this.viewModel,n=e==="disabled"||this.disabled,r={[bL.disabled]:n,[po.baseDisabled]:n,[po.vertical]:t==="vertical",[po.horizontal]:t==="horizontal"};return _d`<div class=${gu(P3(po.base,bL.widget,r))}>${e==="disabled"?null:this._renderContainer()}</div>`}_renderHandle(){const{direction:e}=this.viewModel,{hideHandle:t}=this,n={[_L.dragHorizontal]:e==="vertical",[_L.dragVertical]:e==="horizontal"},r=P3(po.handle,!!t&&po.handleHidden);return _d`<div class=${gu(r)} role=presentation><span aria-hidden=true class=${gu(P3(po.handleIcon,n))}></span></div>`}_renderDivider(){return this.hideDivider?null:_d`<div class=${gu(po.divider)} role=presentation></div>`}_renderContent(){return[this._renderDivider(),this._renderHandle()]}_renderContainer(){const{disabled:e,viewModel:t}=this,{max:n,min:r,direction:i,position:s}=t,o=this.label??this.messages.dragLabel??"",a=`${s}%`,l={top:i==="vertical"?a:void 0,left:i==="vertical"?void 0:a},c=this._renderContent();return e?_d`<div class=${gu(po.container)} role=presentation style=${cT(l)}>${c}</div>`:_d`<div @pointerdown=${this._onContainerPointerDown} .ariaLabel=${o} .ariaOrientation=${i} .ariaValueMax=${`${n}`} .ariaValueMin=${`${r}`} .ariaValueNow=${`${s}`} .ariaValueText=${a} class=${gu(po.container)} @keydown=${this._onContainerKeyDown} role=slider style=${cT(l)} tabindex=0 title=${o??hL} touch-action=none>${c}</div>`}};dL("arcgis-swipe",Ire);class Et{static async Basemap(t){const n=await import("./Basemap-BPN-ubBN.js").then(r=>r.B);return Reflect.construct(n.default,[t])}static async Map(t){const n=await import("./Map-BIwFduYp.js").then(r=>r.M);return Reflect.construct(n.default,[t])}static async MapView(t){const n=await import("./MapView-BWbVPXLC.js").then(r=>r.P);return Reflect.construct(n.default,[t])}static async FeatureLayer(t){const n=await import("./FeatureLayer-CMUh7MYj.js").then(r=>r.F);return Reflect.construct(n.default,[t])}static async GraphicsLayer(t){const n=await import("./GraphicsLayer-DXJEC1A8.js");return Reflect.construct(n.default,[t])}static async ImageryLayer(t){const n=await import("./ImageryLayer-D2qsZofy.js").then(r=>r.I);return Reflect.construct(n.default,[t])}static async MapImageLayer(t){const n=await import("./MapImageLayer-CK-1NPbc.js");return Reflect.construct(n.default,[t])}static async OpenStreetMapLayer(t){const n=await import("./OpenStreetMapLayer-1eLuSqRP.js").then(r=>r.O);return Reflect.construct(n.default,[t])}static async TileLayer(t){const n=await import("./TileLayer-CdEWkPpn.js");return Reflect.construct(n.default,[t])}static async WMSLayer(t){const n=await import("./WMSLayer-DXuAiV8O.js").then(r=>r.W);return Reflect.construct(n.default,[t])}static async ArcadeExecutor(t,n){const{createArcadeExecutor:r}=await import("./arcade-B2mZqgnr.js");return await r(t,n)}static async ColorBackground(t){const n=await import("./ColorBackground-CQilxavd.js");return Reflect.construct(n.default,[t])}static async FeatureFilter(t){const n=await import("./FeatureFilter-7hrvpub9.js");return Reflect.construct(n.default,[t])}static async FieldFromJson(t){return(await import("./Field-Bd0FGIJr.js").then(n=>n.F)).default.fromJSON(t)}static async Query(){const t=await import("./Query-lQ7UV7K5.js").then(n=>n.Q);return Reflect.construct(t.default,[])}static async QueryByIds(t,n,r){const{executeForIds:i}=await import("./query-DKQrf8fm.js");return i(t,n,r)}static async RendererFromJson(t){const{fromJSON:n}=await import("./jsonUtils-B0rgdU0w.js");return n(t)}}class Ge{wkid;latestWkid;wkt;constructor(t,n){typeof t=="string"?this.wkt=t:(this.wkid=t,this.latestWkid=n)}isEqual(t){return!!(this.isWebMercator()&&t.isWebMercator()||this.wkid&&t.wkid&&this.wkid===t.wkid||this.wkt&&t.wkt&&this.wkt===t.wkt||this.latestWkid&&t.latestWkid&&this.latestWkid===t.latestWkid)}clone(){const t=new Ge("");return t.latestWkid=this.latestWkid,t.wkid=this.wkid,t.wkt=this.wkt,t}lean(){const t={};return this.wkt?t.wkt=this.wkt:(t.wkid=this.wkid,this.latestWkid&&(t.latestWkid=this.latestWkid)),t}isWebMercator(){const t=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&t.includes(this.wkid)||this.latestWkid&&t.includes(this.latestWkid))}static latLongSR(){return new Ge(4326)}static fromConfig(t){if(t.wkt)return new Ge(t.wkt);if(t.wkid)return new Ge(t.wkid,t.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(t){return t?t instanceof Ge?t.clone():typeof t=="string"&&t.startsWith("EPSG:")?new Ge(parseInt(t.substring(5).trim())):new Ge(t):Ge.latLongSR()}static fromESRI(t){if(t.wkt)return new Ge(t.wkt);{const n=t.toJSON().latestWkid,r=new Ge(t.wkid);return n&&(r.latestWkid=n),r}}toESRI(){return new Ln(this.lean())}static fromGeoJSON(t){const n=Ge.parseGeoJsonCrs(t);return n.substring(0,5)==="EPSG:"?new Ge(parseInt(n.slice(5))):new Ge(n)}static parseGeoJsonCrs(t){if(t){if(t.type==="name"){const n=/urn:ogc:def:crs:EPSG::(\d+)/,r=t.properties.name,i=r.match(n);if(i)return"EPSG:"+i[1];if(r.substring(0,7)!=="urn:ogc")return r}}else return"EPSG:4326";return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",t),"EPSG:4326"}toGeoJSON(){const t={type:"name",properties:{name:""}};return this.wkt?t.properties.name=this.wkt:t.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),t}}class bu{sr;id;constructor(t,n){this.id=t?t.toString():"",this.sr=Ge.parseSR(n)}get type(){return Xe.UNKNOWN}childIdGenerator(t){return`${this.id}-${t}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===Xe.NONE||this.type===Xe.UNKNOWN}geoJsonFactory(t,n){const r={type:t,coordinates:n};return this.sr&&(r.crs=this.sr.toGeoJSON()),r}}class Tl extends bu{constructor(){super("no_geometry")}get type(){return Xe.NONE}}let xr=class dy extends bu{rawArray;constructor(t,n,r,i){super(t,n.sr||r),i?this.rawArray=n.slice():this.rawArray=dy.parseXY(n)}get type(){return Xe.POINT}get x(){return this.rawArray[0]}set x(t){this.rawArray[0]=t}get y(){return this.rawArray[1]}set y(t){this.rawArray[1]=t}toArray(){return this.rawArray.slice()}static parseXY(t){let n;if(Array.isArray(t)&&t.length===2)n=t;else{if(t instanceof dy)return t.toArray();n=[t.x,t.y]}if(isNaN(n[0])||isNaN(n[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(n[0]),parseFloat(n[1])]}static fromESRI(t,n){return new dy(n,[t.x,t.y],Ge.fromESRI(t.spatialReference),!0)}toESRI(){return new En({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,n){return new dy(n,t.coordinates,Ge.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hn.POINT,this.toArray())}};class yi extends bu{rawArray;constructor(t,n,r,i){super(t,n.sr||r),i?this.rawArray=yi.arrayDeepCopy(n):n instanceof yi?this.rawArray=n.toArray():this.rawArray=yi.parsePointSet(n)}get pointArray(){return this.rawArray.map((t,n)=>new xr(this.childIdGenerator(n),t,this.sr,!0))}getAt(t){return new xr(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,n){this.rawArray[n]=xr.parseXY(t)}get length(){return this.rawArray.length}toArray(){return yi.arrayDeepCopy(this.rawArray)}static parsePointSet(t){if(Array.isArray(t)){if(t.length===0)throw new Error("no verticies provided");return t.map(n=>xr.parseXY(n))}else throw new Error("Bad geometry input encountered")}static arrayDeepCopy(t){return t.map(n=>n.slice())}}class Fp extends yi{constructor(t,n,r,i){super(t,n,r,i)}get type(){return Xe.MULTIPOINT}static fromESRI(t,n){return new Fp(n,t.points,Ge.fromESRI(t.spatialReference),!0)}toESRI(){return new Tf({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,n){return new Fp(n,t.coordinates,Ge.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hn.MULTIPOINT,this.toArray())}}class lc extends yi{constructor(t,n,r,i){if(super(t,n,r,i),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return Xe.LINESTRING}static fromESRI(t,n){return new lc(n,t.paths[0],Ge.fromESRI(t.spatialReference),!0)}toESRI(){return new Lh({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,n){return new lc(n,t.coordinates,Ge.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hn.LINESTRING,this.toArray())}}class Hs extends bu{rawArray;constructor(t,n,r,i){if(super(t,n.sr||r),i)this.rawArray=Hs.arrayDeepCopy(n);else if(n instanceof Hs)this.rawArray=n.toArray();else if(n instanceof yi)this.rawArray=[n.toArray()];else if(Array.isArray(n)){if(n.length===0)throw new Error("no lines provided");this.rawArray=n.map(s=>yi.parsePointSet(s))}else throw new Error("invalid lines format for MulitLineString")}get lineArray(){return this.rawArray.map((t,n)=>new lc(this.childIdGenerator(n),t,this.sr,!0))}getAt(t){return new lc(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,n){this.rawArray[n]=yi.parsePointSet(t)}get length(){return this.rawArray.length}get type(){return Xe.MULTILINESTRING}toArray(){return Hs.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(t){return t.map(n=>n.map(r=>r.slice()))}static fromESRI(t,n){return new Hs(n,t.paths,Ge.fromESRI(t.spatialReference),!0)}toESRI(){return new Lh({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,n){return new Hs(n,t.coordinates,Ge.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hn.MULTILINESTRING,this.toArray())}}class sh extends yi{constructor(t,n,r,i){if(super(t,n,r,i),sh.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return Xe.LINEARRING}updateAt(t,n){const r=this.length-1;n===0?super.updateAt(t,r):n===r&&super.updateAt(t,0),super.updateAt(t,n)}static closeRing(t){const n=t[0],r=t[t.length-1];(n[0]!==r[0]||n[1]!==r[1])&&t.push(n.slice())}static fromESRI(t,n){return new sh(n,t.rings[0],Ge.fromESRI(t.spatialReference),!0)}toESRI(){return new Qa({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,n){return new sh(n,t.coordinates,Ge.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hn.POLYGON,[this.toArray()])}}class fr extends bu{rawArray;constructor(t,n,r,i){super(t,n.sr||r),i?this.rawArray=fr.arrayDeepCopy(n):this.rawArray=fr.parsePolygon(n)}addLinearRings(t){t.forEach(n=>this.rawArray.push(n.toArray()))}get ringArray(){return this.rawArray.map((t,n)=>new sh(this.childIdGenerator(n),t,this.sr,!0))}get type(){return Xe.POLYGON}toArray(){return fr.arrayDeepCopy(this.rawArray)}static parsePolygon(t){let n=[];if(t instanceof fr)return t.toArray();if(t instanceof Hs)n=t.toArray();else if(t instanceof yi)n=[t.toArray()];else if(Array.isArray(t)){if(t.length===0)throw new Error("no rings provided");n=t.map(r=>yi.parsePointSet(r))}else throw new Error("invalid input format for parsePolygon");return n.forEach(r=>sh.closeRing(r)),n}static arrayDeepCopy(t){return t.map(n=>n.map(r=>r.slice()))}static fromESRI(t,n){return new fr(n,t.rings,Ge.fromESRI(t.spatialReference),!0)}toESRI(){return new Qa({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,n){return new fr(n,t.coordinates,Ge.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hn.POLYGON,this.toArray())}}class ka extends bu{rawArray;constructor(t,n,r,i){super(t,n.sr||r),i?this.rawArray=ka.arrayDeepCopy(n):this.rawArray=ka.parseMultiPolygon(n)}addPolygon(t){this.rawArray.push(t.toArray())}get polygonArray(){return this.rawArray.map((t,n)=>new fr(this.childIdGenerator(n),t,this.sr,!0))}get type(){return Xe.MULTIPOLYGON}toArray(){return ka.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(t){if(t instanceof ka)return t.toArray();if(t instanceof fr)return[t.toArray()];if(t instanceof Hs||t instanceof yi)return[fr.parsePolygon(t)];if(Array.isArray(t)){if(t.length===0)throw new Error("no polygons provided");return t.map(n=>fr.parsePolygon(n))}else throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(t){return t.map(n=>n.map(r=>r.map(i=>i.slice())))}static fromESRI(t,n){return new ka(n,[t.rings],Ge.fromESRI(t.spatialReference),!0)}toESRI(){const t=[];return this.toArray().forEach(n=>{n.forEach(r=>t.push(r))}),new Qa({rings:t,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,n){return new ka(n,t.coordinates,Ge.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hn.MULTIPOLYGON,this.toArray())}}class Jt extends bu{rawMin;rawMax;constructor(t,n,r,i){super(t,n.sr||i),this.rawMin=xr.parseXY(n),this.rawMax=xr.parseXY(r)}get type(){return Xe.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new xr(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(t){return Jt.fromESRI(this.toESRI().expand(t),`${this.id}-expanded`)}clone(){return new Jt(this.id,this.rawMin,this.rawMax,this.sr)}contains(t){return this.sr.isEqual(t.sr)?this.xmin<=t.x&&this.xmax>=t.x&&this.ymin<=t.y&&this.ymax>=t.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new fr(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(t,n,r,i,s,o){return new Jt(t,[n,r],[i,s],o)}static fromConfig(t,n){return new Jt(t,[n.xmin,n.ymin],[n.xmax,n.ymax],Ge.fromConfig(n.spatialReference))}isEqual(t){return t?this.xmin===t.xmin&&this.ymin===t.ymin&&this.xmax===t.xmax&&this.ymax===t.ymax:!1}static fromESRI(t,n){return Jt.fromParams(n,t.xmin,t.ymin,t.xmax,t.ymax,Ge.fromESRI(t.spatialReference))}toESRI(){return new bi({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(t,n){return Jt.fromESRI(bi.fromJSON(t),n)}static fromGeoJSON(t,n){if(t.coordinates.length!==5)throw new Error("Extent expected a four vertex polygon from GeoJSON");const r=t.coordinates[0].slice(),i=r.slice();return[1,2,3].forEach(s=>{[0,1].forEach(o=>{const a=t.coordinates[s];r[o]>a[o]&&(r[o]=a[o]),i[o]<a[o]&&(i[o]=a[o])})}),new Jt(n,r,i,Ge.fromGeoJSON(t.crs))}toGeoJSON(){return this.geoJsonFactory(hn.POLYGON,this.toPolygonArray())}}class Ca{c;constructor(t){if(!t){this.c=[0,0,0,1];return}if(Array.isArray(t)){const n=t.length;if(n<3||n>4){console.error("Invalid colour value array passed to Colour class"),this.c=[0,0,0,1];return}this.c=t.map((r,i)=>i===3?r:parseInt(r)),n===3&&this.c.push(1)}else if(typeof t=="string"){const n=t.substring(0,1)==="#"?t.substring(1):t;this.c=[0,2,4,6].map(r=>{const i=n.substring(r,r+2);return Ca.hexToInt(i)})}else this.c=[t.r,t.g,t.b,t.a??1];this.c.forEach((n,r)=>{n<0&&(console.error("Negative value passed to colour"),this.c[r]=0),n>255&&(console.error("Rotund value passed to colour"),this.c[r]=255)}),this.c[3]>1&&(this.c[3]=this.c[3]/255)}get rgba(){return this.c.slice()}get hex(){const t=this.rgba;return t[3]=t[3]*255,`#${t.map(n=>Ca.intToHex(n)).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new lt(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(t){return t.length===0?255:parseInt(t,16)}static intToHex(t){const n=t.toString(16);return n.length===1?`0${n}`:n}}class oa{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(t){if(!(typeof t>"u"))if(typeof t=="string"){let n;const r=t.length;if(r===0)return;const i=t.substring(r-2);return i==="px"?n=parseFloat(t.substring(0,r-2))*1.333333:i==="pt"?n=parseFloat(t.substring(0,r-2)):n=parseFloat(t),n}else return t}}class Ra extends oa{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(t){if(t=t||{style:Qs.CIRCLE},super(),this._style=t.style||Qs.CIRCLE,t.style===Qs.ICON){const n=t;this._icon=n.icon||"",this._height=oa.convToPoints(n.height)||16.5,this._width=oa.convToPoints(n.width)||16.5,this._size=0,this._colour=new Ca,this._outline=new Fo,this._path=""}else{const n=t;this._size=oa.convToPoints(n.size)||12,this._colour=new Ca(n.colour??"#ffffff40"),this._outline=new Fo(n.outline),this._path=this._style===Qs.PATH&&n.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=oa.convToPoints(t.xOffset)||0,this._yOffset=oa.convToPoints(t.yOffset)||0,this._angle=t.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(t){this._style===Qs.ICON!==t&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const t={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===Qs.ICON?{...t,icon:this.icon,width:this.width,height:this.height}:{...t,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let t;return this.styleType===Qs.ICON?Ra.isImageUrl(this.icon)?(t=new ru,t.url=this.icon,t.width=this.width,t.height=this.height,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new ks,t.color=new lt(this.colour.rgba),t.size=this.width,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new ks,t.color=new lt(this.colour.rgba),t.size=this.size,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle,t.path=this.path,t.style=this.styleType,t.outline=this.outline.toESRI()),t}static fromESRI(t){const n={xOffset:t.xoffset,yOffset:t.yoffset,angle:t.angle};if(t.type==="simple-marker"){const r=n;r.style=t.style,r.colour=t.color.toRgba(),r.size=t.size,r.path=t.path,r.outline=Fo.fromESRI(t.outline).toOptions()}else{const r=n;r.style=Qs.ICON,r.width=t.width,r.height=t.height,r.icon=t.url}return new Ra(n)}static fromArcServer(t){return Ra.fromESRI(z1(t))}static isImageUrl(t){return!!t.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!t.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class Fo extends oa{_style;_width;_miter;_cap;_join;_colour;constructor(t){t=t||{},super(),this._style=t.style||Zr.SOLID;const n=oa.convToPoints(t.width);this._width=typeof n>"u"||n<0?.75:n,this._colour=new Ca(t.colour),this._miter=t.miter??2,this._cap=t.cap||DA.ROUND,this._join=t.join||LA.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const t=new Zi;return t.width=this.width,t.color=this.colour.toESRI(),t.style=this.styleType,t.cap=this.cap,t.miterLimit=this.miter,t.join=this.join,t}static fromESRI(t){const n={width:t.width,colour:t.color.toRgba(),style:t.style};return new Fo(n)}static fromArcServer(t){return Fo.fromESRI(z1(t))}}class Up extends oa{_outlineStyle;_fillColour;_fillStyle;constructor(t){super(),t=t||{},t.fill||(t.fill={}),this._fillColour=new Ca(t.fill.colour),this._fillStyle=t.fill.style||PA.SOLID,this._outlineStyle=new Fo(t.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const t=this.outline.toESRI(),n=new lt(this.fillColour.rgba),r=new xl;return r.style=this.fillStyleType,r.color=n,r.outline=t,r}static fromESRI(t){const n={fill:{colour:t.color.toRgba(),style:t.style},outline:Fo.fromESRI(t.outline).toOptions()};return new Up(n)}static fromArcServer(t){return Up.fromESRI(z1(t))}}class Are{Extent=Jt;Graphic=ki;LineString=lc;LineStyle=Fo;LinearRing=sh;MultiLineString=Hs;MultiPoint=Fp;MultiPolygon=ka;Point=xr;PointStyle=Ra;Polygon=fr;PolygonStyle=Up;SpatialReference=Ge;esriMapClickToRamp(t,n){return{mapPoint:xr.fromESRI(t.mapPoint,n),screenX:t.x,screenY:t.y,button:t.button,input:t.native.pointerType,clickTime:t.timestamp}}esriMapMouseToRamp(t){return{screenX:t.x,screenY:t.y,button:t.button,moveTime:t.timestamp}}geomRampToEsri(t){return t.toESRI()}geomEsriToRamp(t,n){switch(t.type){case"point":return xr.fromESRI(t,n);case"polyline":{const r=t;return r.paths.length===1?lc.fromESRI(r,n):Hs.fromESRI(r,n)}case"polygon":return fr.fromESRI(t,n);case"extent":return Jt.fromESRI(t,n);case"multipoint":return Fp.fromESRI(t,n);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomGeoJsonToRamp(t,n){switch(t.type){case hn.POINT:return xr.fromGeoJSON(t,n);case hn.LINESTRING:return lc.fromGeoJSON(t,n);case hn.POLYGON:return fr.fromGeoJSON(t,n);case hn.MULTIPOINT:return Fp.fromGeoJSON(t,n);case hn.MULTILINESTRING:return Hs.fromGeoJSON(t,n);case hn.MULTIPOLYGON:return ka.fromGeoJSON(t,n);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomRampToGeoJson(t){return t.toGeoJSON()}graphicRampToGeoJson(t){const n={},r={type:"Feature",geometry:this.geomRampToGeoJson(t.geometry),properties:n};return Object.keys(t.attributes).forEach(i=>r.properties[i]=t.attributes[i]),r}graphicGeoJsonToRamp(t,n){if(t.type!=="Feature")throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const r=this.geomGeoJsonToRamp(t.geometry,n),i={};return Object.keys(t.properties.forEach(s=>i[s]=t.properties[s])),new ki(r,"",i)}graphicRampToEsri(t){const n={attributes:{},id:t.id};return n.geometry=this.geomRampToEsri(t.geometry),Object.keys(t.attributes).forEach(r=>n.attributes[r]=t.attributes[r]),t.style&&(n.symbol=this.styleRampToEsri(t.style)),new d6(n)}styleRampToEsri(t){return t.toESRI()}styleEsriToRamp(t){switch(t.type){case"picture-marker":case"simple-marker":return Ra.fromESRI(t);case"simple-line":return Fo.fromESRI(t);case"simple-fill":return Up.fromESRI(t);default:return console.error(`Unsupported ESRI symbol type encountered: ${t.type}`),new Ra}}serverGeomTypeToRampGeomType(t){if(!t)return Xe.NONE;switch(t){case"esriGeometryPolygon":return Xe.POLYGON;case"esriGeometryPolyline":return Xe.LINESTRING;case"esriGeometryPoint":return Xe.POINT;case"esriGeometryMultipoint":return Xe.MULTIPOINT;case"esriGeometryEnvelope":return Xe.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${t}`),Xe.UNKNOWN}}clientGeomTypeToRampGeomType(t){if(!t)return Xe.NONE;switch(t){case"polygon":return Xe.POLYGON;case"polyline":return Xe.LINESTRING;case"point":return Xe.POINT;case"multipoint":return Xe.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${t}`),Xe.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(t){switch(t){case hn.POINT:return"point";case hn.LINESTRING:case hn.MULTILINESTRING:return"polyline";case hn.POLYGON:case hn.MULTIPOLYGON:return"polygon";case hn.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${t}`)}}isImageUrl(t){return Ra.isImageUrl(t)}}class ev{layerIdx;name;children;uid;isRoot;constructor(t,n,r="",i=!0){this.layerIdx=t,this.name=r,this.isRoot=i,this.children=[],this.uid=n}findChildByUid(t){if(this.uid===t)return this;{let n;return this.children.some(r=>n=r.findChildByUid(t)),n}}findChildByIdx(t){if(this.layerIdx===t)return this;{let n;return this.children.some(r=>n=r.findChildByIdx(t)),n}}get isLogicalLayer(){return this.layerIdx>-1&&this.children.length===0}get isLayerRoot(){return this.isRoot}}class wL{minScale;maxScale;constructor(t=0,n=0){this.minScale=t,this.maxScale=n}isOffScale(t){const n={offScale:!1,zoomIn:!1};return t<this.maxScale&&this.maxScale!==0?(n.offScale=!0,n.zoomIn=!1):t>this.minScale&&this.minScale!==0&&(n.offScale=!0,n.zoomIn=!0),n}}class xL{sql;cache;extent;constructor(t="",n=""){this.sql={[gr.PERMANENT]:t,[gr.INITIAL]:n},this.extent=void 0,this.cache={}}sqlActiveFilters(t=[]){const n=this.sql,r=Object.keys(n).filter(i=>n[i]);return t.length===0?r:r.filter(i=>t.indexOf(i)===-1)}isActive(){return this.sqlActiveFilters([gr.PERMANENT]).length>0}getCombinedSql(t=[]){const n=this.sqlActiveFilters(t),r=n.length;return r===0?"":r===1?this.sql[n[0]]:n.map(i=>`(${this.sql[i]})`).join(" AND ")}setSql(t,n){t===gr.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[t]=n,this.clearCacheSet(t))}getSql(t){return this.sql[t]||""}setExtent(t){t.isEqual(this.extent)||(this.extent=t,this.clearCacheSet(gr.EXTENT))}getCacheKey(t,n){return`_cache$${t.sort().join("$")}${n?"$"+gr.EXTENT:""}$`}getCache(t,n){const r=this.getCacheKey(t,n);return this.cache[r]}setCache(t,n,r){const i=this.getCacheKey(n,r);this.cache[i]=t}cacheActiveKeys(){const t=this.cache;return Object.keys(t).filter(n=>t[n])}clearAllCaches(){this.cache={}}clearCacheSet(t){this.cacheActiveKeys().forEach(n=>{n.indexOf(`$${t}$`)>-1&&delete this.cache[n]})}clearAll(){this.sql={[gr.PERMANENT]:this.sql[gr.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class my{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(t,n,r=void 0,i=void 0){this.id=t,this.sr=n.sr.clone(),this._defaultExtent=n.clone(),this._fullExtent=r?.clone(),this._maximumExtent=i?.clone(),r&&!r.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${r.sr}`),i&&!i.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${i.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(t){this._defaultExtent=t.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(t){this._fullExtent=t.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(t){this._maximumExtent=t.clone()}static fromConfig(t){return new my(t.id,Jt.fromConfig(`${t.id}-extent-default`,t.default),t.full!==void 0?Jt.fromConfig(`${t.id}-extent-full`,t.full):void 0,t.maximum!==void 0?Jt.fromConfig(`${t.id}-extent-maximum`,t.maximum):void 0)}clone(){return new my(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class mn{realPromise;resolveMe(t){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise((t,n)=>{this.resolveMe=r=>{t(r)},this.rejectMe=n})}}var Om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function EL(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var dT,TL;function Mre(){if(TL)return dT;TL=1;var e=function(S){return t(S)&&!n(S)};function t(S){return!!S&&typeof S=="object"}function n(S){var I=Object.prototype.toString.call(S);return I==="[object RegExp]"||I==="[object Date]"||s(S)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(S){return S.$$typeof===i}function o(S){return Array.isArray(S)?[]:{}}function a(S,I){return I.clone!==!1&&I.isMergeableObject(S)?b(o(S),S,I):S}function l(S,I,w){return S.concat(I).map(function(_){return a(_,w)})}function c(S,I){if(!I.customMerge)return b;var w=I.customMerge(S);return typeof w=="function"?w:b}function d(S){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(S).filter(function(I){return Object.propertyIsEnumerable.call(S,I)}):[]}function p(S){return Object.keys(S).concat(d(S))}function f(S,I){try{return I in S}catch{return!1}}function y(S,I){return f(S,I)&&!(Object.hasOwnProperty.call(S,I)&&Object.propertyIsEnumerable.call(S,I))}function g(S,I,w){var _={};return w.isMergeableObject(S)&&p(S).forEach(function(A){_[A]=a(S[A],w)}),p(I).forEach(function(A){y(S,A)||(f(S,A)&&w.isMergeableObject(I[A])?_[A]=c(A,w)(S[A],I[A],w):_[A]=a(I[A],w))}),_}function b(S,I,w){w=w||{},w.arrayMerge=w.arrayMerge||l,w.isMergeableObject=w.isMergeableObject||e,w.cloneUnlessOtherwiseSpecified=a;var _=Array.isArray(I),A=Array.isArray(S),M=_===A;return M?_?w.arrayMerge(S,I,w):g(S,I,w):a(I,w)}b.all=function(S,I){if(!Array.isArray(S))throw new Error("first argument should be an array");return S.reduce(function(w,_){return b(w,_,I)},{})};var E=b;return dT=E,dT}var Ore=Mre();const pT=Nm(Ore);class Nre{generateUUID(){let t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const r=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(n==="x"?r:r&3|8).toString(16)})}convertImageToCanvas(t,n,r=!0){const i=n??document.createElement("canvas"),s=document.createElement("img");r&&(s.crossOrigin="anonymous");const o=new Promise((a,l)=>{s.addEventListener("load",()=>{i.width=s.width,i.height=s.height,i.getContext("2d")?.drawImage(s,0,0),a(i)}),s.addEventListener("error",c=>l(c))});return s.src=t,o}async convertImagetoDataURL(t,n="image/png"){return t.startsWith("data")?t:this.convertImageToCanvas(t).then(r=>r.toDataURL(n)).catch(r=>(console.error("Failed to load crossorigin image",t,r),t))}parseUrlIndex(t){const n={rootUrl:t,index:0},r=/\/(\d+)\/?$/,i=t.match(r);if(i){const s=i[1];n.index=isNaN(parseInt(s))?void 0:parseInt(s),n.rootUrl=t.substr(0,t.length-i[0].length)}else console.warn("Cannot extract layer index from url "+t);return n}controlAvailable(t,n){return n?.disabledControls?.includes(t)?!1:n?.controls?n?.controls?.includes(t):!0}}class km{_url;_base;_query;_queryMap={};constructor(t){this._url=t,[this._base,this._query]=t.split("?").concat(""),this._queryMap=this._query.split("&").reduce((n,r)=>{const[i,s]=r.split("=");return n[i]=s,n},{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(t){const n=pT.all([{},this.queryMap,t]);return`${this.base}${Object.entries(n).filter(([,r])=>r!==void 0).map(([r,i],s)=>`${s===0?"?":""}${r}=${i}`).join("&")}`}}var Cm=6378137,kre=57.29577951308232,Cre=.017453292519943,Rre={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},fT=function(e){return e*kre},mT=function(e){return e*Cre},Lre=function(e){var t=e[0],n=e[1];return[fT(t/Cm)-Math.floor((fT(t/Cm)+180)/360)*360,fT(Math.PI/2-2*Math.atan(Math.exp(-1*n/Cm)))]},Dre=function(e){var t=e[0],n=Math.max(Math.min(e[1],89.99999),-89.99999);return[mT(t)*Cm,Cm/2*Math.log((1+Math.sin(mT(n)))/(1-Math.sin(mT(n))))]};function yT(e){"@babel/helpers - typeof";return yT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yT(e)}var Pre=function e(t,n){for(var r=0;r<t.length;r++)typeof t[r][0]=="number"&&(t[r]=n(t[r])),yT(t[r])==="object"&&(t[r]=e(t[r],n));return t},Fre=function e(t,n,r){if(t.type==="Point")t.coordinates=n(t.coordinates);else if(t.type==="Feature")t.geometry=e(t.geometry,n,!0);else if(t.type==="FeatureCollection")for(var i=0;i<t.features.length;i++)t.features[i]=e(t.features[i],n,!0);else if(t.type==="GeometryCollection")for(var s=0;s<t.geometries.length;s++)t.geometries[s]=e(t.geometries[s],n,!0);else t.coordinates=Pre(t.coordinates,n);return r||n===Dre&&(t.crs=Rre),n===Lre&&delete t.crs,t};function Ure(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var _u=1,wu=2,xd=3,Gre=4,gT=5,SL=6378137,jre=6356752314e-3,IL=.0066943799901413165,Rm=484813681109536e-20,ue=Math.PI/2,zre=.16666666666666666,$re=.04722222222222222,Vre=.022156084656084655,be=1e-10,cr=.017453292519943295,fo=57.29577951308232,Tt=Math.PI/4,Lm=Math.PI*2,Tn=3.14159265359,Qr={};Qr.greenwich=0,Qr.lisbon=-9.131906111111,Qr.paris=2.337229166667,Qr.bogota=-74.080916666667,Qr.madrid=-3.687938888889,Qr.rome=12.452333333333,Qr.bern=7.439583333333,Qr.jakarta=106.807719444444,Qr.ferro=-17.666666666667,Qr.brussels=4.367975,Qr.stockholm=18.058277777778,Qr.athens=23.7163375,Qr.oslo=10.722916666667;const Wre={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var AL=/[\s_\-\/\(\)]/g;function Sl(e,t){if(e[t])return e[t];for(var n=Object.keys(e),r=t.toLowerCase().replace(AL,""),i=-1,s,o;++i<n.length;)if(s=n[i],o=s.toLowerCase().replace(AL,""),o===r)return e[s]}function vT(e){var t={},n=e.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),r,i,s,o={proj:"projName",datum:"datumCode",rf:function(a){t.rf=parseFloat(a)},lat_0:function(a){t.lat0=a*cr},lat_1:function(a){t.lat1=a*cr},lat_2:function(a){t.lat2=a*cr},lat_ts:function(a){t.lat_ts=a*cr},lon_0:function(a){t.long0=a*cr},lon_1:function(a){t.long1=a*cr},lon_2:function(a){t.long2=a*cr},alpha:function(a){t.alpha=parseFloat(a)*cr},gamma:function(a){t.rectified_grid_angle=parseFloat(a)},lonc:function(a){t.longc=a*cr},x_0:function(a){t.x0=parseFloat(a)},y_0:function(a){t.y0=parseFloat(a)},k_0:function(a){t.k0=parseFloat(a)},k:function(a){t.k0=parseFloat(a)},a:function(a){t.a=parseFloat(a)},b:function(a){t.b=parseFloat(a)},r:function(a){t.a=t.b=parseFloat(a)},r_a:function(){t.R_A=!0},zone:function(a){t.zone=parseInt(a,10)},south:function(){t.utmSouth=!0},towgs84:function(a){t.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){t.to_meter=parseFloat(a)},units:function(a){t.units=a;var l=Sl(Wre,a);l&&(t.to_meter=l.to_meter)},from_greenwich:function(a){t.from_greenwich=a*cr},pm:function(a){var l=Sl(Qr,a);t.from_greenwich=(l||parseFloat(a))*cr},nadgrids:function(a){a==="@null"?t.datumCode="none":t.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(t.axis=a)},approx:function(){t.approx=!0}};for(r in n)i=n[r],r in o?(s=o[r],typeof s=="function"?s(i):t[s]=i):t[r]=i;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}var Dm=1,ML=2,OL=3,tv=4,NL=5,bT=-1,Zre=/\s/,Bre=/[A-Za-z]/,Xre=/[A-Za-z84_]/,nv=/[,\]]/,kL=/[\d\.E\-\+]/;function aa(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Dm}aa.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==tv)for(;Zre.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case Dm:return this.neutral(e);case ML:return this.keyword(e);case tv:return this.quoted(e);case NL:return this.afterquote(e);case OL:return this.number(e);case bT:return}},aa.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=tv;return}if(nv.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)},aa.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Dm;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Dm,this.currentObject=this.stack.pop(),this.currentObject||(this.state=bT);return}},aa.prototype.number=function(e){if(kL.test(e)){this.word+=e;return}if(nv.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)},aa.prototype.quoted=function(e){if(e==='"'){this.state=NL;return}this.word+=e},aa.prototype.keyword=function(e){if(Xre.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=Dm;return}if(nv.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)},aa.prototype.neutral=function(e){if(Bre.test(e)){this.word=e,this.state=ML;return}if(e==='"'){this.word="",this.state=tv;return}if(kL.test(e)){this.word=e,this.state=OL;return}if(nv.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)},aa.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===bT)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function Hre(e){var t=new aa(e);return t.output()}function CL(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,i=n.reduce(function(s,o){return Ed(o,s),s},r);t&&(e[t]=i)}function Ed(e,t){if(!Array.isArray(e)){t[e]=!0;return}var n=e.shift();if(n==="PARAMETER"&&(n=e.shift()),e.length===1){if(Array.isArray(e[0])){t[n]={},Ed(e[0],t[n]);return}t[n]=e[0];return}if(!e.length){t[n]=!0;return}if(n==="TOWGS84"){t[n]=e;return}if(n==="AXIS"){n in t||(t[n]=[]),t[n].push(e);return}Array.isArray(n)||(t[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[n]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&Ed(e[2],t[n]);return;case"SPHEROID":case"ELLIPSOID":t[n]={name:e[0],a:e[1],rf:e[2]},e.length===4&&Ed(e[3],t[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],CL(t,n,e);return;default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return Ed(e,t[n]);return CL(t,n,e)}}var Yre=.017453292519943295;function qre(e,t){var n=t[0],r=t[1];!(n in e)&&r in e&&(e[n]=e[r],t.length===3&&(e[n]=t[2](e[n])))}function mo(e){return e*Yre}function Jre(e){if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",n=0,r=e.AXIS.length;n<r;++n){var i=[e.AXIS[n][0].toLowerCase(),e.AXIS[n][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?t+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?t+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?t+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var s=e.GEOGCS;e.type==="GEOGCS"&&(s=e),s&&(s.DATUM?e.datumCode=s.DATUM.name.toLowerCase():e.datumCode=s.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949")&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode.slice(-6)==="_ferro"&&(e.datumCode=e.datumCode.slice(0,-6)),e.datumCode.slice(-8)==="_jakarta"&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(e.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=s.DATUM.SPHEROID.a,e.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(e.datum_params=s.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);function o(c){var d=e.to_meter||1;return c*d}var a=function(c){return qre(e,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",mo],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",mo],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",mo],["lat0","latitude_of_origin",mo],["lat0","standard_parallel_1",mo],["lat1","standard_parallel_1",mo],["lat2","standard_parallel_2",mo],["azimuth","Azimuth"],["alpha","azimuth",mo],["srsCode","name"]];l.forEach(a),!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")?(e.lat0=mo(e.lat1>0?90:-90),e.lat_ts=e.lat1):!e.lat_ts&&e.lat0&&e.projName==="Polar_Stereographic"&&(e.lat_ts=e.lat0,e.lat0=mo(e.lat0>0?90:-90))}function RL(e){var t=Hre(e),n=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",n]);var i={};return Ed(t,i),Jre(i),i}function Dr(e){var t=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Dr[e]=vT(arguments[1]):Dr[e]=RL(arguments[1]):Dr[e]=n}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(r){Array.isArray(r)?Dr.apply(t,r):Dr(r)});if(typeof e=="string"){if(e in Dr)return Dr[e]}else"EPSG"in e?Dr["EPSG:"+e.EPSG]=e:"ESRI"in e?Dr["ESRI:"+e.ESRI]=e:"IAU2000"in e?Dr["IAU2000:"+e.IAU2000]=e:console.log(e);return}}Ure(Dr);function Qre(e){return typeof e=="string"}function Kre(e){return e in Dr}var eie=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function tie(e){return eie.some(function(t){return e.indexOf(t)>-1})}var nie=["3857","900913","3785","102113"];function rie(e){var t=Sl(e,"authority");if(t){var n=Sl(t,"epsg");return n&&nie.indexOf(n)>-1}}function iie(e){var t=Sl(e,"extension");if(t)return Sl(t,"proj4")}function sie(e){return e[0]==="+"}function oie(e){if(Qre(e)){if(Kre(e))return Dr[e];if(tie(e)){var t=RL(e);if(rie(t))return Dr["EPSG:3857"];var n=iie(t);return n?vT(n):t}if(sie(e))return vT(e)}else return e}function LL(e,t){e=e||{};var n,r;if(!t)return e;for(r in t)n=t[r],n!==void 0&&(e[r]=n);return e}function yo(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)}function Pm(e){return e<0?-1:1}function we(e){return Math.abs(e)<=Tn?e:e-Pm(e)*Lm}function Rs(e,t,n){var r=e*n,i=.5*e;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(ue-t))/r}function Fm(e,t){for(var n=.5*e,r,i,s=ue-2*Math.atan(t),o=0;o<=15;o++)if(r=e*Math.sin(s),i=ue-2*Math.atan(t*Math.pow((1-r)/(1+r),n))-s,s+=i,Math.abs(i)<=1e-10)return s;return-9999}function aie(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=yo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function lie(e){var t=e.x,n=e.y;if(n*fo>90&&n*fo<-90&&t*fo>180&&t*fo<-180)return null;var r,i;if(Math.abs(Math.abs(n)-ue)<=be)return null;if(this.sphere)r=this.x0+this.a*this.k0*we(t-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(Tt+.5*n));else{var s=Math.sin(n),o=Rs(this.e,n,s);r=this.x0+this.a*this.k0*we(t-this.long0),i=this.y0-this.a*this.k0*Math.log(o)}return e.x=r,e.y=i,e}function cie(e){var t=e.x-this.x0,n=e.y-this.y0,r,i;if(this.sphere)i=ue-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(i=Fm(this.e,s),i===-9999)return null}return r=we(this.long0+t/(this.a*this.k0)),e.x=r,e.y=i,e}var uie=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const hie={init:aie,forward:lie,inverse:cie,names:uie};function die(){}function DL(e){return e}var pie=["longlat","identity"];const fie={init:die,forward:DL,inverse:DL,names:pie};var mie=[hie,fie],rv={},iv=[];function PL(e,t){var n=iv.length;return e.names?(iv[n]=e,e.names.forEach(function(r){rv[r.toLowerCase()]=n}),this):(console.log(t),!0)}function yie(e){if(!e)return!1;var t=e.toLowerCase();if(typeof rv[t]<"u"&&iv[rv[t]])return iv[rv[t]]}function gie(){mie.forEach(PL)}const vie={start:gie,add:PL,get:yie};var Ve={};Ve.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},Ve.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},Ve.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},Ve.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},Ve.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},Ve.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},Ve.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},Ve.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},Ve.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},Ve.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},Ve.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},Ve.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},Ve.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},Ve.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},Ve.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},Ve.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},Ve.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},Ve.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},Ve.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},Ve.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},Ve.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},Ve.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},Ve.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},Ve.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},Ve.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},Ve.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},Ve.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},Ve.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},Ve.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},Ve.hough={a:6378270,rf:297,ellipseName:"Hough"},Ve.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},Ve.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},Ve.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},Ve.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},Ve.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},Ve.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},Ve.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},Ve.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},Ve.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},Ve.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},Ve.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},Ve.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var bie=Ve.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Ve.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function _ie(e,t,n,r){var i=e*e,s=t*t,o=(i-s)/i,a=0;r?(e*=1-o*(zre+o*($re+o*Vre)),i=e*e,o=0):a=Math.sqrt(o);var l=(i-s)/s;return{es:o,e:a,ep2:l}}function wie(e,t,n,r,i){if(!e){var s=Sl(Ve,r);s||(s=bie),e=s.a,t=s.b,n=s.rf}return n&&!t&&(t=(1-1/n)*e),(n===0||Math.abs(e-t)<be)&&(i=!0,t=e),{a:e,b:t,rf:n,sphere:i}}var Wn={};Wn.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Wn.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Wn.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Wn.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Wn.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Wn.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Wn.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Wn.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},Wn.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},Wn.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Wn.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Wn.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Wn.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Wn.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Wn.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Wn.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Wn.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Wn.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function xie(e,t,n,r,i,s,o){var a={};return e===void 0||e==="none"?a.datum_type=gT:a.datum_type=Gre,t&&(a.datum_params=t.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=_u),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=wu,a.datum_params[3]*=Rm,a.datum_params[4]*=Rm,a.datum_params[5]*=Rm,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=xd,a.grids=o),a.a=n,a.b=r,a.es=i,a.ep2=s,a}var FL={};function Eie(e,t){var n=new DataView(t),r=Iie(n),i=Aie(n,r),s=Mie(n,i,r),o={header:i,subgrids:s};return FL[e]=o,o}function Tie(e){if(e===void 0)return null;var t=e.split(",");return t.map(Sie)}function Sie(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:FL[e]||null,isNull:!1}}function Td(e){return e/3600*Math.PI/180}function Iie(e){var t=e.getInt32(8,!1);return t===11?!1:(t=e.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Aie(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:_T(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function _T(e,t,n){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,n)))}function Mie(e,t,n){for(var r=176,i=[],s=0;s<t.nSubgrids;s++){var o=Nie(e,r,n),a=kie(e,r,o,n),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);i.push({ll:[Td(o.lowerLongitude),Td(o.lowerLatitude)],del:[Td(o.longitudeInterval),Td(o.latitudeInterval)],lim:[l,c],count:o.gridNodeCount,cvs:Oie(a)}),r+=176+o.gridNodeCount*16}return i}function Oie(e){return e.map(function(t){return[Td(t.longitudeShift),Td(t.latitudeShift)]})}function Nie(e,t,n){return{name:_T(e,t+8,t+16).trim(),parent:_T(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,n),upperLatitude:e.getFloat64(t+88,n),lowerLongitude:e.getFloat64(t+104,n),upperLongitude:e.getFloat64(t+120,n),latitudeInterval:e.getFloat64(t+136,n),longitudeInterval:e.getFloat64(t+152,n),gridNodeCount:e.getInt32(t+168,n)}}function kie(e,t,n,r){for(var i=t+176,s=16,o=[],a=0;a<n.gridNodeCount;a++){var l={latitudeShift:e.getFloat32(i+a*s,r),longitudeShift:e.getFloat32(i+a*s+4,r),latitudeAccuracy:e.getFloat32(i+a*s+8,r),longitudeAccuracy:e.getFloat32(i+a*s+12,r)};o.push(l)}return o}function go(e,t){if(!(this instanceof go))return new go(e);t=t||function(c){if(c)throw c};var n=oie(e);if(typeof n!="object"){t("Could not parse to valid json: "+e);return}var r=go.projections.get(n.projName);if(!r){t("Could not get projection name from: "+e);return}if(n.datumCode&&n.datumCode!=="none"){var i=Sl(Wn,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s=wie(n.a,n.b,n.rf,n.ellps,n.sphere),o=_ie(s.a,s.b,s.rf,n.R_A),a=Tie(n.nadgrids),l=n.datum||xie(n.datumCode,n.datum_params,s.a,s.b,o.es,o.ep2,a);LL(this,n),LL(this,r),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),t(null,this)}go.projections=vie,go.projections.start();function Cie(e,t){return e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===_u?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===wu?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function UL(e,t,n){var r=e.x,i=e.y,s=e.z?e.z:0,o,a,l,c;if(i<-ue&&i>-1.001*ue)i=-ue;else if(i>ue&&i<1.001*ue)i=ue;else{if(i<-ue)return{x:-1/0,y:-1/0,z:e.z};if(i>ue)return{x:1/0,y:1/0,z:e.z}}return r>Math.PI&&(r-=2*Math.PI),a=Math.sin(i),c=Math.cos(i),l=a*a,o=n/Math.sqrt(1-t*l),{x:(o+s)*c*Math.cos(r),y:(o+s)*c*Math.sin(r),z:(o*(1-t)+s)*a}}function GL(e,t,n,r){var i=1e-12,s=i*i,o=30,a,l,c,d,p,f,y,g,b,E,S,I,w,_=e.x,A=e.y,M=e.z?e.z:0,k,C,R;if(a=Math.sqrt(_*_+A*A),l=Math.sqrt(_*_+A*A+M*M),a/n<i){if(k=0,l/n<i)return C=ue,R=-r,{x:e.x,y:e.y,z:e.z}}else k=Math.atan2(A,_);c=M/l,d=a/l,p=1/Math.sqrt(1-t*(2-t)*d*d),g=d*(1-t)*p,b=c*p,w=0;do w++,y=n/Math.sqrt(1-t*b*b),R=a*g+M*b-y*(1-t*b*b),f=t*y/(y+R),p=1/Math.sqrt(1-f*(2-f)*d*d),E=d*(1-f)*p,S=c*p,I=S*g-E*b,g=E,b=S;while(I*I>s&&w<o);return C=Math.atan(S/Math.abs(E)),{x:k,y:C,z:R}}function Rie(e,t,n){if(t===_u)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===wu){var r=n[0],i=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6];return{x:c*(e.x-l*e.y+a*e.z)+r,y:c*(l*e.x+e.y-o*e.z)+i,z:c*(-a*e.x+o*e.y+e.z)+s}}}function Lie(e,t,n){if(t===_u)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===wu){var r=n[0],i=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6],d=(e.x-r)/c,p=(e.y-i)/c,f=(e.z-s)/c;return{x:d+l*p-a*f,y:-l*d+p+o*f,z:a*d-o*p+f}}}function sv(e){return e===_u||e===wu}function Die(e,t,n){if(Cie(e,t)||e.datum_type===gT||t.datum_type===gT)return n;var r=e.a,i=e.es;if(e.datum_type===xd){var s=jL(e,!1,n);if(s!==0)return;r=SL,i=IL}var o=t.a,a=t.b,l=t.es;if(t.datum_type===xd&&(o=SL,a=jre,l=IL),i===l&&r===o&&!sv(e.datum_type)&&!sv(t.datum_type))return n;if(n=UL(n,i,r),sv(e.datum_type)&&(n=Rie(n,e.datum_type,e.datum_params)),sv(t.datum_type)&&(n=Lie(n,t.datum_type,t.datum_params)),n=GL(n,l,o,a),t.datum_type===xd){var c=jL(t,!0,n);if(c!==0)return}return n}function jL(e,t,n){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},s=[];e:for(var o=0;o<e.grids.length;o++){var a=e.grids[o];if(s.push(a.name),a.isNull){i=r;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,d=l.length;c<d;c++){var p=l[c],f=(Math.abs(p.del[1])+Math.abs(p.del[0]))/1e4,y=p.ll[0]-f,g=p.ll[1]-f,b=p.ll[0]+(p.lim[0]-1)*p.del[0]+f,E=p.ll[1]+(p.lim[1]-1)*p.del[1]+f;if(!(g>r.y||y>r.x||E<r.y||b<r.x)&&(i=Pie(r,t,p),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*fo+" "+r.y*fo+" tried: '"+s+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function Pie(e,t,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return r;var i={x:e.x,y:e.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=we(i.x-Math.PI)+Math.PI;var s=zL(i,n);if(t){if(isNaN(s.x))return r;s.x=i.x-s.x,s.y=i.y-s.y;var o=9,a=1e-12,l,c;do{if(c=zL(s,n),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(c.x+s.x),y:i.y-(c.y+s.y)},s.x+=l.x,s.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=we(s.x+n.ll[0]),r.y=s.y+n.ll[1]}else isNaN(s.x)||(r.x=e.x+s.x,r.y=e.y+s.y);return r}function zL(e,t){var n={x:e.x/t.del[0],y:e.y/t.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},i={x:n.x-1*r.x,y:n.y-1*r.y},s={x:Number.NaN,y:Number.NaN},o;if(r.x<0||r.x>=t.lim[0]||r.y<0||r.y>=t.lim[1])return s;o=r.y*t.lim[0]+r.x;var a={x:t.cvs[o][0],y:t.cvs[o][1]};o++;var l={x:t.cvs[o][0],y:t.cvs[o][1]};o+=t.lim[0];var c={x:t.cvs[o][0],y:t.cvs[o][1]};o--;var d={x:t.cvs[o][0],y:t.cvs[o][1]},p=i.x*i.y,f=i.x*(1-i.y),y=(1-i.x)*(1-i.y),g=(1-i.x)*i.y;return s.x=y*a.x+f*l.x+g*d.x+p*c.x,s.y=y*a.y+f*l.y+g*d.y+p*c.y,s}function $L(e,t,n){var r=n.x,i=n.y,s=n.z||0,o,a,l,c={};for(l=0;l<3;l++)if(!(t&&l===2&&n.z===void 0))switch(l===0?(o=r,"ew".indexOf(e.axis[l])!==-1?a="x":a="y"):l===1?(o=i,"ns".indexOf(e.axis[l])!==-1?a="y":a="x"):(o=s,a="z"),e.axis[l]){case"e":c[a]=o;break;case"w":c[a]=-o;break;case"n":c[a]=o;break;case"s":c[a]=-o;break;case"u":n[a]!==void 0&&(c.z=o);break;case"d":n[a]!==void 0&&(c.z=-o);break;default:return null}return c}function VL(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function Fie(e){WL(e.x),WL(e.y)}function WL(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function Uie(e,t){return(e.datum.datum_type===_u||e.datum.datum_type===wu||e.datum.datum_type===xd)&&t.datumCode!=="WGS84"||(t.datum.datum_type===_u||t.datum.datum_type===wu||t.datum.datum_type===xd)&&e.datumCode!=="WGS84"}function ov(e,t,n,r){var i;Array.isArray(n)?n=VL(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var s=n.z!==void 0;if(Fie(n),e.datum&&t.datum&&Uie(e,t)&&(i=new go("WGS84"),n=ov(e,i,n,r),e=i),r&&e.axis!=="enu"&&(n=$L(e,!1,n)),e.projName==="longlat")n={x:n.x*cr,y:n.y*cr,z:n.z||0};else if(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),n=e.inverse(n),!n)return;if(e.from_greenwich&&(n.x+=e.from_greenwich),n=Die(e.datum,t.datum,n),!!n)return t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),t.projName==="longlat"?n={x:n.x*fo,y:n.y*fo,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),r&&t.axis!=="enu"?$L(t,!0,n):(n&&!s&&delete n.z,n)}var ZL=go("WGS84");function wT(e,t,n,r){var i,s,o;return Array.isArray(n)?(i=ov(e,t,n,r)||{x:NaN,y:NaN},n.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(n.slice(3)):[i.x,i.y,n[2]].concat(n.slice(3)):[i.x,i.y].concat(n.slice(2)):[i.x,i.y]):(s=ov(e,t,n,r),o=Object.keys(n),o.length===2||o.forEach(function(a){if(typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;s[a]=n[a]}),s)}function BL(e){return e instanceof go?e:e.oProj?e.oProj:go(e)}function Pt(e,t,n){e=BL(e);var r=!1,i;return typeof t>"u"?(t=e,e=ZL,r=!0):(typeof t.x<"u"||Array.isArray(t))&&(n=t,t=e,e=ZL,r=!0),t=BL(t),n?wT(e,t,n):(i={forward:function(s,o){return wT(e,t,s,o)},inverse:function(s,o){return wT(t,e,s,o)}},r&&(i.oProj=t),i)}var XL=6,HL="AJSAJS",YL="AFAFAF",Sd=65,Kr=73,Xi=79,Um=86,Gm=90;const Gie={forward:qL,inverse:jie,toPoint:JL};function qL(e,t){return t=t||5,Vie(zie({lat:e[1],lon:e[0]}),t)}function jie(e){var t=ET(e8(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function JL(e){var t=ET(e8(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function xT(e){return e*(Math.PI/180)}function QL(e){return 180*(e/Math.PI)}function zie(e){var t=e.lat,n=e.lon,r=6378137,i=.00669438,s=.9996,o,a,l,c,d,p,f,y=xT(t),g=xT(n),b,E;E=Math.floor((n+180)/6)+1,n===180&&(E=60),t>=56&&t<64&&n>=3&&n<12&&(E=32),t>=72&&t<84&&(n>=0&&n<9?E=31:n>=9&&n<21?E=33:n>=21&&n<33?E=35:n>=33&&n<42&&(E=37)),o=(E-1)*6-180+3,b=xT(o),a=i/(1-i),l=r/Math.sqrt(1-i*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),d=a*Math.cos(y)*Math.cos(y),p=Math.cos(y)*(g-b),f=r*((1-i/4-3*i*i/64-5*i*i*i/256)*y-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*y)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*y)-35*i*i*i/3072*Math.sin(6*y));var S=s*l*(p+(1-c+d)*p*p*p/6+(5-18*c+c*c+72*d-58*a)*p*p*p*p*p/120)+5e5,I=s*(f+l*Math.tan(y)*(p*p/2+(5-c+9*d+4*d*d)*p*p*p*p/24+(61-58*c+c*c+600*d-330*a)*p*p*p*p*p*p/720));return t<0&&(I+=1e7),{northing:Math.round(I),easting:Math.round(S),zoneNumber:E,zoneLetter:$ie(t)}}function ET(e){var t=e.northing,n=e.easting,r=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var s=.9996,o=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),d,p,f,y,g,b,E,S,I,w=n-5e5,_=t;r<"N"&&(_-=1e7),E=(i-1)*6-180+3,l=a/(1-a),b=_/s,S=b/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),I=S+(3*c/2-27*c*c*c/32)*Math.sin(2*S)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*S)+151*c*c*c/96*Math.sin(6*S),d=o/Math.sqrt(1-a*Math.sin(I)*Math.sin(I)),p=Math.tan(I)*Math.tan(I),f=l*Math.cos(I)*Math.cos(I),y=o*(1-a)/Math.pow(1-a*Math.sin(I)*Math.sin(I),1.5),g=w/(d*s);var A=I-d*Math.tan(I)/y*(g*g/2-(5+3*p+10*f-4*f*f-9*l)*g*g*g*g/24+(61+90*p+298*f+45*p*p-252*l-3*f*f)*g*g*g*g*g*g/720);A=QL(A);var M=(g-(1+2*p+f)*g*g*g/6+(5-2*f+28*p-3*f*f+8*l+24*p*p)*g*g*g*g*g/120)/Math.cos(I);M=E+QL(M);var k;if(e.accuracy){var C=ET({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});k={top:C.lat,right:C.lon,bottom:A,left:M}}else k={lat:A,lon:M};return k}function $ie(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function Vie(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+Wie(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+r.substr(r.length-5,t)}function Wie(e,t,n){var r=KL(n),i=Math.floor(e/1e5),s=Math.floor(t/1e5)%20;return Zie(i,s,r)}function KL(e){var t=e%XL;return t===0&&(t=XL),t}function Zie(e,t,n){var r=n-1,i=HL.charCodeAt(r),s=YL.charCodeAt(r),o=i+e-1,a=s+t,l=!1;o>Gm&&(o=o-Gm+Sd-1,l=!0),(o===Kr||i<Kr&&o>Kr||(o>Kr||i<Kr)&&l)&&o++,(o===Xi||i<Xi&&o>Xi||(o>Xi||i<Xi)&&l)&&(o++,o===Kr&&o++),o>Gm&&(o=o-Gm+Sd-1),a>Um?(a=a-Um+Sd-1,l=!0):l=!1,(a===Kr||s<Kr&&a>Kr||(a>Kr||s<Kr)&&l)&&a++,(a===Xi||s<Xi&&a>Xi||(a>Xi||s<Xi)&&l)&&(a++,a===Kr&&a++),a>Um&&(a=a-Um+Sd-1);var c=String.fromCharCode(o)+String.fromCharCode(a);return c}function e8(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t=e.length,n=null,r="",i,s=0;!/[A-Z]/.test(i=e.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+e;r+=i,s++}var o=parseInt(r,10);if(s===0||s+3>t)throw"MGRSPoint bad conversion from: "+e;var a=e.charAt(s++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+e;n=e.substring(s,s+=2);for(var l=KL(o),c=Bie(n.charAt(0),l),d=Xie(n.charAt(1),l);d<Hie(a);)d+=2e6;var p=t-s;if(p%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var f=p/2,y=0,g=0,b,E,S,I,w;return f>0&&(b=1e5/Math.pow(10,f),E=e.substring(s,s+f),y=parseFloat(E)*b,S=e.substring(s+f),g=parseFloat(S)*b),I=y+c,w=g+d,{easting:I,northing:w,zoneLetter:a,zoneNumber:o,accuracy:b}}function Bie(e,t){for(var n=HL.charCodeAt(t-1),r=1e5,i=!1;n!==e.charCodeAt(0);){if(n++,n===Kr&&n++,n===Xi&&n++,n>Gm){if(i)throw"Bad character: "+e;n=Sd,i=!0}r+=1e5}return r}function Xie(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var n=YL.charCodeAt(t-1),r=0,i=!1;n!==e.charCodeAt(0);){if(n++,n===Kr&&n++,n===Xi&&n++,n>Um){if(i)throw"Bad character: "+e;n=Sd,i=!0}r+=1e5}return r}function Hie(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Id(e,t,n){if(!(this instanceof Id))return new Id(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t>"u"){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Id.fromMGRS=function(e){return new Id(JL(e))},Id.prototype.toMGRS=function(e){return qL([this.x,this.y],e)};var Yie=1,qie=.25,t8=.046875,n8=.01953125,r8=.01068115234375,Jie=.75,Qie=.46875,Kie=.013020833333333334,ese=.007120768229166667,tse=.3645833333333333,nse=.005696614583333333,rse=.3076171875;function TT(e){var t=[];t[0]=Yie-e*(qie+e*(t8+e*(n8+e*r8))),t[1]=e*(Jie-e*(t8+e*(n8+e*r8)));var n=e*e;return t[2]=n*(Qie-e*(Kie+e*ese)),n*=e,t[3]=n*(tse-e*nse),t[4]=n*e*rse,t}function Ad(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))}var ise=20;function ST(e,t,n){for(var r=1/(1-t),i=e,s=ise;s;--s){var o=Math.sin(i),a=1-t*o*o;if(a=(Ad(i,o,Math.cos(i),n)-e)*(a*Math.sqrt(a))*r,i-=a,Math.abs(a)<be)return i}return i}function sse(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=TT(this.es),this.ml0=Ad(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function ose(e){var t=e.x,n=e.y,r=we(t-this.long0),i,s,o,a=Math.sin(n),l=Math.cos(n);if(this.es){var c=l*r,d=Math.pow(c,2),p=this.ep2*Math.pow(l,2),f=Math.pow(p,2),y=Math.abs(l)>be?Math.tan(n):0,g=Math.pow(y,2),b=Math.pow(g,2);i=1-this.es*Math.pow(a,2),c=c/Math.sqrt(i);var E=Ad(n,a,l,this.en);s=this.a*(this.k0*c*(1+d/6*(1-g+p+d/20*(5-18*g+b+14*p-58*g*p+d/42*(61+179*b-b*g-479*g)))))+this.x0,o=this.a*(this.k0*(E-this.ml0+a*r*c/2*(1+d/12*(5-g+9*p+4*f+d/30*(61+b-58*g+270*p-330*g*p+d/56*(1385+543*b-b*g-3111*g))))))+this.y0}else{var S=l*Math.sin(r);if(Math.abs(Math.abs(S)-1)<be)return 93;if(s=.5*this.a*this.k0*Math.log((1+S)/(1-S))+this.x0,o=l*Math.cos(r)/Math.sqrt(1-Math.pow(S,2)),S=Math.abs(o),S>=1){if(S-1>be)return 93;o=0}else o=Math.acos(o);n<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return e.x=s,e.y=o,e}function ase(e){var t,n,r,i,s=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+o/this.k0,n=ST(t,this.es,this.en),Math.abs(n)<ue){var a=Math.sin(n),l=Math.cos(n),c=Math.abs(l)>be?Math.tan(n):0,d=this.ep2*Math.pow(l,2),p=Math.pow(d,2),f=Math.pow(c,2),y=Math.pow(f,2);t=1-this.es*Math.pow(a,2);var g=s*Math.sqrt(t)/this.k0,b=Math.pow(g,2);t=t*c,r=n-t*b/(1-this.es)*.5*(1-b/12*(5+3*f-9*d*f+d-4*p-b/30*(61+90*f-252*d*f+45*y+46*d-b/56*(1385+3633*f+4095*y+1574*y*f)))),i=we(this.long0+g*(1-b/6*(1+2*f+d-b/20*(5+28*f+24*y+8*d*f+6*d-b/42*(61+662*f+1320*y+720*y*f))))/l)}else r=ue*Pm(o),i=0;else{var E=Math.exp(s/this.k0),S=.5*(E-1/E),I=this.lat0+o/this.k0,w=Math.cos(I);t=Math.sqrt((1-Math.pow(w,2))/(1+Math.pow(S,2))),r=Math.asin(t),o<0&&(r=-r),S===0&&w===0?i=0:i=we(Math.atan2(S,w)+this.long0)}return e.x=i,e.y=r,e}var lse=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const av={init:sse,forward:ose,inverse:ase,names:lse};function i8(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function ei(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function cse(e){var t=1+e,n=t-1;return n===0?e:e*Math.log(t)/n}function use(e){var t=Math.abs(e);return t=cse(t*(1+t/(ei(1,t)+1))),e<0?-t:t}function IT(e,t){for(var n=2*Math.cos(2*t),r=e.length-1,i=e[r],s=0,o;--r>=0;)o=-s+n*i+e[r],s=i,i=o;return t+o*Math.sin(2*t)}function hse(e,t){for(var n=2*Math.cos(t),r=e.length-1,i=e[r],s=0,o;--r>=0;)o=-s+n*i+e[r],s=i,i=o;return Math.sin(t)*o}function dse(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function s8(e,t,n){for(var r=Math.sin(t),i=Math.cos(t),s=i8(n),o=dse(n),a=2*i*o,l=-2*r*s,c=e.length-1,d=e[c],p=0,f=0,y=0,g,b;--c>=0;)g=f,b=p,f=d,p=y,d=-g+a*f-l*p+e[c],y=-b+l*f+a*p;return a=r*o,l=i*s,[a*d-l*y,a*y+l*d]}function pse(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(av.init.apply(this),this.forward=av.forward,this.inverse=av.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),n=n*t,this.cgb[1]=n*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n=n*t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),n=n*t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(-12/5+t*(-24832/14175))),n=n*t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n=n*t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),n=n*t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n=n*t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n=n*t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n=n*t,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var r=IT(this.cbg,this.lat0);this.Zb=-this.Qn*(r+hse(this.gtu,2*r))}function fse(e){var t=we(e.x-this.long0),n=e.y;n=IT(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),s=Math.sin(t),o=Math.cos(t);n=Math.atan2(r,o*i),t=Math.atan2(s*i,ei(r,i*o)),t=use(Math.tan(t));var a=s8(this.gtu,2*n,2*t);n=n+a[0],t=t+a[1];var l,c;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,c=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,c=1/0),e.x=l,e.y=c,e}function mse(e){var t=(e.x-this.x0)*(1/this.a),n=(e.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,t=t/this.Qn;var r,i;if(Math.abs(t)<=2.623395162778){var s=s8(this.utg,2*n,2*t);n=n+s[0],t=t+s[1],t=Math.atan(i8(t));var o=Math.sin(n),a=Math.cos(n),l=Math.sin(t),c=Math.cos(t);n=Math.atan2(o*c,ei(l,c*a)),t=Math.atan2(l,c*a),r=we(t+this.long0),i=IT(this.cgb,n)}else r=1/0,i=1/0;return e.x=r,e.y=i,e}var yse=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const lv={init:pse,forward:fse,inverse:mse,names:yse};function gse(e,t){if(e===void 0){if(e=Math.floor((we(t)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var vse="etmerc";function bse(){var e=gse(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*cr,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,lv.init.apply(this),this.forward=lv.forward,this.inverse=lv.inverse}var _se=["Universal Transverse Mercator System","utm"];const wse={init:bse,names:_se,dependsOn:vse};function AT(e,t){return Math.pow((1-e)/(1+e),t)}var xse=20;function Ese(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Tt)/(Math.pow(Math.tan(.5*this.lat0+Tt),this.C)*AT(this.e*e,this.ratexp))}function Tse(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Tt),this.C)*AT(this.e*Math.sin(n),this.ratexp))-ue,e.x=this.C*t,e}function Sse(e){for(var t=1e-14,n=e.x/this.C,r=e.y,i=Math.pow(Math.tan(.5*r+Tt)/this.K,1/this.C),s=xse;s>0&&(r=2*Math.atan(i*AT(this.e*Math.sin(e.y),-.5*this.e))-ue,!(Math.abs(r-e.y)<t));--s)e.y=r;return s?(e.x=n,e.y=r,e):null}var Ise=["gauss"];const MT={init:Ese,forward:Tse,inverse:Sse,names:Ise};function Ase(){MT.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function Mse(e){var t,n,r,i;return e.x=we(e.x-this.long0),MT.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=i*n*Math.sin(e.x),e.y=i*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function Ose(e){var t,n,r,i,s;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,s=ei(e.x,e.y)){var o=2*Math.atan2(s,this.R2);t=Math.sin(o),n=Math.cos(o),i=Math.asin(n*this.sinc0+e.y*t*this.cosc0/s),r=Math.atan2(e.x*t,s*this.cosc0*n-e.y*this.sinc0*t)}else i=this.phic0,r=0;return e.x=r,e.y=i,MT.inverse.apply(this,[e]),e.x=we(e.x+this.long0),e}var Nse=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const kse={init:Ase,forward:Mse,inverse:Ose,names:Nse};function Cse(e,t,n){return t*=n,Math.tan(.5*(ue+e))*Math.pow((1-t)/(1+t),.5*n)}function Rse(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=be&&(this.k0=.5*(1+Pm(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=be&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=be&&Math.abs(Math.cos(this.lat_ts))>be&&(this.k0=.5*this.cons*yo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Rs(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=yo(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-ue,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Lse(e){var t=e.x,n=e.y,r=Math.sin(n),i=Math.cos(n),s,o,a,l,c,d,p=we(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=be&&Math.abs(n+this.lat0)<=be?(e.x=NaN,e.y=NaN,e):this.sphere?(s=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(p)),e.x=this.a*s*i*Math.sin(p)+this.x0,e.y=this.a*s*(this.coslat0*r-this.sinlat0*i*Math.cos(p))+this.y0,e):(o=2*Math.atan(this.ssfn_(n,r,this.e))-ue,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=be?(c=Rs(this.e,n*this.con,this.con*r),d=2*this.a*this.k0*c/this.cons,e.x=this.x0+d*Math.sin(t-this.long0),e.y=this.y0-this.con*d*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<be?(s=2*this.a*this.k0/(1+l*Math.cos(p)),e.y=s*a):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(p))),e.y=s*(this.cosX0*a-this.sinX0*l*Math.cos(p))+this.y0),e.x=s*l*Math.sin(p)+this.x0,e))}function Dse(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,s,o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,n=this.lat0,o<=be?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<be?this.lat0>0?t=we(this.long0+Math.atan2(e.x,-1*e.y)):t=we(this.long0+Math.atan2(e.x,e.y)):t=we(this.long0+Math.atan2(e.x*Math.sin(a),o*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a))),e.x=t,e.y=n,e)}else if(Math.abs(this.coslat0)<=be){if(o<=be)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=o*this.cons/(2*this.a*this.k0),n=this.con*Fm(this.e,r),t=this.con*we(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else i=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=be?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/o),t=we(this.long0+Math.atan2(e.x*Math.sin(i),o*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)))),n=-1*Fm(this.e,Math.tan(.5*(ue+s)));return e.x=t,e.y=n,e}var Pse=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const Fse={init:Rse,forward:Lse,inverse:Dse,names:Pse,ssfn_:Cse};function Use(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=this.rf,i=1/r,s=2*i-Math.pow(i,2),o=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(t,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),c=Math.log((1+o*t)/(1-o*t));this.K=a-this.alpha*l+this.alpha*o/2*c}function Gse(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),s=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(s))),a=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(s));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*o+this.x0,e}function jse(e){for(var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),a=this.lambda0+o/this.alpha,l=0,c=s,d=-1e3,p=0;Math.abs(c-d)>1e-7;){if(++p>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),d=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=a,e.y=c,e}var zse=["somerc"];const $se={init:Use,forward:Gse,inverse:jse,names:zse};var Md=1e-7;function Vse(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof e.PROJECTION=="object"?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||t.indexOf(n)!==-1}function Wse(){var e,t,n,r,i,s,o,a,l,c,d=0,p,f=0,y=0,g=0,b=0,E=0,S=0;this.no_off=Vse(this),this.no_rot="no_rot"in this;var I=!1;"alpha"in this&&(I=!0);var w=!1;if("rectified_grid_angle"in this&&(w=!0),I&&(S=this.alpha),w&&(d=this.rectified_grid_angle*cr),I||w)f=this.longc;else if(y=this.long1,b=this.lat1,g=this.long2,E=this.lat2,Math.abs(b-E)<=Md||(e=Math.abs(b))<=Md||Math.abs(e-ue)<=Md||Math.abs(Math.abs(this.lat0)-ue)<=Md||Math.abs(Math.abs(E)-ue)<=Md)throw new Error;var _=1-this.es;t=Math.sqrt(_),Math.abs(this.lat0)>be?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),e=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/_),this.A=this.B*this.k0*t/e,r=this.B*t/(n*Math.sqrt(e)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(Rs(this.e,this.lat0,a),this.B)):(this.B=1/t,this.A=this.k0,this.E=r=i=1),I||w?(I?(p=Math.asin(Math.sin(S)/r),w||(d=S)):(p=d,S=Math.asin(r*Math.sin(p))),this.lam0=f-Math.asin(.5*(i-1/i)*Math.tan(p))/this.B):(s=Math.pow(Rs(this.e,b,Math.sin(b)),this.B),o=Math.pow(Rs(this.e,E,Math.sin(E)),this.B),i=this.E/s,l=(o-s)/(o+s),c=this.E*this.E,c=(c-o*s)/(c+o*s),e=y-g,e<-Math.pi?g-=Lm:e>Math.pi&&(g+=Lm),this.lam0=we(.5*(y+g)-Math.atan(c*Math.tan(.5*this.B*(y-g))/l)/this.B),p=Math.atan(2*Math.sin(this.B*we(y-this.lam0))/(i-1/i)),d=S=Math.asin(r*Math.sin(p))),this.singam=Math.sin(p),this.cosgam=Math.cos(p),this.sinrot=Math.sin(d),this.cosrot=Math.cos(d),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(S))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*p,this.v_pole_n=this.ArB*Math.log(Math.tan(Tt-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(Tt+i))}function Zse(e){var t={},n,r,i,s,o,a,l,c;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-ue)>be){if(o=this.E/Math.pow(Rs(this.e,e.y,Math.sin(e.y)),this.B),a=1/o,n=.5*(o-a),r=.5*(o+a),s=Math.sin(this.B*e.x),i=(n*this.singam-s*this.cosgam)/r,Math.abs(Math.abs(i)-1)<be)throw new Error;c=.5*this.ArB*Math.log((1-i)/(1+i)),a=Math.cos(this.B*e.x),Math.abs(a)<Md?l=this.A*e.x:l=this.ArB*Math.atan2(n*this.cosgam+s*this.singam,a)}else c=e.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*e.y;return this.no_rot?(t.x=l,t.y=c):(l-=this.u_0,t.x=c*this.cosrot+l*this.sinrot,t.y=l*this.cosrot-c*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Bse(e){var t,n,r,i,s,o,a,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(n=e.y,t=e.x):(n=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*n),i=.5*(r-1/r),s=.5*(r+1/r),o=Math.sin(this.BrA*t),a=(o*this.cosgam+i*this.singam)/s,Math.abs(Math.abs(a)-1)<be)l.x=0,l.y=a<0?-ue:ue;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=Fm(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-o*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var Xse=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const Hse={init:Wse,forward:Zse,inverse:Bse,names:Xse};function Yse(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<be)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=yo(this.e,t,n),i=Rs(this.e,this.lat1,t),s=Math.sin(this.lat2),o=Math.cos(this.lat2),a=yo(this.e,s,o),l=Rs(this.e,this.lat2,s),c=Rs(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>be?this.ns=Math.log(r/a)/Math.log(i/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function qse(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=be&&(n=Pm(n)*(ue-2*be));var r=Math.abs(Math.abs(n)-ue),i,s;if(r>be)i=Rs(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(i,this.ns);else{if(r=n*this.ns,r<=0)return null;s=0}var o=this.ns*we(t-this.long0);return e.x=this.k0*(s*Math.sin(o))+this.x0,e.y=this.k0*(this.rh-s*Math.cos(o))+this.y0,e}function Jse(e){var t,n,r,i,s,o=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+a*a),n=1):(t=-Math.sqrt(o*o+a*a),n=-1);var l=0;if(t!==0&&(l=Math.atan2(n*o,n*a)),t!==0||this.ns>0){if(n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),i=Fm(this.e,r),i===-9999)return null}else i=-ue;return s=we(l/this.ns+this.long0),e.x=s,e.y=i,e}var Qse=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const Kse={init:Yse,forward:qse,inverse:Jse,names:Qse};function eoe(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function toe(e){var t,n,r,i,s,o,a,l=e.x,c=e.y,d=we(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),r=-d*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),s=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),o=this.n*s,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),e.y=a*Math.cos(o)/1,e.x=a*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e}function noe(e){var t,n,r,i,s,o,a,l,c=e.x;e.x=e.y,e.y=c,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),s=Math.atan2(e.y,e.x),i=s/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(t)),e.x=this.long0-n/this.alfa,a=t,l=0;var d=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(l=1),a=e.y,d+=1;while(l===0&&d<15);return d>=15?null:e}var roe=["Krovak","krovak"];const ioe={init:eoe,forward:toe,inverse:noe,names:roe};function Pr(e,t,n,r,i){return e*i-t*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function jm(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function zm(e){return .375*e*(1+.25*e*(1+.46875*e))}function $m(e){return .05859375*e*e*(1+.75*e)}function Vm(e){return e*e*e*(35/3072)}function Od(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)}function Il(e){return Math.abs(e)<ue?e:e-Pm(e)*Math.PI}function cv(e,t,n,r,i){var s,o;s=e/t;for(var a=0;a<15;a++)if(o=(e-(t*s-n*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)))/(t-2*n*Math.cos(2*s)+4*r*Math.cos(4*s)-6*i*Math.cos(6*s)),s+=o,Math.abs(o)<=1e-10)return s;return NaN}function soe(){this.sphere||(this.e0=jm(this.es),this.e1=zm(this.es),this.e2=$m(this.es),this.e3=Vm(this.es),this.ml0=this.a*Pr(this.e0,this.e1,this.e2,this.e3,this.lat0))}function ooe(e){var t,n,r=e.x,i=e.y;if(r=we(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var s=Math.sin(i),o=Math.cos(i),a=Od(this.a,this.e,s),l=Math.tan(i)*Math.tan(i),c=r*Math.cos(i),d=c*c,p=this.es*o*o/(1-this.es),f=this.a*Pr(this.e0,this.e1,this.e2,this.e3,i);t=a*c*(1-d*l*(1/6-(8-l+8*p)*d/120)),n=f-this.ml0+a*s/o*d*(.5+(5-l+6*p)*d/24)}return e.x=t+this.x0,e.y=n+this.y0,e}function aoe(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,n=e.y/this.a,r,i;if(this.sphere){var s=n+this.lat0;r=Math.asin(Math.sin(s)*Math.cos(t)),i=Math.atan2(Math.tan(t),Math.cos(s))}else{var o=this.ml0/this.a+n,a=cv(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-ue)<=be)return e.x=this.long0,e.y=ue,n<0&&(e.y*=-1),e;var l=Od(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),d=Math.pow(Math.tan(a),2),p=t*this.a/l,f=p*p;r=a-l*Math.tan(a)/c*p*p*(.5-(1+3*d)*p*p/24),i=p*(1-f*(d/3+(1+3*d)*d*f/15))/Math.cos(a)}return e.x=we(i+this.long0),e.y=Il(r),e}var loe=["Cassini","Cassini_Soldner","cass"];const coe={init:soe,forward:ooe,inverse:aoe,names:loe};function Al(e,t){var n;return e>1e-7?(n=e*t,(1-e*e)*(t/(1-n*n)-.5/e*Math.log((1-n)/(1+n)))):2*t}var uoe=1,hoe=2,doe=3,poe=4;function foe(){var e=Math.abs(this.lat0);if(Math.abs(e-ue)<be?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<be?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=Al(this.e,1),this.mmf=.5/(1-this.es),this.apa=Eoe(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Al(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function moe(e){var t,n,r,i,s,o,a,l,c,d,p=e.x,f=e.y;if(p=we(p-this.long0),this.sphere){if(s=Math.sin(f),d=Math.cos(f),r=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+d*r:1+this.sinph0*s+this.cosph0*d*r,n<=be)return null;n=Math.sqrt(2/n),t=n*d*Math.sin(p),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*d*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(f+this.lat0)<be)return null;n=Tt-f*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),t=n*Math.sin(p),n*=r}}else{switch(a=0,l=0,c=0,r=Math.cos(p),i=Math.sin(p),s=Math.sin(f),o=Al(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*r;break;case this.EQUIT:c=1+l*r;break;case this.N_POLE:c=ue+f,o=this.qp-o;break;case this.S_POLE:c=f-ue,o=this.qp+o;break}if(Math.abs(c)<be)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?n=this.ymf*c*(this.cosb1*a-this.sinb1*l*r):n=(c=Math.sqrt(2/(1+l*r)))*a*this.ymf,t=this.xmf*c*l*i;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(c=Math.sqrt(o))*i,n=r*(this.mode===this.S_POLE?c:-c)):t=n=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e}function yoe(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,n=e.y/this.a,r,i,s,o,a,l,c;if(this.sphere){var d=0,p,f=0;if(p=Math.sqrt(t*t+n*n),i=p*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(f=Math.sin(i),d=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(p)<=be?0:Math.asin(n*f/p),t*=f,n=d*p;break;case this.OBLIQ:i=Math.abs(p)<=be?this.lat0:Math.asin(d*this.sinph0+n*f*this.cosph0/p),t*=f*this.cosph0,n=(d-Math.sin(i)*this.sinph0)*p;break;case this.N_POLE:n=-n,i=ue-i;break;case this.S_POLE:i-=ue;break}r=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,n)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,n*=this.dd,l=Math.sqrt(t*t+n*n),l<be)return e.x=this.long0,e.y=this.lat0,e;o=2*Math.asin(.5*l/this.rq),s=Math.cos(o),t*=o=Math.sin(o),this.mode===this.OBLIQ?(c=s*this.sinb1+n*o*this.cosb1/l,a=this.qp*c,n=l*this.cosb1*s-n*this.sinb1*o):(c=n*o/l,a=this.qp*c,n=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),a=t*t+n*n,!a)return e.x=this.long0,e.y=this.lat0,e;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}r=Math.atan2(t,n),i=Toe(Math.asin(c),this.apa)}return e.x=we(this.long0+r),e.y=i,e}var goe=.3333333333333333,voe=.17222222222222222,boe=.10257936507936508,_oe=.06388888888888888,woe=.0664021164021164,xoe=.016415012942191543;function Eoe(e){var t,n=[];return n[0]=e*goe,t=e*e,n[0]+=t*voe,n[1]=t*_oe,t*=e,n[0]+=t*boe,n[1]+=t*woe,n[2]=t*xoe,n}function Toe(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}var Soe=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const Ioe={init:foe,forward:moe,inverse:yoe,names:Soe,S_POLE:uoe,N_POLE:hoe,EQUIT:doe,OBLIQ:poe};function Ml(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function Aoe(){Math.abs(this.lat1+this.lat2)<be||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=yo(this.e3,this.sin_po,this.cos_po),this.qs1=Al(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=yo(this.e3,this.sin_po,this.cos_po),this.qs2=Al(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Al(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>be?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Moe(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=Al(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*we(t-this.long0),o=i*Math.sin(s)+this.x0,a=this.rh-i*Math.cos(s)+this.y0;return e.x=o,e.y=a,e}function Ooe(e){var t,n,r,i,s,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),i=0,t!==0&&(i=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,o=this.phi1z(this.e3,n)),s=we(i/this.ns0+this.long0),e.x=s,e.y=o,e}function Noe(e,t){var n,r,i,s,o,a=Ml(.5*t);if(e<be)return a;for(var l=e*e,c=1;c<=25;c++)if(n=Math.sin(a),r=Math.cos(a),i=e*n,s=1-i*i,o=.5*s*s/r*(t/(1-l)-n/s+.5/e*Math.log((1-i)/(1+i))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var koe=["Albers_Conic_Equal_Area","Albers","aea"];const Coe={init:Aoe,forward:Moe,inverse:Ooe,names:koe,phi1z:Noe};function Roe(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Loe(e){var t,n,r,i,s,o,a,l,c=e.x,d=e.y;return r=we(c-this.long0),t=Math.sin(d),n=Math.cos(d),i=Math.cos(r),o=this.sin_p14*t+this.cos_p14*n*i,s=1,o>0||Math.abs(o)<=be?(a=this.x0+this.a*s*n*Math.sin(r)/o,l=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*n*i)/o):(a=this.x0+this.infinity_dist*n*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*i)),e.x=a,e.y=l,e}function Doe(e){var t,n,r,i,s,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(i=Math.atan2(t,this.rc),n=Math.sin(i),r=Math.cos(i),o=Ml(r*this.sin_p14+e.y*n*this.cos_p14/t),s=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),s=we(this.long0+s)):(o=this.phic0,s=0),e.x=s,e.y=o,e}var Poe=["gnom"];const Foe={init:Roe,forward:Loe,inverse:Doe,names:Poe};function Uoe(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*ue:ue;for(var r=Math.asin(.5*t),i,s,o,a,l=0;l<30;l++)if(s=Math.sin(r),o=Math.cos(r),a=e*s,i=Math.pow(1-a*a,2)/(2*o)*(t/(1-e*e)-s/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),r+=i,Math.abs(i)<=1e-10)return r;return NaN}function Goe(){this.sphere||(this.k0=yo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function joe(e){var t=e.x,n=e.y,r,i,s=we(t-this.long0);if(this.sphere)r=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var o=Al(this.e,Math.sin(n));r=this.x0+this.a*this.k0*s,i=this.y0+this.a*o*.5/this.k0}return e.x=r,e.y=i,e}function zoe(e){e.x-=this.x0,e.y-=this.y0;var t,n;return this.sphere?(t=we(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=Uoe(this.e,2*e.y*this.k0/this.a),t=we(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e}var $oe=["cea"];const Voe={init:Goe,forward:joe,inverse:zoe,names:$oe};function Woe(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Zoe(e){var t=e.x,n=e.y,r=we(t-this.long0),i=Il(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*i,e}function Boe(e){var t=e.x,n=e.y;return e.x=we(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Il(this.lat0+(n-this.y0)/this.a),e}var Xoe=["Equirectangular","Equidistant_Cylindrical","eqc"];const Hoe={init:Woe,forward:Zoe,inverse:Boe,names:Xoe};var o8=20;function Yoe(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=jm(this.es),this.e1=zm(this.es),this.e2=$m(this.es),this.e3=Vm(this.es),this.ml0=this.a*Pr(this.e0,this.e1,this.e2,this.e3,this.lat0)}function qoe(e){var t=e.x,n=e.y,r,i,s,o=we(t-this.long0);if(s=o*Math.sin(n),this.sphere)Math.abs(n)<=be?(r=this.a*o,i=-1*this.a*this.lat0):(r=this.a*Math.sin(s)/Math.tan(n),i=this.a*(Il(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=be)r=this.a*o,i=-1*this.ml0;else{var a=Od(this.a,this.e,Math.sin(n))/Math.tan(n);r=a*Math.sin(s),i=this.a*Pr(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+a*(1-Math.cos(s))}return e.x=r+this.x0,e.y=i+this.y0,e}function Joe(e){var t,n,r,i,s,o,a,l,c;if(r=e.x-this.x0,i=e.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=be)t=we(r/this.a+this.long0),n=0;else{o=this.lat0+i/this.a,a=r*r/this.a/this.a+o*o,l=o;var d;for(s=o8;s;--s)if(d=Math.tan(l),c=-1*(o*(l*d+1)-l-.5*(l*l+a)*d)/((l-o)/d-1),l+=c,Math.abs(c)<=be){n=l;break}t=we(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=be)n=0,t=we(this.long0+r/this.a);else{o=(this.ml0+i)/this.a,a=r*r/this.a/this.a+o*o,l=o;var p,f,y,g,b;for(s=o8;s;--s)if(b=this.e*Math.sin(l),p=Math.sqrt(1-b*b)*Math.tan(l),f=this.a*Pr(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),g=f/this.a,c=(o*(p*g+1)-g-.5*p*(g*g+a))/(this.es*Math.sin(2*l)*(g*g+a-2*o*g)/(4*p)+(o-g)*(p*y-2/Math.sin(2*l))-y),l-=c,Math.abs(c)<=be){n=l;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=we(this.long0+Math.asin(r*p/this.a)/Math.sin(n))}return e.x=t,e.y=n,e}var Qoe=["Polyconic","poly"];const Koe={init:Yoe,forward:qoe,inverse:Joe,names:Qoe};function eae(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function tae(e){var t,n=e.x,r=e.y,i=r-this.lat0,s=n-this.long0,o=i/Rm*1e-5,a=s,l=1,c=0;for(t=1;t<=10;t++)l=l*o,c=c+this.A[t]*l;var d=c,p=a,f=1,y=0,g,b,E=0,S=0;for(t=1;t<=6;t++)g=f*d-y*p,b=y*d+f*p,f=g,y=b,E=E+this.B_re[t]*f-this.B_im[t]*y,S=S+this.B_im[t]*f+this.B_re[t]*y;return e.x=S*this.a+this.x0,e.y=E*this.a+this.y0,e}function nae(e){var t,n=e.x,r=e.y,i=n-this.x0,s=r-this.y0,o=s/this.a,a=i/this.a,l=1,c=0,d,p,f=0,y=0;for(t=1;t<=6;t++)d=l*o-c*a,p=c*o+l*a,l=d,c=p,f=f+this.C_re[t]*l-this.C_im[t]*c,y=y+this.C_im[t]*l+this.C_re[t]*c;for(var g=0;g<this.iterations;g++){var b=f,E=y,S,I,w=o,_=a;for(t=2;t<=6;t++)S=b*f-E*y,I=E*f+b*y,b=S,E=I,w=w+(t-1)*(this.B_re[t]*b-this.B_im[t]*E),_=_+(t-1)*(this.B_im[t]*b+this.B_re[t]*E);b=1,E=0;var A=this.B_re[1],M=this.B_im[1];for(t=2;t<=6;t++)S=b*f-E*y,I=E*f+b*y,b=S,E=I,A=A+t*(this.B_re[t]*b-this.B_im[t]*E),M=M+t*(this.B_im[t]*b+this.B_re[t]*E);var k=A*A+M*M;f=(w*A+_*M)/k,y=(_*A-w*M)/k}var C=f,R=y,U=1,B=0;for(t=1;t<=9;t++)U=U*C,B=B+this.D[t]*U;var G=this.lat0+B*Rm*1e5,z=this.long0+R;return e.x=z,e.y=G,e}var rae=["New_Zealand_Map_Grid","nzmg"];const iae={init:eae,forward:tae,inverse:nae,names:rae};function sae(){}function oae(e){var t=e.x,n=e.y,r=we(t-this.long0),i=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=i,e.y=s,e}function aae(e){e.x-=this.x0,e.y-=this.y0;var t=we(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e}var lae=["Miller_Cylindrical","mill"];const cae={init:sae,forward:oae,inverse:aae,names:lae};var uae=20;function hae(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=TT(this.es)}function dae(e){var t,n,r=e.x,i=e.y;if(r=we(r-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var s=this.n*Math.sin(i),o=uae;o;--o){var a=(this.m*i+Math.sin(i)-s)/(this.m+Math.cos(i));if(i-=a,Math.abs(a)<be)break}t=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),c=Math.cos(i);n=this.a*Ad(i,l,c,this.en),t=this.a*r*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e}function pae(e){var t,n,r,i;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(t))),this.m?t=Ml((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=Ml(Math.sin(t)/this.n)),r=we(r+this.long0),t=Il(t)):(t=ST(e.y/this.a,this.es,this.en),i=Math.abs(t),i<ue?(i=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(t)),r=we(n)):i-be<ue&&(r=this.long0)),e.x=r,e.y=t,e}var fae=["Sinusoidal","sinu"];const mae={init:hae,forward:dae,inverse:pae,names:fae};function yae(){}function gae(e){for(var t=e.x,n=e.y,r=we(t-this.long0),i=n,s=Math.PI*Math.sin(n);;){var o=-(i+Math.sin(i)-s)/(1+Math.cos(i));if(i+=o,Math.abs(o)<be)break}i/=2,Math.PI/2-Math.abs(n)<be&&(r=0);var a=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=a,e.y=l,e}function vae(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=we(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return e.x=r,e.y=i,e}var bae=["Mollweide","moll"];const _ae={init:yae,forward:gae,inverse:vae,names:bae};function wae(){Math.abs(this.lat1+this.lat2)<be||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=jm(this.es),this.e1=zm(this.es),this.e2=$m(this.es),this.e3=Vm(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=yo(this.e,this.sinphi,this.cosphi),this.ml1=Pr(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<be?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=yo(this.e,this.sinphi,this.cosphi),this.ml2=Pr(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Pr(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function xae(e){var t=e.x,n=e.y,r;if(this.sphere)r=this.a*(this.g-n);else{var i=Pr(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var s=this.ns*we(t-this.long0),o=this.x0+r*Math.sin(s),a=this.y0+this.rh-r*Math.cos(s);return e.x=o,e.y=a,e}function Eae(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,n,r,i;this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var s=0;if(n!==0&&(s=Math.atan2(t*e.x,t*e.y)),this.sphere)return i=we(this.long0+s/this.ns),r=Il(this.g-n/this.a),e.x=i,e.y=r,e;var o=this.g-n/this.a;return r=cv(o,this.e0,this.e1,this.e2,this.e3),i=we(this.long0+s/this.ns),e.x=i,e.y=r,e}var Tae=["Equidistant_Conic","eqdc"];const Sae={init:wae,forward:xae,inverse:Eae,names:Tae};function Iae(){this.R=this.a}function Aae(e){var t=e.x,n=e.y,r=we(t-this.long0),i,s;Math.abs(n)<=be&&(i=this.x0+this.R*r,s=this.y0);var o=Ml(2*Math.abs(n/Math.PI));(Math.abs(r)<=be||Math.abs(Math.abs(n)-ue)<=be)&&(i=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*o):s=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/r-r/Math.PI),l=a*a,c=Math.sin(o),d=Math.cos(o),p=d/(c+d-1),f=p*p,y=p*(2/c-1),g=y*y,b=Math.PI*this.R*(a*(p-g)+Math.sqrt(l*(p-g)*(p-g)-(g+l)*(f-g)))/(g+l);r<0&&(b=-b),i=this.x0+b;var E=l+p;return b=Math.PI*this.R*(y*E-a*Math.sqrt((g+l)*(l+1)-E*E))/(g+l),n>=0?s=this.y0+b:s=this.y0-b,e.x=i,e.y=s,e}function Mae(e){var t,n,r,i,s,o,a,l,c,d,p,f,y;return e.x-=this.x0,e.y-=this.y0,p=Math.PI*this.R,r=e.x/p,i=e.y/p,s=r*r+i*i,o=-Math.abs(i)*(1+s),a=o-2*i*i+r*r,l=-2*o+1+2*i*i+s*s,y=i*i/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,c=(o-a*a/3/l)/l,d=2*Math.sqrt(-c/3),p=3*y/c/d,Math.abs(p)>1&&(p>=0?p=1:p=-1),f=Math.acos(p)/3,e.y>=0?n=(-d*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI:n=-(-d*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI,Math.abs(r)<be?t=this.long0:t=we(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-i*i)+s*s))/2/r),e.x=t,e.y=n,e}var Oae=["Van_der_Grinten_I","VanDerGrinten","vandg"];const Nae={init:Iae,forward:Aae,inverse:Mae,names:Oae};function kae(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function Cae(e){var t=e.x,n=e.y,r=Math.sin(e.y),i=Math.cos(e.y),s=we(t-this.long0),o,a,l,c,d,p,f,y,g,b,E,S,I,w,_,A,M,k,C,R,U,B,G;return this.sphere?Math.abs(this.sin_p12-1)<=be?(e.x=this.x0+this.a*(ue-n)*Math.sin(s),e.y=this.y0-this.a*(ue-n)*Math.cos(s),e):Math.abs(this.sin_p12+1)<=be?(e.x=this.x0+this.a*(ue+n)*Math.sin(s),e.y=this.y0+this.a*(ue+n)*Math.cos(s),e):(k=this.sin_p12*r+this.cos_p12*i*Math.cos(s),A=Math.acos(k),M=A?A/Math.sin(A):1,e.x=this.x0+this.a*M*i*Math.sin(s),e.y=this.y0+this.a*M*(this.cos_p12*r-this.sin_p12*i*Math.cos(s)),e):(o=jm(this.es),a=zm(this.es),l=$m(this.es),c=Vm(this.es),Math.abs(this.sin_p12-1)<=be?(d=this.a*Pr(o,a,l,c,ue),p=this.a*Pr(o,a,l,c,n),e.x=this.x0+(d-p)*Math.sin(s),e.y=this.y0-(d-p)*Math.cos(s),e):Math.abs(this.sin_p12+1)<=be?(d=this.a*Pr(o,a,l,c,ue),p=this.a*Pr(o,a,l,c,n),e.x=this.x0+(d+p)*Math.sin(s),e.y=this.y0+(d+p)*Math.cos(s),e):(f=r/i,y=Od(this.a,this.e,this.sin_p12),g=Od(this.a,this.e,r),b=Math.atan((1-this.es)*f+this.es*y*this.sin_p12/(g*i)),E=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(s)),E===0?C=Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(E)-Math.PI)<=be?C=-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):C=Math.asin(Math.sin(s)*Math.cos(b)/Math.sin(E)),S=this.e*this.sin_p12/Math.sqrt(1-this.es),I=this.e*this.cos_p12*Math.cos(E)/Math.sqrt(1-this.es),w=S*I,_=I*I,R=C*C,U=R*C,B=U*C,G=B*C,A=y*C*(1-R*_*(1-_)/6+U/8*w*(1-2*_)+B/120*(_*(4-7*_)-3*S*S*(1-7*_))-G/48*w),e.x=this.x0+A*Math.sin(E),e.y=this.y0+A*Math.cos(E),e))}function Rae(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,s,o,a,l,c,d,p,f,y,g,b,E,S,I,w,_,A,M,k,C;return this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*ue*this.a?void 0:(n=t/this.a,r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(t)<=be?o=this.lat0:(o=Ml(i*this.sin_p12+e.y*r*this.cos_p12/t),a=Math.abs(this.lat0)-ue,Math.abs(a)<=be?this.lat0>=0?s=we(this.long0+Math.atan2(e.x,-e.y)):s=we(this.long0-Math.atan2(-e.x,e.y)):s=we(this.long0+Math.atan2(e.x*r,t*this.cos_p12*i-e.y*this.sin_p12*r))),e.x=s,e.y=o,e)):(l=jm(this.es),c=zm(this.es),d=$m(this.es),p=Vm(this.es),Math.abs(this.sin_p12-1)<=be?(f=this.a*Pr(l,c,d,p,ue),t=Math.sqrt(e.x*e.x+e.y*e.y),y=f-t,o=cv(y/this.a,l,c,d,p),s=we(this.long0+Math.atan2(e.x,-1*e.y)),e.x=s,e.y=o,e):Math.abs(this.sin_p12+1)<=be?(f=this.a*Pr(l,c,d,p,ue),t=Math.sqrt(e.x*e.x+e.y*e.y),y=t-f,o=cv(y/this.a,l,c,d,p),s=we(this.long0+Math.atan2(e.x,e.y)),e.x=s,e.y=o,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),E=Math.atan2(e.x,e.y),g=Od(this.a,this.e,this.sin_p12),S=Math.cos(E),I=this.e*this.cos_p12*S,w=-I*I/(1-this.es),_=3*this.es*(1-w)*this.sin_p12*this.cos_p12*S/(1-this.es),A=t/g,M=A-w*(1+w)*Math.pow(A,3)/6-_*(1+3*w)*Math.pow(A,4)/24,k=1-w*M*M/2-A*M*M*M/6,b=Math.asin(this.sin_p12*Math.cos(M)+this.cos_p12*Math.sin(M)*S),s=we(this.long0+Math.asin(Math.sin(E)*Math.sin(M)/Math.cos(b))),C=Math.sin(b),o=Math.atan2((C-this.es*k*this.sin_p12)*Math.tan(b),C*(1-this.es)),e.x=s,e.y=o,e))}var Lae=["Azimuthal_Equidistant","aeqd"];const Dae={init:kae,forward:Cae,inverse:Rae,names:Lae};function Pae(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Fae(e){var t,n,r,i,s,o,a,l,c=e.x,d=e.y;return r=we(c-this.long0),t=Math.sin(d),n=Math.cos(d),i=Math.cos(r),o=this.sin_p14*t+this.cos_p14*n*i,s=1,(o>0||Math.abs(o)<=be)&&(a=this.a*s*n*Math.sin(r),l=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*n*i)),e.x=a,e.y=l,e}function Uae(e){var t,n,r,i,s,o,a;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=Ml(t/this.a),r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(t)<=be?(a=this.lat0,e.x=o,e.y=a,e):(a=Ml(i*this.sin_p14+e.y*r*this.cos_p14/t),s=Math.abs(this.lat0)-ue,Math.abs(s)<=be?(this.lat0>=0?o=we(this.long0+Math.atan2(e.x,-e.y)):o=we(this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=a,e):(o=we(this.long0+Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r)),e.x=o,e.y=a,e))}var Gae=["ortho"];const jae={init:Pae,forward:Fae,inverse:Uae,names:Gae};var on={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},St={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function zae(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=ue-Tt/2?this.face=on.TOP:this.lat0<=-(ue-Tt/2)?this.face=on.BOTTOM:Math.abs(this.long0)<=Tt?this.face=on.FRONT:Math.abs(this.long0)<=ue+Tt?this.face=this.long0>0?on.RIGHT:on.LEFT:this.face=on.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function $ae(e){var t={x:0,y:0},n,r,i,s,o,a,l={value:0};if(e.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):n=e.y,r=e.x,this.face===on.TOP)s=ue-n,r>=Tt&&r<=ue+Tt?(l.value=St.AREA_0,i=r-ue):r>ue+Tt||r<=-(ue+Tt)?(l.value=St.AREA_1,i=r>0?r-Tn:r+Tn):r>-(ue+Tt)&&r<=-Tt?(l.value=St.AREA_2,i=r+ue):(l.value=St.AREA_3,i=r);else if(this.face===on.BOTTOM)s=ue+n,r>=Tt&&r<=ue+Tt?(l.value=St.AREA_0,i=-r+ue):r<Tt&&r>=-Tt?(l.value=St.AREA_1,i=-r):r<-Tt&&r>=-(ue+Tt)?(l.value=St.AREA_2,i=-r-ue):(l.value=St.AREA_3,i=r>0?-r+Tn:-r-Tn);else{var c,d,p,f,y,g,b;this.face===on.RIGHT?r=Nd(r,+ue):this.face===on.BACK?r=Nd(r,+Tn):this.face===on.LEFT&&(r=Nd(r,-ue)),f=Math.sin(n),y=Math.cos(n),g=Math.sin(r),b=Math.cos(r),c=y*b,d=y*g,p=f,this.face===on.FRONT?(s=Math.acos(c),i=uv(s,p,d,l)):this.face===on.RIGHT?(s=Math.acos(d),i=uv(s,p,-c,l)):this.face===on.BACK?(s=Math.acos(-c),i=uv(s,p,-d,l)):this.face===on.LEFT?(s=Math.acos(-d),i=uv(s,p,c,l)):(s=i=0,l.value=St.AREA_0)}return a=Math.atan(12/Tn*(i+Math.acos(Math.sin(i)*Math.cos(Tt))-ue)),o=Math.sqrt((1-Math.cos(s))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===St.AREA_1?a+=ue:l.value===St.AREA_2?a+=Tn:l.value===St.AREA_3&&(a+=1.5*Tn),t.x=o*Math.cos(a),t.y=o*Math.sin(a),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,e.x=t.x,e.y=t.y,e}function Vae(e){var t={lam:0,phi:0},n,r,i,s,o,a,l,c,d,p={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,r=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),n=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?p.value=St.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(p.value=St.AREA_1,n-=ue):e.x<0&&-e.x>=Math.abs(e.y)?(p.value=St.AREA_2,n=n<0?n+Tn:n-Tn):(p.value=St.AREA_3,n+=ue),d=Tn/12*Math.tan(n),o=Math.sin(d)/(Math.cos(d)-1/Math.sqrt(2)),a=Math.atan(o),i=Math.cos(n),s=Math.tan(r),l=1-i*i*s*s*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===on.TOP)c=Math.acos(l),t.phi=ue-c,p.value===St.AREA_0?t.lam=a+ue:p.value===St.AREA_1?t.lam=a<0?a+Tn:a-Tn:p.value===St.AREA_2?t.lam=a-ue:t.lam=a;else if(this.face===on.BOTTOM)c=Math.acos(l),t.phi=c-ue,p.value===St.AREA_0?t.lam=-a+ue:p.value===St.AREA_1?t.lam=-a:p.value===St.AREA_2?t.lam=-a-ue:t.lam=a<0?-a-Tn:-a+Tn;else{var f,y,g;f=l,d=f*f,d>=1?g=0:g=Math.sqrt(1-d)*Math.sin(a),d+=g*g,d>=1?y=0:y=Math.sqrt(1-d),p.value===St.AREA_1?(d=y,y=-g,g=d):p.value===St.AREA_2?(y=-y,g=-g):p.value===St.AREA_3&&(d=y,y=g,g=-d),this.face===on.RIGHT?(d=f,f=-y,y=d):this.face===on.BACK?(f=-f,y=-y):this.face===on.LEFT&&(d=f,f=y,y=-d),t.phi=Math.acos(-g)-ue,t.lam=Math.atan2(y,f),this.face===on.RIGHT?t.lam=Nd(t.lam,-ue):this.face===on.BACK?t.lam=Nd(t.lam,-Tn):this.face===on.LEFT&&(t.lam=Nd(t.lam,+ue))}if(this.es!==0){var b,E,S;b=t.phi<0?1:0,E=Math.tan(t.phi),S=this.b/Math.sqrt(E*E+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-S*S)/(this.one_minus_f*S)),b&&(t.phi=-t.phi)}return t.lam+=this.long0,e.x=t.lam,e.y=t.phi,e}function uv(e,t,n,r){var i;return e<be?(r.value=St.AREA_0,i=0):(i=Math.atan2(t,n),Math.abs(i)<=Tt?r.value=St.AREA_0:i>Tt&&i<=ue+Tt?(r.value=St.AREA_1,i-=ue):i>ue+Tt||i<=-(ue+Tt)?(r.value=St.AREA_2,i=i>=0?i-Tn:i+Tn):(r.value=St.AREA_3,i+=ue)),i}function Nd(e,t){var n=e+t;return n<-Tn?n+=Lm:n>+Tn&&(n-=Lm),n}var Wae=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const Zae={init:zae,forward:$ae,inverse:Vae,names:Wae};var OT=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Wm=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],a8=.8487,l8=1.3523,c8=fo/5,Bae=1/c8,kd=18,hv=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},Xae=function(e,t){return e[1]+t*(2*e[2]+t*3*e[3])};function Hae(e,t,n,r){for(var i=t;r;--r){var s=e(i);if(i-=s,Math.abs(s)<n)break}return i}function Yae(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function qae(e){var t=we(e.x-this.long0),n=Math.abs(e.y),r=Math.floor(n*c8);r<0?r=0:r>=kd&&(r=kd-1),n=fo*(n-Bae*r);var i={x:hv(OT[r],n)*t,y:hv(Wm[r],n)};return e.y<0&&(i.y=-i.y),i.x=i.x*this.a*a8+this.x0,i.y=i.y*this.a*l8+this.y0,i}function Jae(e){var t={x:(e.x-this.x0)/(this.a*a8),y:Math.abs(e.y-this.y0)/(this.a*l8)};if(t.y>=1)t.x/=OT[kd][0],t.y=e.y<0?-ue:ue;else{var n=Math.floor(t.y*kd);for(n<0?n=0:n>=kd&&(n=kd-1);;)if(Wm[n][0]>t.y)--n;else if(Wm[n+1][0]<=t.y)++n;else break;var r=Wm[n],i=5*(t.y-r[0])/(Wm[n+1][0]-r[0]);i=Hae(function(s){return(hv(r,s)-t.y)/Xae(r,s)},i,be,100),t.x/=hv(OT[n],i),t.y=(5*n+i)*cr,e.y<0&&(t.y=-t.y)}return t.x=we(t.x+this.long0),t}var Qae=["Robinson","robin"];const Kae={init:Yae,forward:qae,inverse:Jae,names:Qae};function ele(){this.name="geocent"}function tle(e){var t=UL(e,this.es,this.a);return t}function nle(e){var t=GL(e,this.es,this.a,this.b);return t}var rle=["Geocentric","geocentric","geocent","Geocent"];const ile={init:ele,forward:tle,inverse:nle,names:rle};var Er={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Zm={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function sle(){if(Object.keys(Zm).forEach(function(n){if(typeof this[n]>"u")this[n]=Zm[n].def;else{if(Zm[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);Zm[n].num&&(this[n]=parseFloat(this[n]))}Zm[n].degrees&&(this[n]=this[n]*cr)}.bind(this)),Math.abs(Math.abs(this.lat0)-ue)<be?this.mode=this.lat0<0?Er.S_POLE:Er.N_POLE:Math.abs(this.lat0)<be?this.mode=Er.EQUIT:(this.mode=Er.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function ole(e){e.x-=this.long0;var t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i,s;switch(this.mode){case Er.OBLIQ:s=this.sinph0*t+this.cosph0*n*r;break;case Er.EQUIT:s=n*r;break;case Er.S_POLE:s=-t;break;case Er.N_POLE:s=t;break}switch(s=this.pn1/(this.p-s),i=s*n*Math.sin(e.x),this.mode){case Er.OBLIQ:s*=this.cosph0*t-this.sinph0*n*r;break;case Er.EQUIT:s*=t;break;case Er.N_POLE:s*=-(n*r);break;case Er.S_POLE:s*=n*r;break}var o,a;return o=s*this.cg+i*this.sg,a=1/(o*this.sw*this.h1+this.cw),i=(i*this.cg-s*this.sg)*this.cw*a,s=o*a,e.x=i*this.a,e.y=s*this.a,e}function ale(e){e.x/=this.a,e.y/=this.a;var t={x:e.x,y:e.y},n,r,i;i=1/(this.pn1-e.y*this.sw),n=this.pn1*e.x*i,r=this.pn1*e.y*this.cw*i,e.x=n*this.cg+r*this.sg,e.y=r*this.cg-n*this.sg;var s=ei(e.x,e.y);if(Math.abs(s)<be)t.x=0,t.y=e.y;else{var o,a;switch(a=1-s*s*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/s+s/this.pn1),o=Math.sqrt(1-a*a),this.mode){case Er.OBLIQ:t.y=Math.asin(o*this.sinph0+e.y*a*this.cosph0/s),e.y=(o-this.sinph0*Math.sin(t.y))*s,e.x*=a*this.cosph0;break;case Er.EQUIT:t.y=Math.asin(e.y*a/s),e.y=o*s,e.x*=a;break;case Er.N_POLE:t.y=Math.asin(o),e.y=-e.y;break;case Er.S_POLE:t.y=-Math.asin(o);break}t.x=Math.atan2(e.x,e.y)}return e.x=t.x+this.long0,e.y=t.y,e}var lle=["Tilted_Perspective","tpers"];const cle={init:sle,forward:ole,inverse:ale,names:lle};function ule(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function hle(e){var t=e.x,n=e.y,r,i,s,o;if(t=t-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var a=this.radius_p/ei(this.radius_p*Math.cos(n),Math.sin(n));if(i=a*Math.cos(t)*Math.cos(n),s=a*Math.sin(t)*Math.cos(n),o=a*Math.sin(n),(this.radius_g-i)*i-s*s-o*o*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;r=this.radius_g-i,this.flip_axis?(e.x=this.radius_g_1*Math.atan(s/ei(o,r)),e.y=this.radius_g_1*Math.atan(o/r)):(e.x=this.radius_g_1*Math.atan(s/r),e.y=this.radius_g_1*Math.atan(o/ei(s,r)))}else this.shape==="sphere"&&(r=Math.cos(n),i=Math.cos(t)*r,s=Math.sin(t)*r,o=Math.sin(n),r=this.radius_g-i,this.flip_axis?(e.x=this.radius_g_1*Math.atan(s/ei(o,r)),e.y=this.radius_g_1*Math.atan(o/r)):(e.x=this.radius_g_1*Math.atan(s/r),e.y=this.radius_g_1*Math.atan(o/ei(s,r))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function dle(e){var t=-1,n=0,r=0,i,s,o,a;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(e.y/this.radius_g_1),n=Math.tan(e.x/this.radius_g_1)*ei(1,r)):(n=Math.tan(e.x/this.radius_g_1),r=Math.tan(e.y/this.radius_g_1)*ei(1,n));var l=r/this.radius_p;if(i=n*n+l*l+t*t,s=2*this.radius_g*t,o=s*s-4*i*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-s-Math.sqrt(o))/(2*i),t=this.radius_g+a*t,n*=a,r*=a,e.x=Math.atan2(n,t),e.y=Math.atan(r*Math.cos(e.x)/t),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(e.y/this.radius_g_1),n=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+r*r)):(n=Math.tan(e.x/this.radius_g_1),r=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+n*n)),i=n*n+r*r+t*t,s=2*this.radius_g*t,o=s*s-4*i*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-s-Math.sqrt(o))/(2*i),t=this.radius_g+a*t,n*=a,r*=a,e.x=Math.atan2(n,t),e.y=Math.atan(r*Math.cos(e.x)/t)}return e.x=e.x+this.long0,e}var ple=["Geostationary Satellite View","Geostationary_Satellite","geos"];const fle={init:ule,forward:hle,inverse:dle,names:ple};var Bm=1.340264,Xm=-.081106,Hm=893e-6,Ym=.003796,dv=Math.sqrt(3)/2;function mle(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function yle(e){var t=we(e.x-this.long0),n=e.y,r=Math.asin(dv*Math.sin(n)),i=r*r,s=i*i*i;return e.x=t*Math.cos(r)/(dv*(Bm+3*Xm*i+s*(7*Hm+9*Ym*i))),e.y=r*(Bm+Xm*i+s*(Hm+Ym*i)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function gle(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t=1e-9,n=12,r=e.y,i,s,o,a,l,c;for(c=0;c<n&&(i=r*r,s=i*i*i,o=r*(Bm+Xm*i+s*(Hm+Ym*i))-e.y,a=Bm+3*Xm*i+s*(7*Hm+9*Ym*i),r-=l=o/a,!(Math.abs(l)<t));++c);return i=r*r,s=i*i*i,e.x=dv*e.x*(Bm+3*Xm*i+s*(7*Hm+9*Ym*i))/Math.cos(r),e.y=Math.asin(Math.sin(r)/dv),e.x=we(e.x+this.long0),e}var vle=["eqearth","Equal Earth","Equal_Earth"];const ble={init:mle,forward:yle,inverse:gle,names:vle};var qm=1e-10;function _le(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<qm)throw new Error;this.es?(this.en=TT(this.es),this.m1=Ad(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=xle,this.forward=wle):(Math.abs(this.phi1)+qm>=ue?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=Tle,this.forward=Ele)}function wle(e){var t=we(e.x-(this.long0||0)),n=e.y,r,i,s;return r=this.am1+this.m1-Ad(n,i=Math.sin(n),s=Math.cos(n),this.en),i=s*t/(r*Math.sqrt(1-this.es*i*i)),e.x=r*Math.sin(i),e.y=this.am1-r*Math.cos(i),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function xle(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,n,r,i;if(n=ei(e.x,e.y=this.am1-e.y),i=ST(this.am1+this.m1-n,this.es,this.en),(t=Math.abs(i))<ue)t=Math.sin(i),r=n*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*t*t)/Math.cos(i);else if(Math.abs(t-ue)<=qm)r=0;else throw new Error;return e.x=we(r+(this.long0||0)),e.y=Il(i),e}function Ele(e){var t=we(e.x-(this.long0||0)),n=e.y,r,i;return i=this.cphi1+this.phi1-n,Math.abs(i)>qm?(e.x=i*Math.sin(r=t*Math.cos(n)/i),e.y=this.cphi1-i*Math.cos(r)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function Tle(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,n,r=ei(e.x,e.y=this.cphi1-e.y);if(n=this.cphi1+this.phi1-r,Math.abs(n)>ue)throw new Error;return Math.abs(Math.abs(n)-ue)<=qm?t=0:t=r*Math.atan2(e.x,e.y)/Math.cos(n),e.x=we(t+(this.long0||0)),e.y=Il(n),e}var Sle=["bonne","Bonne (Werner lat_1=90)"];const Ile={init:_le,names:Sle};function Ale(e){e.Proj.projections.add(av),e.Proj.projections.add(lv),e.Proj.projections.add(wse),e.Proj.projections.add(kse),e.Proj.projections.add(Fse),e.Proj.projections.add($se),e.Proj.projections.add(Hse),e.Proj.projections.add(Kse),e.Proj.projections.add(ioe),e.Proj.projections.add(coe),e.Proj.projections.add(Ioe),e.Proj.projections.add(Coe),e.Proj.projections.add(Foe),e.Proj.projections.add(Voe),e.Proj.projections.add(Hoe),e.Proj.projections.add(Koe),e.Proj.projections.add(iae),e.Proj.projections.add(cae),e.Proj.projections.add(mae),e.Proj.projections.add(_ae),e.Proj.projections.add(Sae),e.Proj.projections.add(Nae),e.Proj.projections.add(Dae),e.Proj.projections.add(jae),e.Proj.projections.add(Zae),e.Proj.projections.add(Kae),e.Proj.projections.add(ile),e.Proj.projections.add(cle),e.Proj.projections.add(fle),e.Proj.projections.add(ble),e.Proj.projections.add(Ile)}Pt.defaultDatum="WGS84",Pt.Proj=go,Pt.WGS84=new Pt.Proj("WGS84"),Pt.Point=Id,Pt.toPoint=VL,Pt.defs=Dr,Pt.nadgrid=Eie,Pt.transform=ov,Pt.mgrs=Gie,Pt.version="__VERSION__",Ale(Pt);const Mle="EPSG:4326";class Ole{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,Pt.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Pt.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Pt.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),Pt.defs("EPSG:102100",Pt.defs("EPSG:3857")),Pt.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Pt.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let t=1;for(;t<=60;){const n=t<10?`0${t}`:t;Pt.defs(`EPSG:326${n}`,`+proj=utm +zone=${t} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),t++}}addProjection(t,n){t=typeof t=="number"?`EPSG:${t}`:t,Pt.defs(t,n)}defaultEpsgLookup(t){const n=/urn:ogc:def:crs:EPSG::(\d+)/,r=/EPSG:(\d+)/,i=String(t).match(n)||String(t).match(r)||[];if(i.length<2)throw new Error("Invalid code provided.");return new Promise((s,o)=>{const a=`https://epsg.io/${i[1]}.proj4`;xn(a,{responseType:"text"}).then(l=>{l.data?s(l.data):o()},l=>{o(l)})})}epsgLookup(t){return this.espgWorker(t)}setEpsgLookup(t){this.espgWorker=t}normalizeProj(t){if(typeof t=="object"){if(t.wkid)return"EPSG:"+t.wkid;if(t.wkt)return t.wkt}else{if(typeof t=="number")return"EPSG:"+t;if(typeof t=="string")return t}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(t){let n,r="";try{n=this.normalizeProj(t)}catch{return!1}if(!n.startsWith("EPSG:"))return!0;typeof t=="object"&&t.latestWkid&&(r=this.normalizeProj(t.latestWkid));const i=(o,a)=>{o!==a&&Pt.defs(a,Pt.defs(o))};if(Pt.defs(n))return!0;if(r&&Pt.defs(r))return i(r,n),!0;const s=async o=>{try{const a=await this.epsgLookup(o);return a===null||a===""?!1:(Pt.defs(o,a),!0)}catch{return!1}};return await(r?s(r):Promise.resolve(!1))?(i(r,n),!0):s(n)}async checkProjBomber(t){if(t.length>0){const n=t.pop();if(await this.checkProj(n))return this.checkProjBomber(t);throw console.error("Unable to parse or locate projection information for this item:",n),new Error("Could not find projection information, see console for details")}}async projectGeoJson(t,n,r){let i,s;if(n?i=this.normalizeProj(n):i=Ge.parseGeoJsonCrs(t.crs),r?s=this.normalizeProj(r):s=Mle,s===i)return t;await this.checkProjBomber([i,s]);const o=Pt(i,s).forward;return Fre(t,o)}async projectGeometry(t,n){if(n.type===Xe.EXTENT)return this.projectExtent(t,n);await this.checkProjBomber([t,n.sr]);const r=n.toGeoJSON(),i=await this.projectGeoJson(r,this.normalizeProj(n.sr),this.normalizeProj(t)),s=rh.geom.geomGeoJsonToRamp(i,n.id);return s.sr=Ge.parseSR(t),s}async projectExtent(t,n){const r=(b,E,S)=>{if(S===0)return[b,E];const I=[(b[0]+E[0])/2,(b[1]+E[1])/2];if(S===1)return[b,I,E];if(S>1){const w=r(b,I,S-1),_=r(I,E,S-1);return w.concat(_.slice(1))}return[[]]},i=n.toPolygonArray().pop()||[];let s=[];[0,1,2,3].map(b=>r(i[b],i[b+1],3).slice(1)).forEach(b=>s=s.concat(b));const o=new fr("warpy",[s],n.sr,!0),a=await this.projectGeometry(t,o),l=a.toArray().pop()||[],c=l.map(b=>b[0]),d=l.map(b=>b[1]),p=Math.min.apply(null,c),f=Math.max.apply(null,c),y=Math.min.apply(null,d),g=Math.max.apply(null,d);return Jt.fromParams(n.id+"_projected",p,y,f,g,a.sr)}}class Nle{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new Ole,this.geom=new Are,this.sharedUtils=new Nre}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(t){const n=r=>r.map(i=>({level:i[0],resolution:i[1],scale:i[2]}));if(t===this.DEFAULT_LAMBERT)return n([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(t===this.DEFAULT_MERCATOR)return n([[0,19567.87924099992,73957190948944e-6],[1,9783.93962049996,36978595474472e-6],[2,4891.96981024998,18489297737236e-6],[3,2445.98490512499,9244648868618e-6],[4,1222.992452562495,4622324434309e-6],[5,611.4962262813797,2311162217155e-6],[6,305.74811314055756,1155581108577e-6],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${t}`)}}class yn{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(t){this.$iApi=t}}function kle(e){return typeof e=="function"&&e.render&&typeof e.render=="function"}function Cle(e){const t=["data","props","propsData","computed","methods","watch","template","render","components","model"];return typeof e=="object"&&!e.functional&&t.some(n=>e[n]!==void 0)}function u8(e){return typeof e=="object"&&Object.keys(e).every(t=>typeof t=="string")&&Object.values(e).every(t=>t instanceof HTMLElement)}function Rle(e){return typeof e=="object"&&e.default!==void 0}var pv={exports:{}},h8;function Lle(){if(h8)return pv.exports;h8=1;function e(){}return e.prototype={on:function(t,n,r){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:n,ctx:r}),this},once:function(t,n,r){var i=this;function s(){i.off(t,s),n.apply(r,arguments)}return s._=n,this.on(t,s,r)},emit:function(t){var n=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),i=0,s=r.length;for(i;i<s;i++)r[i].fn.apply(r[i].ctx,n);return this},off:function(t,n){var r=this.e||(this.e={}),i=r[t],s=[];if(i&&n)for(var o=0,a=i.length;o<a;o++)i[o].fn!==n&&i[o].fn._!==n&&s.push(i[o]);return s.length?r[t]=s:delete r[t],this}},pv.exports=e,pv.exports.TinyEmitter=e,pv.exports}var Dle=Lle();function xi(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const it={},Cd=[],er=()=>{},Jm=()=>!1,xu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),NT=e=>e.startsWith("onUpdate:"),st=Object.assign,kT=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ple=Object.prototype.hasOwnProperty,vt=(e,t)=>Ple.call(e,t),Ee=Array.isArray,Rd=e=>Ld(e)==="[object Map]",Eu=e=>Ld(e)==="[object Set]",d8=e=>Ld(e)==="[object Date]",Fle=e=>Ld(e)==="[object RegExp]",De=e=>typeof e=="function",We=e=>typeof e=="string",ti=e=>typeof e=="symbol",Mt=e=>e!==null&&typeof e=="object",CT=e=>(Mt(e)||De(e))&&De(e.then)&&De(e.catch),p8=Object.prototype.toString,Ld=e=>p8.call(e),Ule=e=>Ld(e).slice(8,-1),fv=e=>Ld(e)==="[object Object]",RT=e=>We(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ol=xi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gle=xi("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),mv=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},jle=/-(\w)/g,zt=mv(e=>e.replace(jle,(t,n)=>n?n.toUpperCase():"")),zle=/\B([A-Z])/g,ni=mv(e=>e.replace(zle,"-$1").toLowerCase()),Nl=mv(e=>e.charAt(0).toUpperCase()+e.slice(1)),Tu=mv(e=>e?`on${Nl(e)}`:""),Fr=(e,t)=>!Object.is(e,t),Dd=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},f8=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},yv=e=>{const t=parseFloat(e);return isNaN(t)?e:t},gv=e=>{const t=We(e)?Number(e):NaN;return isNaN(t)?e:t};let m8;const vv=()=>m8||(m8=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $le(e,t){return e+JSON.stringify(t,(n,r)=>typeof r=="function"?r.toString():r)}const Vle="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",Wle=xi(Vle);function la(e){if(Ee(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=We(r)?y8(r):la(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(We(e)||Mt(e))return e}const Zle=/;(?![^(]*\))/g,Ble=/:([^]+)/,Xle=/\/\*[^]*?\*\//g;function y8(e){const t={};return e.replace(Xle,"").split(Zle).forEach(n=>{if(n){const r=n.split(Ble);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function an(e){let t="";if(We(e))t=e;else if(Ee(e))for(let n=0;n<e.length;n++){const r=an(e[n]);r&&(t+=r+" ")}else if(Mt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function g8(e){if(!e)return null;let{class:t,style:n}=e;return t&&!We(t)&&(e.class=an(t)),n&&(e.style=la(n)),e}const Hle="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Yle="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",qle="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",Jle="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Qle=xi(Hle),Kle=xi(Yle),ece=xi(qle),tce=xi(Jle),nce="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",rce=xi(nce);function v8(e){return!!e||e===""}function ice(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=kl(e[r],t[r]);return n}function kl(e,t){if(e===t)return!0;let n=d8(e),r=d8(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ti(e),r=ti(t),n||r)return e===t;if(n=Ee(e),r=Ee(t),n||r)return n&&r?ice(e,t):!1;if(n=Mt(e),r=Mt(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!kl(e[o],t[o]))return!1}}return String(e)===String(t)}function bv(e,t){return e.findIndex(n=>kl(n,t))}const b8=e=>!!(e&&e.__v_isRef===!0),Ct=e=>We(e)?e:e==null?"":Ee(e)||Mt(e)&&(e.toString===p8||!De(e.toString))?b8(e)?Ct(e.value):JSON.stringify(e,_8,2):String(e),_8=(e,t)=>b8(t)?_8(e,t.value):Rd(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],s)=>(n[LT(r,s)+" =>"]=i,n),{})}:Eu(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>LT(n))}:ti(t)?LT(t):Mt(t)&&!Ee(t)&&!fv(t)?String(t):t,LT=(e,t="")=>{var n;return ti(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};var sce={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_62678b5c-7b69-42d1-bdc4-82a00485e0c4",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_62678b5c-7b69-42d1-bdc4-82a00485e0c4",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"milespetrov",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.14.2",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/28.1.13356709",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"10187181",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"836",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20250609.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.10/x64",JOURNAL_STREAM:"9:8318",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.4/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"false",GITHUB_RUN_ID:"15714620255",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"milespetrov/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/2617-keynav-temp",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy8yNjE3LWtleW5hdi10ZW1wXCIsXCJQZXJtaXNzaW9uXCI6M30se1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvbWFpblwiLFwiUGVybWlzc2lvblwiOjF9XSIsImFjc2wiOiIxMCIsImF1ZCI6InZzbzpmNGQ4ODY1NC0wMzkxLTRmMzUtYWIxMS0xNDFlYTQ5OTNjYzMiLCJiaWxsaW5nX293bmVyX2lkIjoiVV9rZ0RPQUp0eHJRIiwiZXhwIjoxNzUwMjA1MTUxLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJpYXQiOjE3NTAxODI5NTEsImlzcyI6Imh0dHBzOi8vdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb20iLCJqb2JfaWQiOiI1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYiLCJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJuYmYiOjE3NTAxODI2NTEsIm9pZGNfZXh0cmEiOiJ7XCJhY3RvclwiOlwibWlsZXNwZXRyb3ZcIixcImFjdG9yX2lkXCI6XCIxMDE4NzE4MVwiLFwiYmFzZV9yZWZcIjpcIlwiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0lDbTRMczVBd3FDU1wiLFwiZXZlbnRfbmFtZVwiOlwicHVzaFwiLFwiaGVhZF9yZWZcIjpcIlwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwibWlsZXNwZXRyb3YvcmFtcDQtcGNhcjQvLmdpdGh1Yi93b3JrZmxvd3MvZGVtby1idWlsZC55bWxAcmVmcy9oZWFkcy8yNjE3LWtleW5hdi10ZW1wXCIsXCJqb2Jfd29ya2Zsb3dfc2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCIsXCJyZWZcIjpcInJlZnMvaGVhZHMvMjYxNy1rZXluYXYtdGVtcFwiLFwicmVmX3Byb3RlY3RlZFwiOlwiZmFsc2VcIixcInJlZl90eXBlXCI6XCJicmFuY2hcIixcInJlcG9zaXRvcnlcIjpcIm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X2lkXCI6XCI1Mzk2MDUwMzhcIixcInJlcG9zaXRvcnlfb3duZXJcIjpcIm1pbGVzcGV0cm92XCIsXCJyZXBvc2l0b3J5X293bmVyX2lkXCI6XCIxMDE4NzE4MVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJ1bl9hdHRlbXB0XCI6XCIxXCIsXCJydW5faWRcIjpcIjE1NzE0NjIwMjU1XCIsXCJydW5fbnVtYmVyXCI6XCIxODhcIixcInJ1bm5lcl9lbnZpcm9ubWVudFwiOlwiZ2l0aHViLWhvc3RlZFwiLFwic2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCIsXCJ3b3JrZmxvd1wiOlwiQnVpbGQgZGVtbyBzaXRlIGFuZCBkZXBsb3kgdG8gR2l0SHViIFBhZ2VzXCIsXCJ3b3JrZmxvd19yZWZcIjpcIm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvMjYxNy1rZXluYXYtdGVtcFwiLFwid29ya2Zsb3dfc2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCJ9Iiwib2lkY19zdWIiOiJyZXBvOm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0OmVudmlyb25tZW50OmdpdGh1Yi1wYWdlcyIsIm9yY2hfaWQiOiI0YjM5NzIxZi1kMDFhLTQ3ZDItOGNmNS0wMzBiYWQ3ZmI3MzEuYnVpbGQuX19kZWZhdWx0Iiwib3duZXJfaWQiOiJVX2tnRE9BSnR4clEiLCJwbGFuX2lkIjoiNGIzOTcyMWYtZDAxYS00N2QyLThjZjUtMDMwYmFkN2ZiNzMxIiwicnVuX2lkIjoiMTU3MTQ2MjAyNTUiLCJydW5fbnVtYmVyIjoiMTg4IiwicnVuX3R5cGUiOiJmdWxsIiwicnVubmVyX2lkIjoiMTAwMDAwMDIxMiIsInJ1bm5lcl90eXBlIjoiaG9zdGVkIiwic2NwIjoiQWN0aW9ucy5SZXN1bHRzOjRiMzk3MjFmLWQwMWEtNDdkMi04Y2Y1LTAzMGJhZDdmYjczMTo1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYgQWN0aW9ucy5SdW5uZXI6NGIzOTcyMWYtZDAxYS00N2QyLThjZjUtMDMwYmFkN2ZiNzMxOjVmOTgwNmRkLThmZmItNTAzNy04N2M0LWZjMWNkZTNjNThiZiBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czo0YjM5NzIxZi1kMDFhLTQ3ZDItOGNmNS0wMzBiYWQ3ZmI3MzE6NWY5ODA2ZGQtOGZmYi01MDM3LTg3YzQtZmMxY2RlM2M1OGJmIGdlbmVyYXRlX2lkX3Rva2VuOjRiMzk3MjFmLWQwMWEtNDdkMi04Y2Y1LTAzMGJhZDdmYjczMTo1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYgQWN0aW9ucy5HZW5lcmljUmVhZDowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAiLCJzaGEiOiI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiIn0.kmAkbBjIAXO1eC1WXQwWxI0VXZseOkSzfl9lDEjYQAIv-TpXaw_gqzJI9DM82TP1ZoAvoDTgQlkoRa6yQejWX0X8Dy0X1Xr2hk7hRfnPq6YcxYoqvksqzy3uX_hqt3elFCRqSUxBv33A3yP2KOxWCw1AMTPe9vLYX5kIG5qaIHgo6n-cfWUQyKg38oxNMWYBaymKrZXJx8CQDYjuhCJ0FngAUJ3OH7Xuw8sK7IO9QQ9f6l0vy2nt--7lDk00kYllWcO77val14tA6gSh7NT4UL64356e0GytaoGraTpH6uMxPC37B_QSDghjdpejHe4Z34x4oLkIYRWo-Pdq_zRD1g",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_97147315-e45d-41fa-b240-9ba30473ecd4",INVOCATION_ID:"933f59bb5d194f848b3bae16fc292b09",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"188",GITHUB_TRIGGERING_ACTOR:"milespetrov",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000000212",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"2617-keynav-temp",GITHUB_REPOSITORY:"milespetrov/ramp4-pcar4",STATS_D_D:"false",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"539605038",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.13.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/heads/2617-keynav-temp",GITHUB_ACTOR:"milespetrov",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_62678b5c-7b69-42d1-bdc4-82a00485e0c4",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"10187181",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-3-azure-eastus.actions.githubusercontent.com/88//idtoken/4b39721f-d01a-47d2-8cf5-030bad7fb731/5f9806dd-8ffb-5037-87c4-fc1cde3c58bf?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_62678b5c-7b69-42d1-bdc4-82a00485e0c4",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_62678b5c-7b69-42d1-bdc4-82a00485e0c4",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};let Ur;class _v{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ur,!t&&Ur&&(this.index=(Ur.scopes||(Ur.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ur;try{return Ur=this,t()}finally{Ur=n}}}on(){Ur=this}off(){Ur=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Qm(e){return new _v(e)}function wv(){return Ur}function DT(e,t=!1){Ur&&Ur.cleanups.push(e)}let $t;const PT=new WeakSet;class Pd{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ur&&Ur.active&&Ur.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,PT.has(this)&&(PT.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||x8(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,O8(this),E8(this);const t=$t,n=Ls;$t=this,Ls=!0;try{return this.fn()}finally{T8(this),$t=t,Ls=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)jT(t);this.deps=this.depsTail=void 0,O8(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?PT.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){GT(this)&&this.run()}get dirty(){return GT(this)}}let w8=0,Km,e0;function x8(e,t=!1){if(e.flags|=8,t){e.next=e0,e0=e;return}e.next=Km,Km=e}function FT(){w8++}function UT(){if(--w8>0)return;if(e0){let t=e0;for(e0=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Km;){let t=Km;for(Km=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function E8(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function T8(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),jT(r),oce(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function GT(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(S8(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function S8(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===t0))return;e.globalVersion=t0;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!GT(e)){e.flags&=-3;return}const n=$t,r=Ls;$t=e,Ls=!0;try{E8(e);const i=e.fn(e._value);(t.version===0||Fr(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{$t=n,Ls=r,T8(e),e.flags&=-3}}function jT(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)jT(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function oce(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}function I8(e,t){e.effect instanceof Pd&&(e=e.effect.fn);const n=new Pd(e);t&&st(n,t);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r}function A8(e){e.effect.stop()}let Ls=!0;const M8=[];function ca(){M8.push(Ls),Ls=!1}function ua(){const e=M8.pop();Ls=e===void 0?!0:e}function O8(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=$t;$t=void 0;try{t()}finally{$t=n}}}let t0=0;class ace{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class xv{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!$t||!Ls||$t===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==$t)n=this.activeLink=new ace($t,this),$t.deps?(n.prevDep=$t.depsTail,$t.depsTail.nextDep=n,$t.depsTail=n):$t.deps=$t.depsTail=n,N8(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=$t.depsTail,n.nextDep=void 0,$t.depsTail.nextDep=n,$t.depsTail=n,$t.deps===n&&($t.deps=r)}return n}trigger(t){this.version++,t0++,this.notify(t)}notify(t){FT();try{sce.NODE_ENV;for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{UT()}}}function N8(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)N8(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ev=new WeakMap,Su=Symbol(""),zT=Symbol(""),n0=Symbol("");function Tr(e,t,n){if(Ls&&$t){let r=Ev.get(e);r||Ev.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new xv),i.map=r,i.key=n),i.track()}}function ha(e,t,n,r,i,s){const o=Ev.get(e);if(!o){t0++;return}const a=l=>{l&&l.trigger()};if(FT(),t==="clear")o.forEach(a);else{const l=Ee(e),c=l&&RT(n);if(l&&n==="length"){const d=Number(r);o.forEach((p,f)=>{(f==="length"||f===n0||!ti(f)&&f>=d)&&a(p)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(n0)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Su)),Rd(e)&&a(o.get(zT)));break;case"delete":l||(a(o.get(Su)),Rd(e)&&a(o.get(zT)));break;case"set":Rd(e)&&a(o.get(Su));break}}UT()}function lce(e,t){const n=Ev.get(e);return n&&n.get(t)}function Fd(e){const t=Fe(e);return t===e?t:(Tr(t,"iterate",n0),ii(e)?t:t.map(Sr))}function Tv(e){return Tr(e=Fe(e),"iterate",n0),e}const cce={__proto__:null,[Symbol.iterator](){return $T(this,Symbol.iterator,Sr)},concat(...e){return Fd(this).concat(...e.map(t=>Ee(t)?Fd(t):t))},entries(){return $T(this,"entries",e=>(e[1]=Sr(e[1]),e))},every(e,t){return da(this,"every",e,t,void 0,arguments)},filter(e,t){return da(this,"filter",e,t,n=>n.map(Sr),arguments)},find(e,t){return da(this,"find",e,t,Sr,arguments)},findIndex(e,t){return da(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return da(this,"findLast",e,t,Sr,arguments)},findLastIndex(e,t){return da(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return da(this,"forEach",e,t,void 0,arguments)},includes(...e){return VT(this,"includes",e)},indexOf(...e){return VT(this,"indexOf",e)},join(e){return Fd(this).join(e)},lastIndexOf(...e){return VT(this,"lastIndexOf",e)},map(e,t){return da(this,"map",e,t,void 0,arguments)},pop(){return r0(this,"pop")},push(...e){return r0(this,"push",e)},reduce(e,...t){return k8(this,"reduce",e,t)},reduceRight(e,...t){return k8(this,"reduceRight",e,t)},shift(){return r0(this,"shift")},some(e,t){return da(this,"some",e,t,void 0,arguments)},splice(...e){return r0(this,"splice",e)},toReversed(){return Fd(this).toReversed()},toSorted(e){return Fd(this).toSorted(e)},toSpliced(...e){return Fd(this).toSpliced(...e)},unshift(...e){return r0(this,"unshift",e)},values(){return $T(this,"values",Sr)}};function $T(e,t,n){const r=Tv(e),i=r[t]();return r!==e&&!ii(e)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const uce=Array.prototype;function da(e,t,n,r,i,s){const o=Tv(e),a=o!==e&&!ii(e),l=o[t];if(l!==uce[t]){const p=l.apply(e,s);return a?Sr(p):p}let c=n;o!==e&&(a?c=function(p,f){return n.call(this,Sr(p),f,e)}:n.length>2&&(c=function(p,f){return n.call(this,p,f,e)}));const d=l.call(o,c,r);return a&&i?i(d):d}function k8(e,t,n,r){const i=Tv(e);let s=n;return i!==e&&(ii(e)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,e)}):s=function(o,a,l){return n.call(this,o,Sr(a),l,e)}),i[t](s,...r)}function VT(e,t,n){const r=Fe(e);Tr(r,"iterate",n0);const i=r[t](...n);return(i===-1||i===!1)&&i0(n[0])?(n[0]=Fe(n[0]),r[t](...n)):i}function r0(e,t,n=[]){ca(),FT();const r=Fe(e)[t].apply(e,n);return UT(),ua(),r}const hce=xi("__proto__,__v_isRef,__isVue"),C8=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ti));function dce(e){ti(e)||(e=String(e));const t=Fe(this);return Tr(t,"has",e),t.hasOwnProperty(e)}class R8{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?G8:U8:s?F8:P8).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Ee(t);if(!i){let l;if(o&&(l=cce[n]))return l;if(n==="hasOwnProperty")return dce}const a=Reflect.get(t,n,ot(t)?t:r);return(ti(n)?C8.has(n):hce(n))||(i||Tr(t,"get",n),s)?a:ot(a)?o&&RT(n)?a:a.value:Mt(a)?i?Mv(a):Zn(a):a}}class L8 extends R8{constructor(t=!1){super(!1,t)}set(t,n,r,i){let s=t[n];if(!this._isShallow){const l=pa(s);if(!ii(r)&&!pa(r)&&(s=Fe(s),r=Fe(r)),!Ee(t)&&ot(s)&&!ot(r))return l?!1:(s.value=r,!0)}const o=Ee(t)&&RT(n)?Number(n)<t.length:vt(t,n),a=Reflect.set(t,n,r,ot(t)?t:i);return t===Fe(i)&&(o?Fr(r,s)&&ha(t,"set",n,r):ha(t,"add",n,r)),a}deleteProperty(t,n){const r=vt(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&ha(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!ti(n)||!C8.has(n))&&Tr(t,"has",n),r}ownKeys(t){return Tr(t,"iterate",Ee(t)?"length":Su),Reflect.ownKeys(t)}}class D8 extends R8{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const pce=new L8,fce=new D8,mce=new L8(!0),yce=new D8(!0),WT=e=>e,Sv=e=>Reflect.getPrototypeOf(e);function gce(e,t,n){return function(...r){const i=this.__v_raw,s=Fe(i),o=Rd(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...r),d=n?WT:t?BT:Sr;return!t&&Tr(s,"iterate",l?zT:Su),{next(){const{value:p,done:f}=c.next();return f?{value:p,done:f}:{value:a?[d(p[0]),d(p[1])]:d(p),done:f}},[Symbol.iterator](){return this}}}}function Iv(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function vce(e,t){const n={get(r){const i=this.__v_raw,s=Fe(i),o=Fe(r);e||(Fr(r,o)&&Tr(s,"get",r),Tr(s,"get",o));const{has:a}=Sv(s),l=t?WT:e?BT:Sr;if(a.call(s,r))return l(i.get(r));if(a.call(s,o))return l(i.get(o));i!==s&&i.get(r)},get size(){const r=this.__v_raw;return!e&&Tr(Fe(r),"iterate",Su),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,s=Fe(i),o=Fe(r);return e||(Fr(r,o)&&Tr(s,"has",r),Tr(s,"has",o)),r===o?i.has(r):i.has(r)||i.has(o)},forEach(r,i){const s=this,o=s.__v_raw,a=Fe(o),l=t?WT:e?BT:Sr;return!e&&Tr(a,"iterate",Su),o.forEach((c,d)=>r.call(i,l(c),l(d),s))}};return st(n,e?{add:Iv("add"),set:Iv("set"),delete:Iv("delete"),clear:Iv("clear")}:{add(r){!t&&!ii(r)&&!pa(r)&&(r=Fe(r));const i=Fe(this);return Sv(i).has.call(i,r)||(i.add(r),ha(i,"add",r,r)),this},set(r,i){!t&&!ii(i)&&!pa(i)&&(i=Fe(i));const s=Fe(this),{has:o,get:a}=Sv(s);let l=o.call(s,r);l||(r=Fe(r),l=o.call(s,r));const c=a.call(s,r);return s.set(r,i),l?Fr(i,c)&&ha(s,"set",r,i):ha(s,"add",r,i),this},delete(r){const i=Fe(this),{has:s,get:o}=Sv(i);let a=s.call(i,r);a||(r=Fe(r),a=s.call(i,r)),o&&o.call(i,r);const l=i.delete(r);return a&&ha(i,"delete",r,void 0),l},clear(){const r=Fe(this),i=r.size!==0,s=r.clear();return i&&ha(r,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=gce(r,e,t)}),n}function Av(e,t){const n=vce(e,t);return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(vt(n,i)&&i in r?n:r,i,s)}const bce={get:Av(!1,!1)},_ce={get:Av(!1,!0)},wce={get:Av(!0,!1)},xce={get:Av(!0,!0)},P8=new WeakMap,F8=new WeakMap,U8=new WeakMap,G8=new WeakMap;function Ece(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tce(e){return e.__v_skip||!Object.isExtensible(e)?0:Ece(Ule(e))}function Zn(e){return pa(e)?e:Ov(e,!1,pce,bce,P8)}function ZT(e){return Ov(e,!1,mce,_ce,F8)}function Mv(e){return Ov(e,!0,fce,wce,U8)}function Ud(e){return Ov(e,!0,yce,xce,G8)}function Ov(e,t,n,r,i){if(!Mt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const o=Tce(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return i.set(e,a),a}function ri(e){return pa(e)?ri(e.__v_raw):!!(e&&e.__v_isReactive)}function pa(e){return!!(e&&e.__v_isReadonly)}function ii(e){return!!(e&&e.__v_isShallow)}function i0(e){return e?!!e.__v_raw:!1}function Fe(e){const t=e&&e.__v_raw;return t?Fe(t):e}function ln(e){return!vt(e,"__v_skip")&&Object.isExtensible(e)&&f8(e,"__v_skip",!0),e}const Sr=e=>Mt(e)?Zn(e):e,BT=e=>Mt(e)?Mv(e):e;function ot(e){return e?e.__v_isRef===!0:!1}function K(e){return j8(e,!1)}function Gd(e){return j8(e,!0)}function j8(e,t){return ot(e)?e:new Sce(e,t)}class Sce{constructor(t,n){this.dep=new xv,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Fe(t),this._value=n?t:Sr(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||ii(t)||pa(t);t=r?t:Fe(t),Fr(t,n)&&(this._rawValue=t,this._value=r?t:Sr(t),this.dep.trigger())}}function z8(e){e.dep&&e.dep.trigger()}function Ie(e){return ot(e)?e.value:e}function $8(e){return De(e)?e():Ie(e)}const Ice={get:(e,t,n)=>t==="__v_raw"?e:Ie(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return ot(i)&&!ot(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Nv(e){return ri(e)?e:new Proxy(e,Ice)}class Ace{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new xv,{get:r,set:i}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function XT(e){return new Ace(e)}function kv(e){const t=Ee(e)?new Array(e.length):{};for(const n in e)t[n]=V8(e,n);return t}class Mce{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return lce(Fe(this._object),this._key)}}class Oce{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Cv(e,t,n){return ot(e)?e:De(e)?new Oce(e):Mt(e)&&arguments.length>1?V8(e,t,n):K(e)}function V8(e,t,n){const r=e[t];return ot(r)?r:new Mce(e,t,n)}class Nce{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new xv(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=t0-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&$t!==this)return x8(this,!0),!0}get value(){const t=this.dep.track();return S8(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function kce(e,t,n=!1){let r,i;return De(e)?r=e:(r=e.get,i=e.set),new Nce(r,i,n)}const W8={GET:"get",HAS:"has",ITERATE:"iterate"},Z8={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Rv={},Lv=new WeakMap;let Cl;function B8(){return Cl}function HT(e,t=!1,n=Cl){if(n){let r=Lv.get(n);r||Lv.set(n,r=[]),r.push(e)}}function Cce(e,t,n=it){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,c=_=>i?_:ii(_)||i===!1||i===0?fa(_,1):fa(_);let d,p,f,y,g=!1,b=!1;if(ot(e)?(p=()=>e.value,g=ii(e)):ri(e)?(p=()=>c(e),g=!0):Ee(e)?(b=!0,g=e.some(_=>ri(_)||ii(_)),p=()=>e.map(_=>{if(ot(_))return _.value;if(ri(_))return c(_);if(De(_))return l?l(_,2):_()})):De(e)?t?p=l?()=>l(e,2):e:p=()=>{if(f){ca();try{f()}finally{ua()}}const _=Cl;Cl=d;try{return l?l(e,3,[y]):e(y)}finally{Cl=_}}:p=er,t&&i){const _=p,A=i===!0?1/0:i;p=()=>fa(_(),A)}const E=wv(),S=()=>{d.stop(),E&&E.active&&kT(E.effects,d)};if(s&&t){const _=t;t=(...A)=>{_(...A),S()}}let I=b?new Array(e.length).fill(Rv):Rv;const w=_=>{if(!(!(d.flags&1)||!d.dirty&&!_))if(t){const A=d.run();if(i||g||(b?A.some((M,k)=>Fr(M,I[k])):Fr(A,I))){f&&f();const M=Cl;Cl=d;try{const k=[A,I===Rv?void 0:b&&I[0]===Rv?[]:I,y];l?l(t,3,k):t(...k),I=A}finally{Cl=M}}}else d.run()};return a&&a(w),d=new Pd(p),d.scheduler=o?()=>o(w,!1):w,y=_=>HT(_,!1,d),f=d.onStop=()=>{const _=Lv.get(d);if(_){if(l)l(_,4);else for(const A of _)A();Lv.delete(d)}},t?r?w(!0):I=d.run():o?o(w.bind(null,!0),!0):d.run(),S.pause=d.pause.bind(d),S.resume=d.resume.bind(d),S.stop=S,S}function fa(e,t=1/0,n){if(t<=0||!Mt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,ot(e))fa(e.value,t,n);else if(Ee(e))for(let r=0;r<e.length;r++)fa(e[r],t,n);else if(Eu(e)||Rd(e))e.forEach(r=>{fa(r,t,n)});else if(fv(e)){for(const r in e)fa(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&fa(e[r],t,n)}return e}var Rl={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_62678b5c-7b69-42d1-bdc4-82a00485e0c4",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_62678b5c-7b69-42d1-bdc4-82a00485e0c4",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"milespetrov",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.14.2",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/28.1.13356709",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"10187181",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"836",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20250609.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.10/x64",JOURNAL_STREAM:"9:8318",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.4/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"false",GITHUB_RUN_ID:"15714620255",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"milespetrov/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/2617-keynav-temp",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy8yNjE3LWtleW5hdi10ZW1wXCIsXCJQZXJtaXNzaW9uXCI6M30se1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvbWFpblwiLFwiUGVybWlzc2lvblwiOjF9XSIsImFjc2wiOiIxMCIsImF1ZCI6InZzbzpmNGQ4ODY1NC0wMzkxLTRmMzUtYWIxMS0xNDFlYTQ5OTNjYzMiLCJiaWxsaW5nX293bmVyX2lkIjoiVV9rZ0RPQUp0eHJRIiwiZXhwIjoxNzUwMjA1MTUxLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJpYXQiOjE3NTAxODI5NTEsImlzcyI6Imh0dHBzOi8vdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb20iLCJqb2JfaWQiOiI1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYiLCJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJuYmYiOjE3NTAxODI2NTEsIm9pZGNfZXh0cmEiOiJ7XCJhY3RvclwiOlwibWlsZXNwZXRyb3ZcIixcImFjdG9yX2lkXCI6XCIxMDE4NzE4MVwiLFwiYmFzZV9yZWZcIjpcIlwiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0lDbTRMczVBd3FDU1wiLFwiZXZlbnRfbmFtZVwiOlwicHVzaFwiLFwiaGVhZF9yZWZcIjpcIlwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwibWlsZXNwZXRyb3YvcmFtcDQtcGNhcjQvLmdpdGh1Yi93b3JrZmxvd3MvZGVtby1idWlsZC55bWxAcmVmcy9oZWFkcy8yNjE3LWtleW5hdi10ZW1wXCIsXCJqb2Jfd29ya2Zsb3dfc2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCIsXCJyZWZcIjpcInJlZnMvaGVhZHMvMjYxNy1rZXluYXYtdGVtcFwiLFwicmVmX3Byb3RlY3RlZFwiOlwiZmFsc2VcIixcInJlZl90eXBlXCI6XCJicmFuY2hcIixcInJlcG9zaXRvcnlcIjpcIm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X2lkXCI6XCI1Mzk2MDUwMzhcIixcInJlcG9zaXRvcnlfb3duZXJcIjpcIm1pbGVzcGV0cm92XCIsXCJyZXBvc2l0b3J5X293bmVyX2lkXCI6XCIxMDE4NzE4MVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJ1bl9hdHRlbXB0XCI6XCIxXCIsXCJydW5faWRcIjpcIjE1NzE0NjIwMjU1XCIsXCJydW5fbnVtYmVyXCI6XCIxODhcIixcInJ1bm5lcl9lbnZpcm9ubWVudFwiOlwiZ2l0aHViLWhvc3RlZFwiLFwic2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCIsXCJ3b3JrZmxvd1wiOlwiQnVpbGQgZGVtbyBzaXRlIGFuZCBkZXBsb3kgdG8gR2l0SHViIFBhZ2VzXCIsXCJ3b3JrZmxvd19yZWZcIjpcIm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvMjYxNy1rZXluYXYtdGVtcFwiLFwid29ya2Zsb3dfc2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCJ9Iiwib2lkY19zdWIiOiJyZXBvOm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0OmVudmlyb25tZW50OmdpdGh1Yi1wYWdlcyIsIm9yY2hfaWQiOiI0YjM5NzIxZi1kMDFhLTQ3ZDItOGNmNS0wMzBiYWQ3ZmI3MzEuYnVpbGQuX19kZWZhdWx0Iiwib3duZXJfaWQiOiJVX2tnRE9BSnR4clEiLCJwbGFuX2lkIjoiNGIzOTcyMWYtZDAxYS00N2QyLThjZjUtMDMwYmFkN2ZiNzMxIiwicnVuX2lkIjoiMTU3MTQ2MjAyNTUiLCJydW5fbnVtYmVyIjoiMTg4IiwicnVuX3R5cGUiOiJmdWxsIiwicnVubmVyX2lkIjoiMTAwMDAwMDIxMiIsInJ1bm5lcl90eXBlIjoiaG9zdGVkIiwic2NwIjoiQWN0aW9ucy5SZXN1bHRzOjRiMzk3MjFmLWQwMWEtNDdkMi04Y2Y1LTAzMGJhZDdmYjczMTo1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYgQWN0aW9ucy5SdW5uZXI6NGIzOTcyMWYtZDAxYS00N2QyLThjZjUtMDMwYmFkN2ZiNzMxOjVmOTgwNmRkLThmZmItNTAzNy04N2M0LWZjMWNkZTNjNThiZiBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czo0YjM5NzIxZi1kMDFhLTQ3ZDItOGNmNS0wMzBiYWQ3ZmI3MzE6NWY5ODA2ZGQtOGZmYi01MDM3LTg3YzQtZmMxY2RlM2M1OGJmIGdlbmVyYXRlX2lkX3Rva2VuOjRiMzk3MjFmLWQwMWEtNDdkMi04Y2Y1LTAzMGJhZDdmYjczMTo1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYgQWN0aW9ucy5HZW5lcmljUmVhZDowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAiLCJzaGEiOiI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiIn0.kmAkbBjIAXO1eC1WXQwWxI0VXZseOkSzfl9lDEjYQAIv-TpXaw_gqzJI9DM82TP1ZoAvoDTgQlkoRa6yQejWX0X8Dy0X1Xr2hk7hRfnPq6YcxYoqvksqzy3uX_hqt3elFCRqSUxBv33A3yP2KOxWCw1AMTPe9vLYX5kIG5qaIHgo6n-cfWUQyKg38oxNMWYBaymKrZXJx8CQDYjuhCJ0FngAUJ3OH7Xuw8sK7IO9QQ9f6l0vy2nt--7lDk00kYllWcO77val14tA6gSh7NT4UL64356e0GytaoGraTpH6uMxPC37B_QSDghjdpejHe4Z34x4oLkIYRWo-Pdq_zRD1g",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_97147315-e45d-41fa-b240-9ba30473ecd4",INVOCATION_ID:"933f59bb5d194f848b3bae16fc292b09",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"188",GITHUB_TRIGGERING_ACTOR:"milespetrov",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000000212",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"2617-keynav-temp",GITHUB_REPOSITORY:"milespetrov/ramp4-pcar4",STATS_D_D:"false",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"539605038",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.13.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/heads/2617-keynav-temp",GITHUB_ACTOR:"milespetrov",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_62678b5c-7b69-42d1-bdc4-82a00485e0c4",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"10187181",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-3-azure-eastus.actions.githubusercontent.com/88//idtoken/4b39721f-d01a-47d2-8cf5-030bad7fb731/5f9806dd-8ffb-5037-87c4-fc1cde3c58bf?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_62678b5c-7b69-42d1-bdc4-82a00485e0c4",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_62678b5c-7b69-42d1-bdc4-82a00485e0c4",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};const Iu=[];function Rce(e){Iu.push(e)}function Lce(){Iu.pop()}let YT=!1;function Dce(e,...t){if(YT)return;YT=!0,ca();const n=Iu.length?Iu[Iu.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=Pce();if(r)Ll(r,n,11,[e+t.map(s=>{var o,a;return(a=(o=s.toString)==null?void 0:o.call(s))!=null?a:JSON.stringify(s)}).join(""),n&&n.proxy,i.map(({vnode:s})=>`at <${ID(n,s.type)}>`).join(`
`),i]);else{const s=[`[Vue warn]: ${e}`,...t];i.length&&s.push(`
`,...Fce(i)),console.warn(...s)}ua(),YT=!1}function Pce(){let e=Iu[Iu.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function Fce(e){const t=[];return e.forEach((n,r)=>{t.push(...r===0?[]:[`
`],...Uce(n))}),t}function Uce({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=e.component?e.component.parent==null:!1,i=` at <${ID(e.component,e.type,r)}`,s=">"+n;return e.props?[i,...Gce(e.props),s]:[i+s]}function Gce(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(r=>{t.push(...X8(r,e[r]))}),n.length>3&&t.push(" ..."),t}function X8(e,t,n){return We(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:ot(t)?(t=X8(e,Fe(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):De(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Fe(t),n?t:[`${e}=`,t])}function H8(e,t){}const Y8={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},jce={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Ll(e,t,n,r){try{return r?e(...r):e()}catch(i){Dl(i,t,n)}}function Ei(e,t,n,r){if(De(e)){const i=Ll(e,t,n,r);return i&&CT(i)&&i.catch(s=>{Dl(s,t,n)}),i}if(Ee(e)){const i=[];for(let s=0;s<e.length;s++)i.push(Ei(e[s],t,n,r));return i}}function Dl(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||it;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,l,c)===!1)return}a=a.parent}if(s){ca(),Ll(s,null,10,[e,l,c]),ua();return}}zce(e,n,i,r,o)}function zce(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const Gr=[];let vo=-1;const jd=[];let Pl=null,zd=0;const q8=Promise.resolve();let Dv=null;function Hi(e){const t=Dv||q8;return e?t.then(this?e.bind(this):e):t}function $ce(e){let t=vo+1,n=Gr.length;for(;t<n;){const r=t+n>>>1,i=Gr[r],s=s0(i);s<e||s===e&&i.flags&2?t=r+1:n=r}return t}function qT(e){if(!(e.flags&1)){const t=s0(e),n=Gr[Gr.length-1];!n||!(e.flags&2)&&t>=s0(n)?Gr.push(e):Gr.splice($ce(t),0,e),e.flags|=1,J8()}}function J8(){Dv||(Dv=q8.then(K8))}function $d(e){Ee(e)?jd.push(...e):Pl&&e.id===-1?Pl.splice(zd+1,0,e):e.flags&1||(jd.push(e),e.flags|=1),J8()}function Q8(e,t,n=vo+1){for(;n<Gr.length;n++){const r=Gr[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Gr.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Pv(e){if(jd.length){const t=[...new Set(jd)].sort((n,r)=>s0(n)-s0(r));if(jd.length=0,Pl){Pl.push(...t);return}for(Pl=t,zd=0;zd<Pl.length;zd++){const n=Pl[zd];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Pl=null,zd=0}}const s0=e=>e.id==null?e.flags&2?-1:1/0:e.id;function K8(e){const t=er;try{for(vo=0;vo<Gr.length;vo++){const n=Gr[vo];n&&!(n.flags&8)&&(Rl.NODE_ENV!=="production"&&t(n),n.flags&4&&(n.flags&=-2),Ll(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;vo<Gr.length;vo++){const n=Gr[vo];n&&(n.flags&=-2)}vo=-1,Gr.length=0,Pv(),Dv=null,(Gr.length||jd.length)&&K8()}}let Vd,Fv=[];function e9(e,t){var n,r;Vd=e,Vd?(Vd.enabled=!0,Fv.forEach(({event:i,args:s})=>Vd.emit(i,...s)),Fv=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{e9(i,t)}),setTimeout(()=>{Vd||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Fv=[])},3e3)):Fv=[]}let Bn=null,Uv=null;function o0(e){const t=Bn;return Bn=e,Uv=e&&e.type.__scopeId||null,t}function t9(e){Uv=e}function n9(){Uv=null}const r9=e=>gn;function gn(e,t=Bn,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&sb(-1);const s=o0(t);let o;try{o=e(...i)}finally{o0(s),r._d&&sb(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function bt(e,t){if(Bn===null)return e;const n=w0(Bn),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,o,a,l=it]=t[i];s&&(De(s)&&(s={mounted:s,updated:s}),s.deep&&fa(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function bo(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(ca(),Ei(l,n,8,[e.el,a,e,t]),ua())}}const i9=Symbol("_vte"),s9=e=>e.__isTeleport,a0=e=>e&&(e.disabled||e.disabled===""),o9=e=>e&&(e.defer||e.defer===""),a9=e=>typeof SVGElement<"u"&&e instanceof SVGElement,l9=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,JT=(e,t)=>{const n=e&&e.to;return We(n)?t?t(n):null:n},c9={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,s,o,a,l,c){const{mc:d,pc:p,pbc:f,o:{insert:y,querySelector:g,createText:b,createComment:E}}=c,S=a0(t.props);let{shapeFlag:I,children:w,dynamicChildren:_}=t;if(e==null){const A=t.el=b(""),M=t.anchor=b("");y(A,n,r),y(M,n,r);const k=(R,U)=>{I&16&&(i&&i.isCE&&(i.ce._teleportTarget=R),d(w,R,U,i,s,o,a,l))},C=()=>{const R=t.target=JT(t.props,g),U=u9(R,t,b,y);R&&(o!=="svg"&&a9(R)?o="svg":o!=="mathml"&&l9(R)&&(o="mathml"),S||(k(R,U),jv(t,!1)))};S&&(k(n,M),jv(t,!0)),o9(t.props)?Xn(()=>{C(),t.el.__isMounted=!0},s):C()}else{if(o9(t.props)&&!e.el.__isMounted){Xn(()=>{c9.process(e,t,n,r,i,s,o,a,l,c),delete e.el.__isMounted},s);return}t.el=e.el,t.targetStart=e.targetStart;const A=t.anchor=e.anchor,M=t.target=e.target,k=t.targetAnchor=e.targetAnchor,C=a0(e.props),R=C?n:M,U=C?A:k;if(o==="svg"||a9(M)?o="svg":(o==="mathml"||l9(M))&&(o="mathml"),_?(f(e.dynamicChildren,_,R,i,s,o,a),SS(e,t,!0)):l||p(e,t,R,U,i,s,o,a,!1),S)C?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Gv(t,n,A,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const B=t.target=JT(t.props,g);B&&Gv(t,B,null,c,0)}else C&&Gv(t,M,k,c,1);jv(t,S)}},remove(e,t,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:d,target:p,props:f}=e;if(p&&(i(c),i(d)),s&&i(l),o&16){const y=s||!a0(f);for(let g=0;g<a.length;g++){const b=a[g];r(b,t,n,y,!!b.dynamicChildren)}}},move:Gv,hydrate:Vce};function Gv(e,t,n,{o:{insert:r},m:i},s=2){s===0&&r(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:d}=e,p=s===2;if(p&&r(o,t,n),(!p||a0(d))&&l&16)for(let f=0;f<c.length;f++)i(c[f],t,n,2);p&&r(a,t,n)}function Vce(e,t,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:d}},p){const f=t.target=JT(t.props,l);if(f){const y=a0(t.props),g=f._lpa||f.firstChild;if(t.shapeFlag&16)if(y)t.anchor=p(o(e),t,a(e),n,r,i,s),t.targetStart=g,t.targetAnchor=g&&o(g);else{t.anchor=o(e);let b=g;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")t.targetStart=b;else if(b.data==="teleport anchor"){t.targetAnchor=b,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}}b=o(b)}t.targetAnchor||u9(f,t,d,c),p(g&&o(g),t,f,n,r,i,s)}jv(t,y)}return t.anchor&&o(t.anchor)}const QT=c9;function jv(e,t){const n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function u9(e,t,n,r){const i=t.targetStart=n(""),s=t.targetAnchor=n("");return i[i9]=s,e&&(r(i,e),r(s,e)),s}const Fl=Symbol("_leaveCb"),zv=Symbol("_enterCb");function $v(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return tr(()=>{e.isMounted=!0}),qi(()=>{e.isUnmounting=!0}),e}const Yi=[Function,Array],Vv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Yi,onEnter:Yi,onAfterEnter:Yi,onEnterCancelled:Yi,onBeforeLeave:Yi,onLeave:Yi,onAfterLeave:Yi,onLeaveCancelled:Yi,onBeforeAppear:Yi,onAppear:Yi,onAfterAppear:Yi,onAppearCancelled:Yi},h9=e=>{const t=e.subTree;return t.component?h9(t.component):t},Wce={name:"BaseTransition",props:Vv,setup(e,{slots:t}){const n=Mn(),r=$v();return()=>{const i=t.default&&l0(t.default(),!0);if(!i||!i.length)return;const s=d9(i),o=Fe(e),{mode:a}=o;if(r.isLeaving)return eS(s);const l=f9(s);if(!l)return eS(s);let c=Au(l,o,r,n,p=>c=p);l.type!==In&&_o(l,c);let d=n.subTree&&f9(n.subTree);if(d&&d.type!==In&&!Ps(l,d)&&h9(n).type!==In){let p=Au(d,o,r,n);if(_o(d,p),a==="out-in"&&l.type!==In)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave,d=void 0},eS(s);a==="in-out"&&l.type!==In?p.delayLeave=(f,y,g)=>{const b=p9(r,d);b[String(d.key)]=d,f[Fl]=()=>{y(),f[Fl]=void 0,delete c.delayedLeave,d=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return s}}};function d9(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==In){t=n;break}}return t}const KT=Wce;function p9(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Au(e,t,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:f,onLeave:y,onAfterLeave:g,onLeaveCancelled:b,onBeforeAppear:E,onAppear:S,onAfterAppear:I,onAppearCancelled:w}=t,_=String(e.key),A=p9(n,e),M=(R,U)=>{R&&Ei(R,r,9,U)},k=(R,U)=>{const B=U[1];M(R,U),Ee(R)?R.every(G=>G.length<=1)&&B():R.length<=1&&B()},C={mode:o,persisted:a,beforeEnter(R){let U=l;if(!n.isMounted)if(s)U=E||l;else return;R[Fl]&&R[Fl](!0);const B=A[_];B&&Ps(e,B)&&B.el[Fl]&&B.el[Fl](),M(U,[R])},enter(R){let U=c,B=d,G=p;if(!n.isMounted)if(s)U=S||c,B=I||d,G=w||p;else return;let z=!1;const J=R[zv]=u=>{z||(z=!0,u?M(G,[R]):M(B,[R]),C.delayedLeave&&C.delayedLeave(),R[zv]=void 0)};U?k(U,[R,J]):J()},leave(R,U){const B=String(e.key);if(R[zv]&&R[zv](!0),n.isUnmounting)return U();M(f,[R]);let G=!1;const z=R[Fl]=J=>{G||(G=!0,U(),J?M(b,[R]):M(g,[R]),R[Fl]=void 0,A[B]===e&&delete A[B])};A[B]=e,y?k(y,[R,z]):z()},clone(R){const U=Au(R,t,n,r,i);return i&&i(U),U}};return C}function eS(e){if(h0(e))return e=Fs(e),e.children=null,e}function f9(e){if(!h0(e))return s9(e.type)&&e.children?d9(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&De(n.default))return n.default()}}function _o(e,t){e.shapeFlag&6&&e.component?(e.transition=t,_o(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function l0(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ot?(o.patchFlag&128&&i++,r=r.concat(l0(o.children,t,a))):(t||o.type!==In)&&r.push(a!=null?Fs(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function tt(e,t){return De(e)?st({name:e.name},t,{setup:e}):e}function tS(){const e=Mn();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function nS(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function c0(e){const t=Mn(),n=Gd(null);if(t){const r=t.refs===it?t.refs={}:t.refs;Object.defineProperty(r,e,{enumerable:!0,get:()=>n.value,set:i=>n.value=i})}return n}function u0(e,t,n,r,i=!1){if(Ee(e)){e.forEach((g,b)=>u0(g,t&&(Ee(t)?t[b]:t),n,r,i));return}if(Ul(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&u0(e,t,n,r.component.subTree);return}const s=r.shapeFlag&4?w0(r.component):r.el,o=i?null:s,{i:a,r:l}=e,c=t&&t.r,d=a.refs===it?a.refs={}:a.refs,p=a.setupState,f=Fe(p),y=p===it?()=>!1:g=>vt(f,g);if(c!=null&&c!==l&&(We(c)?(d[c]=null,y(c)&&(p[c]=null)):ot(c)&&(c.value=null)),De(l))Ll(l,a,12,[o,d]);else{const g=We(l),b=ot(l);if(g||b){const E=()=>{if(e.f){const S=g?y(l)?p[l]:d[l]:l.value;i?Ee(S)&&kT(S,s):Ee(S)?S.includes(s)||S.push(s):g?(d[l]=[s],y(l)&&(p[l]=d[l])):(l.value=[s],e.k&&(d[e.k]=l.value))}else g?(d[l]=o,y(l)&&(p[l]=o)):b&&(l.value=o,e.k&&(d[e.k]=o))};o?(E.id=-1,Xn(E,n)):E()}}}let m9=!1;const Wd=()=>{m9||(console.error("Hydration completed but contains mismatches."),m9=!0)},Zce=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",Bce=e=>e.namespaceURI.includes("MathML"),Wv=e=>{if(e.nodeType===1){if(Zce(e))return"svg";if(Bce(e))return"mathml"}},Zd=e=>e.nodeType===8;function Xce(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:c}}=e,d=(w,_)=>{if(!_.hasChildNodes()){n(null,w,_),Pv(),_._vnode=w;return}p(_.firstChild,w,null,null,null),Pv(),_._vnode=w},p=(w,_,A,M,k,C=!1)=>{C=C||!!_.dynamicChildren;const R=Zd(w)&&w.data==="[",U=()=>b(w,_,A,M,k,R),{type:B,ref:G,shapeFlag:z,patchFlag:J}=_;let u=w.nodeType;_.el=w,J===-2&&(C=!1,_.dynamicChildren=null);let m=null;switch(B){case wo:u!==3?_.children===""?(l(_.el=i(""),o(w),w),m=w):m=U():(w.data!==_.children&&(Wd(),w.data=_.children),m=s(w));break;case In:I(w)?(m=s(w),S(_.el=w.content.firstChild,w,A)):u!==8||R?m=U():m=s(w);break;case jl:if(R&&(w=s(w),u=w.nodeType),u===1||u===3){m=w;const x=!_.children.length;for(let N=0;N<_.staticCount;N++)x&&(_.children+=m.nodeType===1?m.outerHTML:m.data),N===_.staticCount-1&&(_.anchor=m),m=s(m);return R?s(m):m}else U();break;case Ot:R?m=g(w,_,A,M,k,C):m=U();break;default:if(z&1)(u!==1||_.type.toLowerCase()!==w.tagName.toLowerCase())&&!I(w)?m=U():m=f(w,_,A,M,k,C);else if(z&6){_.slotScopeIds=k;const x=o(w);if(R?m=E(w):Zd(w)&&w.data==="teleport start"?m=E(w,w.data,"teleport end"):m=s(w),t(_,x,null,A,M,Wv(x),C),Ul(_)&&!_.type.__asyncResolved){let N;R?(N=Ye(Ot),N.anchor=m?m.previousSibling:x.lastChild):N=w.nodeType===3?Us(""):Ye("div"),N.el=w,_.component.subTree=N}}else z&64?u!==8?m=U():m=_.type.hydrate(w,_,A,M,k,C,e,y):z&128&&(m=_.type.hydrate(w,_,A,M,Wv(o(w)),k,C,e,p))}return G!=null&&u0(G,null,M,_),m},f=(w,_,A,M,k,C)=>{C=C||!!_.dynamicChildren;const{type:R,props:U,patchFlag:B,shapeFlag:G,dirs:z,transition:J}=_,u=R==="input"||R==="option";if(u||B!==-1){z&&bo(_,null,A,"created");let m=!1;if(I(w)){m=rD(null,J)&&A&&A.vnode.props&&A.vnode.props.appear;const N=w.content.firstChild;m&&J.beforeEnter(N),S(N,w,A),_.el=w=N}if(G&16&&!(U&&(U.innerHTML||U.textContent))){let N=y(w.firstChild,_,w,A,M,k,C);for(;N;){Zv(w,1)||Wd();const V=N;N=N.nextSibling,a(V)}}else if(G&8){let N=_.children;N[0]===`
`&&(w.tagName==="PRE"||w.tagName==="TEXTAREA")&&(N=N.slice(1)),w.textContent!==N&&(Zv(w,0)||Wd(),w.textContent=_.children)}if(U){if(u||!C||B&48){const N=w.tagName.includes("-");for(const V in U)(u&&(V.endsWith("value")||V==="indeterminate")||xu(V)&&!Ol(V)||V[0]==="."||N)&&r(w,V,null,U[V],void 0,A)}else if(U.onClick)r(w,"onClick",null,U.onClick,void 0,A);else if(B&4&&ri(U.style))for(const N in U.style)U.style[N]}let x;(x=U&&U.onVnodeBeforeMount)&&oi(x,A,_),z&&bo(_,null,A,"beforeMount"),((x=U&&U.onVnodeMounted)||z||m)&&mD(()=>{x&&oi(x,A,_),m&&J.enter(w),z&&bo(_,null,A,"mounted")},M)}return w.nextSibling},y=(w,_,A,M,k,C,R)=>{R=R||!!_.dynamicChildren;const U=_.children,B=U.length;for(let G=0;G<B;G++){const z=R?U[G]:U[G]=si(U[G]),J=z.type===wo;w?(J&&!R&&G+1<B&&si(U[G+1]).type===wo&&(l(i(w.data.slice(z.children.length)),A,s(w)),w.data=z.children),w=p(w,z,M,k,C,R)):J&&!z.children?l(z.el=i(""),A):(Zv(A,1)||Wd(),n(null,z,A,null,M,k,Wv(A),C))}return w},g=(w,_,A,M,k,C)=>{const{slotScopeIds:R}=_;R&&(k=k?k.concat(R):R);const U=o(w),B=y(s(w),_,U,A,M,k,C);return B&&Zd(B)&&B.data==="]"?s(_.anchor=B):(Wd(),l(_.anchor=c("]"),U,B),B)},b=(w,_,A,M,k,C)=>{if(Zv(w.parentElement,1)||Wd(),_.el=null,C){const B=E(w);for(;;){const G=s(w);if(G&&G!==B)a(G);else break}}const R=s(w),U=o(w);return a(w),n(null,_,U,R,A,M,Wv(U),k),A&&(A.vnode.el=_.el,rb(A,_.el)),R},E=(w,_="[",A="]")=>{let M=0;for(;w;)if(w=s(w),w&&Zd(w)&&(w.data===_&&M++,w.data===A)){if(M===0)return s(w);M--}return w},S=(w,_,A)=>{const M=_.parentNode;M&&M.replaceChild(w,_);let k=A;for(;k;)k.vnode.el===_&&(k.vnode.el=k.subTree.el=w),k=k.parent},I=w=>w.nodeType===1&&w.tagName==="TEMPLATE";return[d,p]}const y9="data-allow-mismatch",Hce={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Zv(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(y9);)e=e.parentElement;const n=e&&e.getAttribute(y9);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return t===0&&r.includes("children")?!0:n.split(",").includes(Hce[t])}}const Yce=vv().requestIdleCallback||(e=>setTimeout(e,1)),qce=vv().cancelIdleCallback||(e=>clearTimeout(e)),g9=(e=1e4)=>t=>{const n=Yce(t,{timeout:e});return()=>qce(n)};function Jce(e){const{top:t,left:n,bottom:r,right:i}=e.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(t>0&&t<s||r>0&&r<s)&&(n>0&&n<o||i>0&&i<o)}const v9=e=>(t,n)=>{const r=new IntersectionObserver(i=>{for(const s of i)if(s.isIntersecting){r.disconnect(),t();break}},e);return n(i=>{if(i instanceof Element){if(Jce(i))return t(),r.disconnect(),!1;r.observe(i)}}),()=>r.disconnect()},b9=e=>t=>{if(e){const n=matchMedia(e);if(n.matches)t();else return n.addEventListener("change",t,{once:!0}),()=>n.removeEventListener("change",t)}},_9=(e=[])=>(t,n)=>{We(e)&&(e=[e]);let r=!1;const i=o=>{r||(r=!0,s(),t(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{n(o=>{for(const a of e)o.removeEventListener(a,i)})};return n(o=>{for(const a of e)o.addEventListener(a,i,{once:!0})}),s};function Qce(e,t){if(Zd(e)&&e.data==="["){let n=1,r=e.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(Zd(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else t(e)}const Ul=e=>!!e.type.__asyncLoader;function Bv(e){De(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=e;let c=null,d,p=0;const f=()=>(p++,c=null,y()),y=()=>{let g;return c||(g=c=t().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((E,S)=>{l(b,()=>E(f()),()=>S(b),p+1)});throw b}).then(b=>g!==c&&c?c:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),d=b,b)))};return tt({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(g,b,E){const S=s?()=>{const I=s(E,w=>Qce(g,w));I&&(b.bum||(b.bum=[])).push(I)}:E;d?S():y().then(()=>!b.isUnmounted&&S())},get __asyncResolved(){return d},setup(){const g=An;if(nS(g),d)return()=>rS(d,g);const b=w=>{c=null,Dl(w,g,13,!r)};if(a&&g.suspense||Xd)return y().then(w=>()=>rS(w,g)).catch(w=>(b(w),()=>r?Ye(r,{error:w}):null));const E=K(!1),S=K(),I=K(!!i);return i&&setTimeout(()=>{I.value=!1},i),o!=null&&setTimeout(()=>{if(!E.value&&!S.value){const w=new Error(`Async component timed out after ${o}ms.`);b(w),S.value=w}},o),y().then(()=>{E.value=!0,g.parent&&h0(g.parent.vnode)&&g.parent.update()}).catch(w=>{b(w),S.value=w}),()=>{if(E.value&&d)return rS(d,g);if(S.value&&r)return Ye(r,{error:S.value});if(n&&!I.value)return Ye(n)}}})}function rS(e,t){const{ref:n,props:r,children:i,ce:s}=t.vnode,o=Ye(e,r,i);return o.ref=n,o.ce=s,delete t.vnode.ce,o}const h0=e=>e.type.__isKeepAlive,Kce={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Mn(),r=n.ctx;if(!r.renderer)return()=>{const I=t.default&&t.default();return I&&I.length===1?I[0]:I};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:d,o:{createElement:p}}}=r,f=p("div");r.activate=(I,w,_,A,M)=>{const k=I.component;c(I,w,_,0,a),l(k.vnode,I,w,_,k,a,A,I.slotScopeIds,M),Xn(()=>{k.isDeactivated=!1,k.a&&Dd(k.a);const C=I.props&&I.props.onVnodeMounted;C&&oi(C,k.parent,I)},a)},r.deactivate=I=>{const w=I.component;eb(w.m),eb(w.a),c(I,f,null,1,a),Xn(()=>{w.da&&Dd(w.da);const _=I.props&&I.props.onVnodeUnmounted;_&&oi(_,w.parent,I),w.isDeactivated=!0},a)};function y(I){oS(I),d(I,n,a,!0)}function g(I){i.forEach((w,_)=>{const A=cb(w.type);A&&!I(A)&&b(_)})}function b(I){const w=i.get(I);w&&(!o||!Ps(w,o))?y(w):o&&oS(o),i.delete(I),s.delete(I)}Gn(()=>[e.include,e.exclude],([I,w])=>{I&&g(_=>d0(I,_)),w&&g(_=>!d0(w,_))},{flush:"post",deep:!0});let E=null;const S=()=>{E!=null&&(ib(n.subTree.type)?Xn(()=>{i.set(E,Xv(n.subTree))},n.subTree.suspense):i.set(E,Xv(n.subTree)))};return tr(S),Mu(S),qi(()=>{i.forEach(I=>{const{subTree:w,suspense:_}=n,A=Xv(w);if(I.type===A.type&&I.key===A.key){oS(A);const M=A.component.da;M&&Xn(M,_);return}y(I)})}),()=>{if(E=null,!t.default)return o=null;const I=t.default(),w=I[0];if(I.length>1)return o=null,I;if(!Ds(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let _=Xv(w);if(_.type===In)return o=null,_;const A=_.type,M=cb(Ul(_)?_.type.__asyncResolved||{}:A),{include:k,exclude:C,max:R}=e;if(k&&(!M||!d0(k,M))||C&&M&&d0(C,M))return _.shapeFlag&=-257,o=_,w;const U=_.key==null?A:_.key,B=i.get(U);return _.el&&(_=Fs(_),w.shapeFlag&128&&(w.ssContent=_)),E=U,B?(_.el=B.el,_.component=B.component,_.transition&&_o(_,_.transition),_.shapeFlag|=512,s.delete(U),s.add(U)):(s.add(U),R&&s.size>parseInt(R,10)&&b(s.values().next().value)),_.shapeFlag|=256,o=_,ib(w.type)?w:_}}},w9=Kce;function d0(e,t){return Ee(e)?e.some(n=>d0(n,t)):We(e)?e.split(",").includes(t):Fle(e)?(e.lastIndex=0,e.test(t)):!1}function iS(e,t){x9(e,"a",t)}function sS(e,t){x9(e,"da",t)}function x9(e,t,n=An){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Hv(t,r,n),n){let i=n.parent;for(;i&&i.parent;)h0(i.parent.vnode)&&eue(r,t,n,i),i=i.parent}}function eue(e,t,n,r){const i=Hv(t,e,r,!0);Gl(()=>{kT(r[t],i)},n)}function oS(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Xv(e){return e.shapeFlag&128?e.ssContent:e}function Hv(e,t,n=An,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{ca();const a=Cu(n),l=Ei(t,n,e,o);return a(),ua(),l});return r?i.unshift(s):i.push(s),s}}const ma=e=>(t,n=An)=>{(!Xd||e==="sp")&&Hv(e,(...r)=>t(...r),n)},p0=ma("bm"),tr=ma("m"),Yv=ma("bu"),Mu=ma("u"),qi=ma("bum"),Gl=ma("um"),aS=ma("sp"),lS=ma("rtg"),cS=ma("rtc");function qv(e,t=An){Hv("ec",e,t)}const uS="components",tue="directives";function vn(e,t){return hS(uS,e,!0,t)||e}const E9=Symbol.for("v-ndc");function Jv(e){return We(e)?hS(uS,e,!1)||e:e||E9}function _t(e){return hS(tue,e)}function hS(e,t,n=!0,r=!1){const i=Bn||An;if(i){const s=i.type;if(e===uS){const a=cb(s,!1);if(a&&(a===t||a===zt(t)||a===Nl(zt(t))))return s}const o=T9(i[e]||s[e],t)||T9(i.appContext[e],t);return!o&&r?s:o}}function T9(e,t){return e&&(e[t]||e[zt(t)]||e[Nl(zt(t))])}function ya(e,t,n,r){let i;const s=n&&n[r],o=Ee(e);if(o||We(e)){const a=o&&ri(e);let l=!1;a&&(l=!ii(e),e=Tv(e)),i=new Array(e.length);for(let c=0,d=e.length;c<d;c++)i[c]=t(l?Sr(e[c]):e[c],c,void 0,s&&s[c])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s&&s[a])}else if(Mt(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const d=a[l];i[l]=t(e[d],d,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}function S9(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Ee(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return e}function Ji(e,t,n={},r,i){if(Bn.ce||Bn.parent&&Ul(Bn.parent)&&Bn.parent.ce)return t!=="default"&&(n.name=t),ce(),Ft(Ot,null,[Ye("slot",n,r&&r())],64);let s=e[t];s&&s._c&&(s._d=!1),ce();const o=s&&dS(s(n)),a=n.key||o&&o.key,l=Ft(Ot,{key:(a&&!ti(a)?a:`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function dS(e){return e.some(t=>Ds(t)?!(t.type===In||t.type===Ot&&!dS(t.children)):!0)?e:null}function I9(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:Tu(r)]=e[r];return n}const pS=e=>e?wD(e)?w0(e):pS(e.parent):null,f0=st(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>pS(e.parent),$root:e=>pS(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>gS(e),$forceUpdate:e=>e.f||(e.f=()=>{qT(e.update)}),$nextTick:e=>e.n||(e.n=Hi.bind(e.proxy)),$watch:e=>gue.bind(e)}),fS=(e,t)=>e!==it&&!e.__isScriptSetup&&vt(e,t),mS={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(fS(r,t))return o[t]=1,r[t];if(i!==it&&vt(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&vt(c,t))return o[t]=3,s[t];if(n!==it&&vt(n,t))return o[t]=4,n[t];yS&&(o[t]=0)}}const d=f0[t];let p,f;if(d)return t==="$attrs"&&Tr(e.attrs,"get",""),d(e);if((p=a.__cssModules)&&(p=p[t]))return p;if(n!==it&&vt(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,vt(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return fS(i,t)?(i[t]=n,!0):r!==it&&vt(r,t)?(r[t]=n,!0):vt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||e!==it&&vt(e,o)||fS(t,o)||(a=s[0])&&vt(a,o)||vt(r,o)||vt(f0,o)||vt(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:vt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},nue=st({},mS,{get(e,t){if(t!==Symbol.unscopables)return mS.get(e,t,e)},has(e,t){return t[0]!=="_"&&!Wle(t)}});function A9(){return null}function M9(){return null}function O9(e){}function N9(e){}function k9(){return null}function C9(){}function R9(e,t){return null}function L9(){return P9().slots}function D9(){return P9().attrs}function P9(){const e=Mn();return e.setupContext||(e.setupContext=SD(e))}function m0(e){return Ee(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function F9(e,t){const n=m0(e);for(const r in t){if(r.startsWith("__skip"))continue;let i=n[r];i?Ee(i)||De(i)?i=n[r]={type:i,default:t[r]}:i.default=t[r]:i===null&&(i=n[r]={default:t[r]}),i&&t[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function U9(e,t){return!e||!t?e||t:Ee(e)&&Ee(t)?e.concat(t):st({},m0(e),m0(t))}function G9(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function j9(e){const t=Mn();let n=e();return LS(),CT(n)&&(n=n.catch(r=>{throw Cu(t),r})),[n,()=>Cu(t)]}let yS=!0;function rue(e){const t=gS(e),n=e.proxy,r=e.ctx;yS=!1,t.beforeCreate&&z9(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:d,beforeMount:p,mounted:f,beforeUpdate:y,updated:g,activated:b,deactivated:E,beforeDestroy:S,beforeUnmount:I,destroyed:w,unmounted:_,render:A,renderTracked:M,renderTriggered:k,errorCaptured:C,serverPrefetch:R,expose:U,inheritAttrs:B,components:G,directives:z,filters:J}=t;if(c&&iue(c,r,null),o)for(const m in o){const x=o[m];De(x)&&(r[m]=x.bind(n))}if(i){const m=i.call(n,n);Mt(m)&&(e.data=Zn(m))}if(yS=!0,s)for(const m in s){const x=s[m],N=De(x)?x.bind(n,n):De(x.get)?x.get.bind(n,n):er,V=!De(x)&&De(x.set)?x.set.bind(n):er,H=Qe({get:N,set:V});Object.defineProperty(r,m,{enumerable:!0,configurable:!0,get:()=>H.value,set:de=>H.value=de})}if(a)for(const m in a)$9(a[m],r,n,m);if(l){const m=De(l)?l.call(n):l;Reflect.ownKeys(m).forEach(x=>{Kv(x,m[x])})}d&&z9(d,e,"c");function u(m,x){Ee(x)?x.forEach(N=>m(N.bind(n))):x&&m(x.bind(n))}if(u(p0,p),u(tr,f),u(Yv,y),u(Mu,g),u(iS,b),u(sS,E),u(qv,C),u(cS,M),u(lS,k),u(qi,I),u(Gl,_),u(aS,R),Ee(U))if(U.length){const m=e.exposed||(e.exposed={});U.forEach(x=>{Object.defineProperty(m,x,{get:()=>n[x],set:N=>n[x]=N})})}else e.exposed||(e.exposed={});A&&e.render===er&&(e.render=A),B!=null&&(e.inheritAttrs=B),G&&(e.components=G),z&&(e.directives=z),R&&nS(e)}function iue(e,t,n=er){Ee(e)&&(e=vS(e));for(const r in e){const i=e[r];let s;Mt(i)?"default"in i?s=Sn(i.from||r,i.default,!0):s=Sn(i.from||r):s=Sn(i),ot(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s}}function z9(e,t,n){Ei(Ee(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function $9(e,t,n,r){let i=r.includes(".")?aD(n,r):()=>n[r];if(We(e)){const s=t[e];De(s)&&Gn(i,s)}else if(De(e))Gn(i,e.bind(n));else if(Mt(e))if(Ee(e))e.forEach(s=>$9(s,t,n,r));else{const s=De(e.handler)?e.handler.bind(n):t[e.handler];De(s)&&Gn(i,s,e)}}function gS(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(c=>Qv(l,c,o,!0)),Qv(l,t,o)),Mt(t)&&s.set(t,l),l}function Qv(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&Qv(e,s,n,!0),i&&i.forEach(o=>Qv(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=sue[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const sue={data:V9,props:W9,emits:W9,methods:y0,computed:y0,beforeCreate:jr,created:jr,beforeMount:jr,mounted:jr,beforeUpdate:jr,updated:jr,beforeDestroy:jr,beforeUnmount:jr,destroyed:jr,unmounted:jr,activated:jr,deactivated:jr,errorCaptured:jr,serverPrefetch:jr,components:y0,directives:y0,watch:aue,provide:V9,inject:oue};function V9(e,t){return t?e?function(){return st(De(e)?e.call(this,this):e,De(t)?t.call(this,this):t)}:t:e}function oue(e,t){return y0(vS(e),vS(t))}function vS(e){if(Ee(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function jr(e,t){return e?[...new Set([].concat(e,t))]:t}function y0(e,t){return e?st(Object.create(null),e,t):t}function W9(e,t){return e?Ee(e)&&Ee(t)?[...new Set([...e,...t])]:st(Object.create(null),m0(e),m0(t??{})):t}function aue(e,t){if(!e)return t;if(!t)return e;const n=st(Object.create(null),e);for(const r in t)n[r]=jr(e[r],t[r]);return n}function Z9(){return{app:null,config:{isNativeTag:Jm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lue=0;function cue(e,t){return function(n,r=null){De(n)||(n=st({},n)),r!=null&&!Mt(r)&&(r=null);const i=Z9(),s=new WeakSet,o=[];let a=!1;const l=i.app={_uid:lue++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:GS,get config(){return i.config},set config(c){},use(c,...d){return s.has(c)||(c&&De(c.install)?(s.add(c),c.install(l,...d)):De(c)&&(s.add(c),c(l,...d))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,d){return d?(i.components[c]=d,l):i.components[c]},directive(c,d){return d?(i.directives[c]=d,l):i.directives[c]},mount(c,d,p){if(!a){const f=l._ceVNode||Ye(n,r);return f.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),d&&t?t(f,c):e(f,c,p),a=!0,l._container=c,c.__vue_app__=l,w0(f.component)}},onUnmount(c){o.push(c)},unmount(){a&&(Ei(o,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(c,d){return i.provides[c]=d,l},runWithContext(c){const d=Ou;Ou=l;try{return c()}finally{Ou=d}}};return l}}let Ou=null;function Kv(e,t){if(An){let n=An.provides;const r=An.parent&&An.parent.provides;r===n&&(n=An.provides=Object.create(r)),n[e]=t}}function Sn(e,t,n=!1){const r=An||Bn;if(r||Ou){const i=Ou?Ou._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&De(t)?t.call(r&&r.proxy):t}}function bS(){return!!(An||Bn||Ou)}const B9={},X9=()=>Object.create(B9),H9=e=>Object.getPrototypeOf(e)===B9;function uue(e,t,n,r=!1){const i={},s=X9();e.propsDefaults=Object.create(null),Y9(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:ZT(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function hue(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,a=Fe(i),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let p=0;p<d.length;p++){let f=d[p];if(tb(e.emitsOptions,f))continue;const y=t[f];if(l)if(vt(s,f))y!==s[f]&&(s[f]=y,c=!0);else{const g=zt(f);i[g]=_S(l,a,g,y,e,!1)}else y!==s[f]&&(s[f]=y,c=!0)}}}else{Y9(e,t,i,s)&&(c=!0);let d;for(const p in a)(!t||!vt(t,p)&&((d=ni(p))===p||!vt(t,d)))&&(l?n&&(n[p]!==void 0||n[d]!==void 0)&&(i[p]=_S(l,a,p,void 0,e,!0)):delete i[p]);if(s!==a)for(const p in s)(!t||!vt(t,p))&&(delete s[p],c=!0)}c&&ha(e.attrs,"set","")}function Y9(e,t,n,r){const[i,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Ol(l))continue;const c=t[l];let d;i&&vt(i,d=zt(l))?!s||!s.includes(d)?n[d]=c:(a||(a={}))[d]=c:tb(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=Fe(n),c=a||it;for(let d=0;d<s.length;d++){const p=s[d];n[p]=_S(i,l,p,c[p],e,!vt(c,p))}}return o}function _S(e,t,n,r,i,s){const o=e[n];if(o!=null){const a=vt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&De(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const d=Cu(i);r=c[n]=l.call(null,t),d()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===ni(n))&&(r=!0))}return r}const due=new WeakMap;function q9(e,t,n=!1){const r=n?due:t.propsCache,i=r.get(e);if(i)return i;const s=e.props,o={},a=[];let l=!1;if(!De(e)){const d=p=>{l=!0;const[f,y]=q9(p,t,!0);st(o,f),y&&a.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!l)return Mt(e)&&r.set(e,Cd),Cd;if(Ee(s))for(let d=0;d<s.length;d++){const p=zt(s[d]);J9(p)&&(o[p]=it)}else if(s)for(const d in s){const p=zt(d);if(J9(p)){const f=s[d],y=o[p]=Ee(f)||De(f)?{type:f}:st({},f),g=y.type;let b=!1,E=!0;if(Ee(g))for(let S=0;S<g.length;++S){const I=g[S],w=De(I)&&I.name;if(w==="Boolean"){b=!0;break}else w==="String"&&(E=!1)}else b=De(g)&&g.name==="Boolean";y[0]=b,y[1]=E,(b||vt(y,"default"))&&a.push(p)}}const c=[o,a];return Mt(e)&&r.set(e,c),c}function J9(e){return e[0]!=="$"&&!Ol(e)}const Q9=e=>e[0]==="_"||e==="$stable",wS=e=>Ee(e)?e.map(si):[si(e)],pue=(e,t,n)=>{if(t._n)return t;const r=gn((...i)=>(Rl.NODE_ENV!=="production"&&An&&(!n||(n.root,An.root)),wS(t(...i))),n);return r._c=!1,r},K9=(e,t,n)=>{const r=e._ctx;for(const i in e){if(Q9(i))continue;const s=e[i];if(De(s))t[i]=pue(i,s,r);else if(s!=null){const o=wS(s);t[i]=()=>o}}},eD=(e,t)=>{const n=wS(t);e.slots.default=()=>n},tD=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},fue=(e,t,n)=>{const r=e.slots=X9();if(e.vnode.shapeFlag&32){const i=t._;i?(tD(r,t,n),n&&f8(r,"_",i,!0)):K9(t,r)}else t&&eD(e,t)},mue=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,o=it;if(r.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:tD(i,t,n):(s=!t.$stable,K9(t,i)),o=t}else t&&(eD(e,t),o={default:1});if(s)for(const a in i)!Q9(a)&&o[a]==null&&delete i[a]},Xn=mD;function xS(e){return nD(e)}function ES(e){return nD(e,Xce)}function nD(e,t){const n=vv();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:d,parentNode:p,nextSibling:f,setScopeId:y=er,insertStaticContent:g}=e,b=(j,F,Y,se=null,ne=null,le=null,me=void 0,L=null,D=!!F.dynamicChildren)=>{if(j===F)return;j&&!Ps(j,F)&&(se=Nt(j),oe(j,ne,le,!0),j=null),F.patchFlag===-2&&(D=!1,F.dynamicChildren=null);const{type:W,ref:Q,shapeFlag:$}=F;switch(W){case wo:E(j,F,Y,se);break;case In:S(j,F,Y,se);break;case jl:j==null&&I(F,Y,se,me);break;case Ot:G(j,F,Y,se,ne,le,me,L,D);break;default:$&1?A(j,F,Y,se,ne,le,me,L,D):$&6?z(j,F,Y,se,ne,le,me,L,D):($&64||$&128)&&W.process(j,F,Y,se,ne,le,me,L,D,Zt)}Q!=null&&ne&&u0(Q,j&&j.ref,le,F||j,!F)},E=(j,F,Y,se)=>{if(j==null)r(F.el=a(F.children),Y,se);else{const ne=F.el=j.el;F.children!==j.children&&c(ne,F.children)}},S=(j,F,Y,se)=>{j==null?r(F.el=l(F.children||""),Y,se):F.el=j.el},I=(j,F,Y,se)=>{[j.el,j.anchor]=g(j.children,F,Y,se,j.el,j.anchor)},w=({el:j,anchor:F},Y,se)=>{let ne;for(;j&&j!==F;)ne=f(j),r(j,Y,se),j=ne;r(F,Y,se)},_=({el:j,anchor:F})=>{let Y;for(;j&&j!==F;)Y=f(j),i(j),j=Y;i(F)},A=(j,F,Y,se,ne,le,me,L,D)=>{F.type==="svg"?me="svg":F.type==="math"&&(me="mathml"),j==null?M(F,Y,se,ne,le,me,L,D):R(j,F,ne,le,me,L,D)},M=(j,F,Y,se,ne,le,me,L)=>{let D,W;const{props:Q,shapeFlag:$,transition:X,dirs:pe}=j;if(D=j.el=o(j.type,le,Q&&Q.is,Q),$&8?d(D,j.children):$&16&&C(j.children,D,null,se,ne,TS(j,le),me,L),pe&&bo(j,null,se,"created"),k(D,j,j.scopeId,me,se),Q){for(const qe in Q)qe!=="value"&&!Ol(qe)&&s(D,qe,null,Q[qe],le,se);"value"in Q&&s(D,"value",null,Q.value,le),(W=Q.onVnodeBeforeMount)&&oi(W,se,j)}pe&&bo(j,null,se,"beforeMount");const ge=rD(ne,X);ge&&X.beforeEnter(D),r(D,F,Y),((W=Q&&Q.onVnodeMounted)||ge||pe)&&Xn(()=>{W&&oi(W,se,j),ge&&X.enter(D),pe&&bo(j,null,se,"mounted")},ne)},k=(j,F,Y,se,ne)=>{if(Y&&y(j,Y),se)for(let le=0;le<se.length;le++)y(j,se[le]);if(ne){let le=ne.subTree;if(F===le||ib(le.type)&&(le.ssContent===F||le.ssFallback===F)){const me=ne.vnode;k(j,me,me.scopeId,me.slotScopeIds,ne.parent)}}},C=(j,F,Y,se,ne,le,me,L,D=0)=>{for(let W=D;W<j.length;W++){const Q=j[W]=L?zl(j[W]):si(j[W]);b(null,Q,F,Y,se,ne,le,me,L)}},R=(j,F,Y,se,ne,le,me)=>{const L=F.el=j.el;let{patchFlag:D,dynamicChildren:W,dirs:Q}=F;D|=j.patchFlag&16;const $=j.props||it,X=F.props||it;let pe;if(Y&&Nu(Y,!1),(pe=X.onVnodeBeforeUpdate)&&oi(pe,Y,F,j),Q&&bo(F,j,Y,"beforeUpdate"),Y&&Nu(Y,!0),($.innerHTML&&X.innerHTML==null||$.textContent&&X.textContent==null)&&d(L,""),W?U(j.dynamicChildren,W,L,Y,se,TS(F,ne),le):me||N(j,F,L,null,Y,se,TS(F,ne),le,!1),D>0){if(D&16)B(L,$,X,Y,ne);else if(D&2&&$.class!==X.class&&s(L,"class",null,X.class,ne),D&4&&s(L,"style",$.style,X.style,ne),D&8){const ge=F.dynamicProps;for(let qe=0;qe<ge.length;qe++){const et=ge[qe],Qt=$[et],un=X[et];(un!==Qt||et==="value")&&s(L,et,Qt,un,ne,Y)}}D&1&&j.children!==F.children&&d(L,F.children)}else!me&&W==null&&B(L,$,X,Y,ne);((pe=X.onVnodeUpdated)||Q)&&Xn(()=>{pe&&oi(pe,Y,F,j),Q&&bo(F,j,Y,"updated")},se)},U=(j,F,Y,se,ne,le,me)=>{for(let L=0;L<F.length;L++){const D=j[L],W=F[L],Q=D.el&&(D.type===Ot||!Ps(D,W)||D.shapeFlag&70)?p(D.el):Y;b(D,W,Q,null,se,ne,le,me,!0)}},B=(j,F,Y,se,ne)=>{if(F!==Y){if(F!==it)for(const le in F)!Ol(le)&&!(le in Y)&&s(j,le,F[le],null,ne,se);for(const le in Y){if(Ol(le))continue;const me=Y[le],L=F[le];me!==L&&le!=="value"&&s(j,le,L,me,ne,se)}"value"in Y&&s(j,"value",F.value,Y.value,ne)}},G=(j,F,Y,se,ne,le,me,L,D)=>{const W=F.el=j?j.el:a(""),Q=F.anchor=j?j.anchor:a("");let{patchFlag:$,dynamicChildren:X,slotScopeIds:pe}=F;pe&&(L=L?L.concat(pe):pe),j==null?(r(W,Y,se),r(Q,Y,se),C(F.children||[],Y,Q,ne,le,me,L,D)):$>0&&$&64&&X&&j.dynamicChildren?(U(j.dynamicChildren,X,Y,ne,le,me,L),(F.key!=null||ne&&F===ne.subTree)&&SS(j,F,!0)):N(j,F,Y,Q,ne,le,me,L,D)},z=(j,F,Y,se,ne,le,me,L,D)=>{F.slotScopeIds=L,j==null?F.shapeFlag&512?ne.ctx.activate(F,Y,se,me,D):J(F,Y,se,ne,le,me,D):u(j,F,D)},J=(j,F,Y,se,ne,le,me)=>{const L=j.component=_D(j,se,ne);if(h0(j)&&(L.ctx.renderer=Zt),xD(L,!1,me),L.asyncDep){if(ne&&ne.registerDep(L,m,me),!j.el){const D=L.subTree=Ye(In);S(null,D,F,Y)}}else m(L,j,F,Y,ne,le,me)},u=(j,F,Y)=>{const se=F.component=j.component;if(xue(j,F,Y))if(se.asyncDep&&!se.asyncResolved){x(se,F,Y);return}else se.next=F,se.update();else F.el=j.el,se.vnode=F},m=(j,F,Y,se,ne,le,me)=>{const L=()=>{if(j.isMounted){let{next:$,bu:X,u:pe,parent:ge,vnode:qe}=j;{const sr=iD(j);if(sr){$&&($.el=qe.el,x(j,$,me)),sr.asyncDep.then(()=>{j.isUnmounted||L()});return}}let et=$,Qt;Nu(j,!1),$?($.el=qe.el,x(j,$,me)):$=qe,X&&Dd(X),(Qt=$.props&&$.props.onVnodeBeforeUpdate)&&oi(Qt,ge,$,qe),Nu(j,!0);const un=nb(j),mr=j.subTree;j.subTree=un,b(mr,un,p(mr.el),Nt(mr),j,ne,le),$.el=un.el,et===null&&rb(j,un.el),pe&&Xn(pe,ne),(Qt=$.props&&$.props.onVnodeUpdated)&&Xn(()=>oi(Qt,ge,$,qe),ne)}else{let $;const{el:X,props:pe}=F,{bm:ge,m:qe,parent:et,root:Qt,type:un}=j,mr=Ul(F);if(Nu(j,!1),ge&&Dd(ge),!mr&&($=pe&&pe.onVnodeBeforeMount)&&oi($,et,F),Nu(j,!0),X&&Jn){const sr=()=>{j.subTree=nb(j),Jn(X,j.subTree,j,ne,null)};mr&&un.__asyncHydrate?un.__asyncHydrate(X,j,sr):sr()}else{Qt.ce&&Qt.ce._injectChildStyle(un);const sr=j.subTree=nb(j);b(null,sr,Y,se,j,ne,le),F.el=sr.el}if(qe&&Xn(qe,ne),!mr&&($=pe&&pe.onVnodeMounted)){const sr=F;Xn(()=>oi($,et,sr),ne)}(F.shapeFlag&256||et&&Ul(et.vnode)&&et.vnode.shapeFlag&256)&&j.a&&Xn(j.a,ne),j.isMounted=!0,F=Y=se=null}};j.scope.on();const D=j.effect=new Pd(L);j.scope.off();const W=j.update=D.run.bind(D),Q=j.job=D.runIfDirty.bind(D);Q.i=j,Q.id=j.uid,D.scheduler=()=>qT(Q),Nu(j,!0),W()},x=(j,F,Y)=>{F.component=j;const se=j.vnode.props;j.vnode=F,j.next=null,hue(j,F.props,se,Y),mue(j,F.children,Y),ca(),Q8(j),ua()},N=(j,F,Y,se,ne,le,me,L,D=!1)=>{const W=j&&j.children,Q=j?j.shapeFlag:0,$=F.children,{patchFlag:X,shapeFlag:pe}=F;if(X>0){if(X&128){H(W,$,Y,se,ne,le,me,L,D);return}else if(X&256){V(W,$,Y,se,ne,le,me,L,D);return}}pe&8?(Q&16&&pt(W,ne,le),$!==W&&d(Y,$)):Q&16?pe&16?H(W,$,Y,se,ne,le,me,L,D):pt(W,ne,le,!0):(Q&8&&d(Y,""),pe&16&&C($,Y,se,ne,le,me,L,D))},V=(j,F,Y,se,ne,le,me,L,D)=>{j=j||Cd,F=F||Cd;const W=j.length,Q=F.length,$=Math.min(W,Q);let X;for(X=0;X<$;X++){const pe=F[X]=D?zl(F[X]):si(F[X]);b(j[X],pe,Y,null,ne,le,me,L,D)}W>Q?pt(j,ne,le,!0,!1,$):C(F,Y,se,ne,le,me,L,D,$)},H=(j,F,Y,se,ne,le,me,L,D)=>{let W=0;const Q=F.length;let $=j.length-1,X=Q-1;for(;W<=$&&W<=X;){const pe=j[W],ge=F[W]=D?zl(F[W]):si(F[W]);if(Ps(pe,ge))b(pe,ge,Y,null,ne,le,me,L,D);else break;W++}for(;W<=$&&W<=X;){const pe=j[$],ge=F[X]=D?zl(F[X]):si(F[X]);if(Ps(pe,ge))b(pe,ge,Y,null,ne,le,me,L,D);else break;$--,X--}if(W>$){if(W<=X){const pe=X+1,ge=pe<Q?F[pe].el:se;for(;W<=X;)b(null,F[W]=D?zl(F[W]):si(F[W]),Y,ge,ne,le,me,L,D),W++}}else if(W>X)for(;W<=$;)oe(j[W],ne,le,!0),W++;else{const pe=W,ge=W,qe=new Map;for(W=ge;W<=X;W++){const Me=F[W]=D?zl(F[W]):si(F[W]);Me.key!=null&&qe.set(Me.key,W)}let et,Qt=0;const un=X-ge+1;let mr=!1,sr=0;const ee=new Array(un);for(W=0;W<un;W++)ee[W]=0;for(W=pe;W<=$;W++){const Me=j[W];if(Qt>=un){oe(Me,ne,le,!0);continue}let Be;if(Me.key!=null)Be=qe.get(Me.key);else for(et=ge;et<=X;et++)if(ee[et-ge]===0&&Ps(Me,F[et])){Be=et;break}Be===void 0?oe(Me,ne,le,!0):(ee[Be-ge]=W+1,Be>=sr?sr=Be:mr=!0,b(Me,F[Be],Y,null,ne,le,me,L,D),Qt++)}const Se=mr?yue(ee):Cd;for(et=Se.length-1,W=un-1;W>=0;W--){const Me=ge+W,Be=F[Me],Je=Me+1<Q?F[Me+1].el:se;ee[W]===0?b(null,Be,Y,Je,ne,le,me,L,D):mr&&(et<0||W!==Se[et]?de(Be,Y,Je,2):et--)}}},de=(j,F,Y,se,ne=null)=>{const{el:le,type:me,transition:L,children:D,shapeFlag:W}=j;if(W&6){de(j.component.subTree,F,Y,se);return}if(W&128){j.suspense.move(F,Y,se);return}if(W&64){me.move(j,F,Y,Zt);return}if(me===Ot){r(le,F,Y);for(let Q=0;Q<D.length;Q++)de(D[Q],F,Y,se);r(j.anchor,F,Y);return}if(me===jl){w(j,F,Y);return}if(se!==2&&W&1&&L)if(se===0)L.beforeEnter(le),r(le,F,Y),Xn(()=>L.enter(le),ne);else{const{leave:Q,delayLeave:$,afterLeave:X}=L,pe=()=>r(le,F,Y),ge=()=>{Q(le,()=>{pe(),X&&X()})};$?$(le,pe,ge):ge()}else r(le,F,Y)},oe=(j,F,Y,se=!1,ne=!1)=>{const{type:le,props:me,ref:L,children:D,dynamicChildren:W,shapeFlag:Q,patchFlag:$,dirs:X,cacheIndex:pe}=j;if($===-2&&(ne=!1),L!=null&&u0(L,null,Y,j,!0),pe!=null&&(F.renderCache[pe]=void 0),Q&256){F.ctx.deactivate(j);return}const ge=Q&1&&X,qe=!Ul(j);let et;if(qe&&(et=me&&me.onVnodeBeforeUnmount)&&oi(et,F,j),Q&6)je(j.component,Y,se);else{if(Q&128){j.suspense.unmount(Y,se);return}ge&&bo(j,null,F,"beforeUnmount"),Q&64?j.type.remove(j,F,Y,Zt,se):W&&!W.hasOnce&&(le!==Ot||$>0&&$&64)?pt(W,F,Y,!1,!0):(le===Ot&&$&384||!ne&&Q&16)&&pt(D,F,Y),se&&Te(j)}(qe&&(et=me&&me.onVnodeUnmounted)||ge)&&Xn(()=>{et&&oi(et,F,j),ge&&bo(j,null,F,"unmounted")},Y)},Te=j=>{const{type:F,el:Y,anchor:se,transition:ne}=j;if(F===Ot){Pe(Y,se);return}if(F===jl){_(j);return}const le=()=>{i(Y),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(j.shapeFlag&1&&ne&&!ne.persisted){const{leave:me,delayLeave:L}=ne,D=()=>me(Y,le);L?L(j.el,le,D):D()}else le()},Pe=(j,F)=>{let Y;for(;j!==F;)Y=f(j),i(j),j=Y;i(F)},je=(j,F,Y)=>{const{bum:se,scope:ne,job:le,subTree:me,um:L,m:D,a:W}=j;eb(D),eb(W),se&&Dd(se),ne.stop(),le&&(le.flags|=8,oe(me,j,F,Y)),L&&Xn(L,F),Xn(()=>{j.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},pt=(j,F,Y,se=!1,ne=!1,le=0)=>{for(let me=le;me<j.length;me++)oe(j[me],F,Y,se,ne)},Nt=j=>{if(j.shapeFlag&6)return Nt(j.component.subTree);if(j.shapeFlag&128)return j.suspense.next();const F=f(j.anchor||j.el),Y=F&&F[i9];return Y?f(Y):F};let Lt=!1;const ir=(j,F,Y)=>{j==null?F._vnode&&oe(F._vnode,null,null,!0):b(F._vnode||null,j,F,null,null,null,Y),F._vnode=j,Lt||(Lt=!0,Q8(),Pv(),Lt=!1)},Zt={p:b,um:oe,m:de,r:Te,mt:J,mc:C,pc:N,pbc:U,n:Nt,o:e};let rn,Jn;return t&&([rn,Jn]=t(Zt)),{render:ir,hydrate:rn,createApp:cue(ir,rn)}}function TS({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Nu({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function rD(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function SS(e,t,n=!1){const r=e.children,i=t.children;if(Ee(r)&&Ee(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=zl(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&SS(o,a)),a.type===wo&&(a.el=o.el)}}function yue(e){const t=e.slice(),n=[0];let r,i,s,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<c?s=a+1:o=a;c<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function iD(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:iD(t)}function eb(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const IS=Symbol.for("v-scx"),AS=()=>Sn(IS);function sD(e,t){return g0(e,null,t)}function oD(e,t){return g0(e,null,{flush:"post"})}function MS(e,t){return g0(e,null,{flush:"sync"})}function Gn(e,t,n){return g0(e,t,n)}function g0(e,t,n=it){const{immediate:r,deep:i,flush:s,once:o}=n,a=st({},n),l=t&&r||!t&&s!=="post";let c;if(Xd){if(s==="sync"){const y=AS();c=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=er,y.resume=er,y.pause=er,y}}const d=An;a.call=(y,g,b)=>Ei(y,d,g,b);let p=!1;s==="post"?a.scheduler=y=>{Xn(y,d&&d.suspense)}:s!=="sync"&&(p=!0,a.scheduler=(y,g)=>{g?y():qT(y)}),a.augmentJob=y=>{t&&(y.flags|=4),p&&(y.flags|=2,d&&(y.id=d.uid,y.i=d))};const f=Cce(e,t,a);return Xd&&(c?c.push(f):l&&f()),f}function gue(e,t,n){const r=this.proxy,i=We(e)?e.includes(".")?aD(r,e):()=>r[e]:e.bind(r,r);let s;De(t)?s=t:(s=t.handler,n=t);const o=Cu(this),a=g0(i,s.bind(r),n);return o(),a}function aD(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function lD(e,t,n=it){const r=Mn(),i=zt(t),s=ni(t),o=cD(e,i),a=XT((l,c)=>{let d,p=it,f;return MS(()=>{const y=e[i];Fr(d,y)&&(d=y,c())}),{get(){return l(),n.get?n.get(d):d},set(y){const g=n.set?n.set(y):y;if(!Fr(g,d)&&!(p!==it&&Fr(y,p)))return;const b=r.vnode.props;b&&(t in b||i in b||s in b)&&(`onUpdate:${t}`in b||`onUpdate:${i}`in b||`onUpdate:${s}`in b)||(d=y,c()),r.emit(`update:${t}`,g),Fr(y,g)&&Fr(y,p)&&!Fr(g,f)&&c(),p=y,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||it:a,done:!1}:{done:!0}}}},a}const cD=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${zt(t)}Modifiers`]||e[`${ni(t)}Modifiers`];function vue(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||it;let i=n;const s=t.startsWith("update:"),o=s&&cD(r,t.slice(7));o&&(o.trim&&(i=n.map(d=>We(d)?d.trim():d)),o.number&&(i=n.map(yv)));let a,l=r[a=Tu(t)]||r[a=Tu(zt(t))];!l&&s&&(l=r[a=Tu(ni(t))]),l&&Ei(l,e,6,i);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ei(c,e,6,i)}}function uD(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let o={},a=!1;if(!De(e)){const l=c=>{const d=uD(c,t,!0);d&&(a=!0,st(o,d))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(Mt(e)&&r.set(e,null),null):(Ee(s)?s.forEach(l=>o[l]=null):st(o,s),Mt(e)&&r.set(e,o),o)}function tb(e,t){return!e||!xu(t)?!1:(t=t.slice(2).replace(/Once$/,""),vt(e,t[0].toLowerCase()+t.slice(1))||vt(e,ni(t))||vt(e,t))}function nb(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:d,props:p,data:f,setupState:y,ctx:g,inheritAttrs:b}=e,E=o0(e);let S,I;try{if(n.shapeFlag&4){const _=i||r,A=Rl.NODE_ENV!=="production"&&y.__isScriptSetup?new Proxy(_,{get(M,k,C){return Dce(`Property '${String(k)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(M,k,C)}}):_;S=si(c.call(A,_,d,Rl.NODE_ENV!=="production"?Ud(p):p,y,f,g)),I=a}else{const _=t;Rl.NODE_ENV,S=si(_.length>1?_(Rl.NODE_ENV!=="production"?Ud(p):p,Rl.NODE_ENV!=="production"?{get attrs(){return Ud(a)},slots:o,emit:l}:{attrs:a,slots:o,emit:l}):_(Rl.NODE_ENV!=="production"?Ud(p):p,null)),I=t.props?a:_ue(a)}}catch(_){b0.length=0,Dl(_,e,1),S=Ye(In)}let w=S;if(I&&b!==!1){const _=Object.keys(I),{shapeFlag:A}=w;_.length&&A&7&&(s&&_.some(NT)&&(I=wue(I,s)),w=Fs(w,I,!1,!0))}return n.dirs&&(w=Fs(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&_o(w,n.transition),S=w,o0(E),S}function bue(e,t=!0){let n;for(let r=0;r<e.length;r++){const i=e[r];if(Ds(i)){if(i.type!==In||i.children==="v-if"){if(n)return;n=i}}else return}return n}const _ue=e=>{let t;for(const n in e)(n==="class"||n==="style"||xu(n))&&((t||(t={}))[n]=e[n]);return t},wue=(e,t)=>{const n={};for(const r in e)(!NT(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function xue(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?hD(r,o,c):!!o;if(l&8){const d=t.dynamicProps;for(let p=0;p<d.length;p++){const f=d[p];if(o[f]!==r[f]&&!tb(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?hD(r,o,c):!0:!!o;return!1}function hD(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!tb(n,s))return!0}return!1}function rb({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const ib=e=>e.__isSuspense;let OS=0;const Eue={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,s,o,a,l,c){if(e==null)Tue(t,n,r,i,s,o,a,l,c);else{if(s&&s.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}Sue(e,t,n,r,i,o,a,l,c)}},hydrate:Iue,normalize:Aue},dD=Eue;function v0(e,t){const n=e.props&&e.props[t];De(n)&&n()}function Tue(e,t,n,r,i,s,o,a,l){const{p:c,o:{createElement:d}}=l,p=d("div"),f=e.suspense=pD(e,i,r,t,p,n,s,o,a,l);c(null,f.pendingBranch=e.ssContent,p,null,r,f,s,o),f.deps>0?(v0(e,"onPending"),v0(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,s,o),Bd(f,e.ssFallback)):f.resolve(!1,!0)}function Sue(e,t,n,r,i,s,o,a,{p:l,um:c,o:{createElement:d}}){const p=t.suspense=e.suspense;p.vnode=t,t.el=e.el;const f=t.ssContent,y=t.ssFallback,{activeBranch:g,pendingBranch:b,isInFallback:E,isHydrating:S}=p;if(b)p.pendingBranch=f,Ps(f,b)?(l(b,f,p.hiddenContainer,null,i,p,s,o,a),p.deps<=0?p.resolve():E&&(S||(l(g,y,n,r,i,null,s,o,a),Bd(p,y)))):(p.pendingId=OS++,S?(p.isHydrating=!1,p.activeBranch=b):c(b,i,p),p.deps=0,p.effects.length=0,p.hiddenContainer=d("div"),E?(l(null,f,p.hiddenContainer,null,i,p,s,o,a),p.deps<=0?p.resolve():(l(g,y,n,r,i,null,s,o,a),Bd(p,y))):g&&Ps(f,g)?(l(g,f,n,r,i,p,s,o,a),p.resolve(!0)):(l(null,f,p.hiddenContainer,null,i,p,s,o,a),p.deps<=0&&p.resolve()));else if(g&&Ps(f,g))l(g,f,n,r,i,p,s,o,a),Bd(p,f);else if(v0(t,"onPending"),p.pendingBranch=f,f.shapeFlag&512?p.pendingId=f.component.suspenseId:p.pendingId=OS++,l(null,f,p.hiddenContainer,null,i,p,s,o,a),p.deps<=0)p.resolve();else{const{timeout:I,pendingId:w}=p;I>0?setTimeout(()=>{p.pendingId===w&&p.fallback(y)},I):I===0&&p.fallback(y)}}function pD(e,t,n,r,i,s,o,a,l,c,d=!1){const{p,m:f,um:y,n:g,o:{parentNode:b,remove:E}}=c;let S;const I=Mue(e);I&&t&&t.pendingBranch&&(S=t.pendingId,t.deps++);const w=e.props?gv(e.props.timeout):void 0,_=s,A={vnode:e,parent:t,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:OS++,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(M=!1,k=!1){const{vnode:C,activeBranch:R,pendingBranch:U,pendingId:B,effects:G,parentComponent:z,container:J}=A;let u=!1;A.isHydrating?A.isHydrating=!1:M||(u=R&&U.transition&&U.transition.mode==="out-in",u&&(R.transition.afterLeave=()=>{B===A.pendingId&&(f(U,J,s===_?g(R):s,0),$d(G))}),R&&(b(R.el)===J&&(s=g(R)),y(R,z,A,!0)),u||f(U,J,s,0)),Bd(A,U),A.pendingBranch=null,A.isInFallback=!1;let m=A.parent,x=!1;for(;m;){if(m.pendingBranch){m.effects.push(...G),x=!0;break}m=m.parent}!x&&!u&&$d(G),A.effects=[],I&&t&&t.pendingBranch&&S===t.pendingId&&(t.deps--,t.deps===0&&!k&&t.resolve()),v0(C,"onResolve")},fallback(M){if(!A.pendingBranch)return;const{vnode:k,activeBranch:C,parentComponent:R,container:U,namespace:B}=A;v0(k,"onFallback");const G=g(C),z=()=>{A.isInFallback&&(p(null,M,U,G,R,null,B,a,l),Bd(A,M))},J=M.transition&&M.transition.mode==="out-in";J&&(C.transition.afterLeave=z),A.isInFallback=!0,y(C,R,null,!0),J||z()},move(M,k,C){A.activeBranch&&f(A.activeBranch,M,k,C),A.container=M},next(){return A.activeBranch&&g(A.activeBranch)},registerDep(M,k,C){const R=!!A.pendingBranch;R&&A.deps++;const U=M.vnode.el;M.asyncDep.catch(B=>{Dl(B,M,0)}).then(B=>{if(M.isUnmounted||A.isUnmounted||A.pendingId!==M.suspenseId)return;M.asyncResolved=!0;const{vnode:G}=M;DS(M,B,!1),U&&(G.el=U);const z=!U&&M.subTree.el;k(M,G,b(U||M.subTree.el),U?null:g(M.subTree),A,o,C),z&&E(z),rb(M,G.el),R&&--A.deps===0&&A.resolve()})},unmount(M,k){A.isUnmounted=!0,A.activeBranch&&y(A.activeBranch,n,M,k),A.pendingBranch&&y(A.pendingBranch,n,M,k)}};return A}function Iue(e,t,n,r,i,s,o,a,l){const c=t.suspense=pD(t,r,n,e.parentNode,document.createElement("div"),null,i,s,o,a,!0),d=l(e,c.pendingBranch=t.ssContent,n,c,s,o);return c.deps===0&&c.resolve(!1,!0),d}function Aue(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=fD(r?n.default:n),e.ssFallback=r?fD(n.fallback):Ye(In)}function fD(e){let t;if(De(e)){const n=ku&&e._c;n&&(e._d=!1,ce()),e=e(),n&&(e._d=!0,t=Ir,yD())}return Ee(e)&&(e=bue(e)),e=si(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function mD(e,t){t&&t.pendingBranch?Ee(e)?t.effects.push(...e):t.effects.push(e):$d(e)}function Bd(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let i=t.el;for(;!i&&t.component;)t=t.component.subTree,i=t.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,rb(r,i))}function Mue(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const Ot=Symbol.for("v-fgt"),wo=Symbol.for("v-txt"),In=Symbol.for("v-cmt"),jl=Symbol.for("v-stc"),b0=[];let Ir=null;function ce(e=!1){b0.push(Ir=e?null:[])}function yD(){b0.pop(),Ir=b0[b0.length-1]||null}let ku=1;function sb(e,t=!1){ku+=e,e<0&&Ir&&t&&(Ir.hasOnce=!0)}function gD(e){return e.dynamicChildren=ku>0?Ir||Cd:null,yD(),ku>0&&Ir&&Ir.push(e),e}function _e(e,t,n,r,i,s){return gD(ie(e,t,n,r,i,s,!0))}function Ft(e,t,n,r,i){return gD(Ye(e,t,n,r,i,!0))}function Ds(e){return e?e.__v_isVNode===!0:!1}function Ps(e,t){return e.type===t.type&&e.key===t.key}function vD(e){}const bD=({key:e})=>e??null,ob=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?We(e)||ot(e)||De(e)?{i:Bn,r:e,k:t,f:!!n}:e:null);function ie(e,t=null,n=null,r=0,i=null,s=e===Ot?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&bD(t),ref:t&&ob(t),scopeId:Uv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Bn};return a?(CS(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=We(n)?8:16),ku>0&&!o&&Ir&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Ir.push(l),l}const Ye=Oue;function Oue(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===E9)&&(e=In),Ds(e)){const a=Fs(e,t,!0);return n&&CS(a,n),ku>0&&!s&&Ir&&(a.shapeFlag&6?Ir[Ir.indexOf(e)]=a:Ir.push(a)),a.patchFlag=-2,a}if(Pue(e)&&(e=e.__vccOpts),t){t=NS(t);let{class:a,style:l}=t;a&&!We(a)&&(t.class=an(a)),Mt(l)&&(i0(l)&&!Ee(l)&&(l=st({},l)),t.style=la(l))}const o=We(e)?1:ib(e)?128:s9(e)?64:Mt(e)?4:De(e)?2:0;return ie(e,t,n,r,i,o,s,!0)}function NS(e){return e?i0(e)||H9(e)?st({},e):e:null}function Fs(e,t,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=e,c=t?_0(i||{},t):i,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&bD(c),ref:t&&t.ref?n&&s?Ee(s)?s.concat(ob(t)):[s,ob(t)]:ob(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ot?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Fs(e.ssContent),ssFallback:e.ssFallback&&Fs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&_o(d,l.clone(d)),d}function Us(e=" ",t=0){return Ye(wo,null,e,t)}function kS(e,t){const n=Ye(jl,null,e);return n.staticCount=t,n}function Vt(e="",t=!1){return t?(ce(),Ft(In,null,e)):Ye(In,null,e)}function si(e){return e==null||typeof e=="boolean"?Ye(In):Ee(e)?Ye(Ot,null,e.slice()):Ds(e)?zl(e):Ye(wo,null,String(e))}function zl(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Fs(e)}function CS(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ee(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),CS(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!H9(t)?t._ctx=Bn:i===3&&Bn&&(Bn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else De(t)?(t={default:t,_ctx:Bn},n=32):(t=String(t),r&64?(n=16,t=[Us(t)]):n=8);e.children=t,e.shapeFlag|=n}function _0(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=an([t.class,r.class]));else if(i==="style")t.style=la([t.style,r.style]);else if(xu(i)){const s=t[i],o=r[i];o&&s!==o&&!(Ee(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function oi(e,t,n,r=null){Ei(e,t,7,[n,r])}const Nue=Z9();let kue=0;function _D(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||Nue,s={uid:kue++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new _v(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:q9(r,i),emitsOptions:uD(r,i),emit:null,emitted:null,propsDefaults:it,inheritAttrs:r.inheritAttrs,ctx:it,data:it,props:it,attrs:it,slots:it,refs:it,setupState:it,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=vue.bind(null,s),e.ce&&e.ce(s),s}let An=null;const Mn=()=>An||Bn;let ab,RS;{const e=vv(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};ab=t("__VUE_INSTANCE_SETTERS__",n=>An=n),RS=t("__VUE_SSR_SETTERS__",n=>Xd=n)}const Cu=e=>{const t=An;return ab(e),e.scope.on(),()=>{e.scope.off(),ab(t)}},LS=()=>{An&&An.scope.off(),ab(null)};function wD(e){return e.vnode.shapeFlag&4}let Xd=!1;function xD(e,t=!1,n=!1){t&&RS(t);const{props:r,children:i}=e.vnode,s=wD(e);uue(e,r,s,t),fue(e,i,n);const o=s?Cue(e,t):void 0;return t&&RS(!1),o}function Cue(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,mS);const{setup:r}=n;if(r){ca();const i=e.setupContext=r.length>1?SD(e):null,s=Cu(e),o=Ll(r,e,0,[e.props,i]),a=CT(o);if(ua(),s(),(a||e.sp)&&!Ul(e)&&nS(e),a){if(o.then(LS,LS),t)return o.then(l=>{DS(e,l,t)}).catch(l=>{Dl(l,e,0)});e.asyncDep=o}else DS(e,o,t)}else TD(e,t)}function DS(e,t,n){De(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Mt(t)&&(e.setupState=Nv(t)),TD(e,n)}let lb,PS;function FS(e){lb=e,PS=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,nue))}}const ED=()=>!lb;function TD(e,t,n){const r=e.type;if(!e.render){if(!t&&lb&&!r.render){const i=r.template||gS(e).template;if(i){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=st(st({isCustomElement:s,delimiters:a},o),l);r.render=lb(i,c)}}e.render=r.render||er,PS&&PS(e)}{const i=Cu(e);ca();try{rue(e)}finally{ua(),i()}}}const Rue={get(e,t){return Tr(e,"get",""),e[t]}};function SD(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Rue),slots:e.slots,emit:e.emit,expose:t}}function w0(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Nv(ln(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in f0)return f0[n](e)},has(t,n){return n in t||n in f0}})):e.proxy}const Lue=/(?:^|[-_])(\w)/g,Due=e=>e.replace(Lue,t=>t.toUpperCase()).replace(/[-_]/g,"");function cb(e,t=!0){return De(e)?e.displayName||e.name:e.name||t&&e.__name}function ID(e,t,n=!1){let r=cb(t);if(!r&&t.__file){const i=t.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&e&&e.parent){const i=s=>{for(const o in s)if(s[o]===t)return o};r=i(e.components||e.parent.type.components)||i(e.appContext.components)}return r?Due(r):n?"App":"Anonymous"}function Pue(e){return De(e)&&"__vccOpts"in e}const Qe=(e,t)=>kce(e,t,Xd);function Ti(e,t,n){const r=arguments.length;return r===2?Mt(t)&&!Ee(t)?Ds(t)?Ye(e,null,[t]):Ye(e,t):Ye(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ds(n)&&(n=[n]),Ye(e,t,n))}function AD(){}function MD(e,t,n,r){const i=n[r];if(i&&US(i,e))return i;const s=t();return s.memo=e.slice(),s.cacheIndex=r,n[r]=s}function US(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(Fr(n[r],t[r]))return!1;return ku>0&&Ir&&Ir.push(e),!0}const GS="3.5.13",OD=er,ND=jce,kD=Vd,CD=e9,Fue={createComponentInstance:_D,setupComponent:xD,renderComponentRoot:nb,setCurrentRenderingInstance:o0,isVNode:Ds,normalizeVNode:si,getComponentPublicInstance:w0,ensureValidVNode:dS,pushWarningContext:Rce,popWarningContext:Lce},RD=Fue,LD=null,DD=null,PD=null;let jS;const FD=typeof window<"u"&&window.trustedTypes;if(FD)try{jS=FD.createPolicy("vue",{createHTML:e=>e})}catch{}const UD=jS?e=>jS.createHTML(e):e=>e,Uue="http://www.w3.org/2000/svg",Gue="http://www.w3.org/1998/Math/MathML",ga=typeof document<"u"?document:null,GD=ga&&ga.createElement("template"),jue={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?ga.createElementNS(Uue,e):t==="mathml"?ga.createElementNS(Gue,e):n?ga.createElement(e,{is:n}):ga.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>ga.createTextNode(e),createComment:e=>ga.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ga.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{GD.innerHTML=UD(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=GD.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},$l="transition",x0="animation",Hd=Symbol("_vtc"),jD={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},zD=st({},Vv,jD),zue=e=>(e.displayName="Transition",e.props=zD,e),E0=zue((e,{slots:t})=>Ti(KT,VD(e),t)),Ru=(e,t=[])=>{Ee(e)?e.forEach(n=>n(...t)):e&&e(...t)},$D=e=>e?Ee(e)?e.some(t=>t.length>1):e.length>1:!1;function VD(e){const t={};for(const G in e)G in jD||(t[G]=e[G]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:d=a,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,g=$ue(i),b=g&&g[0],E=g&&g[1],{onBeforeEnter:S,onEnter:I,onEnterCancelled:w,onLeave:_,onLeaveCancelled:A,onBeforeAppear:M=S,onAppear:k=I,onAppearCancelled:C=w}=t,R=(G,z,J,u)=>{G._enterCancelled=u,Vl(G,z?d:a),Vl(G,z?c:o),J&&J()},U=(G,z)=>{G._isLeaving=!1,Vl(G,p),Vl(G,y),Vl(G,f),z&&z()},B=G=>(z,J)=>{const u=G?k:I,m=()=>R(z,G,J);Ru(u,[z,m]),WD(()=>{Vl(z,G?l:s),xo(z,G?d:a),$D(u)||ZD(z,r,b,m)})};return st(t,{onBeforeEnter(G){Ru(S,[G]),xo(G,s),xo(G,o)},onBeforeAppear(G){Ru(M,[G]),xo(G,l),xo(G,c)},onEnter:B(!1),onAppear:B(!0),onLeave(G,z){G._isLeaving=!0;const J=()=>U(G,z);xo(G,p),G._enterCancelled?(xo(G,f),$S()):($S(),xo(G,f)),WD(()=>{G._isLeaving&&(Vl(G,p),xo(G,y),$D(_)||ZD(G,r,E,J))}),Ru(_,[G,J])},onEnterCancelled(G){R(G,!1,void 0,!0),Ru(w,[G])},onAppearCancelled(G){R(G,!0,void 0,!0),Ru(C,[G])},onLeaveCancelled(G){U(G),Ru(A,[G])}})}function $ue(e){if(e==null)return null;if(Mt(e))return[zS(e.enter),zS(e.leave)];{const t=zS(e);return[t,t]}}function zS(e){return gv(e)}function xo(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Hd]||(e[Hd]=new Set)).add(t)}function Vl(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Hd];n&&(n.delete(t),n.size||(e[Hd]=void 0))}function WD(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Vue=0;function ZD(e,t,n,r){const i=e._endId=++Vue,s=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=BD(e,t);if(!o)return r();const c=o+"end";let d=0;const p=()=>{e.removeEventListener(c,f),s()},f=y=>{y.target===e&&++d>=l&&p()};setTimeout(()=>{d<l&&p()},a+1),e.addEventListener(c,f)}function BD(e,t){const n=window.getComputedStyle(e),r=g=>(n[g]||"").split(", "),i=r(`${$l}Delay`),s=r(`${$l}Duration`),o=XD(i,s),a=r(`${x0}Delay`),l=r(`${x0}Duration`),c=XD(a,l);let d=null,p=0,f=0;t===$l?o>0&&(d=$l,p=o,f=s.length):t===x0?c>0&&(d=x0,p=c,f=l.length):(p=Math.max(o,c),d=p>0?o>c?$l:x0:null,f=d?d===$l?s.length:l.length:0);const y=d===$l&&/\b(transform|all)(,|$)/.test(r(`${$l}Property`).toString());return{type:d,timeout:p,propCount:f,hasTransform:y}}function XD(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>HD(n)+HD(e[r])))}function HD(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function $S(){return document.body.offsetHeight}function Wue(e,t,n){const r=e[Hd];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ub=Symbol("_vod"),YD=Symbol("_vsh"),T0={beforeMount(e,{value:t},{transition:n}){e[ub]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):S0(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),S0(e,!0),r.enter(e)):r.leave(e,()=>{S0(e,!1)}):S0(e,t))},beforeUnmount(e,{value:t}){S0(e,t)}};function S0(e,t){e.style.display=t?e[ub]:"none",e[YD]=!t}function Zue(){T0.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const qD=Symbol("");function VS(e){const t=Mn();if(!t)return;const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(s=>hb(s,i))},r=()=>{const i=e(t.proxy);t.ce?hb(t.ce,i):WS(t.subTree,i),n(i)};Yv(()=>{$d(r)}),tr(()=>{Gn(r,er,{flush:"post"});const i=new MutationObserver(r);i.observe(t.subTree.el.parentNode,{childList:!0}),Gl(()=>i.disconnect())})}function WS(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{WS(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)hb(e.el,t);else if(e.type===Ot)e.children.forEach(n=>WS(n,t));else if(e.type===jl){let{el:n,anchor:r}=e;for(;n&&(hb(n,t),n!==r);)n=n.nextSibling}}function hb(e,t){if(e.nodeType===1){const n=e.style;let r="";for(const i in t)n.setProperty(`--${i}`,t[i]),r+=`--${i}: ${t[i]};`;n[qD]=r}}const Bue=/(^|;)\s*display\s*:/;function Xue(e,t,n){const r=e.style,i=We(n);let s=!1;if(n&&!i){if(t)if(We(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&db(r,a,"")}else for(const o in t)n[o]==null&&db(r,o,"");for(const o in n)o==="display"&&(s=!0),db(r,o,n[o])}else if(i){if(t!==n){const o=r[qD];o&&(n+=";"+o),r.cssText=n,s=Bue.test(n)}}else t&&e.removeAttribute("style");ub in e&&(e[ub]=s?r.display:"",e[YD]&&(r.display="none"))}const JD=/\s*!important$/;function db(e,t,n){if(Ee(n))n.forEach(r=>db(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Hue(e,t);JD.test(n)?e.setProperty(ni(r),n.replace(JD,""),"important"):e[r]=n}}const QD=["Webkit","Moz","ms"],ZS={};function Hue(e,t){const n=ZS[t];if(n)return n;let r=zt(t);if(r!=="filter"&&r in e)return ZS[t]=r;r=Nl(r);for(let i=0;i<QD.length;i++){const s=QD[i]+r;if(s in e)return ZS[t]=s}return t}const KD="http://www.w3.org/1999/xlink";function eP(e,t,n,r,i,s=rce(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(KD,t.slice(6,t.length)):e.setAttributeNS(KD,t,n):n==null||s&&!v8(n)?e.removeAttribute(t):e.setAttribute(t,s?"":ti(n)?String(n):n)}function tP(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?UD(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=v8(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function va(e,t,n,r){e.addEventListener(t,n,r)}function Yue(e,t,n,r){e.removeEventListener(t,n,r)}const nP=Symbol("_vei");function que(e,t,n,r,i=null){const s=e[nP]||(e[nP]={}),o=s[t];if(r&&o)o.value=r;else{const[a,l]=Jue(t);if(r){const c=s[t]=ehe(r,i);va(e,a,c,l)}else o&&(Yue(e,a,o,l),s[t]=void 0)}}const rP=/(?:Once|Passive|Capture)$/;function Jue(e){let t;if(rP.test(e)){t={};let n;for(;n=e.match(rP);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ni(e.slice(2)),t]}let BS=0;const Que=Promise.resolve(),Kue=()=>BS||(Que.then(()=>BS=0),BS=Date.now());function ehe(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ei(the(r,n.value),t,5,[r])};return n.value=e,n.attached=Kue(),n}function the(e,t){if(Ee(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const iP=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,nhe=(e,t,n,r,i,s)=>{const o=i==="svg";t==="class"?Wue(e,r,o):t==="style"?Xue(e,n,r):xu(t)?NT(t)||que(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):rhe(e,t,r,o))?(tP(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&eP(e,t,r,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!We(r))?tP(e,zt(t),r,s,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),eP(e,t,r,o))};function rhe(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&iP(t)&&De(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return iP(t)&&We(n)?!1:t in e}const sP={};function XS(e,t,n){const r=tt(e,t);fv(r)&&st(r,t);class i extends fy{constructor(o){super(r,o,n)}}return i.def=r,i}const oP=(e,t)=>XS(e,t,qS),ihe=typeof HTMLElement<"u"?HTMLElement:class{};class fy extends ihe{constructor(t,n={},r=Zl){super(),this._def=t,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Zl?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof fy){this._parent=t;break}this._instance||(this._resolved?(this._setParent(),this._update()):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._instance.provides=t._instance.provides)}disconnectedCallback(){this._connected=!1,Hi(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=r;let a;if(s&&!Ee(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=gv(this._props[l])),(a||(a=Object.create(null)))[zt(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>t(this._def=r,!0)):t(this._def)}_mount(t){this._app=this._createApp(t),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)vt(this,r)||Object.defineProperty(this,r,{get:()=>Ie(n[r])})}_resolveProps(t){const{props:n}=t,r=Ee(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(zt))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const n=this.hasAttribute(t);let r=n?this.getAttribute(t):sP;const i=zt(t);n&&this._numberProps&&this._numberProps[i]&&(r=gv(r)),this._setProp(i,r,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,i=!1){if(n!==this._props[t]&&(n===sP?delete this._props[t]:(this._props[t]=n,t==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),r)){const s=this._ob;s&&s.disconnect(),n===!0?this.setAttribute(ni(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(ni(t),n+""):n||this.removeAttribute(ni(t)),s&&s.observe(this,{attributes:!0})}}_update(){Qd(this._createVNode(),this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const n=Ye(this._def,st(t,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(s,o)=>{this.dispatchEvent(new CustomEvent(s,fv(o[0])?st({detail:o},o[0]):{detail:o}))};r.emit=(s,...o)=>{i(s,o),ni(s)!==s&&i(ni(s),o)},this._setParent()}),n}_applyStyles(t,n){if(!t)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let i=t.length-1;i>=0;i--){const s=document.createElement("style");r&&s.setAttribute("nonce",r),s.textContent=t[i],this.shadowRoot.prepend(s)}}_parseSlots(){const t=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(t[r]||(t[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<t.length;r++){const i=t[r],s=i.getAttribute("name")||"default",o=this._slots[s],a=i.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const c=n+"-s",d=document.createTreeWalker(l,1);l.setAttribute(c,"");let p;for(;p=d.nextNode();)p.setAttribute(c,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function HS(e){const t=Mn();return t&&t.ce||null}function aP(){const e=HS();return e&&e.shadowRoot}function lP(e="$style"){{const t=Mn();if(!t)return it;const n=t.type.__cssModules;return n&&n[e]||it}}const cP=new WeakMap,uP=new WeakMap,pb=Symbol("_moveCb"),hP=Symbol("_enterCb"),she=e=>(delete e.props.mode,e),ohe=she({name:"TransitionGroup",props:st({},zD,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Mn(),r=$v();let i,s;return Mu(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!uhe(i[0].el,n.vnode.el,o))return;i.forEach(ahe),i.forEach(lhe);const a=i.filter(che);$S(),a.forEach(l=>{const c=l.el,d=c.style;xo(c,o),d.transform=d.webkitTransform=d.transitionDuration="";const p=c[pb]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",p),c[pb]=null,Vl(c,o))};c.addEventListener("transitionend",p)})}),()=>{const o=Fe(e),a=VD(o);let l=o.tag||Ot;if(i=[],s)for(let c=0;c<s.length;c++){const d=s[c];d.el&&d.el instanceof Element&&(i.push(d),_o(d,Au(d,a,r,n)),cP.set(d,d.el.getBoundingClientRect()))}s=t.default?l0(t.default()):[];for(let c=0;c<s.length;c++){const d=s[c];d.key!=null&&_o(d,Au(d,a,r,n))}return Ye(l,null,s)}}}),fb=ohe;function ahe(e){const t=e.el;t[pb]&&t[pb](),t[hP]&&t[hP]()}function lhe(e){uP.set(e,e.el.getBoundingClientRect())}function che(e){const t=cP.get(e),n=uP.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",e}}function uhe(e,t,n){const r=e.cloneNode(),i=e[Hd];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(r);const{hasTransform:o}=BD(r);return s.removeChild(r),o}const Wl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ee(t)?n=>Dd(t,n):t};function hhe(e){e.target.composing=!0}function dP(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Qi=Symbol("_assign"),Yd={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[Qi]=Wl(i);const s=r||i.props&&i.props.type==="number";va(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=yv(a)),e[Qi](a)}),n&&va(e,"change",()=>{e.value=e.value.trim()}),t||(va(e,"compositionstart",hhe),va(e,"compositionend",dP),va(e,"change",dP))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(e[Qi]=Wl(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?yv(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===l)||(e.value=l))}},mb={deep:!0,created(e,t,n){e[Qi]=Wl(n),va(e,"change",()=>{const r=e._modelValue,i=qd(e),s=e.checked,o=e[Qi];if(Ee(r)){const a=bv(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const c=[...r];c.splice(a,1),o(c)}}else if(Eu(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(mP(e,s))})},mounted:pP,beforeUpdate(e,t,n){e[Qi]=Wl(n),pP(e,t,n)}};function pP(e,{value:t,oldValue:n},r){e._modelValue=t;let i;if(Ee(t))i=bv(t,r.props.value)>-1;else if(Eu(t))i=t.has(r.props.value);else{if(t===n)return;i=kl(t,mP(e,!0))}e.checked!==i&&(e.checked=i)}const yb={created(e,{value:t},n){e.checked=kl(t,n.props.value),e[Qi]=Wl(n),va(e,"change",()=>{e[Qi](qd(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Qi]=Wl(r),t!==n&&(e.checked=kl(t,r.props.value))}},gb={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=Eu(t);va(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?yv(qd(o)):qd(o));e[Qi](e.multiple?i?new Set(s):s:s[0]),e._assigning=!0,Hi(()=>{e._assigning=!1})}),e[Qi]=Wl(r)},mounted(e,{value:t}){fP(e,t)},beforeUpdate(e,t,n){e[Qi]=Wl(n)},updated(e,{value:t}){e._assigning||fP(e,t)}};function fP(e,t){const n=e.multiple,r=Ee(t);if(!(n&&!r&&!Eu(t))){for(let i=0,s=e.options.length;i<s;i++){const o=e.options[i],a=qd(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=bv(t,a)>-1}else o.selected=t.has(a);else if(kl(qd(o),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function qd(e){return"_value"in e?e._value:e.value}function mP(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const YS={created(e,t,n){vb(e,t,n,null,"created")},mounted(e,t,n){vb(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){vb(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){vb(e,t,n,r,"updated")}};function yP(e,t){switch(e){case"SELECT":return gb;case"TEXTAREA":return Yd;default:switch(t){case"checkbox":return mb;case"radio":return yb;default:return Yd}}}function vb(e,t,n,r,i){const s=yP(e.tagName,n.props&&n.props.type)[i];s&&s(e,t,n,r)}function dhe(){Yd.getSSRProps=({value:e})=>({value:e}),yb.getSSRProps=({value:e},t)=>{if(t.props&&kl(t.props.value,e))return{checked:!0}},mb.getSSRProps=({value:e},t)=>{if(Ee(e)){if(t.props&&bv(e,t.props.value)>-1)return{checked:!0}}else if(Eu(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},YS.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=yP(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const phe=["ctrl","shift","alt","meta"],fhe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>phe.some(n=>e[`${n}Key`]&&!t.includes(n))},Jd=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<t.length;o++){const a=fhe[t[o]];if(a&&a(i,t))return}return e(i,...s)})},mhe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},bb=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=ni(i.key);if(t.some(o=>o===s||mhe[o]===s))return e(i)})},gP=st({patchProp:nhe},jue);let I0,vP=!1;function bP(){return I0||(I0=xS(gP))}function _P(){return I0=vP?I0:ES(gP),vP=!0,I0}const Qd=(...e)=>{bP().render(...e)},wP=(...e)=>{_P().hydrate(...e)},Zl=(...e)=>{const t=bP().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=EP(r);if(!i)return;const s=t._component;!De(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,xP(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t},qS=(...e)=>{const t=_P().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=EP(r);if(i)return n(i,!0,xP(i))},t};function xP(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function EP(e){return We(e)?document.querySelector(e):e}let TP=!1;const SP=()=>{TP||(TP=!0,dhe(),Zue())},yhe=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:KT,BaseTransitionPropsValidators:Vv,Comment:In,DeprecationTypes:PD,EffectScope:_v,ErrorCodes:Y8,ErrorTypeStrings:ND,Fragment:Ot,KeepAlive:w9,ReactiveEffect:Pd,Static:jl,Suspense:dD,Teleport:QT,Text:wo,TrackOpTypes:W8,Transition:E0,TransitionGroup:fb,TriggerOpTypes:Z8,VueElement:fy,assertNumber:H8,callWithAsyncErrorHandling:Ei,callWithErrorHandling:Ll,camelize:zt,capitalize:Nl,cloneVNode:Fs,compatUtils:DD,computed:Qe,createApp:Zl,createBlock:Ft,createCommentVNode:Vt,createElementBlock:_e,createElementVNode:ie,createHydrationRenderer:ES,createPropsRestProxy:G9,createRenderer:xS,createSSRApp:qS,createSlots:S9,createStaticVNode:kS,createTextVNode:Us,createVNode:Ye,customRef:XT,defineAsyncComponent:Bv,defineComponent:tt,defineCustomElement:XS,defineEmits:M9,defineExpose:O9,defineModel:C9,defineOptions:N9,defineProps:A9,defineSSRCustomElement:oP,defineSlots:k9,devtools:kD,effect:I8,effectScope:Qm,getCurrentInstance:Mn,getCurrentScope:wv,getCurrentWatcher:B8,getTransitionRawChildren:l0,guardReactiveProps:NS,h:Ti,handleError:Dl,hasInjectionContext:bS,hydrate:wP,hydrateOnIdle:g9,hydrateOnInteraction:_9,hydrateOnMediaQuery:b9,hydrateOnVisible:v9,initCustomFormatter:AD,initDirectivesForSSR:SP,inject:Sn,isMemoSame:US,isProxy:i0,isReactive:ri,isReadonly:pa,isRef:ot,isRuntimeOnly:ED,isShallow:ii,isVNode:Ds,markRaw:ln,mergeDefaults:F9,mergeModels:U9,mergeProps:_0,nextTick:Hi,normalizeClass:an,normalizeProps:g8,normalizeStyle:la,onActivated:iS,onBeforeMount:p0,onBeforeUnmount:qi,onBeforeUpdate:Yv,onDeactivated:sS,onErrorCaptured:qv,onMounted:tr,onRenderTracked:cS,onRenderTriggered:lS,onScopeDispose:DT,onServerPrefetch:aS,onUnmounted:Gl,onUpdated:Mu,onWatcherCleanup:HT,openBlock:ce,popScopeId:n9,provide:Kv,proxyRefs:Nv,pushScopeId:t9,queuePostFlushCb:$d,reactive:Zn,readonly:Mv,ref:K,registerRuntimeCompiler:FS,render:Qd,renderList:ya,renderSlot:Ji,resolveComponent:vn,resolveDirective:_t,resolveDynamicComponent:Jv,resolveFilter:LD,resolveTransitionHooks:Au,setBlockTracking:sb,setDevtoolsHook:CD,setTransitionHooks:_o,shallowReactive:ZT,shallowReadonly:Ud,shallowRef:Gd,ssrContextKey:IS,ssrUtils:RD,stop:A8,toDisplayString:Ct,toHandlerKey:Tu,toHandlers:I9,toRaw:Fe,toRef:Cv,toRefs:kv,toValue:$8,transformVNodeArgs:vD,triggerRef:z8,unref:Ie,useAttrs:D9,useCssModule:lP,useCssVars:VS,useHost:HS,useId:tS,useModel:lD,useSSRContext:AS,useShadowRoot:aP,useSlots:L9,useTemplateRef:c0,useTransitionState:$v,vModelCheckbox:mb,vModelDynamic:YS,vModelRadio:yb,vModelSelect:gb,vModelText:Yd,vShow:T0,version:GS,warn:OD,watch:Gn,watchEffect:sD,watchPostEffect:oD,watchSyncEffect:MS,withAsyncContext:j9,withCtx:gn,withDefaults:R9,withDirectives:bt,withKeys:bb,withMemo:MD,withModifiers:Jd,withScopeId:r9},Symbol.toStringTag,{value:"Module"}));var JS={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_62678b5c-7b69-42d1-bdc4-82a00485e0c4",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_62678b5c-7b69-42d1-bdc4-82a00485e0c4",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"milespetrov",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.14.2",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/28.1.13356709",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"10187181",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"836",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20250609.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.10/x64",JOURNAL_STREAM:"9:8318",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.4/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"false",GITHUB_RUN_ID:"15714620255",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"milespetrov/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/2617-keynav-temp",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy8yNjE3LWtleW5hdi10ZW1wXCIsXCJQZXJtaXNzaW9uXCI6M30se1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvbWFpblwiLFwiUGVybWlzc2lvblwiOjF9XSIsImFjc2wiOiIxMCIsImF1ZCI6InZzbzpmNGQ4ODY1NC0wMzkxLTRmMzUtYWIxMS0xNDFlYTQ5OTNjYzMiLCJiaWxsaW5nX293bmVyX2lkIjoiVV9rZ0RPQUp0eHJRIiwiZXhwIjoxNzUwMjA1MTUxLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJpYXQiOjE3NTAxODI5NTEsImlzcyI6Imh0dHBzOi8vdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb20iLCJqb2JfaWQiOiI1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYiLCJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJuYmYiOjE3NTAxODI2NTEsIm9pZGNfZXh0cmEiOiJ7XCJhY3RvclwiOlwibWlsZXNwZXRyb3ZcIixcImFjdG9yX2lkXCI6XCIxMDE4NzE4MVwiLFwiYmFzZV9yZWZcIjpcIlwiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0lDbTRMczVBd3FDU1wiLFwiZXZlbnRfbmFtZVwiOlwicHVzaFwiLFwiaGVhZF9yZWZcIjpcIlwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwibWlsZXNwZXRyb3YvcmFtcDQtcGNhcjQvLmdpdGh1Yi93b3JrZmxvd3MvZGVtby1idWlsZC55bWxAcmVmcy9oZWFkcy8yNjE3LWtleW5hdi10ZW1wXCIsXCJqb2Jfd29ya2Zsb3dfc2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCIsXCJyZWZcIjpcInJlZnMvaGVhZHMvMjYxNy1rZXluYXYtdGVtcFwiLFwicmVmX3Byb3RlY3RlZFwiOlwiZmFsc2VcIixcInJlZl90eXBlXCI6XCJicmFuY2hcIixcInJlcG9zaXRvcnlcIjpcIm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X2lkXCI6XCI1Mzk2MDUwMzhcIixcInJlcG9zaXRvcnlfb3duZXJcIjpcIm1pbGVzcGV0cm92XCIsXCJyZXBvc2l0b3J5X293bmVyX2lkXCI6XCIxMDE4NzE4MVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJ1bl9hdHRlbXB0XCI6XCIxXCIsXCJydW5faWRcIjpcIjE1NzE0NjIwMjU1XCIsXCJydW5fbnVtYmVyXCI6XCIxODhcIixcInJ1bm5lcl9lbnZpcm9ubWVudFwiOlwiZ2l0aHViLWhvc3RlZFwiLFwic2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCIsXCJ3b3JrZmxvd1wiOlwiQnVpbGQgZGVtbyBzaXRlIGFuZCBkZXBsb3kgdG8gR2l0SHViIFBhZ2VzXCIsXCJ3b3JrZmxvd19yZWZcIjpcIm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvMjYxNy1rZXluYXYtdGVtcFwiLFwid29ya2Zsb3dfc2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCJ9Iiwib2lkY19zdWIiOiJyZXBvOm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0OmVudmlyb25tZW50OmdpdGh1Yi1wYWdlcyIsIm9yY2hfaWQiOiI0YjM5NzIxZi1kMDFhLTQ3ZDItOGNmNS0wMzBiYWQ3ZmI3MzEuYnVpbGQuX19kZWZhdWx0Iiwib3duZXJfaWQiOiJVX2tnRE9BSnR4clEiLCJwbGFuX2lkIjoiNGIzOTcyMWYtZDAxYS00N2QyLThjZjUtMDMwYmFkN2ZiNzMxIiwicnVuX2lkIjoiMTU3MTQ2MjAyNTUiLCJydW5fbnVtYmVyIjoiMTg4IiwicnVuX3R5cGUiOiJmdWxsIiwicnVubmVyX2lkIjoiMTAwMDAwMDIxMiIsInJ1bm5lcl90eXBlIjoiaG9zdGVkIiwic2NwIjoiQWN0aW9ucy5SZXN1bHRzOjRiMzk3MjFmLWQwMWEtNDdkMi04Y2Y1LTAzMGJhZDdmYjczMTo1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYgQWN0aW9ucy5SdW5uZXI6NGIzOTcyMWYtZDAxYS00N2QyLThjZjUtMDMwYmFkN2ZiNzMxOjVmOTgwNmRkLThmZmItNTAzNy04N2M0LWZjMWNkZTNjNThiZiBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czo0YjM5NzIxZi1kMDFhLTQ3ZDItOGNmNS0wMzBiYWQ3ZmI3MzE6NWY5ODA2ZGQtOGZmYi01MDM3LTg3YzQtZmMxY2RlM2M1OGJmIGdlbmVyYXRlX2lkX3Rva2VuOjRiMzk3MjFmLWQwMWEtNDdkMi04Y2Y1LTAzMGJhZDdmYjczMTo1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYgQWN0aW9ucy5HZW5lcmljUmVhZDowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAiLCJzaGEiOiI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiIn0.kmAkbBjIAXO1eC1WXQwWxI0VXZseOkSzfl9lDEjYQAIv-TpXaw_gqzJI9DM82TP1ZoAvoDTgQlkoRa6yQejWX0X8Dy0X1Xr2hk7hRfnPq6YcxYoqvksqzy3uX_hqt3elFCRqSUxBv33A3yP2KOxWCw1AMTPe9vLYX5kIG5qaIHgo6n-cfWUQyKg38oxNMWYBaymKrZXJx8CQDYjuhCJ0FngAUJ3OH7Xuw8sK7IO9QQ9f6l0vy2nt--7lDk00kYllWcO77val14tA6gSh7NT4UL64356e0GytaoGraTpH6uMxPC37B_QSDghjdpejHe4Z34x4oLkIYRWo-Pdq_zRD1g",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_97147315-e45d-41fa-b240-9ba30473ecd4",INVOCATION_ID:"933f59bb5d194f848b3bae16fc292b09",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"188",GITHUB_TRIGGERING_ACTOR:"milespetrov",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000000212",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"2617-keynav-temp",GITHUB_REPOSITORY:"milespetrov/ramp4-pcar4",STATS_D_D:"false",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"539605038",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.13.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/heads/2617-keynav-temp",GITHUB_ACTOR:"milespetrov",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_62678b5c-7b69-42d1-bdc4-82a00485e0c4",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"10187181",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-3-azure-eastus.actions.githubusercontent.com/88//idtoken/4b39721f-d01a-47d2-8cf5-030bad7fb731/5f9806dd-8ffb-5037-87c4-fc1cde3c58bf?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_62678b5c-7b69-42d1-bdc4-82a00485e0c4",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_62678b5c-7b69-42d1-bdc4-82a00485e0c4",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};const A0=Symbol(""),M0=Symbol(""),QS=Symbol(""),_b=Symbol(""),IP=Symbol(""),Lu=Symbol(""),AP=Symbol(""),MP=Symbol(""),KS=Symbol(""),eI=Symbol(""),O0=Symbol(""),tI=Symbol(""),OP=Symbol(""),nI=Symbol(""),rI=Symbol(""),iI=Symbol(""),sI=Symbol(""),oI=Symbol(""),aI=Symbol(""),NP=Symbol(""),kP=Symbol(""),wb=Symbol(""),xb=Symbol(""),lI=Symbol(""),cI=Symbol(""),N0=Symbol(""),k0=Symbol(""),uI=Symbol(""),hI=Symbol(""),ghe=Symbol(""),dI=Symbol(""),Eb=Symbol(""),vhe=Symbol(""),bhe=Symbol(""),pI=Symbol(""),_he=Symbol(""),whe=Symbol(""),fI=Symbol(""),CP=Symbol(""),Kd={[A0]:"Fragment",[M0]:"Teleport",[QS]:"Suspense",[_b]:"KeepAlive",[IP]:"BaseTransition",[Lu]:"openBlock",[AP]:"createBlock",[MP]:"createElementBlock",[KS]:"createVNode",[eI]:"createElementVNode",[O0]:"createCommentVNode",[tI]:"createTextVNode",[OP]:"createStaticVNode",[nI]:"resolveComponent",[rI]:"resolveDynamicComponent",[iI]:"resolveDirective",[sI]:"resolveFilter",[oI]:"withDirectives",[aI]:"renderList",[NP]:"renderSlot",[kP]:"createSlots",[wb]:"toDisplayString",[xb]:"mergeProps",[lI]:"normalizeClass",[cI]:"normalizeStyle",[N0]:"normalizeProps",[k0]:"guardReactiveProps",[uI]:"toHandlers",[hI]:"camelize",[ghe]:"capitalize",[dI]:"toHandlerKey",[Eb]:"setBlockTracking",[vhe]:"pushScopeId",[bhe]:"popScopeId",[pI]:"withCtx",[_he]:"unref",[whe]:"isRef",[fI]:"withMemo",[CP]:"isMemoSame"};function xhe(e){Object.getOwnPropertySymbols(e).forEach(t=>{Kd[t]=e[t]})}const Si={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Ehe(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:Si}}function C0(e,t,n,r,i,s,o,a=!1,l=!1,c=!1,d=Si){return e&&(a?(e.helper(Lu),e.helper(np(e.inSSR,c))):e.helper(tp(e.inSSR,c)),o&&e.helper(oI)),{type:13,tag:t,props:n,children:r,patchFlag:i,dynamicProps:s,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:d}}function Du(e,t=Si){return{type:17,loc:t,elements:e}}function Ki(e,t=Si){return{type:15,loc:t,properties:e}}function On(e,t){return{type:16,loc:Si,key:We(e)?Ke(e,!0):e,value:t}}function Ke(e,t=!1,n=Si,r=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:r}}function Gs(e,t=Si){return{type:8,loc:t,children:e}}function Hn(e,t=[],n=Si){return{type:14,loc:n,callee:e,arguments:t}}function ep(e,t=void 0,n=!1,r=!1,i=Si){return{type:18,params:e,returns:t,newline:n,isSlot:r,loc:i}}function mI(e,t,n,r=!0){return{type:19,test:e,consequent:t,alternate:n,newline:r,loc:Si}}function The(e,t,n=!1,r=!1){return{type:20,index:e,value:t,needPauseTracking:n,inVOnce:r,needArraySpread:!1,loc:Si}}function She(e){return{type:21,body:e,loc:Si}}function tp(e,t){return e||t?KS:eI}function np(e,t){return e||t?AP:MP}function yI(e,{helper:t,removeHelper:n,inSSR:r}){e.isBlock||(e.isBlock=!0,n(tp(r,e.isComponent)),t(Lu),t(np(r,e.isComponent)))}const RP=new Uint8Array([123,123]),LP=new Uint8Array([125,125]);function DP(e){return e>=97&&e<=122||e>=65&&e<=90}function Ii(e){return e===32||e===10||e===9||e===12||e===13}function Bl(e){return e===47||e===62||Ii(e)}function Tb(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}const Ar={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let Ihe=class{constructor(e,t){this.stack=e,this.cbs=t,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=RP,this.delimiterClose=LP,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=RP,this.delimiterClose=LP}getPos(e){let t=1,n=e+1;for(let r=this.newlines.length-1;r>=0;r--){const i=this.newlines[r];if(e>i){t=r+2,n=e-i;break}}return{column:n,line:t,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const t=this.index+1-this.delimiterOpen.length;t>this.sectionStart&&this.cbs.ontext(this.sectionStart,t),this.state=3,this.sectionStart=t}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const t=this.sequenceIndex===this.currentSequence.length;if(!(t?Bl(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||Ii(e)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const n=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=n}this.sectionStart=t+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Ar.TitleEnd||this.currentSequence===Ar.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===Ar.Cdata[this.sequenceIndex]?++this.sequenceIndex===Ar.Cdata.length&&(this.state=28,this.currentSequence=Ar.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const t=this.buffer.charCodeAt(this.index);if(t===10&&this.newlines.push(this.index),t===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Ar.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,t){this.enterRCDATA(e,t),this.state=31}enterRCDATA(e,t){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=t}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):DP(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){Bl(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(Bl(e)){const t=this.buffer.slice(this.sectionStart,this.index);t!=="template"&&this.enterRCDATA(Tb("</"+t),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){Ii(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=DP(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||Ii(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Ii(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Ii(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||Bl(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||Bl(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||Bl(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||Bl(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||Bl(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):Ii(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):Ii(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,t){(e===t||this.fastForwardTo(t))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){Ii(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=Ar.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===Ar.ScriptEnd[3]?this.startSpecial(Ar.ScriptEnd,4):e===Ar.StyleEnd[3]?this.startSpecial(Ar.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===Ar.TitleEnd[3]?this.startSpecial(Ar.TitleEnd,4):e===Ar.TextareaEnd[3]?this.startSpecial(Ar.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const t=this.buffer.charCodeAt(this.index);switch(t===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(t);break}case 2:{this.stateInterpolationOpen(t);break}case 3:{this.stateInterpolation(t);break}case 4:{this.stateInterpolationClose(t);break}case 31:{this.stateSpecialStartSequence(t);break}case 32:{this.stateInRCDATA(t);break}case 26:{this.stateCDATASequence(t);break}case 19:{this.stateInAttrValueDoubleQuotes(t);break}case 12:{this.stateInAttrName(t);break}case 13:{this.stateInDirName(t);break}case 14:{this.stateInDirArg(t);break}case 15:{this.stateInDynamicDirArg(t);break}case 16:{this.stateInDirModifier(t);break}case 28:{this.stateInCommentLike(t);break}case 27:{this.stateInSpecialComment(t);break}case 11:{this.stateBeforeAttrName(t);break}case 6:{this.stateInTagName(t);break}case 34:{this.stateInSFCRootTagName(t);break}case 9:{this.stateInClosingTagName(t);break}case 5:{this.stateBeforeTagName(t);break}case 17:{this.stateAfterAttrName(t);break}case 20:{this.stateInAttrValueSingleQuotes(t);break}case 18:{this.stateBeforeAttrValue(t);break}case 8:{this.stateBeforeClosingTagName(t);break}case 10:{this.stateAfterClosingTagName(t);break}case 29:{this.stateBeforeSpecialS(t);break}case 30:{this.stateBeforeSpecialT(t);break}case 21:{this.stateInAttrValueNoQuotes(t);break}case 7:{this.stateInSelfClosingTag(t);break}case 23:{this.stateInDeclaration(t);break}case 22:{this.stateBeforeDeclaration(t);break}case 25:{this.stateBeforeComment(t);break}case 24:{this.stateInProcessingInstruction(t);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===Ar.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,t){}};function PP(e,{compatConfig:t}){const n=t&&t[e];return e==="MODE"?n||3:n}function Pu(e,t){const n=PP("MODE",t),r=PP(e,t);return n===3?r===!0:r!==!1}function R0(e,t,n,...r){return Pu(e,t)}function gI(e){throw e}function FP(e){}function en(e,t,n,r){const i=`https://vuejs.org/error-reference/#compiler-${e}`,s=new SyntaxError(String(i));return s.code=e,s.loc=t,s}const ai=e=>e.type===4&&e.isStatic;function UP(e){switch(e){case"Teleport":case"teleport":return M0;case"Suspense":case"suspense":return QS;case"KeepAlive":case"keep-alive":return _b;case"BaseTransition":case"base-transition":return IP}}const Ahe=/^\d|[^\$\w\xA0-\uFFFF]/,vI=e=>!Ahe.test(e),Mhe=/[A-Za-z_$\xA0-\uFFFF]/,Ohe=/[\.\?\w$\xA0-\uFFFF]/,Nhe=/\s+[.[]\s*|\s*[.[]\s+/g,GP=e=>e.type===4?e.content:e.loc.source,khe=e=>{const t=GP(e).trim().replace(Nhe,a=>a.trim());let n=0,r=[],i=0,s=0,o=null;for(let a=0;a<t.length;a++){const l=t.charAt(a);switch(n){case 0:if(l==="[")r.push(n),n=1,i++;else if(l==="(")r.push(n),n=2,s++;else if(!(a===0?Mhe:Ohe).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(r.push(n),n=3,o=l):l==="["?i++:l==="]"&&(--i||(n=r.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")r.push(n),n=3,o=l;else if(l==="(")s++;else if(l===")"){if(a===t.length-1)return!1;--s||(n=r.pop())}break;case 3:l===o&&(n=r.pop(),o=null);break}}return!i&&!s},jP=khe,Che=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Rhe=e=>Che.test(GP(e)),Lhe=Rhe;function es(e,t,n=!1){for(let r=0;r<e.props.length;r++){const i=e.props[r];if(i.type===7&&(n||i.exp)&&(We(t)?i.name===t:t.test(i.name)))return i}}function Sb(e,t,n=!1,r=!1){for(let i=0;i<e.props.length;i++){const s=e.props[i];if(s.type===6){if(n)continue;if(s.name===t&&(s.value||r))return s}else if(s.name==="bind"&&(s.exp||r)&&Fu(s.arg,t))return s}}function Fu(e,t){return!!(e&&ai(e)&&e.content===t)}function Dhe(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function bI(e){return e.type===5||e.type===2}function Phe(e){return e.type===7&&e.name==="slot"}function Ib(e){return e.type===1&&e.tagType===3}function Ab(e){return e.type===1&&e.tagType===2}const Fhe=new Set([N0,k0]);function zP(e,t=[]){if(e&&!We(e)&&e.type===14){const n=e.callee;if(!We(n)&&Fhe.has(n))return zP(e.arguments[0],t.concat(e))}return[e,t]}function Mb(e,t,n){let r,i=e.type===13?e.props:e.arguments[2],s=[],o;if(i&&!We(i)&&i.type===14){const a=zP(i);i=a[0],s=a[1],o=s[s.length-1]}if(i==null||We(i))r=Ki([t]);else if(i.type===14){const a=i.arguments[0];!We(a)&&a.type===15?$P(t,a)||a.properties.unshift(t):i.callee===uI?r=Hn(n.helper(xb),[Ki([t]),i]):i.arguments.unshift(Ki([t])),!r&&(r=i)}else i.type===15?($P(t,i)||i.properties.unshift(t),r=i):(r=Hn(n.helper(xb),[Ki([t]),i]),o&&o.callee===k0&&(o=s[s.length-2]));e.type===13?o?o.arguments[0]=r:e.props=r:o?o.arguments[0]=r:e.arguments[2]=r}function $P(e,t){let n=!1;if(e.key.type===4){const r=e.key.content;n=t.properties.some(i=>i.key.type===4&&i.key.content===r)}return n}function L0(e,t){return`_${t}_${e.replace(/[^\w]/g,(n,r)=>n==="-"?"_":e.charCodeAt(r).toString())}`}function Uhe(e){return e.type===14&&e.callee===fI?e.arguments[1].returns:e}const Ghe=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,VP={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Jm,isPreTag:Jm,isIgnoreNewlineTag:Jm,isCustomElement:Jm,onError:gI,onWarn:FP,comments:JS.NODE_ENV!=="production",prefixIdentifiers:!1};let wt=VP,D0=null,ba="",Mr=null,ut=null,li="",_a=-1,Uu=-1,_I=0,Xl=!1,wI=null;const tn=[],bn=new Ihe(tn,{onerr:wa,ontext(e,t){Ob(ur(e,t),e,t)},ontextentity(e,t,n){Ob(e,t,n)},oninterpolation(e,t){if(Xl)return Ob(ur(e,t),e,t);let n=e+bn.delimiterOpen.length,r=t-bn.delimiterClose.length;for(;Ii(ba.charCodeAt(n));)n++;for(;Ii(ba.charCodeAt(r-1));)r--;let i=ur(n,r);i.includes("&")&&(i=wt.decodeEntities(i,!1)),xI({type:5,content:kb(i,!1,Nn(n,r)),loc:Nn(e,t)})},onopentagname(e,t){const n=ur(e,t);Mr={type:1,tag:n,ns:wt.getNamespace(n,tn[0],wt.ns),tagType:0,props:[],children:[],loc:Nn(e-1,t),codegenNode:void 0}},onopentagend(e){ZP(e)},onclosetag(e,t){const n=ur(e,t);if(!wt.isVoidTag(n)){let r=!1;for(let i=0;i<tn.length;i++)if(tn[i].tag.toLowerCase()===n.toLowerCase()){r=!0,i>0&&wa(24,tn[0].loc.start.offset);for(let s=0;s<=i;s++){const o=tn.shift();Nb(o,t,s<i)}break}r||wa(23,BP(e,60))}},onselfclosingtag(e){const t=Mr.tag;Mr.isSelfClosing=!0,ZP(e),tn[0]&&tn[0].tag===t&&Nb(tn.shift(),e)},onattribname(e,t){ut={type:6,name:ur(e,t),nameLoc:Nn(e,t),value:void 0,loc:Nn(e)}},ondirname(e,t){const n=ur(e,t),r=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!Xl&&r===""&&wa(26,e),Xl||r==="")ut={type:6,name:n,nameLoc:Nn(e,t),value:void 0,loc:Nn(e)};else if(ut={type:7,name:r,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?[Ke("prop")]:[],loc:Nn(e)},r==="pre"){Xl=bn.inVPre=!0,wI=Mr;const i=Mr.props;for(let s=0;s<i.length;s++)i[s].type===7&&(i[s]=qhe(i[s]))}},ondirarg(e,t){if(e===t)return;const n=ur(e,t);if(Xl)ut.name+=n,Gu(ut.nameLoc,t);else{const r=n[0]!=="[";ut.arg=kb(r?n:n.slice(1,-1),r,Nn(e,t),r?3:0)}},ondirmodifier(e,t){const n=ur(e,t);if(Xl)ut.name+="."+n,Gu(ut.nameLoc,t);else if(ut.name==="slot"){const r=ut.arg;r&&(r.content+="."+n,Gu(r.loc,t))}else{const r=Ke(n,!0,Nn(e,t));ut.modifiers.push(r)}},onattribdata(e,t){li+=ur(e,t),_a<0&&(_a=e),Uu=t},onattribentity(e,t,n){li+=e,_a<0&&(_a=t),Uu=n},onattribnameend(e){const t=ut.loc.start.offset,n=ur(t,e);ut.type===7&&(ut.rawName=n),Mr.props.some(r=>(r.type===7?r.rawName:r.name)===n)&&wa(2,t)},onattribend(e,t){if(Mr&&ut){if(Gu(ut.loc,t),e!==0)if(li.includes("&")&&(li=wt.decodeEntities(li,!0)),ut.type===6)ut.name==="class"&&(li=YP(li).trim()),e===1&&!li&&wa(13,t),ut.value={type:2,content:li,loc:e===1?Nn(_a,Uu):Nn(_a-1,Uu+1)},bn.inSFCRoot&&Mr.tag==="template"&&ut.name==="lang"&&li&&li!=="html"&&bn.enterRCDATA(Tb("</template"),0);else{let n=0;ut.exp=kb(li,!1,Nn(_a,Uu),0,n),ut.name==="for"&&(ut.forParseResult=zhe(ut.exp));let r=-1;ut.name==="bind"&&(r=ut.modifiers.findIndex(i=>i.content==="sync"))>-1&&R0("COMPILER_V_BIND_SYNC",wt,ut.loc,ut.rawName)&&(ut.name="model",ut.modifiers.splice(r,1))}(ut.type!==7||ut.name!=="pre")&&Mr.props.push(ut)}li="",_a=Uu=-1},oncomment(e,t){wt.comments&&xI({type:3,content:ur(e,t),loc:Nn(e-4,t+3)})},onend(){const e=ba.length;for(let t=0;t<tn.length;t++)Nb(tn[t],e-1),wa(24,tn[t].loc.start.offset)},oncdata(e,t){tn[0].ns!==0?Ob(ur(e,t),e,t):wa(1,e-9)},onprocessinginstruction(e){(tn[0]?tn[0].ns:wt.ns)===0&&wa(21,e-1)}}),WP=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,jhe=/^\(|\)$/g;function zhe(e){const t=e.loc,n=e.content,r=n.match(Ghe);if(!r)return;const[,i,s]=r,o=(p,f,y=!1)=>{const g=t.start.offset+f,b=g+p.length;return kb(p,!1,Nn(g,b),0,y?1:0)},a={source:o(s.trim(),n.indexOf(s,i.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=i.trim().replace(jhe,"").trim();const c=i.indexOf(l),d=l.match(WP);if(d){l=l.replace(WP,"").trim();const p=d[1].trim();let f;if(p&&(f=n.indexOf(p,c+l.length),a.key=o(p,f,!0)),d[2]){const y=d[2].trim();y&&(a.index=o(y,n.indexOf(y,a.key?f+p.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function ur(e,t){return ba.slice(e,t)}function ZP(e){bn.inSFCRoot&&(Mr.innerLoc=Nn(e+1,e+1)),xI(Mr);const{tag:t,ns:n}=Mr;n===0&&wt.isPreTag(t)&&_I++,wt.isVoidTag(t)?Nb(Mr,e):(tn.unshift(Mr),(n===1||n===2)&&(bn.inXML=!0)),Mr=null}function Ob(e,t,n){{const s=tn[0]&&tn[0].tag;s!=="script"&&s!=="style"&&e.includes("&")&&(e=wt.decodeEntities(e,!1))}const r=tn[0]||D0,i=r.children[r.children.length-1];i&&i.type===2?(i.content+=e,Gu(i.loc,n)):r.children.push({type:2,content:e,loc:Nn(t,n)})}function Nb(e,t,n=!1){n?Gu(e.loc,BP(t,60)):Gu(e.loc,$he(t,62)+1),bn.inSFCRoot&&(e.children.length?e.innerLoc.end=st({},e.children[e.children.length-1].loc.end):e.innerLoc.end=st({},e.innerLoc.start),e.innerLoc.source=ur(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:r,ns:i,children:s}=e;if(Xl||(r==="slot"?e.tagType=2:XP(e)?e.tagType=3:Whe(e)&&(e.tagType=1)),bn.inRCDATA||(e.children=HP(s)),i===0&&wt.isIgnoreNewlineTag(r)){const o=s[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}i===0&&wt.isPreTag(r)&&_I--,wI===e&&(Xl=bn.inVPre=!1,wI=null),bn.inXML&&(tn[0]?tn[0].ns:wt.ns)===0&&(bn.inXML=!1);{const o=e.props;if(!bn.inSFCRoot&&Pu("COMPILER_NATIVE_TEMPLATE",wt)&&e.tag==="template"&&!XP(e)){const l=tn[0]||D0,c=l.children.indexOf(e);l.children.splice(c,1,...e.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&R0("COMPILER_INLINE_TEMPLATE",wt,a.loc)&&e.children.length&&(a.value={type:2,content:ur(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:a.loc})}}function $he(e,t){let n=e;for(;ba.charCodeAt(n)!==t&&n<ba.length-1;)n++;return n}function BP(e,t){let n=e;for(;ba.charCodeAt(n)!==t&&n>=0;)n--;return n}const Vhe=new Set(["if","else","else-if","for","slot"]);function XP({tag:e,props:t}){if(e==="template"){for(let n=0;n<t.length;n++)if(t[n].type===7&&Vhe.has(t[n].name))return!0}return!1}function Whe({tag:e,props:t}){if(wt.isCustomElement(e))return!1;if(e==="component"||Zhe(e.charCodeAt(0))||UP(e)||wt.isBuiltInComponent&&wt.isBuiltInComponent(e)||wt.isNativeTag&&!wt.isNativeTag(e))return!0;for(let n=0;n<t.length;n++){const r=t[n];if(r.type===6){if(r.name==="is"&&r.value&&(r.value.content.startsWith("vue:")||R0("COMPILER_IS_ON_ELEMENT",wt,r.loc)))return!0}else if(r.name==="bind"&&Fu(r.arg,"is")&&R0("COMPILER_IS_ON_ELEMENT",wt,r.loc))return!0}return!1}function Zhe(e){return e>64&&e<91}const Bhe=/\r\n/g;function HP(e,t){const n=wt.whitespace!=="preserve";let r=!1;for(let i=0;i<e.length;i++){const s=e[i];if(s.type===2)if(_I)s.content=s.content.replace(Bhe,`
`);else if(Xhe(s.content)){const o=e[i-1]&&e[i-1].type,a=e[i+1]&&e[i+1].type;!o||!a||n&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&Hhe(s.content)))?(r=!0,e[i]=null):s.content=" "}else n&&(s.content=YP(s.content))}return r?e.filter(Boolean):e}function Xhe(e){for(let t=0;t<e.length;t++)if(!Ii(e.charCodeAt(t)))return!1;return!0}function Hhe(e){for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n===10||n===13)return!0}return!1}function YP(e){let t="",n=!1;for(let r=0;r<e.length;r++)Ii(e.charCodeAt(r))?n||(t+=" ",n=!0):(t+=e[r],n=!1);return t}function xI(e){(tn[0]||D0).children.push(e)}function Nn(e,t){return{start:bn.getPos(e),end:t==null?t:bn.getPos(t),source:t==null?t:ur(e,t)}}function Yhe(e){return Nn(e.start.offset,e.end.offset)}function Gu(e,t){e.end=bn.getPos(t),e.source=ur(e.start.offset,t)}function qhe(e){const t={type:6,name:e.rawName,nameLoc:Nn(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const n=e.exp.loc;n.end.offset<e.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),t.value={type:2,content:e.exp.content,loc:n}}return t}function kb(e,t=!1,n,r=0,i=0){return Ke(e,t,n,r)}function wa(e,t,n){wt.onError(en(e,Nn(t,t)))}function Jhe(){bn.reset(),Mr=null,ut=null,li="",_a=-1,Uu=-1,tn.length=0}function Qhe(e,t){if(Jhe(),ba=e,wt=st({},VP),t){let i;for(i in t)t[i]!=null&&(wt[i]=t[i])}bn.mode=wt.parseMode==="html"?1:wt.parseMode==="sfc"?2:0,bn.inXML=wt.ns===1||wt.ns===2;const n=t&&t.delimiters;n&&(bn.delimiterOpen=Tb(n[0]),bn.delimiterClose=Tb(n[1]));const r=D0=Ehe([],e);return bn.parse(ba),r.loc=Nn(0,e.length),r.children=HP(r.children),D0=null,r}function Khe(e,t){Cb(e,void 0,t,qP(e,e.children[0]))}function qP(e,t){const{children:n}=e;return n.length===1&&t.type===1&&!Ab(t)}function Cb(e,t,n,r=!1,i=!1){const{children:s}=e,o=[];for(let d=0;d<s.length;d++){const p=s[d];if(p.type===1&&p.tagType===0){const f=r?0:Ai(p,n);if(f>0){if(f>=2){p.codegenNode.patchFlag=-1,o.push(p);continue}}else{const y=p.codegenNode;if(y.type===13){const g=y.patchFlag;if((g===void 0||g===512||g===1)&&QP(p,n)>=2){const b=KP(p);b&&(y.props=n.hoist(b))}y.dynamicProps&&(y.dynamicProps=n.hoist(y.dynamicProps))}}}else if(p.type===12&&(r?0:Ai(p,n))>=2){o.push(p);continue}if(p.type===1){const f=p.tagType===1;f&&n.scopes.vSlot++,Cb(p,e,n,!1,i),f&&n.scopes.vSlot--}else if(p.type===11)Cb(p,e,n,p.children.length===1,!0);else if(p.type===9)for(let f=0;f<p.branches.length;f++)Cb(p.branches[f],e,n,p.branches[f].children.length===1,i)}let a=!1;if(o.length===s.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Ee(e.codegenNode.children))e.codegenNode.children=l(Du(e.codegenNode.children)),a=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Ee(e.codegenNode.children)&&e.codegenNode.children.type===15){const d=c(e.codegenNode,"default");d&&(d.returns=l(Du(d.returns)),a=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Ee(t.codegenNode.children)&&t.codegenNode.children.type===15){const d=es(e,"slot",!0),p=d&&d.arg&&c(t.codegenNode,d.arg);p&&(p.returns=l(Du(p.returns)),a=!0)}}if(!a)for(const d of o)d.codegenNode=n.cache(d.codegenNode);function l(d){const p=n.cache(d);return i&&n.hmr&&(p.needArraySpread=!0),p}function c(d,p){if(d.children&&!Ee(d.children)&&d.children.type===15){const f=d.children.properties.find(y=>y.key===p||y.key.content===p);return f&&f.value}}o.length&&n.transformHoist&&n.transformHoist(s,n,e)}function Ai(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=n.get(e);if(r!==void 0)return r;const i=e.codegenNode;if(i.type!==13||i.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(i.patchFlag===void 0){let o=3;const a=QP(e,t);if(a===0)return n.set(e,0),0;a<o&&(o=a);for(let l=0;l<e.children.length;l++){const c=Ai(e.children[l],t);if(c===0)return n.set(e,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<e.props.length;l++){const c=e.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const d=Ai(c.exp,t);if(d===0)return n.set(e,0),0;d<o&&(o=d)}}if(i.isBlock){for(let l=0;l<e.props.length;l++)if(e.props[l].type===7)return n.set(e,0),0;t.removeHelper(Lu),t.removeHelper(np(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper(tp(t.inSSR,i.isComponent))}return n.set(e,o),o}else return n.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Ai(e.content,t);case 4:return e.constType;case 8:let s=3;for(let o=0;o<e.children.length;o++){const a=e.children[o];if(We(a)||ti(a))continue;const l=Ai(a,t);if(l===0)return 0;l<s&&(s=l)}return s;case 20:return 2;default:return 0}}const ede=new Set([lI,cI,N0,k0]);function JP(e,t){if(e.type===14&&!We(e.callee)&&ede.has(e.callee)){const n=e.arguments[0];if(n.type===4)return Ai(n,t);if(n.type===14)return JP(n,t)}return 0}function QP(e,t){let n=3;const r=KP(e);if(r&&r.type===15){const{properties:i}=r;for(let s=0;s<i.length;s++){const{key:o,value:a}=i[s],l=Ai(o,t);if(l===0)return l;l<n&&(n=l);let c;if(a.type===4?c=Ai(a,t):a.type===14?c=JP(a,t):c=0,c===0)return c;c<n&&(n=c)}}return n}function KP(e){const t=e.codegenNode;if(t.type===13)return t.props}function tde(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:r=!1,hmr:i=!1,cacheHandlers:s=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=er,isCustomElement:d=er,expressionPlugins:p=[],scopeId:f=null,slotted:y=!0,ssr:g=!1,inSSR:b=!1,ssrCssVars:E="",bindingMetadata:S=it,inline:I=!1,isTS:w=!1,onError:_=gI,onWarn:A=FP,compatConfig:M}){const k=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),C={filename:t,selfName:k&&Nl(zt(k[1])),prefixIdentifiers:n,hoistStatic:r,hmr:i,cacheHandlers:s,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:d,expressionPlugins:p,scopeId:f,slotted:y,ssr:g,inSSR:b,ssrCssVars:E,bindingMetadata:S,inline:I,isTS:w,onError:_,onWarn:A,compatConfig:M,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(R){const U=C.helpers.get(R)||0;return C.helpers.set(R,U+1),R},removeHelper(R){const U=C.helpers.get(R);if(U){const B=U-1;B?C.helpers.set(R,B):C.helpers.delete(R)}},helperString(R){return`_${Kd[C.helper(R)]}`},replaceNode(R){C.parent.children[C.childIndex]=C.currentNode=R},removeNode(R){const U=C.parent.children,B=R?U.indexOf(R):C.currentNode?C.childIndex:-1;!R||R===C.currentNode?(C.currentNode=null,C.onNodeRemoved()):C.childIndex>B&&(C.childIndex--,C.onNodeRemoved()),C.parent.children.splice(B,1)},onNodeRemoved:er,addIdentifiers(R){},removeIdentifiers(R){},hoist(R){We(R)&&(R=Ke(R)),C.hoists.push(R);const U=Ke(`_hoisted_${C.hoists.length}`,!1,R.loc,2);return U.hoisted=R,U},cache(R,U=!1,B=!1){const G=The(C.cached.length,R,U,B);return C.cached.push(G),G}};return C.filters=new Set,C}function nde(e,t){const n=tde(e,t);Rb(e,n),t.hoistStatic&&Khe(e,n),t.ssr||rde(e,n),e.helpers=new Set([...n.helpers.keys()]),e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.transformed=!0,e.filters=[...n.filters]}function rde(e,t){const{helper:n}=t,{children:r}=e;if(r.length===1){const i=r[0];if(qP(e,i)&&i.codegenNode){const s=i.codegenNode;s.type===13&&yI(s,t),e.codegenNode=s}else e.codegenNode=i}else if(r.length>1){let i=64;e.codegenNode=C0(t,n(A0),void 0,e.children,i,void 0,void 0,!0,void 0,!1)}}function ide(e,t){let n=0;const r=()=>{n--};for(;n<e.children.length;n++){const i=e.children[n];We(i)||(t.grandParent=t.parent,t.parent=e,t.childIndex=n,t.onNodeRemoved=r,Rb(i,t))}}function Rb(e,t){t.currentNode=e;const{nodeTransforms:n}=t,r=[];for(let s=0;s<n.length;s++){const o=n[s](e,t);if(o&&(Ee(o)?r.push(...o):r.push(o)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(O0);break;case 5:t.ssr||t.helper(wb);break;case 9:for(let s=0;s<e.branches.length;s++)Rb(e.branches[s],t);break;case 10:case 11:case 1:case 0:ide(e,t);break}t.currentNode=e;let i=r.length;for(;i--;)r[i]()}function e7(e,t){const n=We(e)?r=>r===e:r=>e.test(r);return(r,i)=>{if(r.type===1){const{props:s}=r;if(r.tagType===3&&s.some(Phe))return;const o=[];for(let a=0;a<s.length;a++){const l=s[a];if(l.type===7&&n(l.name)){s.splice(a,1),a--;const c=t(r,l,i);c&&o.push(c)}}return o}}}const Lb="/*@__PURE__*/",t7=e=>`${Kd[e]}: _${Kd[e]}`;function sde(e,{mode:t="function",prefixIdentifiers:n=t==="module",sourceMap:r=!1,filename:i="template.vue.html",scopeId:s=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:d=!1,isTS:p=!1,inSSR:f=!1}){const y={mode:t,prefixIdentifiers:n,sourceMap:r,filename:i,scopeId:s,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:d,isTS:p,inSSR:f,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(b){return`_${Kd[b]}`},push(b,E=-2,S){y.code+=b},indent(){g(++y.indentLevel)},deindent(b=!1){b?--y.indentLevel:g(--y.indentLevel)},newline(){g(y.indentLevel)}};function g(b){y.push(`
`+"  ".repeat(b),0)}return y}function ode(e,t={}){const n=sde(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:r,push:i,prefixIdentifiers:s,indent:o,deindent:a,newline:l,scopeId:c,ssr:d}=n,p=Array.from(e.helpers),f=p.length>0,y=!s&&r!=="module";ade(e,n);const g=d?"ssrRender":"render",b=(d?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${g}(${b}) {`),o(),y&&(i("with (_ctx) {"),o(),f&&(i(`const { ${p.map(t7).join(", ")} } = _Vue
`,-1),l())),e.components.length&&(EI(e.components,"component",n),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(EI(e.directives,"directive",n),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),EI(e.filters,"filter",n),l()),e.temps>0){i("let ");for(let E=0;E<e.temps;E++)i(`${E>0?", ":""}_temp${E}`)}return(e.components.length||e.directives.length||e.temps)&&(i(`
`,0),l()),d||i("return "),e.codegenNode?Or(e.codegenNode,n):i("null"),y&&(a(),i("}")),a(),i("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function ade(e,t){const{ssr:n,prefixIdentifiers:r,push:i,newline:s,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a,d=Array.from(e.helpers);if(d.length>0&&(i(`const _Vue = ${c}
`,-1),e.hoists.length)){const p=[KS,eI,O0,tI,OP].filter(f=>d.includes(f)).map(t7).join(", ");i(`const { ${p} } = _Vue
`,-1)}lde(e.hoists,t),s(),i("return ")}function EI(e,t,{helper:n,push:r,newline:i,isTS:s}){const o=n(t==="filter"?sI:t==="component"?nI:iI);for(let a=0;a<e.length;a++){let l=e[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),r(`const ${L0(l,t)} = ${o}(${JSON.stringify(l)}${c?", true":""})${s?"!":""}`),a<e.length-1&&i()}}function lde(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:r}=t;r();for(let i=0;i<e.length;i++){const s=e[i];s&&(n(`const _hoisted_${i+1} = `),Or(s,t),r())}t.pure=!1}function TI(e,t){const n=e.length>3||JS.NODE_ENV!=="production";t.push("["),n&&t.indent(),P0(e,t,n),n&&t.deindent(),t.push("]")}function P0(e,t,n=!1,r=!0){const{push:i,newline:s}=t;for(let o=0;o<e.length;o++){const a=e[o];We(a)?i(a,-3):Ee(a)?TI(a,t):Or(a,t),o<e.length-1&&(n?(r&&i(","),s()):r&&i(", "))}}function Or(e,t){if(We(e)){t.push(e,-3);return}if(ti(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Or(e.codegenNode,t);break;case 2:cde(e,t);break;case 4:n7(e,t);break;case 5:ude(e,t);break;case 12:Or(e.codegenNode,t);break;case 8:r7(e,t);break;case 3:dde(e,t);break;case 13:pde(e,t);break;case 14:mde(e,t);break;case 15:yde(e,t);break;case 17:gde(e,t);break;case 18:vde(e,t);break;case 19:bde(e,t);break;case 20:_de(e,t);break;case 21:P0(e.body,t,!0,!1);break}}function cde(e,t){t.push(JSON.stringify(e.content),-3,e)}function n7(e,t){const{content:n,isStatic:r}=e;t.push(r?JSON.stringify(n):n,-3,e)}function ude(e,t){const{push:n,helper:r,pure:i}=t;i&&n(Lb),n(`${r(wb)}(`),Or(e.content,t),n(")")}function r7(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];We(r)?t.push(r,-3):Or(r,t)}}function hde(e,t){const{push:n}=t;if(e.type===8)n("["),r7(e,t),n("]");else if(e.isStatic){const r=vI(e.content)?e.content:JSON.stringify(e.content);n(r,-2,e)}else n(`[${e.content}]`,-3,e)}function dde(e,t){const{push:n,helper:r,pure:i}=t;i&&n(Lb),n(`${r(O0)}(${JSON.stringify(e.content)})`,-3,e)}function pde(e,t){const{push:n,helper:r,pure:i}=t,{tag:s,props:o,children:a,patchFlag:l,dynamicProps:c,directives:d,isBlock:p,disableTracking:f,isComponent:y}=e;let g;l&&(g=String(l)),d&&n(r(oI)+"("),p&&n(`(${r(Lu)}(${f?"true":""}), `),i&&n(Lb);const b=p?np(t.inSSR,y):tp(t.inSSR,y);n(r(b)+"(",-2,e),P0(fde([s,o,a,g,c]),t),n(")"),p&&n(")"),d&&(n(", "),Or(d,t),n(")"))}function fde(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(n=>n||"null")}function mde(e,t){const{push:n,helper:r,pure:i}=t,s=We(e.callee)?e.callee:r(e.callee);i&&n(Lb),n(s+"(",-2,e),P0(e.arguments,t),n(")")}function yde(e,t){const{push:n,indent:r,deindent:i,newline:s}=t,{properties:o}=e;if(!o.length){n("{}",-2,e);return}const a=o.length>1||JS.NODE_ENV!=="production";n(a?"{":"{ "),a&&r();for(let l=0;l<o.length;l++){const{key:c,value:d}=o[l];hde(c,t),n(": "),Or(d,t),l<o.length-1&&(n(","),s())}a&&i(),n(a?"}":" }")}function gde(e,t){TI(e.elements,t)}function vde(e,t){const{push:n,indent:r,deindent:i}=t,{params:s,returns:o,body:a,newline:l,isSlot:c}=e;c&&n(`_${Kd[pI]}(`),n("(",-2,e),Ee(s)?P0(s,t):s&&Or(s,t),n(") => "),(l||a)&&(n("{"),r()),o?(l&&n("return "),Ee(o)?TI(o,t):Or(o,t)):a&&Or(a,t),(l||a)&&(i(),n("}")),c&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}function bde(e,t){const{test:n,consequent:r,alternate:i,newline:s}=e,{push:o,indent:a,deindent:l,newline:c}=t;if(n.type===4){const p=!vI(n.content);p&&o("("),n7(n,t),p&&o(")")}else o("("),Or(n,t),o(")");s&&a(),t.indentLevel++,s||o(" "),o("? "),Or(r,t),t.indentLevel--,s&&c(),s||o(" "),o(": ");const d=i.type===19;d||t.indentLevel++,Or(i,t),d||t.indentLevel--,s&&l(!0)}function _de(e,t){const{push:n,helper:r,indent:i,deindent:s,newline:o}=t,{needPauseTracking:a,needArraySpread:l}=e;l&&n("[...("),n(`_cache[${e.index}] || (`),a&&(i(),n(`${r(Eb)}(-1`),e.inVOnce&&n(", true"),n("),"),o(),n("(")),n(`_cache[${e.index}] = `),Or(e.value,t),a&&(n(`).cacheIndex = ${e.index},`),o(),n(`${r(Eb)}(1),`),o(),n(`_cache[${e.index}]`),s()),n(")"),l&&n(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const wde=e7(/^(if|else|else-if)$/,(e,t,n)=>xde(e,t,n,(r,i,s)=>{const o=n.parent.children;let a=o.indexOf(r),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(s)r.codegenNode=s7(i,l,n);else{const c=Ede(r.codegenNode);c.alternate=s7(i,l+r.branches.length-1,n)}}}));function xde(e,t,n,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const i=t.exp?t.exp.loc:e.loc;n.onError(en(28,t.loc)),t.exp=Ke("true",!1,i)}if(t.name==="if"){const i=i7(e,t),s={type:9,loc:Yhe(e.loc),branches:[i]};if(n.replaceNode(s),r)return r(s,i,!0)}else{const i=n.parent.children;let s=i.indexOf(e);for(;s-->=-1;){const o=i[s];if(o&&o.type===3){n.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){n.removeNode(o);continue}if(o&&o.type===9){t.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&n.onError(en(30,e.loc)),n.removeNode();const a=i7(e,t);o.branches.push(a);const l=r&&r(o,a,!1);Rb(a,n),l&&l(),n.currentNode=null}else n.onError(en(30,e.loc));break}}}function i7(e,t){const n=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:n&&!es(e,"for")?e.children:[e],userKey:Sb(e,"key"),isTemplateIf:n}}function s7(e,t,n){return e.condition?mI(e.condition,o7(e,t,n),Hn(n.helper(O0),['""',"true"])):o7(e,t,n)}function o7(e,t,n){const{helper:r}=n,i=On("key",Ke(`${t}`,!1,Si,2)),{children:s}=e,o=s[0];if(s.length!==1||o.type!==1)if(s.length===1&&o.type===11){const a=o.codegenNode;return Mb(a,i,n),a}else return C0(n,r(A0),Ki([i]),s,64,void 0,void 0,!0,!1,!1,e.loc);else{const a=o.codegenNode,l=Uhe(a);return l.type===13&&yI(l,n),Mb(l,i,n),a}}function Ede(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const Tde=(e,t,n)=>{const{modifiers:r,loc:i}=e,s=e.arg;let{exp:o}=e;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(s.type!==4||!s.isStatic)return n.onError(en(52,s.loc)),{props:[On(s,Ke("",!0,i))]};a7(e),o=e.exp}return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),r.some(a=>a.content==="camel")&&(s.type===4?s.isStatic?s.content=zt(s.content):s.content=`${n.helperString(hI)}(${s.content})`:(s.children.unshift(`${n.helperString(hI)}(`),s.children.push(")"))),n.inSSR||(r.some(a=>a.content==="prop")&&l7(s,"."),r.some(a=>a.content==="attr")&&l7(s,"^")),{props:[On(s,o)]}},a7=(e,t)=>{const n=e.arg,r=zt(n.content);e.exp=Ke(r,!1,n.loc)},l7=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},Sde=e7("for",(e,t,n)=>{const{helper:r,removeHelper:i}=n;return Ide(e,t,n,s=>{const o=Hn(r(aI),[s.source]),a=Ib(e),l=es(e,"memo"),c=Sb(e,"key",!1,!0);c&&c.type===7&&!c.exp&&a7(c);let d=c&&(c.type===6?c.value?Ke(c.value.content,!0):void 0:c.exp);const p=c&&d?On("key",d):null,f=s.source.type===4&&s.source.constType>0,y=f?64:c?128:256;return s.codegenNode=C0(n,r(A0),void 0,o,y,void 0,void 0,!0,!f,!1,e.loc),()=>{let g;const{children:b}=s,E=b.length!==1||b[0].type!==1,S=Ab(e)?e:a&&e.children.length===1&&Ab(e.children[0])?e.children[0]:null;if(S?(g=S.codegenNode,a&&p&&Mb(g,p,n)):E?g=C0(n,r(A0),p?Ki([p]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(g=b[0].codegenNode,a&&p&&Mb(g,p,n),g.isBlock!==!f&&(g.isBlock?(i(Lu),i(np(n.inSSR,g.isComponent))):i(tp(n.inSSR,g.isComponent))),g.isBlock=!f,g.isBlock?(r(Lu),r(np(n.inSSR,g.isComponent))):r(tp(n.inSSR,g.isComponent))),l){const I=ep(SI(s.parseResult,[Ke("_cached")]));I.body=She([Gs(["const _memo = (",l.exp,")"]),Gs(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${n.helperString(CP)}(_cached, _memo)) return _cached`]),Gs(["const _item = ",g]),Ke("_item.memo = _memo"),Ke("return _item")]),o.arguments.push(I,Ke("_cache"),Ke(String(n.cached.length))),n.cached.push(null)}else o.arguments.push(ep(SI(s.parseResult),g,!0))}})});function Ide(e,t,n,r){if(!t.exp){n.onError(en(31,t.loc));return}const i=t.forParseResult;if(!i){n.onError(en(32,t.loc));return}c7(i);const{addIdentifiers:s,removeIdentifiers:o,scopes:a}=n,{source:l,value:c,key:d,index:p}=i,f={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:d,objectIndexAlias:p,parseResult:i,children:Ib(e)?e.children:[e]};n.replaceNode(f),a.vFor++;const y=r&&r(f);return()=>{a.vFor--,y&&y()}}function c7(e,t){e.finalized||(e.finalized=!0)}function SI({value:e,key:t,index:n},r=[]){return Ade([e,t,n,...r])}function Ade(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((n,r)=>n||Ke("_".repeat(r+1),!1))}const u7=Ke("undefined",!1),Mde=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const n=es(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Ode=(e,t,n,r)=>ep(e,n,!1,!0,n.length?n[0].loc:r);function Nde(e,t,n=Ode){t.helper(pI);const{children:r,loc:i}=e,s=[],o=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=es(e,"slot",!0);if(l){const{arg:E,exp:S}=l;E&&!ai(E)&&(a=!0),s.push(On(E||Ke("default",!0),n(S,void 0,r,i)))}let c=!1,d=!1;const p=[],f=new Set;let y=0;for(let E=0;E<r.length;E++){const S=r[E];let I;if(!Ib(S)||!(I=es(S,"slot",!0))){S.type!==3&&p.push(S);continue}if(l){t.onError(en(37,I.loc));break}c=!0;const{children:w,loc:_}=S,{arg:A=Ke("default",!0),exp:M,loc:k}=I;let C;ai(A)?C=A?A.content:"default":a=!0;const R=es(S,"for"),U=n(M,R,w,_);let B,G;if(B=es(S,"if"))a=!0,o.push(mI(B.exp,Db(A,U,y++),u7));else if(G=es(S,/^else(-if)?$/,!0)){let z=E,J;for(;z--&&(J=r[z],J.type===3););if(J&&Ib(J)&&es(J,/^(else-)?if$/)){let u=o[o.length-1];for(;u.alternate.type===19;)u=u.alternate;u.alternate=G.exp?mI(G.exp,Db(A,U,y++),u7):Db(A,U,y++)}else t.onError(en(30,G.loc))}else if(R){a=!0;const z=R.forParseResult;z?(c7(z),o.push(Hn(t.helper(aI),[z.source,ep(SI(z),Db(A,U),!0)]))):t.onError(en(32,R.loc))}else{if(C){if(f.has(C)){t.onError(en(38,k));continue}f.add(C),C==="default"&&(d=!0)}s.push(On(A,U))}}if(!l){const E=(S,I)=>{const w=n(S,void 0,I,i);return t.compatConfig&&(w.isNonScopedSlot=!0),On("default",w)};c?p.length&&p.some(S=>h7(S))&&(d?t.onError(en(39,p[0].loc)):s.push(E(void 0,p))):s.push(E(void 0,r))}const g=a?2:Pb(e.children)?3:1;let b=Ki(s.concat(On("_",Ke(g+"",!1))),i);return o.length&&(b=Hn(t.helper(kP),[b,Du(o)])),{slots:b,hasDynamicSlots:a}}function Db(e,t,n){const r=[On("name",e),On("fn",t)];return n!=null&&r.push(On("key",Ke(String(n),!0))),Ki(r)}function Pb(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(n.tagType===2||Pb(n.children))return!0;break;case 9:if(Pb(n.branches))return!0;break;case 10:case 11:if(Pb(n.children))return!0;break}}return!1}function h7(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():h7(e.content)}const d7=new WeakMap,kde=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:n,props:r}=e,i=e.tagType===1;let s=i?Cde(e,t):`"${n}"`;const o=Mt(s)&&s.callee===rI;let a,l,c=0,d,p,f,y=o||s===M0||s===QS||!i&&(n==="svg"||n==="foreignObject"||n==="math");if(r.length>0){const g=p7(e,t,void 0,i,o);a=g.props,c=g.patchFlag,p=g.dynamicPropNames;const b=g.directives;f=b&&b.length?Du(b.map(E=>Lde(E,t))):void 0,g.shouldUseBlock&&(y=!0)}if(e.children.length>0)if(s===_b&&(y=!0,c|=1024),i&&s!==M0&&s!==_b){const{slots:g,hasDynamicSlots:b}=Nde(e,t);l=g,b&&(c|=1024)}else if(e.children.length===1&&s!==M0){const g=e.children[0],b=g.type,E=b===5||b===8;E&&Ai(g,t)===0&&(c|=1),E||b===2?l=g:l=e.children}else l=e.children;p&&p.length&&(d=Dde(p)),e.codegenNode=C0(t,s,a,l,c===0?void 0:c,d,f,!!y,!1,i,e.loc)};function Cde(e,t,n=!1){let{tag:r}=e;const i=II(r),s=Sb(e,"is",!1,!0);if(s)if(i||Pu("COMPILER_IS_ON_ELEMENT",t)){let a;if(s.type===6?a=s.value&&Ke(s.value.content,!0):(a=s.exp,a||(a=Ke("is",!1,s.arg.loc))),a)return Hn(t.helper(rI),[a])}else s.type===6&&s.value.content.startsWith("vue:")&&(r=s.value.content.slice(4));const o=UP(r)||t.isBuiltInComponent(r);return o?(n||t.helper(o),o):(t.helper(nI),t.components.add(r),L0(r,"component"))}function p7(e,t,n=e.props,r,i,s=!1){const{tag:o,loc:a,children:l}=e;let c=[];const d=[],p=[],f=l.length>0;let y=!1,g=0,b=!1,E=!1,S=!1,I=!1,w=!1,_=!1;const A=[],M=U=>{c.length&&(d.push(Ki(f7(c),a)),c=[]),U&&d.push(U)},k=()=>{t.scopes.vFor>0&&c.push(On(Ke("ref_for",!0),Ke("true")))},C=({key:U,value:B})=>{if(ai(U)){const G=U.content,z=xu(G);if(z&&(!r||i)&&G.toLowerCase()!=="onclick"&&G!=="onUpdate:modelValue"&&!Ol(G)&&(I=!0),z&&Ol(G)&&(_=!0),z&&B.type===14&&(B=B.arguments[0]),B.type===20||(B.type===4||B.type===8)&&Ai(B,t)>0)return;G==="ref"?b=!0:G==="class"?E=!0:G==="style"?S=!0:G!=="key"&&!A.includes(G)&&A.push(G),r&&(G==="class"||G==="style")&&!A.includes(G)&&A.push(G)}else w=!0};for(let U=0;U<n.length;U++){const B=n[U];if(B.type===6){const{loc:G,name:z,nameLoc:J,value:u}=B;let m=!0;if(z==="ref"&&(b=!0,k()),z==="is"&&(II(o)||u&&u.content.startsWith("vue:")||Pu("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(On(Ke(z,!0,J),Ke(u?u.content:"",m,u?u.loc:G)))}else{const{name:G,arg:z,exp:J,loc:u,modifiers:m}=B,x=G==="bind",N=G==="on";if(G==="slot"){r||t.onError(en(40,u));continue}if(G==="once"||G==="memo"||G==="is"||x&&Fu(z,"is")&&(II(o)||Pu("COMPILER_IS_ON_ELEMENT",t))||N&&s)continue;if((x&&Fu(z,"key")||N&&f&&Fu(z,"vue:before-update"))&&(y=!0),x&&Fu(z,"ref")&&k(),!z&&(x||N)){if(w=!0,J)if(x){if(k(),M(),Pu("COMPILER_V_BIND_OBJECT_ORDER",t)){d.unshift(J);continue}d.push(J)}else M({type:14,loc:u,callee:t.helper(uI),arguments:r?[J]:[J,"true"]});else t.onError(en(x?34:35,u));continue}x&&m.some(H=>H.content==="prop")&&(g|=32);const V=t.directiveTransforms[G];if(V){const{props:H,needRuntime:de}=V(B,e,t);!s&&H.forEach(C),N&&z&&!ai(z)?M(Ki(H,a)):c.push(...H),de&&(p.push(B),ti(de)&&d7.set(B,de))}else Gle(G)||(p.push(B),f&&(y=!0))}}let R;if(d.length?(M(),d.length>1?R=Hn(t.helper(xb),d,a):R=d[0]):c.length&&(R=Ki(f7(c),a)),w?g|=16:(E&&!r&&(g|=2),S&&!r&&(g|=4),A.length&&(g|=8),I&&(g|=32)),!y&&(g===0||g===32)&&(b||_||p.length>0)&&(g|=512),!t.inSSR&&R)switch(R.type){case 15:let U=-1,B=-1,G=!1;for(let u=0;u<R.properties.length;u++){const m=R.properties[u].key;ai(m)?m.content==="class"?U=u:m.content==="style"&&(B=u):m.isHandlerKey||(G=!0)}const z=R.properties[U],J=R.properties[B];G?R=Hn(t.helper(N0),[R]):(z&&!ai(z.value)&&(z.value=Hn(t.helper(lI),[z.value])),J&&(S||J.value.type===4&&J.value.content.trim()[0]==="["||J.value.type===17)&&(J.value=Hn(t.helper(cI),[J.value])));break;case 14:break;default:R=Hn(t.helper(N0),[Hn(t.helper(k0),[R])]);break}return{props:R,directives:p,patchFlag:g,dynamicPropNames:A,shouldUseBlock:y}}function f7(e){const t=new Map,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(i.key.type===8||!i.key.isStatic){n.push(i);continue}const s=i.key.content,o=t.get(s);o?(s==="style"||s==="class"||xu(s))&&Rde(o,i):(t.set(s,i),n.push(i))}return n}function Rde(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=Du([e.value,t.value],e.loc)}function Lde(e,t){const n=[],r=d7.get(e);r?n.push(t.helperString(r)):(t.helper(iI),t.directives.add(e.name),n.push(L0(e.name,"directive")));const{loc:i}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const s=Ke("true",!1,i);n.push(Ki(e.modifiers.map(o=>On(o,s)),i))}return Du(n,e.loc)}function Dde(e){let t="[";for(let n=0,r=e.length;n<r;n++)t+=JSON.stringify(e[n]),n<r-1&&(t+=", ");return t+"]"}function II(e){return e==="component"||e==="Component"}const Pde=(e,t)=>{if(Ab(e)){const{children:n,loc:r}=e,{slotName:i,slotProps:s}=Fde(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let a=2;s&&(o[2]=s,a=3),n.length&&(o[3]=ep([],n,!1,!1,r),a=4),t.scopeId&&!t.slotted&&(a=5),o.splice(a),e.codegenNode=Hn(t.helper(NP),o,r)}};function Fde(e,t){let n='"default"',r;const i=[];for(let s=0;s<e.props.length;s++){const o=e.props[s];if(o.type===6)o.value&&(o.name==="name"?n=JSON.stringify(o.value.content):(o.name=zt(o.name),i.push(o)));else if(o.name==="bind"&&Fu(o.arg,"name")){if(o.exp)n=o.exp;else if(o.arg&&o.arg.type===4){const a=zt(o.arg.content);n=o.exp=Ke(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&ai(o.arg)&&(o.arg.content=zt(o.arg.content)),i.push(o)}if(i.length>0){const{props:s,directives:o}=p7(e,t,i,!1,!1);r=s,o.length&&t.onError(en(36,o[0].loc))}return{slotName:n,slotProps:r}}const m7=(e,t,n,r)=>{const{loc:i,modifiers:s,arg:o}=e;!e.exp&&!s.length&&n.onError(en(35,i));let a;if(o.type===4)if(o.isStatic){let p=o.content;p.startsWith("vue:")&&(p=`vnode-${p.slice(4)}`);const f=t.tagType!==0||p.startsWith("vnode")||!/[A-Z]/.test(p)?Tu(zt(p)):`on:${p}`;a=Ke(f,!0,o.loc)}else a=Gs([`${n.helperString(dI)}(`,o,")"]);else a=o,a.children.unshift(`${n.helperString(dI)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const p=jP(l),f=!(p||Lhe(l)),y=l.content.includes(";");(f||c&&p)&&(l=Gs([`${f?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let d={props:[On(a,l||Ke("() => {}",!1,i))]};return r&&(d=r(d)),c&&(d.props[0].value=n.cache(d.props[0].value)),d.props.forEach(p=>p.key.isHandlerKey=!0),d},Ude=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const n=e.children;let r,i=!1;for(let s=0;s<n.length;s++){const o=n[s];if(bI(o)){i=!0;for(let a=s+1;a<n.length;a++){const l=n[a];if(bI(l))r||(r=n[s]=Gs([o],o.loc)),r.children.push(" + ",l),n.splice(a,1),a--;else{r=void 0;break}}}}if(!(!i||n.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(s=>s.type===7&&!t.directiveTransforms[s.name])&&e.tag!=="template")))for(let s=0;s<n.length;s++){const o=n[s];if(bI(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!t.ssr&&Ai(o,t)===0&&a.push("1"),n[s]={type:12,content:o,loc:o.loc,codegenNode:Hn(t.helper(tI),a)}}}}},y7=new WeakSet,Gde=(e,t)=>{if(e.type===1&&es(e,"once",!0))return y7.has(e)||t.inVOnce||t.inSSR?void 0:(y7.add(e),t.inVOnce=!0,t.helper(Eb),()=>{t.inVOnce=!1;const n=t.currentNode;n.codegenNode&&(n.codegenNode=t.cache(n.codegenNode,!0,!0))})},g7=(e,t,n)=>{const{exp:r,arg:i}=e;if(!r)return n.onError(en(41,e.loc)),Fb();const s=r.loc.source.trim(),o=r.type===4?r.content:s,a=n.bindingMetadata[s];if(a==="props"||a==="props-aliased")return n.onError(en(44,r.loc)),Fb();if(!o.trim()||!jP(r))return n.onError(en(42,r.loc)),Fb();const l=i||Ke("modelValue",!0),c=i?ai(i)?`onUpdate:${zt(i.content)}`:Gs(['"onUpdate:" + ',i]):"onUpdate:modelValue";let d;const p=n.isTS?"($event: any)":"$event";d=Gs([`${p} => ((`,r,") = $event)"]);const f=[On(l,e.exp),On(c,d)];if(e.modifiers.length&&t.tagType===1){const y=e.modifiers.map(b=>b.content).map(b=>(vI(b)?b:JSON.stringify(b))+": true").join(", "),g=i?ai(i)?`${i.content}Modifiers`:Gs([i,' + "Modifiers"']):"modelModifiers";f.push(On(g,Ke(`{ ${y} }`,!1,e.loc,2)))}return Fb(f)};function Fb(e=[]){return{props:e}}const jde=/[\w).+\-_$\]]/,zde=(e,t)=>{Pu("COMPILER_FILTERS",t)&&(e.type===5?Ub(e.content,t):e.type===1&&e.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&Ub(n.exp,t)}))};function Ub(e,t){if(e.type===4)v7(e,t);else for(let n=0;n<e.children.length;n++){const r=e.children[n];typeof r=="object"&&(r.type===4?v7(r,t):r.type===8?Ub(e,t):r.type===5&&Ub(r.content,t))}}function v7(e,t){const n=e.content;let r=!1,i=!1,s=!1,o=!1,a=0,l=0,c=0,d=0,p,f,y,g,b=[];for(y=0;y<n.length;y++)if(f=p,p=n.charCodeAt(y),r)p===39&&f!==92&&(r=!1);else if(i)p===34&&f!==92&&(i=!1);else if(s)p===96&&f!==92&&(s=!1);else if(o)p===47&&f!==92&&(o=!1);else if(p===124&&n.charCodeAt(y+1)!==124&&n.charCodeAt(y-1)!==124&&!a&&!l&&!c)g===void 0?(d=y+1,g=n.slice(0,y).trim()):E();else{switch(p){case 34:i=!0;break;case 39:r=!0;break;case 96:s=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(p===47){let S=y-1,I;for(;S>=0&&(I=n.charAt(S),I===" ");S--);(!I||!jde.test(I))&&(o=!0)}}g===void 0?g=n.slice(0,y).trim():d!==0&&E();function E(){b.push(n.slice(d,y).trim()),d=y+1}if(b.length){for(y=0;y<b.length;y++)g=$de(g,b[y],t);e.content=g,e.ast=void 0}}function $de(e,t,n){n.helper(sI);const r=t.indexOf("(");if(r<0)return n.filters.add(t),`${L0(t,"filter")}(${e})`;{const i=t.slice(0,r),s=t.slice(r+1);return n.filters.add(i),`${L0(i,"filter")}(${e}${s!==")"?","+s:s}`}}const b7=new WeakSet,Vde=(e,t)=>{if(e.type===1){const n=es(e,"memo");return!n||b7.has(e)?void 0:(b7.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&yI(r,t),e.codegenNode=Hn(t.helper(fI),[n.exp,ep(void 0,r),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function Wde(e){return[[Gde,wde,Vde,Sde,zde,Pde,kde,Mde,Ude],{on:m7,bind:Tde,model:g7}]}function Zde(e,t={}){const n=t.onError||gI,r=t.mode==="module";t.prefixIdentifiers===!0?n(en(47)):r&&n(en(48));const i=!1;t.cacheHandlers&&n(en(49)),t.scopeId&&!r&&n(en(50));const s=st({},t,{prefixIdentifiers:i}),o=We(e)?Qhe(e,s):e,[a,l]=Wde();return nde(o,st({},s,{nodeTransforms:[...a,...t.nodeTransforms||[]],directiveTransforms:st({},l,t.directiveTransforms||{})})),ode(o,s)}const Bde=()=>({props:[]}),_7=Symbol(""),w7=Symbol(""),x7=Symbol(""),E7=Symbol(""),AI=Symbol(""),T7=Symbol(""),S7=Symbol(""),I7=Symbol(""),A7=Symbol(""),M7=Symbol("");xhe({[_7]:"vModelRadio",[w7]:"vModelCheckbox",[x7]:"vModelText",[E7]:"vModelSelect",[AI]:"vModelDynamic",[T7]:"withModifiers",[S7]:"withKeys",[I7]:"vShow",[A7]:"Transition",[M7]:"TransitionGroup"});let rp;function Xde(e,t=!1){return rp||(rp=document.createElement("div")),t?(rp.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,rp.children[0].getAttribute("foo")):(rp.innerHTML=e,rp.textContent)}const Hde={parseMode:"html",isVoidTag:tce,isNativeTag:e=>Qle(e)||Kle(e)||ece(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:Xde,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return A7;if(e==="TransitionGroup"||e==="transition-group")return M7},getNamespace(e,t,n){let r=t?t.ns:n;if(t&&r===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(i=>i.type===6&&i.name==="encoding"&&i.value!=null&&(i.value.content==="text/html"||i.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(r=0);else t&&r===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(r=0);if(r===0){if(e==="svg")return 1;if(e==="math")return 2}return r}},Yde=e=>{e.type===1&&e.props.forEach((t,n)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[n]={type:7,name:"bind",arg:Ke("style",!0,t.loc),exp:qde(t.value.content,t.loc),modifiers:[],loc:t.loc})})},qde=(e,t)=>{const n=y8(e);return Ke(JSON.stringify(n),!1,t,3)};function Hl(e,t){return en(e,t)}const Jde=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(Hl(53,i)),t.children.length&&(n.onError(Hl(54,i)),t.children.length=0),{props:[On(Ke("innerHTML",!0,i),r||Ke("",!0))]}},Qde=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(Hl(55,i)),t.children.length&&(n.onError(Hl(56,i)),t.children.length=0),{props:[On(Ke("textContent",!0),r?Ai(r,n)>0?r:Hn(n.helperString(wb),[r],i):Ke("",!0))]}},Kde=(e,t,n)=>{const r=g7(e,t,n);if(!r.props.length||t.tagType===1)return r;e.arg&&n.onError(Hl(58,e.arg.loc));const{tag:i}=t,s=n.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||s){let o=x7,a=!1;if(i==="input"||s){const l=Sb(t,"type");if(l){if(l.type===7)o=AI;else if(l.value)switch(l.value.content){case"radio":o=_7;break;case"checkbox":o=w7;break;case"file":a=!0,n.onError(Hl(59,e.loc));break}}else Dhe(t)&&(o=AI)}else i==="select"&&(o=E7);a||(r.needRuntime=n.helper(o))}else n.onError(Hl(57,e.loc));return r.props=r.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),r},epe=xi("passive,once,capture"),tpe=xi("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),npe=xi("left,right"),O7=xi("onkeyup,onkeydown,onkeypress"),rpe=(e,t,n,r)=>{const i=[],s=[],o=[];for(let a=0;a<t.length;a++){const l=t[a].content;l==="native"&&R0("COMPILER_V_ON_NATIVE",n)||epe(l)?o.push(l):npe(l)?ai(e)?O7(e.content.toLowerCase())?i.push(l):s.push(l):(i.push(l),s.push(l)):tpe(l)?s.push(l):i.push(l)}return{keyModifiers:i,nonKeyModifiers:s,eventOptionModifiers:o}},N7=(e,t)=>ai(e)&&e.content.toLowerCase()==="onclick"?Ke(t,!0):e.type!==4?Gs(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,ipe=(e,t,n)=>m7(e,t,n,r=>{const{modifiers:i}=e;if(!i.length)return r;let{key:s,value:o}=r.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=rpe(s,i,n,e.loc);if(l.includes("right")&&(s=N7(s,"onContextmenu")),l.includes("middle")&&(s=N7(s,"onMouseup")),l.length&&(o=Hn(n.helper(T7),[o,JSON.stringify(l)])),a.length&&(!ai(s)||O7(s.content.toLowerCase()))&&(o=Hn(n.helper(S7),[o,JSON.stringify(a)])),c.length){const d=c.map(Nl).join("");s=ai(s)?Ke(`${s.content}${d}`,!0):Gs(["(",s,`) + "${d}"`])}return{props:[On(s,o)]}}),spe=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(Hl(61,i)),{props:[],needRuntime:n.helper(I7)}},ope=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},ape=[Yde],lpe={cloak:Bde,html:Jde,text:Qde,model:Kde,on:ipe,show:spe};function cpe(e,t={}){return Zde(e,st({},Hde,t,{nodeTransforms:[ope,...ape,...t.nodeTransforms||[]],directiveTransforms:st({},lpe,t.directiveTransforms||{}),transformHoist:null}))}const k7=Object.create(null);function C7(e,t){if(!We(e))if(e.nodeType)e=e.innerHTML;else return er;const n=$le(e,t),r=k7[n];if(r)return r;if(e[0]==="#"){const a=document.querySelector(e);e=a?a.innerHTML:""}const i=st({hoistStatic:!0,onError:void 0,onWarn:er},t);!i.isCustomElement&&typeof customElements<"u"&&(i.isCustomElement=a=>!!customElements.get(a));const{code:s}=cpe(e,i),o=new Function("Vue",s)(yhe);return o._rc=!0,k7[n]=o}FS(C7);const upe=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:KT,BaseTransitionPropsValidators:Vv,Comment:In,DeprecationTypes:PD,EffectScope:_v,ErrorCodes:Y8,ErrorTypeStrings:ND,Fragment:Ot,KeepAlive:w9,ReactiveEffect:Pd,Static:jl,Suspense:dD,Teleport:QT,Text:wo,TrackOpTypes:W8,Transition:E0,TransitionGroup:fb,TriggerOpTypes:Z8,VueElement:fy,assertNumber:H8,callWithAsyncErrorHandling:Ei,callWithErrorHandling:Ll,camelize:zt,capitalize:Nl,cloneVNode:Fs,compatUtils:DD,compile:C7,computed:Qe,createApp:Zl,createBlock:Ft,createCommentVNode:Vt,createElementBlock:_e,createElementVNode:ie,createHydrationRenderer:ES,createPropsRestProxy:G9,createRenderer:xS,createSSRApp:qS,createSlots:S9,createStaticVNode:kS,createTextVNode:Us,createVNode:Ye,customRef:XT,defineAsyncComponent:Bv,defineComponent:tt,defineCustomElement:XS,defineEmits:M9,defineExpose:O9,defineModel:C9,defineOptions:N9,defineProps:A9,defineSSRCustomElement:oP,defineSlots:k9,devtools:kD,effect:I8,effectScope:Qm,getCurrentInstance:Mn,getCurrentScope:wv,getCurrentWatcher:B8,getTransitionRawChildren:l0,guardReactiveProps:NS,h:Ti,handleError:Dl,hasInjectionContext:bS,hydrate:wP,hydrateOnIdle:g9,hydrateOnInteraction:_9,hydrateOnMediaQuery:b9,hydrateOnVisible:v9,initCustomFormatter:AD,initDirectivesForSSR:SP,inject:Sn,isMemoSame:US,isProxy:i0,isReactive:ri,isReadonly:pa,isRef:ot,isRuntimeOnly:ED,isShallow:ii,isVNode:Ds,markRaw:ln,mergeDefaults:F9,mergeModels:U9,mergeProps:_0,nextTick:Hi,normalizeClass:an,normalizeProps:g8,normalizeStyle:la,onActivated:iS,onBeforeMount:p0,onBeforeUnmount:qi,onBeforeUpdate:Yv,onDeactivated:sS,onErrorCaptured:qv,onMounted:tr,onRenderTracked:cS,onRenderTriggered:lS,onScopeDispose:DT,onServerPrefetch:aS,onUnmounted:Gl,onUpdated:Mu,onWatcherCleanup:HT,openBlock:ce,popScopeId:n9,provide:Kv,proxyRefs:Nv,pushScopeId:t9,queuePostFlushCb:$d,reactive:Zn,readonly:Mv,ref:K,registerRuntimeCompiler:FS,render:Qd,renderList:ya,renderSlot:Ji,resolveComponent:vn,resolveDirective:_t,resolveDynamicComponent:Jv,resolveFilter:LD,resolveTransitionHooks:Au,setBlockTracking:sb,setDevtoolsHook:CD,setTransitionHooks:_o,shallowReactive:ZT,shallowReadonly:Ud,shallowRef:Gd,ssrContextKey:IS,ssrUtils:RD,stop:A8,toDisplayString:Ct,toHandlerKey:Tu,toHandlers:I9,toRaw:Fe,toRef:Cv,toRefs:kv,toValue:$8,transformVNodeArgs:vD,triggerRef:z8,unref:Ie,useAttrs:D9,useCssModule:lP,useCssVars:VS,useHost:HS,useId:tS,useModel:lD,useSSRContext:AS,useShadowRoot:aP,useSlots:L9,useTemplateRef:c0,useTransitionState:$v,vModelCheckbox:mb,vModelDynamic:YS,vModelRadio:yb,vModelSelect:gb,vModelText:Yd,vShow:T0,version:GS,warn:OD,watch:Gn,watchEffect:sD,watchPostEffect:oD,watchSyncEffect:MS,withAsyncContext:j9,withCtx:gn,withDefaults:R9,withDirectives:bt,withKeys:bb,withMemo:MD,withModifiers:Jd,withScopeId:r9},Symbol.toStringTag,{value:"Module"}));var hpe=!1,R7={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_62678b5c-7b69-42d1-bdc4-82a00485e0c4",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_62678b5c-7b69-42d1-bdc4-82a00485e0c4",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"milespetrov",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.14.2",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/28.1.13356709",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"10187181",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"836",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20250609.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.10/x64",JOURNAL_STREAM:"9:8318",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.4/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"false",GITHUB_RUN_ID:"15714620255",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"milespetrov/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/2617-keynav-temp",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy8yNjE3LWtleW5hdi10ZW1wXCIsXCJQZXJtaXNzaW9uXCI6M30se1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvbWFpblwiLFwiUGVybWlzc2lvblwiOjF9XSIsImFjc2wiOiIxMCIsImF1ZCI6InZzbzpmNGQ4ODY1NC0wMzkxLTRmMzUtYWIxMS0xNDFlYTQ5OTNjYzMiLCJiaWxsaW5nX293bmVyX2lkIjoiVV9rZ0RPQUp0eHJRIiwiZXhwIjoxNzUwMjA1MTUxLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJpYXQiOjE3NTAxODI5NTEsImlzcyI6Imh0dHBzOi8vdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb20iLCJqb2JfaWQiOiI1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYiLCJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJuYmYiOjE3NTAxODI2NTEsIm9pZGNfZXh0cmEiOiJ7XCJhY3RvclwiOlwibWlsZXNwZXRyb3ZcIixcImFjdG9yX2lkXCI6XCIxMDE4NzE4MVwiLFwiYmFzZV9yZWZcIjpcIlwiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0lDbTRMczVBd3FDU1wiLFwiZXZlbnRfbmFtZVwiOlwicHVzaFwiLFwiaGVhZF9yZWZcIjpcIlwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwibWlsZXNwZXRyb3YvcmFtcDQtcGNhcjQvLmdpdGh1Yi93b3JrZmxvd3MvZGVtby1idWlsZC55bWxAcmVmcy9oZWFkcy8yNjE3LWtleW5hdi10ZW1wXCIsXCJqb2Jfd29ya2Zsb3dfc2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCIsXCJyZWZcIjpcInJlZnMvaGVhZHMvMjYxNy1rZXluYXYtdGVtcFwiLFwicmVmX3Byb3RlY3RlZFwiOlwiZmFsc2VcIixcInJlZl90eXBlXCI6XCJicmFuY2hcIixcInJlcG9zaXRvcnlcIjpcIm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X2lkXCI6XCI1Mzk2MDUwMzhcIixcInJlcG9zaXRvcnlfb3duZXJcIjpcIm1pbGVzcGV0cm92XCIsXCJyZXBvc2l0b3J5X293bmVyX2lkXCI6XCIxMDE4NzE4MVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJ1bl9hdHRlbXB0XCI6XCIxXCIsXCJydW5faWRcIjpcIjE1NzE0NjIwMjU1XCIsXCJydW5fbnVtYmVyXCI6XCIxODhcIixcInJ1bm5lcl9lbnZpcm9ubWVudFwiOlwiZ2l0aHViLWhvc3RlZFwiLFwic2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCIsXCJ3b3JrZmxvd1wiOlwiQnVpbGQgZGVtbyBzaXRlIGFuZCBkZXBsb3kgdG8gR2l0SHViIFBhZ2VzXCIsXCJ3b3JrZmxvd19yZWZcIjpcIm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvMjYxNy1rZXluYXYtdGVtcFwiLFwid29ya2Zsb3dfc2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCJ9Iiwib2lkY19zdWIiOiJyZXBvOm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0OmVudmlyb25tZW50OmdpdGh1Yi1wYWdlcyIsIm9yY2hfaWQiOiI0YjM5NzIxZi1kMDFhLTQ3ZDItOGNmNS0wMzBiYWQ3ZmI3MzEuYnVpbGQuX19kZWZhdWx0Iiwib3duZXJfaWQiOiJVX2tnRE9BSnR4clEiLCJwbGFuX2lkIjoiNGIzOTcyMWYtZDAxYS00N2QyLThjZjUtMDMwYmFkN2ZiNzMxIiwicnVuX2lkIjoiMTU3MTQ2MjAyNTUiLCJydW5fbnVtYmVyIjoiMTg4IiwicnVuX3R5cGUiOiJmdWxsIiwicnVubmVyX2lkIjoiMTAwMDAwMDIxMiIsInJ1bm5lcl90eXBlIjoiaG9zdGVkIiwic2NwIjoiQWN0aW9ucy5SZXN1bHRzOjRiMzk3MjFmLWQwMWEtNDdkMi04Y2Y1LTAzMGJhZDdmYjczMTo1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYgQWN0aW9ucy5SdW5uZXI6NGIzOTcyMWYtZDAxYS00N2QyLThjZjUtMDMwYmFkN2ZiNzMxOjVmOTgwNmRkLThmZmItNTAzNy04N2M0LWZjMWNkZTNjNThiZiBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czo0YjM5NzIxZi1kMDFhLTQ3ZDItOGNmNS0wMzBiYWQ3ZmI3MzE6NWY5ODA2ZGQtOGZmYi01MDM3LTg3YzQtZmMxY2RlM2M1OGJmIGdlbmVyYXRlX2lkX3Rva2VuOjRiMzk3MjFmLWQwMWEtNDdkMi04Y2Y1LTAzMGJhZDdmYjczMTo1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYgQWN0aW9ucy5HZW5lcmljUmVhZDowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAiLCJzaGEiOiI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiIn0.kmAkbBjIAXO1eC1WXQwWxI0VXZseOkSzfl9lDEjYQAIv-TpXaw_gqzJI9DM82TP1ZoAvoDTgQlkoRa6yQejWX0X8Dy0X1Xr2hk7hRfnPq6YcxYoqvksqzy3uX_hqt3elFCRqSUxBv33A3yP2KOxWCw1AMTPe9vLYX5kIG5qaIHgo6n-cfWUQyKg38oxNMWYBaymKrZXJx8CQDYjuhCJ0FngAUJ3OH7Xuw8sK7IO9QQ9f6l0vy2nt--7lDk00kYllWcO77val14tA6gSh7NT4UL64356e0GytaoGraTpH6uMxPC37B_QSDghjdpejHe4Z34x4oLkIYRWo-Pdq_zRD1g",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_97147315-e45d-41fa-b240-9ba30473ecd4",INVOCATION_ID:"933f59bb5d194f848b3bae16fc292b09",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"188",GITHUB_TRIGGERING_ACTOR:"milespetrov",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000000212",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"2617-keynav-temp",GITHUB_REPOSITORY:"milespetrov/ramp4-pcar4",STATS_D_D:"false",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"539605038",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.13.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/heads/2617-keynav-temp",GITHUB_ACTOR:"milespetrov",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_62678b5c-7b69-42d1-bdc4-82a00485e0c4",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"10187181",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-3-azure-eastus.actions.githubusercontent.com/88//idtoken/4b39721f-d01a-47d2-8cf5-030bad7fb731/5f9806dd-8ffb-5037-87c4-fc1cde3c58bf?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_62678b5c-7b69-42d1-bdc4-82a00485e0c4",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_62678b5c-7b69-42d1-bdc4-82a00485e0c4",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};let L7;const Gb=e=>L7=e,D7=Symbol();function MI(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var F0;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(F0||(F0={}));function dpe(){const e=Qm(!0),t=e.run(()=>K({}));let n=[],r=[];const i=ln({install(s){Gb(i),i._a=s,s.provide(D7,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!hpe?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const P7=()=>{};function F7(e,t,n,r=P7){e.push(t);const i=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&wv()&&DT(i),i}function ip(e,...t){e.slice().forEach(n=>{n(...t)})}const ppe=e=>e();function OI(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];MI(i)&&MI(r)&&e.hasOwnProperty(n)&&!ot(r)&&!ri(r)?e[n]=OI(i,r):e[n]=r}return e}const fpe=Symbol();function mpe(e){return!MI(e)||!e.hasOwnProperty(fpe)}const{assign:Yl}=Object;function ype(e){return!!(ot(e)&&e.effect)}function gpe(e,t,n,r){const{state:i,actions:s,getters:o}=t,a=n.state.value[e];let l;function c(){!a&&R7.NODE_ENV==="production"&&(n.state.value[e]=i?i():{});const d=kv(n.state.value[e]);return Yl(d,s,Object.keys(o||{}).reduce((p,f)=>(p[f]=ln(Qe(()=>{Gb(n);const y=n._s.get(e);return o[f].call(y,y)})),p),{}))}return l=U7(e,c,t,n,r,!0),l}function U7(e,t,n={},r,i,s){let o;const a=Yl({actions:{}},n),l={deep:!0};let c,d,p=[],f=[],y;const g=r.state.value[e];!s&&!g&&R7.NODE_ENV==="production"&&(r.state.value[e]={}),K({});let b;function E(k){let C;c=d=!1,typeof k=="function"?(k(r.state.value[e]),C={type:F0.patchFunction,storeId:e,events:y}):(OI(r.state.value[e],k),C={type:F0.patchObject,payload:k,storeId:e,events:y});const R=b=Symbol();Hi().then(()=>{b===R&&(c=!0)}),d=!0,ip(p,C,r.state.value[e])}const S=s?function(){const{state:k}=n,C=k?k():{};this.$patch(R=>{Yl(R,C)})}:P7;function I(){o.stop(),p=[],f=[],r._s.delete(e)}function w(k,C){return function(){Gb(r);const R=Array.from(arguments),U=[],B=[];function G(u){U.push(u)}function z(u){B.push(u)}ip(f,{args:R,name:k,store:A,after:G,onError:z});let J;try{J=C.apply(this&&this.$id===e?this:A,R)}catch(u){throw ip(B,u),u}return J instanceof Promise?J.then(u=>(ip(U,u),u)).catch(u=>(ip(B,u),Promise.reject(u))):(ip(U,J),J)}}const _={_p:r,$id:e,$onAction:F7.bind(null,f),$patch:E,$reset:S,$subscribe(k,C={}){const R=F7(p,k,C.detached,()=>U()),U=o.run(()=>Gn(()=>r.state.value[e],B=>{(C.flush==="sync"?d:c)&&k({storeId:e,type:F0.direct,events:y},B)},Yl({},l,C)));return R},$dispose:I},A=Zn(_);r._s.set(e,A);const M=(r._a&&r._a.runWithContext||ppe)(()=>r._e.run(()=>(o=Qm()).run(t)));for(const k in M){const C=M[k];if(ot(C)&&!ype(C)||ri(C))s||(g&&mpe(C)&&(ot(C)?C.value=g[k]:OI(C,g[k])),r.state.value[e][k]=C);else if(typeof C=="function"){const R=w(k,C);M[k]=R,a.actions[k]=C}}return Yl(A,M),Yl(Fe(A),M),Object.defineProperty(A,"$state",{get:()=>r.state.value[e],set:k=>{E(C=>{Yl(C,k)})}}),r._p.forEach(k=>{Yl(A,o.run(()=>k({store:A,app:r._a,pinia:r,options:a})))}),g&&s&&n.hydrate&&n.hydrate(A.$state,g),c=!0,d=!0,A}function nn(e,t,n){let r,i;const s=typeof t=="function";typeof e=="string"?(r=e,i=s?n:t):(i=e,r=e.id);function o(a,l){const c=bS();return a=a||(c?Sn(D7,null):null),a&&Gb(a),a=L7,a._s.has(r)||(s?U7(r,t,i,a):gpe(r,i,a)),a._s.get(r)}return o.$id=r,o}function vpe(e){{e=Fe(e);const t={};for(const n in e){const r=e[n];(ot(r)||ri(r))&&(t[n]=Cv(e,n))}return t}}const U0=nn("appbar",()=>{const e=K({}),t=K([]),n=K([]),r=Qe(()=>t.value.map(o=>o.map(a=>e.value[a]).filter(a=>{if(typeof a=="string"||a.componentId)return!0})).filter(o=>o.length>0));function i(o){n.value.includes(o)||n.value.push(o)}function s(o){const a=n.value.indexOf(o);a!==-1&&n.value.splice(a,1),o in e.value&&delete e.value[o],t.value.forEach(l=>{const c=l.indexOf(o);c!==-1&&l.splice(c,1)})}return{items:e,order:t,temporary:n,visible:r,addTempButton:i,removeButton:s}}),jb=nn("grid",()=>{const e=K({}),t=K(),n=K();function r(a){e.value={...e.value,[a.id]:a}}function i(a){e.value[a]!==void 0&&delete e.value[a]}function s(a){return Object.keys(e.value).find(l=>e.value[l].layerIds.includes(a))}function o(a,l){e.value[a].layerIds=e.value[a].layerIds.filter(c=>c!==l)}return{grids:e,panel:t,currentId:n,addGrid:r,removeGrid:i,getGridId:s,removeLayer:o}});function xa(e,t,n,r){var i,s=!1,o=0;function a(){i&&clearTimeout(i)}function l(){a(),s=!0}typeof t!="boolean"&&(r=n,n=t,t=void 0);function c(){for(var d=arguments.length,p=new Array(d),f=0;f<d;f++)p[f]=arguments[f];var y=this,g=Date.now()-o;if(s)return;function b(){o=Date.now(),n.apply(y,p)}function E(){i=void 0}r&&!i&&b(),a(),r===void 0&&g>e?b():t!==!0&&(i=setTimeout(r?E:b,r===void 0?e-g:e))}return c.cancel=l,c}function G0(e,t,n){return n===void 0?xa(e,t,!1):xa(e,n,t!==!1)}const ql=nn("map-caption",()=>{const e=K({text:{},logo:{}}),t=K({}),n=K({}),r=K({});function i(o){o!==void 0?t.value.isImperialScale=o:t.value.isImperialScale=!t.value.isImperialScale}function s(o){e.value.text.value=o.text.value,e.value.text.disabled=o.text.disabled,e.value.logo.altText=o.logo.altText,e.value.logo.link=o.logo.link,e.value.logo.value=o.logo.value,e.value.logo.disabled=o.logo.disabled}return{attribution:e,scale:t,coords:n,langtoggle:r,toggleScale:i,setAttribution:s}}),NI=(e,t)=>{const n=[...e];for(;n.length>0;){const r=n.shift();if(t(r))return r;r&&n.push(...r.sublayers)}},js=nn("layer",()=>{const e=K([]),t=K([]),n=K([]);function r(p){return NI(e.value,f=>f?.uid===p)}function i(p){return NI(e.value,f=>f?.id===p)}function s(p){return NI(e.value,f=>f!==void 0&&(f.id===p||f.uid===p))}function o(p){t.value=[...t.value,p]}function a(p,f=void 0){e.value=[...e.value,p],p.mapLayer&&((f===void 0||f<0)&&(console.error("Map layer added to store with invalid index!"),f=n.value.length),n.value.splice(f,0,p.id),n.value=[...n.value])}function l(p,f){if(!p.mapLayer){console.error("Data layer passed to layer store reorder");return}if(f<0){console.error("Negative index passed to layer store reorder");return}f>=n.value.length&&(f=n.value.length-1);const y=n.value.findIndex(g=>g===p.id);y!==-1&&y!==f&&(n.value.splice(y,1),n.value.splice(f,0,p.id),n.value=[...n.value])}function c(p){const f=e.value.filter(y=>y.id!==p.id||y.uid!==p.uid);if(e.value=f,p.mapLayer){const y=n.value.filter(g=>g!==p.id);n.value=y}}function d(p){const f=t.value.filter(y=>y.id!==p);t.value=f}return{layers:e,mapOrder:n,layerConfigs:t,getLayerByUid:r,getLayerById:i,getLayerByAny:s,addLayerConfig:o,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:d}}),zr=nn("config",()=>{const e=K({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),t=K([]),n=K(),r=K({}),i=K({});function s(c){if(r.value[i.value[c]]===void 0)throw new Error("Unsupported language or no registered config exists for requested language");return r.value[i.value[c]]}function o(c){const d={...e.value,...c};if(e.value=d,Array.isArray(e.value.layers)){const p=js();p.layerConfigs=[...p.layerConfigs,e.value.layers]}}function a(c,d){r.value[d]=c,i.value[d]=d}function l(c,d){const p=c.configs,f=Object.keys(p);if(f.length){const y=f[0];d.forEach(g=>{const b=f.includes(g)?g:y;r.value[g]=p[b],i.value[g]=b})}else console.error("Nothingburger config set was registered",c)}return{activeBasemapConfig:n,config:e,registeredConfigs:r,registeredLangs:i,startingFixtures:t,getActiveConfig:s,newConfig:o,registerAllConfigs:l,registerConfig:a}}),kI=nn("details",()=>{const e=K([]),t=K({}),n=K({}),r=K(),i=K(0),s=K(0),o=K(!0),a=K();function l(d){const p=e.value.findIndex(f=>f.uid===d.uid);p!==-1&&e.value.splice(p,1)}function c(d){t.value={...t.value,[d.id]:d}}return{payload:e,properties:t,defaultTemplates:n,currentFeatureId:r,activeGreedy:i,lastHilight:s,hilightToggle:o,origin:a,removeLayer:l,addConfigProperty:c}}),ts=nn("fixture",()=>{const e=K({}),t=K({});function n(o){return o.map(a=>t.value[a].getPromise())}function r(o){if(e.value={...e.value,[o.id]:ln(o)},o.id in t.value)t.value[o.id].resolveMe(ln(o));else{const a=new mn;a.resolveMe(ln(o)),t.value={...t.value,[o.id]:a}}typeof o.added=="function"&&o.added()}function i(o){delete e.value[o.id],e.value={...e.value},delete t.value[o.id],t.value={...t.value},typeof o.removed=="function"&&o.removed()}function s(o){t.value={...t.value,[o]:new mn}}return{items:e,loadPromises:t,getLoadPromises:n,addFixture:r,removeFixture:i,addLoadPromise:s}});var Ae=(e=>(e.APPBAR_BUTTON_CLICK="appbar/click",e.COMPONENT="ramp/component",e.CONFIG_CHANGE="config/configchanged",e.DETAILS_TOGGLE="details/toggle",e.FILTER_CHANGE="filter/change",e.FIXTURE_ADDED="fixture/added",e.FIXTURE_REMOVED="fixture/removed",e.GRID_TOGGLE="grid/toggle",e.HELP_TOGGLE="help/toggle",e.LANG_CHANGE="lang/change",e.LAYER_DRAWSTATECHANGE="layer/drawstatechange",e.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",e.LAYER_LAYERSTATECHANGE="layer/layerstatechange",e.LAYER_OPACITYCHANGE="layer/opacitychange",e.LAYER_REGISTERED="layer/registered",e.LAYER_RELOAD_END="layer/reloadend",e.LAYER_RELOAD_START="layer/reloadstart",e.LAYER_REMOVE="layer/remove",e.LAYER_VISIBILITYCHANGE="layer/visibilitychange",e.MAP_BASEMAPCHANGE="map/basemapchanged",e.MAP_BLUR="map/blur",e.MAP_CLICK="map/click",e.MAP_CREATED="map/created",e.MAP_DESTROYED="map/destroyed",e.MAP_DOUBLECLICK="map/doubleclick",e.MAP_EXTENTCHANGE="map/extentchanged",e.MAP_FOCUS="map/focus",e.MAP_GRAPHICHIT="map/graphichit",e.MAP_IDENTIFY="map/identify",e.MAP_KEYDOWN="map/keydown",e.MAP_KEYUP="map/keyup",e.MAP_MOUSEDOWN="map/mousedown",e.MAP_MOUSELEAVE="map/mouseleave",e.MAP_MOUSEMOVE="map/mousemove",e.MAP_MOUSEMOVE_END="map/mousemoveend",e.MAP_MOUSEMOVE_START="map/mousemovestart",e.MAP_REFRESH_END="map/refreshend",e.MAP_REFRESH_START="map/refreshstart",e.MAP_REORDER="map/reorder",e.MAP_RESIZED="map/resized",e.MAP_SCALECHANGE="map/scalechanged",e.MAP_START="map/start",e.METADATA_TOGGLE="metadata/toggle",e.PANEL_CLOSED="panel/closed",e.PANEL_MINIMIZED="panel/minimized",e.PANEL_OPENED="panel/opened",e.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",e.RAMP_RELOAD="ramp/reload",e.REORDER_TOGGLE="reorder/toggle",e.SETTINGS_TOGGLE="settings/toggle",e.USER_LAYER_ADDED="user/layeradded",e.WIZARD_TOGGLE="wizard/toggle",e))(Ae||{}),CI=(e=>(e.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",e.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",e.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",e.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",e.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",e.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",e.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",e.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",e.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",e.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",e.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",e.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",e.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",e.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",e.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",e.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",e.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",e.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",e.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",e.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",e.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",e.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",e.MAP_MOUSEDOWN_UPDATES_MAPTIP="ramp_map_mousedown_updates_maptip",e.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",e.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",e.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",e.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",e.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",e.TOGGLE_DETAILS="ramp_toggle_details",e.TOGGLE_GRID="ramp_toggle_grid",e.TOGGLE_HELP="ramp_toggle_help",e.TOGGLE_METADATA="ramp_toggle_metadata",e.TOGGLE_REORDER="ramp_toggle_reorder",e.TOGGLE_SETTINGS="ramp_toggle_settings",e.TOGGLE_WIZARD="ramp_toggle_wizard",e))(CI||{});class bpe{eventName;handlerName;handlerFunc;constructor(t,n,r){this.eventName=t,this.handlerName=n,this.handlerFunc=r}}class _pe extends yn{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(t){super(t),this._eventBus=new Dle.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values(Ae).filter(n=>typeof n=="string"&&n.indexOf("/")>-1)}findHandler(t){return this._eventRegister.find(n=>n.handlerName===t)}handlerNamer(t){return this._funCounter++,t.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(t){(Array.isArray(t)?t:[t]).forEach(n=>{this._nameRegister.indexOf(n)===-1&&this._nameRegister.push(n)})}eventNames(){return this._nameRegister.slice()}on(t,n,r=""){if(this.findHandler(r))throw new Error("Duplicate handler name registration: "+r);r||(r=this.handlerNamer(t));const i=new bpe(t,r,n);return this._eventRegister.push(i),this._eventBus.on(t,n),r}off(t){const n=this.findHandler(t);n&&(this._eventRegister.splice(this._eventRegister.indexOf(n),1),this._eventBus.off(n.eventName,n.handlerFunc))}offAll(t=""){this.activeHandlers(t).forEach(n=>this.off(n))}removeDefaultEvents(){Object.values(CI).forEach(t=>{this.off(t)})}emit(t,...n){this._eventBus.emit(t,...n)}once(t,n,r=""){r||(r=this.handlerNamer(t));const i=(...s)=>{n(...s),this.off(r)};return this.on(t,i,r)}activeHandlers(t=""){return t===""?this._eventRegister.map(n=>n.handlerName):this._eventRegister.filter(n=>n.eventName===t).map(n=>n.handlerName)}addDefaultEvents(t){return(!Array.isArray(t)||t.length===0)&&(t=Object.values(CI)),t.map(n=>this.defaultHandlerFactory(n))}defaultHandlerFactory(t){let n;switch(t){case"ramp_layer_error_updates_legend":n=r=>{if(r.layer.layerState===sn.ERROR){const i=this.$iApi.fixture.get("legend");i&&i.updateLegend(r.layer)}},this.$iApi.event.on("layer/layerstatechange",n,t);break;case"ramp_layer_register_binds_legend":n=r=>{const i=this.$iApi.fixture.get("legend");i&&i.updateLegend(r)},this.$iApi.event.on("layer/registered",n,t);break;case"ramp_layer_reload_end_binds_legend":n=r=>{const i=this.$iApi.fixture.get("legend");i&&i.updateLegend(r)},this.$iApi.event.on("layer/reloadend",n,t);break;case"ramp_layer_reload_start_updates_legend":n=r=>{if(!r.isSublayer){const i=this.$iApi.fixture.get("legend");i&&i.reloadLayerItem(r.uid)}},this.$iApi.event.on("layer/reloadstart",n,t);break;case"ramp_layer_remove_checks_grid":n=r=>{if(this.$iApi.fixture.get("grid")){const i=jb(this.$vApp.$pinia),s=i.getGridId(r.id);if(s===void 0)return;if(i.removeLayer(s,r.id),i.grids[s].layerIds.length===0){i.removeGrid(s);const o=i.currentId;if(s===o){const a=this.$iApi.panel.get("grid");this.$iApi.panel.close(a),i.currentId=void 0}}}},this.$iApi.event.on("layer/remove",n,t);break;case"ramp_layer_remove_updates_details":n=r=>{const i=kI(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&i.removeLayer(r)},this.$iApi.event.on("layer/remove",n,t);break;case"ramp_layer_remove_updates_legend":n=r=>{const i=this.$iApi.fixture.get("legend");i&&(i.removeLayerItem(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:r.name})))},this.$iApi.event.on("layer/remove",n,t);break;case"ramp_layer_useradd_updates_legend":n=r=>{const i=this.$iApi.fixture.get("legend");i&&i.addLayerItem(r)},this.$iApi.event.on("user/layeradded",n,t);break;case"ramp_map_basemap_checks_tile_proj":n=r=>{r.schemaChanged&&this.$iApi.geo.layer.allLayers().filter(i=>i.layerType===Oe.TILE).forEach(i=>{i.checkProj()})},this.$iApi.event.on("map/basemapchanged",n,t);break;case"ramp_map_basemap_updates_map_attribs":n=()=>{this.$iApi.geo.map.caption.updateAttribution(zr(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",n,t);break;case"ramp_map_blur_updates_key_handler":n=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",n,t);break;case"ramp_map_click_runs_identify":n=r=>{r.button===0&&this.$iApi.geo.map.runIdentify(r)},this.on("map/click",n,t);break;case"ramp_map_created_initializes_fixtures":n=()=>{const r=ts(this.$vApp.$pinia).items;Object.keys(r).forEach(i=>{r[i].initialized?.()})},this.$iApi.geo.map.created&&n(),this.$iApi.event.on("map/created",n,t);break;case"ramp_map_created_updates_map_attribs":n=()=>{this.$iApi.geo.map.caption.updateAttribution(zr(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&n(),this.$iApi.event.on("map/created",n,t);break;case"ramp_map_extent_updates_maptip":n=()=>{if(this.$iApi.geo.map.keysActive){const r=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(r)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",xa(50,!0,()=>n()),t);break;case"ramp_map_graphichit_creates_maptip":n=r=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(r)},this.$iApi.event.on("map/graphichit",n,t);break;case"ramp_map_identify_opens_identify_results":n=r=>{const i=this.$iApi.fixture.get("details");i&&i.openDetails(r.results)},this.on("map/identify",n,t);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",xa(50,()=>{const r=ql(this.$vApp.$pinia);r.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then(i=>{r.coords={formattedString:i}})}),t);break;case"ramp_map_keydown_updates_key_handler":n=r=>{this.$iApi.geo.map.mapKeyDown(r)},this.$iApi.event.on("map/keydown",n,t);break;case"ramp_map_keyup_updates_key_handler":n=r=>{this.$iApi.geo.map.mapKeyUp(r)},this.$iApi.event.on("map/keyup",n,t);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",xa(50,r=>{const i=ql(this.$vApp.$pinia);i.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(r)).then(s=>{i.coords={formattedString:s}})}),t);break;case"ramp_map_mouse_updates_maptip":n=r=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:r.screenX,screenY:r.screenY})},this.$iApi.event.on("map/mousemove",xa(50,r=>n(r)),t);break;case"ramp_map_mousedown_updates_maptip":n=r=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:r.screenX,screenY:r.screenY})},this.$iApi.event.on("map/mousedown",xa(50,r=>{const i={screenX:r.offsetX,screenY:r.offsetY,button:r.button,moveTime:0};n(i)}),t);break;case"ramp_map_mouseleave_removes_maptip":n=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",n);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",G0(100,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",G0(300,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_panel_close_updates_appbar":n=r=>{const i=U0(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!i.order.flat().find(s=>s===r.id)&&i.removeButton(r.id)},this.on("panel/closed",n,t);break;case"ramp_panel_open_updates_appbar":n=r=>{const i=U0(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!r.teleport||r.teleport?.showAppbarButton)&&!i.order.flat().find(s=>s===r.id)&&i.addTempButton(r.id)},this.on("panel/opened",n,t);break;case"ramp_toggle_details":n=(r,i)=>{const s=this.$iApi.fixture.get("details");s&&s.toggleFeature(r,i)},this.$iApi.event.on("details/toggle",n,t);break;case"ramp_toggle_grid":n=(r,i)=>{const s=this.$iApi.fixture.get("grid");s&&s.toggleGrid(r.id,i)},this.$iApi.event.on("grid/toggle",n,t);break;case"ramp_toggle_help":n=r=>{const i=this.$iApi.fixture.get("help");i&&i.toggleHelp(r)},this.$iApi.event.on("help/toggle",n,t);break;case"ramp_toggle_metadata":n=(r,i)=>{const s=this.$iApi.fixture.get("metadata");s&&s.toggleMetadata(r,i)},this.$iApi.event.on("metadata/toggle",n,t);break;case"ramp_toggle_reorder":n=r=>{const i=this.$iApi.fixture.get("layer-reorder");i&&i.toggleLayerReorder(r)},this.$iApi.event.on("reorder/toggle",n,t);break;case"ramp_toggle_settings":n=(r,i)=>{const s=this.$iApi.fixture.get("settings");s&&s.toggleSettings(r,i)},this.$iApi.event.on("settings/toggle",n,t);break;case"ramp_toggle_wizard":n=r=>{const i=this.$iApi.fixture.get("wizard");i&&i.toggleWizard(r)},this.$iApi.event.on("wizard/toggle",n,t);break;default:return console.error(`Unrecognized default event handler name encountered: ${t}`),`ERROR_NOT_REGISTERED__${t}`}return t}}const zb=typeof window<"u",Jl=(e,t=!1)=>t?Symbol.for(e):Symbol(e),wpe=(e,t,n)=>xpe({l:e,k:t,s:n}),xpe=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),kn=e=>typeof e=="number"&&isFinite(e),Epe=e=>$7(e)==="[object Date]",Ql=e=>$7(e)==="[object RegExp]",$b=e=>Ze(e)&&Object.keys(e).length===0,hr=Object.assign,Tpe=Object.create,Rt=(e=null)=>Tpe(e);let G7;const Ea=()=>G7||(G7=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Rt());function j7(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Spe=Object.prototype.hasOwnProperty;function zs(e,t){return Spe.call(e,t)}const Yt=Array.isArray,Wt=e=>typeof e=="function",xe=e=>typeof e=="string",nt=e=>typeof e=="boolean",mt=e=>e!==null&&typeof e=="object",Ipe=e=>mt(e)&&Wt(e.then)&&Wt(e.catch),z7=Object.prototype.toString,$7=e=>z7.call(e),Ze=e=>{if(!mt(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},Ape=e=>e==null?"":Yt(e)||Ze(e)&&e.toString===z7?JSON.stringify(e,null,2):String(e);function Mpe(e,t=""){return e.reduce((n,r,i)=>i===0?n+r:n+t+r,"")}function Vb(e){let t=e;return()=>++t}function Ope(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const Wb=e=>!mt(e)||Yt(e);function Zb(e,t){if(Wb(e)||Wb(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:r,des:i}=n.pop();Object.keys(r).forEach(s=>{s!=="__proto__"&&(mt(r[s])&&!mt(i[s])&&(i[s]=Array.isArray(r[s])?[]:Rt()),Wb(i[s])||Wb(r[s])?i[s]=r[s]:n.push({src:r[s],des:i[s]}))})}}function Npe(e,t,n){return{line:e,column:t,offset:n}}function Bb(e,t,n){return{start:e,end:t}}const kpe=/\{([0-9a-zA-Z]+)\}/g;function V7(e,...t){return t.length===1&&Cpe(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(kpe,(n,r)=>t.hasOwnProperty(r)?t[r]:"")}const W7=Object.assign,Z7=e=>typeof e=="string",Cpe=e=>e!==null&&typeof e=="object";function B7(e,t=""){return e.reduce((n,r,i)=>i===0?n+r:n+t+r,"")}const RI={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},Rpe={[RI.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function Lpe(e,t,...n){const r=V7(Rpe[e],...n||[]),i={message:String(r),code:e};return t&&(i.location=t),i}const Ue={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},Dpe={[Ue.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ue.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ue.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ue.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ue.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ue.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ue.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ue.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ue.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ue.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ue.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ue.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ue.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ue.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function sp(e,t,n={}){const{domain:r,messages:i,args:s}=n,o=V7((i||Dpe)[e]||"",...s||[]),a=new SyntaxError(String(o));return a.code=e,t&&(a.location=t),a.domain=r,a}function Ppe(e){throw e}const Ta=" ",Fpe="\r",ci=`
`,Upe="\u2028",Gpe="\u2029";function jpe(e){const t=e;let n=0,r=1,i=1,s=0;const o=k=>t[k]===Fpe&&t[k+1]===ci,a=k=>t[k]===ci,l=k=>t[k]===Gpe,c=k=>t[k]===Upe,d=k=>o(k)||a(k)||l(k)||c(k),p=()=>n,f=()=>r,y=()=>i,g=()=>s,b=k=>o(k)||l(k)||c(k)?ci:t[k],E=()=>b(n),S=()=>b(n+s);function I(){return s=0,d(n)&&(r++,i=0),o(n)&&n++,n++,i++,t[n]}function w(){return o(n+s)&&s++,s++,t[n+s]}function _(){n=0,r=1,i=1,s=0}function A(k=0){s=k}function M(){const k=n+s;for(;k!==n;)I();s=0}return{index:p,line:f,column:y,peekOffset:g,charAt:b,currentChar:E,currentPeek:S,next:I,peek:w,reset:_,resetPeek:A,skipToPeek:M}}const Kl=void 0,swe=".",X7="'",zpe="tokenizer";function $pe(e,t={}){const n=t.location!==!1,r=jpe(e),i=()=>r.index(),s=()=>Npe(r.line(),r.column(),r.index()),o=s(),a=i(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:d}=t;function p(L,D,W,...Q){const $=c();if(D.column+=W,D.offset+=W,d){const X=n?Bb($.startLoc,D):null,pe=sp(L,X,{domain:zpe,args:Q});d(pe)}}function f(L,D,W){L.endLoc=s(),L.currentType=D;const Q={type:D};return n&&(Q.loc=Bb(L.startLoc,L.endLoc)),W!=null&&(Q.value=W),Q}const y=L=>f(L,14);function g(L,D){return L.currentChar()===D?(L.next(),D):(p(Ue.EXPECTED_TOKEN,s(),0,D),"")}function b(L){let D="";for(;L.currentPeek()===Ta||L.currentPeek()===ci;)D+=L.currentPeek(),L.peek();return D}function E(L){const D=b(L);return L.skipToPeek(),D}function S(L){if(L===Kl)return!1;const D=L.charCodeAt(0);return D>=97&&D<=122||D>=65&&D<=90||D===95}function I(L){if(L===Kl)return!1;const D=L.charCodeAt(0);return D>=48&&D<=57}function w(L,D){const{currentType:W}=D;if(W!==2)return!1;b(L);const Q=S(L.currentPeek());return L.resetPeek(),Q}function _(L,D){const{currentType:W}=D;if(W!==2)return!1;b(L);const Q=L.currentPeek()==="-"?L.peek():L.currentPeek(),$=I(Q);return L.resetPeek(),$}function A(L,D){const{currentType:W}=D;if(W!==2)return!1;b(L);const Q=L.currentPeek()===X7;return L.resetPeek(),Q}function M(L,D){const{currentType:W}=D;if(W!==8)return!1;b(L);const Q=L.currentPeek()===".";return L.resetPeek(),Q}function k(L,D){const{currentType:W}=D;if(W!==9)return!1;b(L);const Q=S(L.currentPeek());return L.resetPeek(),Q}function C(L,D){const{currentType:W}=D;if(!(W===8||W===12))return!1;b(L);const Q=L.currentPeek()===":";return L.resetPeek(),Q}function R(L,D){const{currentType:W}=D;if(W!==10)return!1;const Q=()=>{const X=L.currentPeek();return X==="{"?S(L.peek()):X==="@"||X==="%"||X==="|"||X===":"||X==="."||X===Ta||!X?!1:X===ci?(L.peek(),Q()):G(L,!1)},$=Q();return L.resetPeek(),$}function U(L){b(L);const D=L.currentPeek()==="|";return L.resetPeek(),D}function B(L){const D=b(L),W=L.currentPeek()==="%"&&L.peek()==="{";return L.resetPeek(),{isModulo:W,hasSpace:D.length>0}}function G(L,D=!0){const W=($=!1,X="",pe=!1)=>{const ge=L.currentPeek();return ge==="{"?X==="%"?!1:$:ge==="@"||!ge?X==="%"?!0:$:ge==="%"?(L.peek(),W($,"%",!0)):ge==="|"?X==="%"||pe?!0:!(X===Ta||X===ci):ge===Ta?(L.peek(),W(!0,Ta,pe)):ge===ci?(L.peek(),W(!0,ci,pe)):!0},Q=W();return D&&L.resetPeek(),Q}function z(L,D){const W=L.currentChar();return W===Kl?Kl:D(W)?(L.next(),W):null}function J(L){const D=L.charCodeAt(0);return D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===95||D===36}function u(L){return z(L,J)}function m(L){const D=L.charCodeAt(0);return D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===95||D===36||D===45}function x(L){return z(L,m)}function N(L){const D=L.charCodeAt(0);return D>=48&&D<=57}function V(L){return z(L,N)}function H(L){const D=L.charCodeAt(0);return D>=48&&D<=57||D>=65&&D<=70||D>=97&&D<=102}function de(L){return z(L,H)}function oe(L){let D="",W="";for(;D=V(L);)W+=D;return W}function Te(L){E(L);const D=L.currentChar();return D!=="%"&&p(Ue.EXPECTED_TOKEN,s(),0,D),L.next(),"%"}function Pe(L){let D="";for(;;){const W=L.currentChar();if(W==="{"||W==="}"||W==="@"||W==="|"||!W)break;if(W==="%")if(G(L))D+=W,L.next();else break;else if(W===Ta||W===ci)if(G(L))D+=W,L.next();else{if(U(L))break;D+=W,L.next()}else D+=W,L.next()}return D}function je(L){E(L);let D="",W="";for(;D=x(L);)W+=D;return L.currentChar()===Kl&&p(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),W}function pt(L){E(L);let D="";return L.currentChar()==="-"?(L.next(),D+=`-${oe(L)}`):D+=oe(L),L.currentChar()===Kl&&p(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),D}function Nt(L){return L!==X7&&L!==ci}function Lt(L){E(L),g(L,"'");let D="",W="";for(;D=z(L,Nt);)D==="\\"?W+=ir(L):W+=D;const Q=L.currentChar();return Q===ci||Q===Kl?(p(Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),Q===ci&&(L.next(),g(L,"'")),W):(g(L,"'"),W)}function ir(L){const D=L.currentChar();switch(D){case"\\":case"'":return L.next(),`\\${D}`;case"u":return Zt(L,D,4);case"U":return Zt(L,D,6);default:return p(Ue.UNKNOWN_ESCAPE_SEQUENCE,s(),0,D),""}}function Zt(L,D,W){g(L,D);let Q="";for(let $=0;$<W;$++){const X=de(L);if(!X){p(Ue.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${D}${Q}${L.currentChar()}`);break}Q+=X}return`\\${D}${Q}`}function rn(L){return L!=="{"&&L!=="}"&&L!==Ta&&L!==ci}function Jn(L){E(L);let D="",W="";for(;D=z(L,rn);)W+=D;return W}function j(L){let D="",W="";for(;D=u(L);)W+=D;return W}function F(L){const D=W=>{const Q=L.currentChar();return Q==="{"||Q==="%"||Q==="@"||Q==="|"||Q==="("||Q===")"||!Q||Q===Ta?W:(W+=Q,L.next(),D(W))};return D("")}function Y(L){E(L);const D=g(L,"|");return E(L),D}function se(L,D){let W=null;switch(L.currentChar()){case"{":return D.braceNest>=1&&p(Ue.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),L.next(),W=f(D,2,"{"),E(L),D.braceNest++,W;case"}":return D.braceNest>0&&D.currentType===2&&p(Ue.EMPTY_PLACEHOLDER,s(),0),L.next(),W=f(D,3,"}"),D.braceNest--,D.braceNest>0&&E(L),D.inLinked&&D.braceNest===0&&(D.inLinked=!1),W;case"@":return D.braceNest>0&&p(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),W=ne(L,D)||y(D),D.braceNest=0,W;default:{let Q=!0,$=!0,X=!0;if(U(L))return D.braceNest>0&&p(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),W=f(D,1,Y(L)),D.braceNest=0,D.inLinked=!1,W;if(D.braceNest>0&&(D.currentType===5||D.currentType===6||D.currentType===7))return p(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),D.braceNest=0,le(L,D);if(Q=w(L,D))return W=f(D,5,je(L)),E(L),W;if($=_(L,D))return W=f(D,6,pt(L)),E(L),W;if(X=A(L,D))return W=f(D,7,Lt(L)),E(L),W;if(!Q&&!$&&!X)return W=f(D,13,Jn(L)),p(Ue.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,W.value),E(L),W;break}}return W}function ne(L,D){const{currentType:W}=D;let Q=null;const $=L.currentChar();switch((W===8||W===9||W===12||W===10)&&($===ci||$===Ta)&&p(Ue.INVALID_LINKED_FORMAT,s(),0),$){case"@":return L.next(),Q=f(D,8,"@"),D.inLinked=!0,Q;case".":return E(L),L.next(),f(D,9,".");case":":return E(L),L.next(),f(D,10,":");default:return U(L)?(Q=f(D,1,Y(L)),D.braceNest=0,D.inLinked=!1,Q):M(L,D)||C(L,D)?(E(L),ne(L,D)):k(L,D)?(E(L),f(D,12,j(L))):R(L,D)?(E(L),$==="{"?se(L,D)||Q:f(D,11,F(L))):(W===8&&p(Ue.INVALID_LINKED_FORMAT,s(),0),D.braceNest=0,D.inLinked=!1,le(L,D))}}function le(L,D){let W={type:14};if(D.braceNest>0)return se(L,D)||y(D);if(D.inLinked)return ne(L,D)||y(D);switch(L.currentChar()){case"{":return se(L,D)||y(D);case"}":return p(Ue.UNBALANCED_CLOSING_BRACE,s(),0),L.next(),f(D,3,"}");case"@":return ne(L,D)||y(D);default:{if(U(L))return W=f(D,1,Y(L)),D.braceNest=0,D.inLinked=!1,W;const{isModulo:Q,hasSpace:$}=B(L);if(Q)return $?f(D,0,Pe(L)):f(D,4,Te(L));if(G(L))return f(D,0,Pe(L));break}}return W}function me(){const{currentType:L,offset:D,startLoc:W,endLoc:Q}=l;return l.lastType=L,l.lastOffset=D,l.lastStartLoc=W,l.lastEndLoc=Q,l.offset=i(),l.startLoc=s(),r.currentChar()===Kl?f(l,14):le(r,l)}return{nextToken:me,currentOffset:i,currentPosition:s,context:c}}const Vpe="parser",Wpe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Zpe(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"\uFFFD"}}}function Bpe(e={}){const t=e.location!==!1,{onError:n,onWarn:r}=e;function i(w,_,A,M,...k){const C=w.currentPosition();if(C.offset+=M,C.column+=M,n){const R=t?Bb(A,C):null,U=sp(_,R,{domain:Vpe,args:k});n(U)}}function s(w,_,A,M,...k){const C=w.currentPosition();if(C.offset+=M,C.column+=M,r){const R=t?Bb(A,C):null;r(Lpe(_,R,k))}}function o(w,_,A){const M={type:w};return t&&(M.start=_,M.end=_,M.loc={start:A,end:A}),M}function a(w,_,A,M){t&&(w.end=_,w.loc&&(w.loc.end=A))}function l(w,_){const A=w.context(),M=o(3,A.offset,A.startLoc);return M.value=_,a(M,w.currentOffset(),w.currentPosition()),M}function c(w,_){const A=w.context(),{lastOffset:M,lastStartLoc:k}=A,C=o(5,M,k);return C.index=parseInt(_,10),w.nextToken(),a(C,w.currentOffset(),w.currentPosition()),C}function d(w,_,A){const M=w.context(),{lastOffset:k,lastStartLoc:C}=M,R=o(4,k,C);return R.key=_,A===!0&&(R.modulo=!0),w.nextToken(),a(R,w.currentOffset(),w.currentPosition()),R}function p(w,_){const A=w.context(),{lastOffset:M,lastStartLoc:k}=A,C=o(9,M,k);return C.value=_.replace(Wpe,Zpe),w.nextToken(),a(C,w.currentOffset(),w.currentPosition()),C}function f(w){const _=w.nextToken(),A=w.context(),{lastOffset:M,lastStartLoc:k}=A,C=o(8,M,k);return _.type!==12?(i(w,Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER,A.lastStartLoc,0),C.value="",a(C,M,k),{nextConsumeToken:_,node:C}):(_.value==null&&i(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,$s(_)),C.value=_.value||"",a(C,w.currentOffset(),w.currentPosition()),{node:C})}function y(w,_){const A=w.context(),M=o(7,A.offset,A.startLoc);return M.value=_,a(M,w.currentOffset(),w.currentPosition()),M}function g(w){const _=w.context(),A=o(6,_.offset,_.startLoc);let M=w.nextToken();if(M.type===9){const k=f(w);A.modifier=k.node,M=k.nextConsumeToken||w.nextToken()}switch(M.type!==10&&i(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,$s(M)),M=w.nextToken(),M.type===2&&(M=w.nextToken()),M.type){case 11:M.value==null&&i(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,$s(M)),A.key=y(w,M.value||"");break;case 5:M.value==null&&i(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,$s(M)),A.key=d(w,M.value||"");break;case 6:M.value==null&&i(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,$s(M)),A.key=c(w,M.value||"");break;case 7:M.value==null&&i(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,$s(M)),A.key=p(w,M.value||"");break;default:{i(w,Ue.UNEXPECTED_EMPTY_LINKED_KEY,_.lastStartLoc,0);const k=w.context(),C=o(7,k.offset,k.startLoc);return C.value="",a(C,k.offset,k.startLoc),A.key=C,a(A,k.offset,k.startLoc),{nextConsumeToken:M,node:A}}}return a(A,w.currentOffset(),w.currentPosition()),{node:A}}function b(w){const _=w.context(),A=_.currentType===1?w.currentOffset():_.offset,M=_.currentType===1?_.endLoc:_.startLoc,k=o(2,A,M);k.items=[];let C=null,R=null;do{const G=C||w.nextToken();switch(C=null,G.type){case 0:G.value==null&&i(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,$s(G)),k.items.push(l(w,G.value||""));break;case 6:G.value==null&&i(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,$s(G)),k.items.push(c(w,G.value||""));break;case 4:R=!0;break;case 5:G.value==null&&i(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,$s(G)),k.items.push(d(w,G.value||"",!!R)),R&&(s(w,RI.USE_MODULO_SYNTAX,_.lastStartLoc,0,$s(G)),R=null);break;case 7:G.value==null&&i(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,$s(G)),k.items.push(p(w,G.value||""));break;case 8:{const z=g(w);k.items.push(z.node),C=z.nextConsumeToken||null;break}}}while(_.currentType!==14&&_.currentType!==1);const U=_.currentType===1?_.lastOffset:w.currentOffset(),B=_.currentType===1?_.lastEndLoc:w.currentPosition();return a(k,U,B),k}function E(w,_,A,M){const k=w.context();let C=M.items.length===0;const R=o(1,_,A);R.cases=[],R.cases.push(M);do{const U=b(w);C||(C=U.items.length===0),R.cases.push(U)}while(k.currentType!==14);return C&&i(w,Ue.MUST_HAVE_MESSAGES_IN_PLURAL,A,0),a(R,w.currentOffset(),w.currentPosition()),R}function S(w){const _=w.context(),{offset:A,startLoc:M}=_,k=b(w);return _.currentType===14?k:E(w,A,M,k)}function I(w){const _=$pe(w,W7({},e)),A=_.context(),M=o(0,A.offset,A.startLoc);return t&&M.loc&&(M.loc.source=w),M.body=S(_),e.onCacheKey&&(M.cacheKey=e.onCacheKey(w)),A.currentType!==14&&i(_,Ue.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,w[A.offset]||""),a(M,_.currentOffset(),_.currentPosition()),M}return{parse:I}}function $s(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"\u2026":t}function Xpe(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:r=>(n.helpers.add(r),r)}}function H7(e,t){for(let n=0;n<e.length;n++)LI(e[n],t)}function LI(e,t){switch(e.type){case 1:H7(e.cases,t),t.helper("plural");break;case 2:H7(e.items,t);break;case 6:{LI(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function Hpe(e,t={}){const n=Xpe(e);n.helper("normalize"),e.body&&LI(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function Ype(e){const t=e.body;return t.type===2?Y7(t):t.cases.forEach(n=>Y7(n)),e}function Y7(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=B7(t);for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const qpe="minifier";function op(e){switch(e.t=e.type,e.type){case 0:{const t=e;op(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let r=0;r<n.length;r++)op(n[r]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let r=0;r<n.length;r++)op(n[r]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;op(t.key),t.k=t.key,delete t.key,t.modifier&&(op(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw sp(Ue.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:qpe,args:[e.type]})}delete e.type}const Jpe="parser";function Qpe(e,t){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:s}=t,o=t.location!==!1,a={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:s,indentLevel:0};o&&e.loc&&(a.source=e.loc.source);const l=()=>a;function c(g,b){a.code+=g}function d(g,b=!0){const E=b?i:"";c(s?E+"  ".repeat(g):E)}function p(g=!0){const b=++a.indentLevel;g&&d(b)}function f(g=!0){const b=--a.indentLevel;g&&d(b)}function y(){d(a.indentLevel)}return{context:l,push:c,indent:p,deindent:f,newline:y,helper:g=>`_${g}`,needIndent:()=>a.needIndent}}function Kpe(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),ap(e,t.key),t.modifier?(e.push(", "),ap(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function efe(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const i=t.items.length;for(let s=0;s<i&&(ap(e,t.items[s]),s!==i-1);s++)e.push(", ");e.deindent(r()),e.push("])")}function tfe(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const i=t.cases.length;for(let s=0;s<i&&(ap(e,t.cases[s]),s!==i-1);s++)e.push(", ");e.deindent(r()),e.push("])")}}function nfe(e,t){t.body?ap(e,t.body):e.push("null")}function ap(e,t){const{helper:n}=e;switch(t.type){case 0:nfe(e,t);break;case 1:tfe(e,t);break;case 2:efe(e,t);break;case 6:Kpe(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw sp(Ue.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:Jpe,args:[t.type]})}}const rfe=(e,t={})=>{const n=Z7(t.mode)?t.mode:"normal",r=Z7(t.filename)?t.filename:"message.intl",i=!!t.sourceMap,s=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,o=t.needIndent?t.needIndent:n!=="arrow",a=e.helpers||[],l=Qpe(e,{mode:n,filename:r,sourceMap:i,breakLineCode:s,needIndent:o});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),a.length>0&&(l.push(`const { ${B7(a.map(p=>`${p}: _${p}`),", ")} } = ctx`),l.newline()),l.push("return "),ap(l,e),l.deindent(o),l.push("}"),delete e.helpers;const{code:c,map:d}=l.context();return{ast:e,code:c,map:d?d.toJSON():void 0}};function ife(e,t={}){const n=W7({},t),r=!!n.jit,i=!!n.minify,s=n.optimize==null?!0:n.optimize,o=Bpe(n).parse(e);return r?(s&&Ype(o),i&&op(o),{ast:o,code:""}):(Hpe(o,n),rfe(o,n))}var sfe={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_62678b5c-7b69-42d1-bdc4-82a00485e0c4",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_62678b5c-7b69-42d1-bdc4-82a00485e0c4",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"milespetrov",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.14.2",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/28.1.13356709",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"10187181",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"836",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20250609.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.10/x64",JOURNAL_STREAM:"9:8318",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.4/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"false",GITHUB_RUN_ID:"15714620255",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"milespetrov/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/2617-keynav-temp",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy8yNjE3LWtleW5hdi10ZW1wXCIsXCJQZXJtaXNzaW9uXCI6M30se1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvbWFpblwiLFwiUGVybWlzc2lvblwiOjF9XSIsImFjc2wiOiIxMCIsImF1ZCI6InZzbzpmNGQ4ODY1NC0wMzkxLTRmMzUtYWIxMS0xNDFlYTQ5OTNjYzMiLCJiaWxsaW5nX293bmVyX2lkIjoiVV9rZ0RPQUp0eHJRIiwiZXhwIjoxNzUwMjA1MTUxLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJpYXQiOjE3NTAxODI5NTEsImlzcyI6Imh0dHBzOi8vdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb20iLCJqb2JfaWQiOiI1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYiLCJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJuYmYiOjE3NTAxODI2NTEsIm9pZGNfZXh0cmEiOiJ7XCJhY3RvclwiOlwibWlsZXNwZXRyb3ZcIixcImFjdG9yX2lkXCI6XCIxMDE4NzE4MVwiLFwiYmFzZV9yZWZcIjpcIlwiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0lDbTRMczVBd3FDU1wiLFwiZXZlbnRfbmFtZVwiOlwicHVzaFwiLFwiaGVhZF9yZWZcIjpcIlwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwibWlsZXNwZXRyb3YvcmFtcDQtcGNhcjQvLmdpdGh1Yi93b3JrZmxvd3MvZGVtby1idWlsZC55bWxAcmVmcy9oZWFkcy8yNjE3LWtleW5hdi10ZW1wXCIsXCJqb2Jfd29ya2Zsb3dfc2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCIsXCJyZWZcIjpcInJlZnMvaGVhZHMvMjYxNy1rZXluYXYtdGVtcFwiLFwicmVmX3Byb3RlY3RlZFwiOlwiZmFsc2VcIixcInJlZl90eXBlXCI6XCJicmFuY2hcIixcInJlcG9zaXRvcnlcIjpcIm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X2lkXCI6XCI1Mzk2MDUwMzhcIixcInJlcG9zaXRvcnlfb3duZXJcIjpcIm1pbGVzcGV0cm92XCIsXCJyZXBvc2l0b3J5X293bmVyX2lkXCI6XCIxMDE4NzE4MVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJ1bl9hdHRlbXB0XCI6XCIxXCIsXCJydW5faWRcIjpcIjE1NzE0NjIwMjU1XCIsXCJydW5fbnVtYmVyXCI6XCIxODhcIixcInJ1bm5lcl9lbnZpcm9ubWVudFwiOlwiZ2l0aHViLWhvc3RlZFwiLFwic2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCIsXCJ3b3JrZmxvd1wiOlwiQnVpbGQgZGVtbyBzaXRlIGFuZCBkZXBsb3kgdG8gR2l0SHViIFBhZ2VzXCIsXCJ3b3JrZmxvd19yZWZcIjpcIm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvMjYxNy1rZXluYXYtdGVtcFwiLFwid29ya2Zsb3dfc2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCJ9Iiwib2lkY19zdWIiOiJyZXBvOm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0OmVudmlyb25tZW50OmdpdGh1Yi1wYWdlcyIsIm9yY2hfaWQiOiI0YjM5NzIxZi1kMDFhLTQ3ZDItOGNmNS0wMzBiYWQ3ZmI3MzEuYnVpbGQuX19kZWZhdWx0Iiwib3duZXJfaWQiOiJVX2tnRE9BSnR4clEiLCJwbGFuX2lkIjoiNGIzOTcyMWYtZDAxYS00N2QyLThjZjUtMDMwYmFkN2ZiNzMxIiwicnVuX2lkIjoiMTU3MTQ2MjAyNTUiLCJydW5fbnVtYmVyIjoiMTg4IiwicnVuX3R5cGUiOiJmdWxsIiwicnVubmVyX2lkIjoiMTAwMDAwMDIxMiIsInJ1bm5lcl90eXBlIjoiaG9zdGVkIiwic2NwIjoiQWN0aW9ucy5SZXN1bHRzOjRiMzk3MjFmLWQwMWEtNDdkMi04Y2Y1LTAzMGJhZDdmYjczMTo1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYgQWN0aW9ucy5SdW5uZXI6NGIzOTcyMWYtZDAxYS00N2QyLThjZjUtMDMwYmFkN2ZiNzMxOjVmOTgwNmRkLThmZmItNTAzNy04N2M0LWZjMWNkZTNjNThiZiBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czo0YjM5NzIxZi1kMDFhLTQ3ZDItOGNmNS0wMzBiYWQ3ZmI3MzE6NWY5ODA2ZGQtOGZmYi01MDM3LTg3YzQtZmMxY2RlM2M1OGJmIGdlbmVyYXRlX2lkX3Rva2VuOjRiMzk3MjFmLWQwMWEtNDdkMi04Y2Y1LTAzMGJhZDdmYjczMTo1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYgQWN0aW9ucy5HZW5lcmljUmVhZDowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAiLCJzaGEiOiI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiIn0.kmAkbBjIAXO1eC1WXQwWxI0VXZseOkSzfl9lDEjYQAIv-TpXaw_gqzJI9DM82TP1ZoAvoDTgQlkoRa6yQejWX0X8Dy0X1Xr2hk7hRfnPq6YcxYoqvksqzy3uX_hqt3elFCRqSUxBv33A3yP2KOxWCw1AMTPe9vLYX5kIG5qaIHgo6n-cfWUQyKg38oxNMWYBaymKrZXJx8CQDYjuhCJ0FngAUJ3OH7Xuw8sK7IO9QQ9f6l0vy2nt--7lDk00kYllWcO77val14tA6gSh7NT4UL64356e0GytaoGraTpH6uMxPC37B_QSDghjdpejHe4Z34x4oLkIYRWo-Pdq_zRD1g",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_97147315-e45d-41fa-b240-9ba30473ecd4",INVOCATION_ID:"933f59bb5d194f848b3bae16fc292b09",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"188",GITHUB_TRIGGERING_ACTOR:"milespetrov",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000000212",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"2617-keynav-temp",GITHUB_REPOSITORY:"milespetrov/ramp4-pcar4",STATS_D_D:"false",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"539605038",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.13.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/heads/2617-keynav-temp",GITHUB_ACTOR:"milespetrov",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_62678b5c-7b69-42d1-bdc4-82a00485e0c4",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"10187181",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-3-azure-eastus.actions.githubusercontent.com/88//idtoken/4b39721f-d01a-47d2-8cf5-030bad7fb731/5f9806dd-8ffb-5037-87c4-fc1cde3c58bf?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_62678b5c-7b69-42d1-bdc4-82a00485e0c4",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_62678b5c-7b69-42d1-bdc4-82a00485e0c4",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};function ofe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ea().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Ea().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ea().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const ec=[];ec[0]={w:[0],i:[3,0],"[":[4],o:[7]},ec[1]={w:[1],".":[2],"[":[4],o:[7]},ec[2]={w:[2],i:[3,0],0:[3,0]},ec[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},ec[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},ec[5]={"'":[4,0],o:8,l:[5,0]},ec[6]={'"':[4,0],o:8,l:[6,0]};const afe=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function lfe(e){return afe.test(e)}function cfe(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function ufe(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function hfe(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:lfe(t)?cfe(t):"*"+t}function dfe(e){const t=[];let n=-1,r=0,i=0,s,o,a,l,c,d,p;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},f[2]=()=>{f[0](),i++},f[3]=()=>{if(i>0)i--,r=4,f[0]();else{if(i=0,o===void 0||(o=hfe(o),o===!1))return!1;f[1]()}};function y(){const g=e[n+1];if(r===5&&g==="'"||r===6&&g==='"')return n++,a="\\"+g,f[0](),!0}for(;r!==null;)if(n++,s=e[n],!(s==="\\"&&y())){if(l=ufe(s),p=ec[r],c=p[l]||p.l||8,c===8||(r=c[0],c[1]!==void 0&&(d=f[c[1]],d&&(a=s,d()===!1))))return;if(r===7)return t}}const q7=new Map;function pfe(e,t){return mt(e)?e[t]:null}function ffe(e,t){if(!mt(e))return null;let n=q7.get(t);if(n||(n=dfe(t),n&&q7.set(t,n)),!n)return null;const r=n.length;let i=e,s=0;for(;s<r;){const o=i[n[s]];if(o===void 0||Wt(i))return null;i=o,s++}return i}const mfe=e=>e,yfe=e=>"",gfe="text",vfe=e=>e.length===0?"":Mpe(e),bfe=Ape;function J7(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function _fe(e){const t=kn(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(kn(e.named.count)||kn(e.named.n))?kn(e.named.count)?e.named.count:kn(e.named.n)?e.named.n:t:t}function wfe(e,t){t.count||(t.count=e),t.n||(t.n=e)}function xfe(e={}){const t=e.locale,n=_fe(e),r=mt(e.pluralRules)&&xe(t)&&Wt(e.pluralRules[t])?e.pluralRules[t]:J7,i=mt(e.pluralRules)&&xe(t)&&Wt(e.pluralRules[t])?J7:void 0,s=E=>E[r(n,E.length,i)],o=e.list||[],a=E=>o[E],l=e.named||Rt();kn(e.pluralIndex)&&wfe(n,l);const c=E=>l[E];function d(E){return(Wt(e.messages)?e.messages(E):mt(e.messages)?e.messages[E]:!1)||(e.parent?e.parent.message(E):yfe)}const p=E=>e.modifiers?e.modifiers[E]:mfe,f=Ze(e.processor)&&Wt(e.processor.normalize)?e.processor.normalize:vfe,y=Ze(e.processor)&&Wt(e.processor.interpolate)?e.processor.interpolate:bfe,g=Ze(e.processor)&&xe(e.processor.type)?e.processor.type:gfe,b={list:a,named:c,plural:s,linked:(E,...S)=>{const[I,w]=S;let _="text",A="";S.length===1?mt(I)?(A=I.modifier||A,_=I.type||_):xe(I)&&(A=I||A):S.length===2&&(xe(I)&&(A=I||A),xe(w)&&(_=w||_));const M=d(E)(b),k=_==="vnode"&&Yt(M)&&A?M[0]:M;return A?p(A)(k,_):k},message:d,type:g,interpolate:y,normalize:f,values:hr(Rt(),o,l)};return b}let j0=null;function Efe(e){j0=e}function Tfe(e,t,n){j0&&j0.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const Sfe=Ife("function:translate");function Ife(e){return t=>j0&&j0.emit(e,t)}const Q7=RI.__EXTEND_POINT__,ju=Vb(Q7),Afe={NOT_FOUND_KEY:Q7,FALLBACK_TO_TRANSLATE:ju(),CANNOT_FORMAT_NUMBER:ju(),FALLBACK_TO_NUMBER_FORMAT:ju(),CANNOT_FORMAT_DATE:ju(),FALLBACK_TO_DATE_FORMAT:ju(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:ju(),__EXTEND_POINT__:ju()},K7=Ue.__EXTEND_POINT__,zu=Vb(K7),Vs={INVALID_ARGUMENT:K7,INVALID_DATE_ARGUMENT:zu(),INVALID_ISO_DATE_ARGUMENT:zu(),NOT_SUPPORT_NON_STRING_MESSAGE:zu(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:zu(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:zu(),NOT_SUPPORT_LOCALE_TYPE:zu(),__EXTEND_POINT__:zu()};function Eo(e){return sp(e,null,void 0)}function DI(e,t){return t.locale!=null?eF(t.locale):eF(e.locale)}let PI;function eF(e){if(xe(e))return e;if(Wt(e)){if(e.resolvedOnce&&PI!=null)return PI;if(e.constructor.name==="Function"){const t=e();if(Ipe(t))throw Eo(Vs.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return PI=t}else throw Eo(Vs.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Eo(Vs.NOT_SUPPORT_LOCALE_TYPE)}function Mfe(e,t,n){return[...new Set([n,...Yt(t)?t:mt(t)?Object.keys(t):xe(t)?[t]:[n]])]}function tF(e,t,n){const r=xe(n)?n:lp,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(r);if(!s){s=[];let o=[n];for(;Yt(o);)o=nF(s,o,t);const a=Yt(t)||!Ze(t)?t:t.default?t.default:null;o=xe(a)?[a]:a,Yt(o)&&nF(s,o,!1),i.__localeChainCache.set(r,s)}return s}function nF(e,t,n){let r=!0;for(let i=0;i<t.length&&nt(r);i++){const s=t[i];xe(s)&&(r=Ofe(e,t[i],n))}return r}function Ofe(e,t,n){let r;const i=t.split("-");do{const s=i.join("-");r=Nfe(e,s,n),i.splice(-1,1)}while(i.length&&r===!0);return r}function Nfe(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const i=t.replace(/!/g,"");e.push(i),(Yt(n)||Ze(n))&&n[i]&&(r=n[i])}return r}const kfe="9.14.3",Xb=-1,lp="en-US",rF="",iF=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Cfe(){return{upper:(e,t)=>t==="text"&&xe(e)?e.toUpperCase():t==="vnode"&&mt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&xe(e)?e.toLowerCase():t==="vnode"&&mt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&xe(e)?iF(e):t==="vnode"&&mt(e)&&"__v_isVNode"in e?iF(e.children):e}}let sF;function oF(e){sF=e}let aF;function Rfe(e){aF=e}let lF;function Lfe(e){lF=e}let cF=null;const owe=e=>{cF=e},Dfe=()=>cF;let uF=null;const hF=e=>{uF=e},Pfe=()=>uF;let dF=0;function Ffe(e={}){const t=Wt(e.onWarn)?e.onWarn:Ope,n=xe(e.version)?e.version:kfe,r=xe(e.locale)||Wt(e.locale)?e.locale:lp,i=Wt(r)?lp:r,s=Yt(e.fallbackLocale)||Ze(e.fallbackLocale)||xe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,o=Ze(e.messages)?e.messages:FI(i),a=Ze(e.datetimeFormats)?e.datetimeFormats:FI(i),l=Ze(e.numberFormats)?e.numberFormats:FI(i),c=hr(Rt(),e.modifiers,Cfe()),d=e.pluralRules||Rt(),p=Wt(e.missing)?e.missing:null,f=nt(e.missingWarn)||Ql(e.missingWarn)?e.missingWarn:!0,y=nt(e.fallbackWarn)||Ql(e.fallbackWarn)?e.fallbackWarn:!0,g=!!e.fallbackFormat,b=!!e.unresolving,E=Wt(e.postTranslation)?e.postTranslation:null,S=Ze(e.processor)?e.processor:null,I=nt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,w=!!e.escapeParameter,_=Wt(e.messageCompiler)?e.messageCompiler:sF,A=Wt(e.messageResolver)?e.messageResolver:aF||pfe,M=Wt(e.localeFallbacker)?e.localeFallbacker:lF||Mfe,k=mt(e.fallbackContext)?e.fallbackContext:void 0,C=e,R=mt(C.__datetimeFormatters)?C.__datetimeFormatters:new Map,U=mt(C.__numberFormatters)?C.__numberFormatters:new Map,B=mt(C.__meta)?C.__meta:{};dF++;const G={version:n,cid:dF,locale:r,fallbackLocale:s,messages:o,modifiers:c,pluralRules:d,missing:p,missingWarn:f,fallbackWarn:y,fallbackFormat:g,unresolving:b,postTranslation:E,processor:S,warnHtmlMessage:I,escapeParameter:w,messageCompiler:_,messageResolver:A,localeFallbacker:M,fallbackContext:k,onWarn:t,__meta:B};return G.datetimeFormats=a,G.numberFormats=l,G.__datetimeFormatters=R,G.__numberFormatters=U,__INTLIFY_PROD_DEVTOOLS__&&Tfe(G,n,B),G}const FI=e=>({[e]:Rt()});function UI(e,t,n,r,i){const{missing:s,onWarn:o}=e;if(s!==null){const a=s(e,n,t,i);return xe(a)?a:t}else return t}function z0(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function Ufe(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Gfe(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let r=n+1;r<t.length;r++)if(Ufe(e,t[r]))return!0;return!1}function GI(e){return t=>jfe(t,e)}function jfe(e,t){const n=$fe(t);if(n==null)throw $0(0);if(zI(n)===1){const r=Wfe(n);return e.plural(r.reduce((i,s)=>[...i,pF(e,s)],[]))}else return pF(e,n)}const zfe=["b","body"];function $fe(e){return tc(e,zfe)}const Vfe=["c","cases"];function Wfe(e){return tc(e,Vfe,[])}function pF(e,t){const n=Bfe(t);if(n!=null)return e.type==="text"?n:e.normalize([n]);{const r=Hfe(t).reduce((i,s)=>[...i,jI(e,s)],[]);return e.normalize(r)}}const Zfe=["s","static"];function Bfe(e){return tc(e,Zfe)}const Xfe=["i","items"];function Hfe(e){return tc(e,Xfe,[])}function jI(e,t){const n=zI(t);switch(n){case 3:return Hb(t,n);case 9:return Hb(t,n);case 4:{const r=t;if(zs(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(zs(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw $0(n)}case 5:{const r=t;if(zs(r,"i")&&kn(r.i))return e.interpolate(e.list(r.i));if(zs(r,"index")&&kn(r.index))return e.interpolate(e.list(r.index));throw $0(n)}case 6:{const r=t,i=Qfe(r),s=eme(r);return e.linked(jI(e,s),i?jI(e,i):void 0,e.type)}case 7:return Hb(t,n);case 8:return Hb(t,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const Yfe=["t","type"];function zI(e){return tc(e,Yfe)}const qfe=["v","value"];function Hb(e,t){const n=tc(e,qfe);if(n)return n;throw $0(t)}const Jfe=["m","modifier"];function Qfe(e){return tc(e,Jfe)}const Kfe=["k","key"];function eme(e){const t=tc(e,Kfe);if(t)return t;throw $0(6)}function tc(e,t,n){for(let r=0;r<t.length;r++){const i=t[r];if(zs(e,i)&&e[i]!=null)return e[i]}return n}function $0(e){return new Error(`unhandled node type: ${e}`)}const fF=e=>e;let cp=Rt();function up(e){return mt(e)&&zI(e)===0&&(zs(e,"b")||zs(e,"body"))}function mF(e,t={}){let n=!1;const r=t.onError||Ppe;return t.onError=i=>{n=!0,r(i)},{...ife(e,t),detectError:n}}const tme=(e,t)=>{if(!xe(e))throw Eo(Vs.NOT_SUPPORT_NON_STRING_MESSAGE);{nt(t.warnHtmlMessage)&&t.warnHtmlMessage;const n=(t.onCacheKey||fF)(e),r=cp[n];if(r)return r;const{code:i,detectError:s}=mF(e,t),o=new Function(`return ${i}`)();return s?o:cp[n]=o}};function nme(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&xe(e)){nt(t.warnHtmlMessage)&&t.warnHtmlMessage;const n=(t.onCacheKey||fF)(e),r=cp[n];if(r)return r;const{ast:i,detectError:s}=mF(e,{...t,location:sfe.NODE_ENV!=="production",jit:!0}),o=GI(i);return s?o:cp[n]=o}else{const n=e.cacheKey;return n?cp[n]||(cp[n]=GI(e)):GI(e)}}const yF=()=>"",ns=e=>Wt(e);function gF(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:s,fallbackLocale:o,messages:a}=e,[l,c]=$I(...t),d=nt(c.missingWarn)?c.missingWarn:e.missingWarn,p=nt(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,f=nt(c.escapeParameter)?c.escapeParameter:e.escapeParameter,y=!!c.resolvedMessage,g=xe(c.default)||nt(c.default)?nt(c.default)?s?l:()=>l:c.default:n?s?l:()=>l:"",b=n||g!=="",E=DI(e,c);f&&rme(c);let[S,I,w]=y?[l,E,a[E]||Rt()]:vF(e,l,E,o,p,d),_=S,A=l;if(!y&&!(xe(_)||up(_)||ns(_))&&b&&(_=g,A=_),!y&&(!(xe(_)||up(_)||ns(_))||!xe(I)))return i?Xb:l;let M=!1;const k=()=>{M=!0},C=ns(_)?_:bF(e,l,I,_,A,k);if(M)return _;const R=ome(e,I,w,c),U=xfe(R),B=ime(e,C,U),G=r?r(B,l):B;if(__INTLIFY_PROD_DEVTOOLS__){const z={timestamp:Date.now(),key:xe(l)?l:ns(_)?_.key:"",locale:I||(ns(_)?_.locale:""),format:xe(_)?_:ns(_)?_.source:"",message:G};z.meta=hr({},e.__meta,Dfe()||{}),Sfe(z)}return G}function rme(e){Yt(e.list)?e.list=e.list.map(t=>xe(t)?j7(t):t):mt(e.named)&&Object.keys(e.named).forEach(t=>{xe(e.named[t])&&(e.named[t]=j7(e.named[t]))})}function vF(e,t,n,r,i,s){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=e,d=c(e,r,n);let p=Rt(),f,y=null;const g="translate";for(let b=0;b<d.length&&(f=d[b],p=o[f]||Rt(),(y=l(p,t))===null&&(y=p[t]),!(xe(y)||up(y)||ns(y)));b++)if(!Gfe(f,d)){const E=UI(e,t,f,s,g);E!==t&&(y=E)}return[y,f,p]}function bF(e,t,n,r,i,s){const{messageCompiler:o,warnHtmlMessage:a}=e;if(ns(r)){const c=r;return c.locale=c.locale||n,c.key=c.key||t,c}if(o==null){const c=()=>r;return c.locale=n,c.key=t,c}const l=o(r,sme(e,n,i,r,a,s));return l.locale=n,l.key=t,l.source=r,l}function ime(e,t,n){return t(n)}function $I(...e){const[t,n,r]=e,i=Rt();if(!xe(t)&&!kn(t)&&!ns(t)&&!up(t))throw Eo(Vs.INVALID_ARGUMENT);const s=kn(t)?String(t):(ns(t),t);return kn(n)?i.plural=n:xe(n)?i.default=n:Ze(n)&&!$b(n)?i.named=n:Yt(n)&&(i.list=n),kn(r)?i.plural=r:xe(r)?i.default=r:Ze(r)&&hr(i,r),[s,i]}function sme(e,t,n,r,i,s){return{locale:t,key:n,warnHtmlMessage:i,onError:o=>{throw s&&s(o),o},onCacheKey:o=>wpe(t,n,o)}}function ome(e,t,n,r){const{modifiers:i,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:d}=e,p={locale:t,modifiers:i,pluralRules:s,messages:f=>{let y=o(n,f);if(y==null&&d){const[,,g]=vF(d,f,t,a,l,c);y=o(g,f)}if(xe(y)||up(y)){let g=!1;const b=bF(e,f,t,y,f,()=>{g=!0});return g?yF:b}else return ns(y)?y:yF}};return e.processor&&(p.processor=e.processor),r.list&&(p.list=r.list),r.named&&(p.named=r.named),kn(r.plural)&&(p.pluralIndex=r.plural),p}function _F(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:o}=e,{__datetimeFormatters:a}=e,[l,c,d,p]=VI(...t),f=nt(d.missingWarn)?d.missingWarn:e.missingWarn;nt(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn;const y=!!d.part,g=DI(e,d),b=o(e,i,g);if(!xe(l)||l==="")return new Intl.DateTimeFormat(g,p).format(c);let E={},S,I=null;const w="datetime format";for(let M=0;M<b.length&&(S=b[M],E=n[S]||{},I=E[l],!Ze(I));M++)UI(e,l,S,f,w);if(!Ze(I)||!xe(S))return r?Xb:l;let _=`${S}__${l}`;$b(p)||(_=`${_}__${JSON.stringify(p)}`);let A=a.get(_);return A||(A=new Intl.DateTimeFormat(S,hr({},I,p)),a.set(_,A)),y?A.formatToParts(c):A.format(c)}const wF=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function VI(...e){const[t,n,r,i]=e,s=Rt();let o=Rt(),a;if(xe(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Eo(Vs.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw Eo(Vs.INVALID_ISO_DATE_ARGUMENT)}}else if(Epe(t)){if(isNaN(t.getTime()))throw Eo(Vs.INVALID_DATE_ARGUMENT);a=t}else if(kn(t))a=t;else throw Eo(Vs.INVALID_ARGUMENT);return xe(n)?s.key=n:Ze(n)&&Object.keys(n).forEach(l=>{wF.includes(l)?o[l]=n[l]:s[l]=n[l]}),xe(r)?s.locale=r:Ze(r)&&(o=r),Ze(i)&&(o=i),[s.key||"",a,s,o]}function xF(e,t,n){const r=e;for(const i in n){const s=`${t}__${i}`;r.__datetimeFormatters.has(s)&&r.__datetimeFormatters.delete(s)}}function EF(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:o}=e,{__numberFormatters:a}=e,[l,c,d,p]=WI(...t),f=nt(d.missingWarn)?d.missingWarn:e.missingWarn;nt(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn;const y=!!d.part,g=DI(e,d),b=o(e,i,g);if(!xe(l)||l==="")return new Intl.NumberFormat(g,p).format(c);let E={},S,I=null;const w="number format";for(let M=0;M<b.length&&(S=b[M],E=n[S]||{},I=E[l],!Ze(I));M++)UI(e,l,S,f,w);if(!Ze(I)||!xe(S))return r?Xb:l;let _=`${S}__${l}`;$b(p)||(_=`${_}__${JSON.stringify(p)}`);let A=a.get(_);return A||(A=new Intl.NumberFormat(S,hr({},I,p)),a.set(_,A)),y?A.formatToParts(c):A.format(c)}const TF=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function WI(...e){const[t,n,r,i]=e,s=Rt();let o=Rt();if(!kn(t))throw Eo(Vs.INVALID_ARGUMENT);const a=t;return xe(n)?s.key=n:Ze(n)&&Object.keys(n).forEach(l=>{TF.includes(l)?o[l]=n[l]:s[l]=n[l]}),xe(r)?s.locale=r:Ze(r)&&(o=r),Ze(i)&&(o=i),[s.key||"",a,s,o]}function SF(e,t,n){const r=e;for(const i in n){const s=`${t}__${i}`;r.__numberFormatters.has(s)&&r.__numberFormatters.delete(s)}}ofe();var ame={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_62678b5c-7b69-42d1-bdc4-82a00485e0c4",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_62678b5c-7b69-42d1-bdc4-82a00485e0c4",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"milespetrov",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.14.2",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/28.1.13356709",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"10187181",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"836",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20250609.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.10/x64",JOURNAL_STREAM:"9:8318",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.4/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"false",GITHUB_RUN_ID:"15714620255",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"milespetrov/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/2617-keynav-temp",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy8yNjE3LWtleW5hdi10ZW1wXCIsXCJQZXJtaXNzaW9uXCI6M30se1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvbWFpblwiLFwiUGVybWlzc2lvblwiOjF9XSIsImFjc2wiOiIxMCIsImF1ZCI6InZzbzpmNGQ4ODY1NC0wMzkxLTRmMzUtYWIxMS0xNDFlYTQ5OTNjYzMiLCJiaWxsaW5nX293bmVyX2lkIjoiVV9rZ0RPQUp0eHJRIiwiZXhwIjoxNzUwMjA1MTUxLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJpYXQiOjE3NTAxODI5NTEsImlzcyI6Imh0dHBzOi8vdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb20iLCJqb2JfaWQiOiI1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYiLCJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJuYmYiOjE3NTAxODI2NTEsIm9pZGNfZXh0cmEiOiJ7XCJhY3RvclwiOlwibWlsZXNwZXRyb3ZcIixcImFjdG9yX2lkXCI6XCIxMDE4NzE4MVwiLFwiYmFzZV9yZWZcIjpcIlwiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0lDbTRMczVBd3FDU1wiLFwiZXZlbnRfbmFtZVwiOlwicHVzaFwiLFwiaGVhZF9yZWZcIjpcIlwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwibWlsZXNwZXRyb3YvcmFtcDQtcGNhcjQvLmdpdGh1Yi93b3JrZmxvd3MvZGVtby1idWlsZC55bWxAcmVmcy9oZWFkcy8yNjE3LWtleW5hdi10ZW1wXCIsXCJqb2Jfd29ya2Zsb3dfc2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCIsXCJyZWZcIjpcInJlZnMvaGVhZHMvMjYxNy1rZXluYXYtdGVtcFwiLFwicmVmX3Byb3RlY3RlZFwiOlwiZmFsc2VcIixcInJlZl90eXBlXCI6XCJicmFuY2hcIixcInJlcG9zaXRvcnlcIjpcIm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X2lkXCI6XCI1Mzk2MDUwMzhcIixcInJlcG9zaXRvcnlfb3duZXJcIjpcIm1pbGVzcGV0cm92XCIsXCJyZXBvc2l0b3J5X293bmVyX2lkXCI6XCIxMDE4NzE4MVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJ1bl9hdHRlbXB0XCI6XCIxXCIsXCJydW5faWRcIjpcIjE1NzE0NjIwMjU1XCIsXCJydW5fbnVtYmVyXCI6XCIxODhcIixcInJ1bm5lcl9lbnZpcm9ubWVudFwiOlwiZ2l0aHViLWhvc3RlZFwiLFwic2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCIsXCJ3b3JrZmxvd1wiOlwiQnVpbGQgZGVtbyBzaXRlIGFuZCBkZXBsb3kgdG8gR2l0SHViIFBhZ2VzXCIsXCJ3b3JrZmxvd19yZWZcIjpcIm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvMjYxNy1rZXluYXYtdGVtcFwiLFwid29ya2Zsb3dfc2hhXCI6XCI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiXCJ9Iiwib2lkY19zdWIiOiJyZXBvOm1pbGVzcGV0cm92L3JhbXA0LXBjYXI0OmVudmlyb25tZW50OmdpdGh1Yi1wYWdlcyIsIm9yY2hfaWQiOiI0YjM5NzIxZi1kMDFhLTQ3ZDItOGNmNS0wMzBiYWQ3ZmI3MzEuYnVpbGQuX19kZWZhdWx0Iiwib3duZXJfaWQiOiJVX2tnRE9BSnR4clEiLCJwbGFuX2lkIjoiNGIzOTcyMWYtZDAxYS00N2QyLThjZjUtMDMwYmFkN2ZiNzMxIiwicnVuX2lkIjoiMTU3MTQ2MjAyNTUiLCJydW5fbnVtYmVyIjoiMTg4IiwicnVuX3R5cGUiOiJmdWxsIiwicnVubmVyX2lkIjoiMTAwMDAwMDIxMiIsInJ1bm5lcl90eXBlIjoiaG9zdGVkIiwic2NwIjoiQWN0aW9ucy5SZXN1bHRzOjRiMzk3MjFmLWQwMWEtNDdkMi04Y2Y1LTAzMGJhZDdmYjczMTo1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYgQWN0aW9ucy5SdW5uZXI6NGIzOTcyMWYtZDAxYS00N2QyLThjZjUtMDMwYmFkN2ZiNzMxOjVmOTgwNmRkLThmZmItNTAzNy04N2M0LWZjMWNkZTNjNThiZiBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czo0YjM5NzIxZi1kMDFhLTQ3ZDItOGNmNS0wMzBiYWQ3ZmI3MzE6NWY5ODA2ZGQtOGZmYi01MDM3LTg3YzQtZmMxY2RlM2M1OGJmIGdlbmVyYXRlX2lkX3Rva2VuOjRiMzk3MjFmLWQwMWEtNDdkMi04Y2Y1LTAzMGJhZDdmYjczMTo1Zjk4MDZkZC04ZmZiLTUwMzctODdjNC1mYzFjZGUzYzU4YmYgQWN0aW9ucy5HZW5lcmljUmVhZDowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAiLCJzaGEiOiI4YzNlZDZmMzg1NmEzZGEzOTNmODRkMGMzOWMxMGYzZDBiNjAyMmFiIn0.kmAkbBjIAXO1eC1WXQwWxI0VXZseOkSzfl9lDEjYQAIv-TpXaw_gqzJI9DM82TP1ZoAvoDTgQlkoRa6yQejWX0X8Dy0X1Xr2hk7hRfnPq6YcxYoqvksqzy3uX_hqt3elFCRqSUxBv33A3yP2KOxWCw1AMTPe9vLYX5kIG5qaIHgo6n-cfWUQyKg38oxNMWYBaymKrZXJx8CQDYjuhCJ0FngAUJ3OH7Xuw8sK7IO9QQ9f6l0vy2nt--7lDk00kYllWcO77val14tA6gSh7NT4UL64356e0GytaoGraTpH6uMxPC37B_QSDghjdpejHe4Z34x4oLkIYRWo-Pdq_zRD1g",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_97147315-e45d-41fa-b240-9ba30473ecd4",INVOCATION_ID:"933f59bb5d194f848b3bae16fc292b09",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"188",GITHUB_TRIGGERING_ACTOR:"milespetrov",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000000212",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"2617-keynav-temp",GITHUB_REPOSITORY:"milespetrov/ramp4-pcar4",STATS_D_D:"false",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"539605038",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.13.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/heads/2617-keynav-temp",GITHUB_ACTOR:"milespetrov",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_62678b5c-7b69-42d1-bdc4-82a00485e0c4",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"10187181",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-3-azure-eastus.actions.githubusercontent.com/88//idtoken/4b39721f-d01a-47d2-8cf5-030bad7fb731/5f9806dd-8ffb-5037-87c4-fc1cde3c58bf?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_62678b5c-7b69-42d1-bdc4-82a00485e0c4",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_62678b5c-7b69-42d1-bdc4-82a00485e0c4",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};const lme="9.14.3";function cme(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Ea().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Ea().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Ea().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ea().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ea().__INTLIFY_PROD_DEVTOOLS__=!1)}const ume=Afe.__EXTEND_POINT__,Sa=Vb(ume);Sa(),Sa(),Sa(),Sa(),Sa(),Sa(),Sa(),Sa(),Sa();const IF=Vs.__EXTEND_POINT__,ui=Vb(IF),Yn={UNEXPECTED_RETURN_TYPE:IF,INVALID_ARGUMENT:ui(),MUST_BE_CALL_SETUP_TOP:ui(),NOT_INSTALLED:ui(),NOT_AVAILABLE_IN_LEGACY_MODE:ui(),REQUIRED_VALUE:ui(),INVALID_VALUE:ui(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:ui(),NOT_INSTALLED_WITH_PROVIDE:ui(),UNEXPECTED_ERROR:ui(),NOT_COMPATIBLE_LEGACY_VUE_I18N:ui(),BRIDGE_SUPPORT_VUE_2_ONLY:ui(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:ui(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:ui(),__EXTEND_POINT__:ui()};function nr(e,...t){return sp(e,null,void 0)}const ZI=Jl("__translateVNode"),BI=Jl("__datetimeParts"),XI=Jl("__numberParts"),AF=Jl("__setPluralRules"),MF=Jl("__injectWithOption"),HI=Jl("__dispose");function V0(e){if(!mt(e))return e;for(const t in e)if(zs(e,t))if(!t.includes("."))mt(e[t])&&V0(e[t]);else{const n=t.split("."),r=n.length-1;let i=e,s=!1;for(let o=0;o<r;o++){if(n[o]==="__proto__")throw new Error(`unsafe key: ${n[o]}`);if(n[o]in i||(i[n[o]]=Rt()),!mt(i[n[o]])){s=!0;break}i=i[n[o]]}s||(i[n[r]]=e[t],delete e[t]),mt(i[n[r]])&&V0(i[n[r]])}return e}function Yb(e,t){const{messages:n,__i18n:r,messageResolver:i,flatJson:s}=t,o=Ze(n)?n:Yt(r)?Rt():{[e]:Rt()};if(Yt(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||Rt(),Zb(c,o[l])):Zb(c,o)}else xe(a)&&Zb(JSON.parse(a),o)}),i==null&&s)for(const a in o)zs(o,a)&&V0(o[a]);return o}function OF(e){return e.type}function NF(e,t,n){let r=mt(t.messages)?t.messages:Rt();"__i18nGlobal"in n&&(r=Yb(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);i.length&&i.forEach(s=>{e.mergeLocaleMessage(s,r[s])});{if(mt(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(mt(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function kF(e){return Ye(wo,null,e,0)}const CF="__INTLIFY_META__",RF=()=>[],hme=()=>!1;let LF=0;function DF(e){return(t,n,r,i)=>e(n,r,Mn()||void 0,i)}const awe=()=>{const e=Mn();let t=null;return e&&(t=OF(e)[CF])?{[CF]:t}:null};function YI(e={},t){const{__root:n,__injectWithOption:r}=e,i=n===void 0,s=e.flatJson,o=zb?K:Gd,a=!!e.translateExistCompatible;let l=nt(e.inheritLocale)?e.inheritLocale:!0;const c=o(n&&l?n.locale.value:xe(e.locale)?e.locale:lp),d=o(n&&l?n.fallbackLocale.value:xe(e.fallbackLocale)||Yt(e.fallbackLocale)||Ze(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:c.value),p=o(Yb(c.value,e)),f=o(Ze(e.datetimeFormats)?e.datetimeFormats:{[c.value]:{}}),y=o(Ze(e.numberFormats)?e.numberFormats:{[c.value]:{}});let g=n?n.missingWarn:nt(e.missingWarn)||Ql(e.missingWarn)?e.missingWarn:!0,b=n?n.fallbackWarn:nt(e.fallbackWarn)||Ql(e.fallbackWarn)?e.fallbackWarn:!0,E=n?n.fallbackRoot:nt(e.fallbackRoot)?e.fallbackRoot:!0,S=!!e.fallbackFormat,I=Wt(e.missing)?e.missing:null,w=Wt(e.missing)?DF(e.missing):null,_=Wt(e.postTranslation)?e.postTranslation:null,A=n?n.warnHtmlMessage:nt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,M=!!e.escapeParameter;const k=n?n.modifiers:Ze(e.modifiers)?e.modifiers:{};let C=e.pluralRules||n&&n.pluralRules,R;R=(()=>{i&&hF(null);const $={version:lme,locale:c.value,fallbackLocale:d.value,messages:p.value,modifiers:k,pluralRules:C,missing:w===null?void 0:w,missingWarn:g,fallbackWarn:b,fallbackFormat:S,unresolving:!0,postTranslation:_===null?void 0:_,warnHtmlMessage:A,escapeParameter:M,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};$.datetimeFormats=f.value,$.numberFormats=y.value,$.__datetimeFormatters=Ze(R)?R.__datetimeFormatters:void 0,$.__numberFormatters=Ze(R)?R.__numberFormatters:void 0;const X=Ffe($);return i&&hF(X),X})(),z0(R,c.value,d.value);function U(){return[c.value,d.value,p.value,f.value,y.value]}const B=Qe({get:()=>c.value,set:$=>{c.value=$,R.locale=c.value}}),G=Qe({get:()=>d.value,set:$=>{d.value=$,R.fallbackLocale=d.value,z0(R,c.value,$)}}),z=Qe(()=>p.value),J=Qe(()=>f.value),u=Qe(()=>y.value);function m(){return Wt(_)?_:null}function x($){_=$,R.postTranslation=$}function N(){return I}function V($){$!==null&&(w=DF($)),I=$,R.missing=w}const H=($,X,pe,ge,qe,et)=>{U();let Qt;try{ame.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__,i||(R.fallbackContext=n?Pfe():void 0),Qt=$(R)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(R.fallbackContext=void 0)}if(pe!=="translate exists"&&kn(Qt)&&Qt===Xb||pe==="translate exists"&&!Qt){const[un,mr]=X();return n&&E?ge(n):qe(un)}else{if(et(Qt))return Qt;throw nr(Yn.UNEXPECTED_RETURN_TYPE)}};function de(...$){return H(X=>Reflect.apply(gF,null,[X,...$]),()=>$I(...$),"translate",X=>Reflect.apply(X.t,X,[...$]),X=>X,X=>xe(X))}function oe(...$){const[X,pe,ge]=$;if(ge&&!mt(ge))throw nr(Yn.INVALID_ARGUMENT);return de(X,pe,hr({resolvedMessage:!0},ge||{}))}function Te(...$){return H(X=>Reflect.apply(_F,null,[X,...$]),()=>VI(...$),"datetime format",X=>Reflect.apply(X.d,X,[...$]),()=>rF,X=>xe(X))}function Pe(...$){return H(X=>Reflect.apply(EF,null,[X,...$]),()=>WI(...$),"number format",X=>Reflect.apply(X.n,X,[...$]),()=>rF,X=>xe(X))}function je($){return $.map(X=>xe(X)||kn(X)||nt(X)?kF(String(X)):X)}const pt={normalize:je,interpolate:$=>$,type:"vnode"};function Nt(...$){return H(X=>{let pe;const ge=X;try{ge.processor=pt,pe=Reflect.apply(gF,null,[ge,...$])}finally{ge.processor=null}return pe},()=>$I(...$),"translate",X=>X[ZI](...$),X=>[kF(X)],X=>Yt(X))}function Lt(...$){return H(X=>Reflect.apply(EF,null,[X,...$]),()=>WI(...$),"number format",X=>X[XI](...$),RF,X=>xe(X)||Yt(X))}function ir(...$){return H(X=>Reflect.apply(_F,null,[X,...$]),()=>VI(...$),"datetime format",X=>X[BI](...$),RF,X=>xe(X)||Yt(X))}function Zt($){C=$,R.pluralRules=C}function rn($,X){return H(()=>{if(!$)return!1;const pe=xe(X)?X:c.value,ge=F(pe),qe=R.messageResolver(ge,$);return a?qe!=null:up(qe)||ns(qe)||xe(qe)},()=>[$],"translate exists",pe=>Reflect.apply(pe.te,pe,[$,X]),hme,pe=>nt(pe))}function Jn($){let X=null;const pe=tF(R,d.value,c.value);for(let ge=0;ge<pe.length;ge++){const qe=p.value[pe[ge]]||{},et=R.messageResolver(qe,$);if(et!=null){X=et;break}}return X}function j($){return Jn($)??(n?n.tm($)||{}:{})}function F($){return p.value[$]||{}}function Y($,X){if(s){const pe={[$]:X};for(const ge in pe)zs(pe,ge)&&V0(pe[ge]);X=pe[$]}p.value[$]=X,R.messages=p.value}function se($,X){p.value[$]=p.value[$]||{};const pe={[$]:X};if(s)for(const ge in pe)zs(pe,ge)&&V0(pe[ge]);X=pe[$],Zb(X,p.value[$]),R.messages=p.value}function ne($){return f.value[$]||{}}function le($,X){f.value[$]=X,R.datetimeFormats=f.value,xF(R,$,X)}function me($,X){f.value[$]=hr(f.value[$]||{},X),R.datetimeFormats=f.value,xF(R,$,X)}function L($){return y.value[$]||{}}function D($,X){y.value[$]=X,R.numberFormats=y.value,SF(R,$,X)}function W($,X){y.value[$]=hr(y.value[$]||{},X),R.numberFormats=y.value,SF(R,$,X)}LF++,n&&zb&&(Gn(n.locale,$=>{l&&(c.value=$,R.locale=$,z0(R,c.value,d.value))}),Gn(n.fallbackLocale,$=>{l&&(d.value=$,R.fallbackLocale=$,z0(R,c.value,d.value))}));const Q={id:LF,locale:B,fallbackLocale:G,get inheritLocale(){return l},set inheritLocale($){l=$,$&&n&&(c.value=n.locale.value,d.value=n.fallbackLocale.value,z0(R,c.value,d.value))},get availableLocales(){return Object.keys(p.value).sort()},messages:z,get modifiers(){return k},get pluralRules(){return C||{}},get isGlobal(){return i},get missingWarn(){return g},set missingWarn($){g=$,R.missingWarn=g},get fallbackWarn(){return b},set fallbackWarn($){b=$,R.fallbackWarn=b},get fallbackRoot(){return E},set fallbackRoot($){E=$},get fallbackFormat(){return S},set fallbackFormat($){S=$,R.fallbackFormat=S},get warnHtmlMessage(){return A},set warnHtmlMessage($){A=$,R.warnHtmlMessage=$},get escapeParameter(){return M},set escapeParameter($){M=$,R.escapeParameter=$},t:de,getLocaleMessage:F,setLocaleMessage:Y,mergeLocaleMessage:se,getPostTranslationHandler:m,setPostTranslationHandler:x,getMissingHandler:N,setMissingHandler:V,[AF]:Zt};return Q.datetimeFormats=J,Q.numberFormats=u,Q.rt=oe,Q.te=rn,Q.tm=j,Q.d=Te,Q.n=Pe,Q.getDateTimeFormat=ne,Q.setDateTimeFormat=le,Q.mergeDateTimeFormat=me,Q.getNumberFormat=L,Q.setNumberFormat=D,Q.mergeNumberFormat=W,Q[MF]=r,Q[ZI]=Nt,Q[BI]=ir,Q[XI]=Lt,Q}function dme(e){const t=xe(e.locale)?e.locale:lp,n=xe(e.fallbackLocale)||Yt(e.fallbackLocale)||Ze(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=Wt(e.missing)?e.missing:void 0,i=nt(e.silentTranslationWarn)||Ql(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,s=nt(e.silentFallbackWarn)||Ql(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,o=nt(e.fallbackRoot)?e.fallbackRoot:!0,a=!!e.formatFallbackMessages,l=Ze(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,d=Wt(e.postTranslation)?e.postTranslation:void 0,p=xe(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,f=!!e.escapeParameterHtml,y=nt(e.sync)?e.sync:!0;let g=e.messages;if(Ze(e.sharedMessages)){const M=e.sharedMessages;g=Object.keys(M).reduce((k,C)=>{const R=k[C]||(k[C]={});return hr(R,M[C]),k},g||{})}const{__i18n:b,__root:E,__injectWithOption:S}=e,I=e.datetimeFormats,w=e.numberFormats,_=e.flatJson,A=e.translateExistCompatible;return{locale:t,fallbackLocale:n,messages:g,flatJson:_,datetimeFormats:I,numberFormats:w,missing:r,missingWarn:i,fallbackWarn:s,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:d,warnHtmlMessage:p,escapeParameter:f,messageResolver:e.messageResolver,inheritLocale:y,translateExistCompatible:A,__i18n:b,__root:E,__injectWithOption:S}}function qI(e={},t){{const n=YI(dme(e)),{__extender:r}=e,i={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return nt(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=nt(s)?!s:s},get silentFallbackWarn(){return nt(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=nt(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[o,a,l]=s,c={};let d=null,p=null;if(!xe(o))throw nr(Yn.INVALID_ARGUMENT);const f=o;return xe(a)?c.locale=a:Yt(a)?d=a:Ze(a)&&(p=a),Yt(l)?d=l:Ze(l)&&(p=l),Reflect.apply(n.t,n,[f,d||p||{},c])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[o,a,l]=s,c={plural:1};let d=null,p=null;if(!xe(o))throw nr(Yn.INVALID_ARGUMENT);const f=o;return xe(a)?c.locale=a:kn(a)?c.plural=a:Yt(a)?d=a:Ze(a)&&(p=a),xe(l)?c.locale=l:Yt(l)?d=l:Ze(l)&&(p=l),Reflect.apply(n.t,n,[f,d||p||{},c])},te(s,o){return n.te(s,o)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,o){n.setLocaleMessage(s,o)},mergeLocaleMessage(s,o){n.mergeLocaleMessage(s,o)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,o){n.setDateTimeFormat(s,o)},mergeDateTimeFormat(s,o){n.mergeDateTimeFormat(s,o)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,o){n.setNumberFormat(s,o)},mergeNumberFormat(s,o){n.mergeNumberFormat(s,o)},getChoiceIndex(s,o){return-1}};return i.__extender=r,i}}const JI={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function pme({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((n,r)=>[...n,...r.type===Ot?r.children:[r]],[]):t.reduce((n,r)=>{const i=e[r];return i&&(n[r]=i()),n},Rt())}function PF(e){return Ot}const fme=tt({name:"i18n-t",props:hr({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>kn(e)||!isNaN(e)}},JI),setup(e,t){const{slots:n,attrs:r}=t,i=e.i18n||qt({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(p=>p!=="_"),o=Rt();e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=xe(e.plural)?+e.plural:e.plural);const a=pme(t,s),l=i[ZI](e.keypath,a,o),c=hr(Rt(),r),d=xe(e.tag)||mt(e.tag)?e.tag:PF();return Ti(d,c,l)}}}),FF=fme;function mme(e){return Yt(e)&&!xe(e[0])}function UF(e,t,n,r){const{slots:i,attrs:s}=t;return()=>{const o={part:!0};let a=Rt();e.locale&&(o.locale=e.locale),xe(e.format)?o.key=e.format:mt(e.format)&&(xe(e.format.key)&&(o.key=e.format.key),a=Object.keys(e.format).reduce((f,y)=>n.includes(y)?hr(Rt(),f,{[y]:e.format[y]}):f,Rt()));const l=r(e.value,o,a);let c=[o.key];Yt(l)?c=l.map((f,y)=>{const g=i[f.type],b=g?g({[f.type]:f.value,index:y,parts:l}):[f.value];return mme(b)&&(b[0].key=`${f.type}-${y}`),b}):xe(l)&&(c=[l]);const d=hr(Rt(),s),p=xe(e.tag)||mt(e.tag)?e.tag:PF();return Ti(p,d,c)}}const yme=tt({name:"i18n-n",props:hr({value:{type:Number,required:!0},format:{type:[String,Object]}},JI),setup(e,t){const n=e.i18n||qt({useScope:e.scope,__useComponent:!0});return UF(e,t,TF,(...r)=>n[XI](...r))}}),GF=yme,gme=tt({name:"i18n-d",props:hr({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},JI),setup(e,t){const n=e.i18n||qt({useScope:e.scope,__useComponent:!0});return UF(e,t,wF,(...r)=>n[BI](...r))}}),jF=gme;function vme(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function bme(e){const t=n=>{const{instance:r,modifiers:i,value:s}=n;if(!r||!r.$)throw nr(Yn.UNEXPECTED_ERROR);const o=vme(e,r.$),a=zF(s);return[Reflect.apply(o.t,o,[...$F(a)]),o]};return{created:(n,r)=>{const[i,s]=t(r);zb&&e.global===s&&(n.__i18nWatcher=Gn(s.locale,()=>{r.instance&&r.instance.$forceUpdate()})),n.__composer=s,n.textContent=i},unmounted:n=>{zb&&n.__i18nWatcher&&(n.__i18nWatcher(),n.__i18nWatcher=void 0,delete n.__i18nWatcher),n.__composer&&(n.__composer=void 0,delete n.__composer)},beforeUpdate:(n,{value:r})=>{if(n.__composer){const i=n.__composer,s=zF(r);n.textContent=Reflect.apply(i.t,i,[...$F(s)])}},getSSRProps:n=>{const[r]=t(n);return{textContent:r}}}}function zF(e){if(xe(e))return{path:e};if(Ze(e)){if(!("path"in e))throw nr(Yn.REQUIRED_VALUE,"path");return e}else throw nr(Yn.INVALID_VALUE)}function $F(e){const{path:t,locale:n,args:r,choice:i,plural:s}=e,o={},a=r||{};return xe(n)&&(o.locale=n),kn(i)&&(o.plural=i),kn(s)&&(o.plural=s),[t,a,o]}function _me(e,t,...n){const r=Ze(n[0])?n[0]:{},i=!!r.useI18nComponentName;(!nt(r.globalInstall)||r.globalInstall)&&([i?"i18n":FF.name,"I18nT"].forEach(s=>e.component(s,FF)),[GF.name,"I18nN"].forEach(s=>e.component(s,GF)),[jF.name,"I18nD"].forEach(s=>e.component(s,jF))),e.directive("t",bme(t))}function wme(e,t,n){return{beforeCreate(){const r=Mn();if(!r)throw nr(Yn.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const s=i.i18n;if(i.__i18n&&(s.__i18n=i.__i18n),s.__root=t,this===this.$root)this.$i18n=VF(e,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=qI(s);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=VF(e,i);else{this.$i18n=qI({__i18n:i.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=e;i.__i18nGlobal&&NF(t,i,i),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,o)=>this.$i18n.te(s,o),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Mn();if(!r)throw nr(Yn.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),n.__deleteInstance(r),delete this.$i18n}}}function VF(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[AF](t.pluralizationRules||e.pluralizationRules);const n=Yb(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(r=>e.mergeLocaleMessage(r,n[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const xme=Jl("global-vue-i18n");function Eme(e={},t){const n=__VUE_I18N_LEGACY_API__&&nt(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=nt(e.globalInjection)?e.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&n?!!e.allowComposition:!0,s=new Map,[o,a]=Tme(e,n),l=Jl("");function c(f){return s.get(f)||null}function d(f,y){s.set(f,y)}function p(f){s.delete(f)}{const f={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return i},async install(y,...g){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,f),Ze(g[0])){const S=g[0];f.__composerExtend=S.__composerExtend,f.__vueI18nExtend=S.__vueI18nExtend}let b=null;!n&&r&&(b=Rme(y,f.global)),__VUE_I18N_FULL_INSTALL__&&_me(y,f,...g),__VUE_I18N_LEGACY_API__&&n&&y.mixin(wme(a,a.__composer,f));const E=y.unmount;y.unmount=()=>{b&&b(),f.dispose(),E()}},get global(){return a},dispose(){o.stop()},__instances:s,__getInstance:c,__setInstance:d,__deleteInstance:p};return f}}function qt(e={}){const t=Mn();if(t==null)throw nr(Yn.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw nr(Yn.NOT_INSTALLED);const n=Sme(t),r=Ame(n),i=OF(t),s=Ime(e,i);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!e.__useComponent){if(!n.allowComposition)throw nr(Yn.NOT_AVAILABLE_IN_LEGACY_MODE);return kme(t,s,r,e)}if(s==="global")return NF(r,e,i),r;if(s==="parent"){let l=Mme(n,t,e.__useComponent);return l==null&&(l=r),l}const o=n;let a=o.__getInstance(t);if(a==null){const l=hr({},e);"__i18n"in i&&(l.__i18n=i.__i18n),r&&(l.__root=r),a=YI(l),o.__composerExtend&&(a[HI]=o.__composerExtend(a)),Nme(o,t,a),o.__setInstance(t,a)}return a}function Tme(e,t,n){const r=Qm();{const i=__VUE_I18N_LEGACY_API__&&t?r.run(()=>qI(e)):r.run(()=>YI(e));if(i==null)throw nr(Yn.UNEXPECTED_ERROR);return[r,i]}}function Sme(e){{const t=Sn(e.isCE?xme:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw nr(e.isCE?Yn.NOT_INSTALLED_WITH_PROVIDE:Yn.UNEXPECTED_ERROR);return t}}function Ime(e,t){return $b(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function Ame(e){return e.mode==="composition"?e.global:e.global.__composer}function Mme(e,t,n=!1){let r=null;const i=t.root;let s=Ome(t,n);for(;s!=null;){const o=e;if(e.mode==="composition")r=o.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(s);a!=null&&(r=a.__composer,n&&r&&!r[MF]&&(r=null))}if(r!=null||i===s)break;s=s.parent}return r}function Ome(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function Nme(e,t,n){tr(()=>{},t),Gl(()=>{const r=n;e.__deleteInstance(t);const i=r[HI];i&&(i(),delete r[HI])},t)}function kme(e,t,n,r={}){const i=t==="local",s=Gd(null);if(i&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw nr(Yn.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=nt(r.inheritLocale)?r.inheritLocale:!xe(r.locale),a=K(!i||o?n.locale.value:xe(r.locale)?r.locale:lp),l=K(!i||o?n.fallbackLocale.value:xe(r.fallbackLocale)||Yt(r.fallbackLocale)||Ze(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:a.value),c=K(Yb(a.value,r)),d=K(Ze(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),p=K(Ze(r.numberFormats)?r.numberFormats:{[a.value]:{}}),f=i?n.missingWarn:nt(r.missingWarn)||Ql(r.missingWarn)?r.missingWarn:!0,y=i?n.fallbackWarn:nt(r.fallbackWarn)||Ql(r.fallbackWarn)?r.fallbackWarn:!0,g=i?n.fallbackRoot:nt(r.fallbackRoot)?r.fallbackRoot:!0,b=!!r.fallbackFormat,E=Wt(r.missing)?r.missing:null,S=Wt(r.postTranslation)?r.postTranslation:null,I=i?n.warnHtmlMessage:nt(r.warnHtmlMessage)?r.warnHtmlMessage:!0,w=!!r.escapeParameter,_=i?n.modifiers:Ze(r.modifiers)?r.modifiers:{},A=r.pluralRules||i&&n.pluralRules;function M(){return[a.value,l.value,c.value,d.value,p.value]}const k=Qe({get:()=>s.value?s.value.locale.value:a.value,set:F=>{s.value&&(s.value.locale.value=F),a.value=F}}),C=Qe({get:()=>s.value?s.value.fallbackLocale.value:l.value,set:F=>{s.value&&(s.value.fallbackLocale.value=F),l.value=F}}),R=Qe(()=>s.value?s.value.messages.value:c.value),U=Qe(()=>d.value),B=Qe(()=>p.value);function G(){return s.value?s.value.getPostTranslationHandler():S}function z(F){s.value&&s.value.setPostTranslationHandler(F)}function J(){return s.value?s.value.getMissingHandler():E}function u(F){s.value&&s.value.setMissingHandler(F)}function m(F){return M(),F()}function x(...F){return s.value?m(()=>Reflect.apply(s.value.t,null,[...F])):m(()=>"")}function N(...F){return s.value?Reflect.apply(s.value.rt,null,[...F]):""}function V(...F){return s.value?m(()=>Reflect.apply(s.value.d,null,[...F])):m(()=>"")}function H(...F){return s.value?m(()=>Reflect.apply(s.value.n,null,[...F])):m(()=>"")}function de(F){return s.value?s.value.tm(F):{}}function oe(F,Y){return s.value?s.value.te(F,Y):!1}function Te(F){return s.value?s.value.getLocaleMessage(F):{}}function Pe(F,Y){s.value&&(s.value.setLocaleMessage(F,Y),c.value[F]=Y)}function je(F,Y){s.value&&s.value.mergeLocaleMessage(F,Y)}function pt(F){return s.value?s.value.getDateTimeFormat(F):{}}function Nt(F,Y){s.value&&(s.value.setDateTimeFormat(F,Y),d.value[F]=Y)}function Lt(F,Y){s.value&&s.value.mergeDateTimeFormat(F,Y)}function ir(F){return s.value?s.value.getNumberFormat(F):{}}function Zt(F,Y){s.value&&(s.value.setNumberFormat(F,Y),p.value[F]=Y)}function rn(F,Y){s.value&&s.value.mergeNumberFormat(F,Y)}const Jn={get id(){return s.value?s.value.id:-1},locale:k,fallbackLocale:C,messages:R,datetimeFormats:U,numberFormats:B,get inheritLocale(){return s.value?s.value.inheritLocale:o},set inheritLocale(F){s.value&&(s.value.inheritLocale=F)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(c.value)},get modifiers(){return s.value?s.value.modifiers:_},get pluralRules(){return s.value?s.value.pluralRules:A},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:f},set missingWarn(F){s.value&&(s.value.missingWarn=F)},get fallbackWarn(){return s.value?s.value.fallbackWarn:y},set fallbackWarn(F){s.value&&(s.value.missingWarn=F)},get fallbackRoot(){return s.value?s.value.fallbackRoot:g},set fallbackRoot(F){s.value&&(s.value.fallbackRoot=F)},get fallbackFormat(){return s.value?s.value.fallbackFormat:b},set fallbackFormat(F){s.value&&(s.value.fallbackFormat=F)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:I},set warnHtmlMessage(F){s.value&&(s.value.warnHtmlMessage=F)},get escapeParameter(){return s.value?s.value.escapeParameter:w},set escapeParameter(F){s.value&&(s.value.escapeParameter=F)},t:x,getPostTranslationHandler:G,setPostTranslationHandler:z,getMissingHandler:J,setMissingHandler:u,rt:N,d:V,n:H,tm:de,te:oe,getLocaleMessage:Te,setLocaleMessage:Pe,mergeLocaleMessage:je,getDateTimeFormat:pt,setDateTimeFormat:Nt,mergeDateTimeFormat:Lt,getNumberFormat:ir,setNumberFormat:Zt,mergeNumberFormat:rn};function j(F){F.locale.value=a.value,F.fallbackLocale.value=l.value,Object.keys(c.value).forEach(Y=>{F.mergeLocaleMessage(Y,c.value[Y])}),Object.keys(d.value).forEach(Y=>{F.mergeDateTimeFormat(Y,d.value[Y])}),Object.keys(p.value).forEach(Y=>{F.mergeNumberFormat(Y,p.value[Y])}),F.escapeParameter=w,F.fallbackFormat=b,F.fallbackRoot=g,F.fallbackWarn=y,F.missingWarn=f,F.warnHtmlMessage=I}return p0(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw nr(Yn.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const F=s.value=e.proxy.$i18n.__composer;t==="global"?(a.value=F.locale.value,l.value=F.fallbackLocale.value,c.value=F.messages.value,d.value=F.datetimeFormats.value,p.value=F.numberFormats.value):i&&j(F)}),Jn}const Cme=["locale","fallbackLocale","availableLocales"],WF=["t","rt","d","n","tm","te"];function Rme(e,t){const n=Object.create(null);return Cme.forEach(r=>{const i=Object.getOwnPropertyDescriptor(t,r);if(!i)throw nr(Yn.UNEXPECTED_ERROR);const s=ot(i.value)?{get(){return i.value.value},set(o){i.value.value=o}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,r,s)}),e.config.globalProperties.$i18n=n,WF.forEach(r=>{const i=Object.getOwnPropertyDescriptor(t,r);if(!i||!i.value)throw nr(Yn.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${r}`,i)}),()=>{delete e.config.globalProperties.$i18n,WF.forEach(r=>{delete e.config.globalProperties[`$${r}`]})}}if(cme(),__INTLIFY_JIT_COMPILATION__?oF(nme):oF(tme),Rfe(ffe),Lfe(tF),__INTLIFY_PROD_DEVTOOLS__){const e=Ea();e.__INTLIFY__=!0,Efe(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const Lme={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","ramp.reload":"Reload RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"Fran\xE7ais","map.language.curr":"current","map.export":"export map","map.layerSwipe.drag":"Drag and slide to move","map.layerSwipe.label":"Layer swipe","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"fran\xE7ais","lang-native":"Fran\xE7ais","ramp.about.open":"Ouvrir \xC0 propos de PCAR","ramp.about":"\xC0 propos de PCAR","ramp.reload":"Recharger PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous d\xE9placer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un \xE9l\xE9ment de la liste est s\xE9lectionn\xE9, vous pouvez appuyer sur \xAB Espace \xBB ou \xAB Entr\xE9e \xBB pour cliquer sur l'\xE9l\xE9ment. Vous pouvez \xE9galement vous d\xE9placer au sein de l'\xE9l\xE9ment de la liste au moyen de la touche \xAB Tab \xBB.","keyboardInstructions.map":"Lorsque la carte est s\xE9lectionn\xE9e, utilisez le pav\xE9 curseur pour vous d\xE9placer et appuyez sur \xAB Entr\xE9e \xBB  pour s\xE9lectionner un point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer \xE0 l'\xE9chelle m\xE9trique","map.toggleScaleToImperial":"Passer \xE0 l'\xE9chelle imp\xE9riale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"Fran\xE7ais","map.language.curr":"actuel","map.export":"exporter la carte","map.layerSwipe.drag":"Faites glisser et glissez pour d\xE9placer","map.layerSwipe.label":"Glissement de calque","notifications.open":"Ouvrir la fen\xEAtre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"D\xE9velopper","notifications.controls.collapse":"R\xE9duire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur Entr\xE9e ou sur la barre d'espacement pour acc\xE9der au panneau","panels.controls.close":"Fermer","panels.controls.pin":"\xC9pingler","panels.controls.unpin":"D\xE9s\xE9pingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"R\xE9duire","panels.controls.expand":"D\xE9velopper","panels.controls.collapse":"R\xE9duire","panels.controls.moveRight":"Aller \xE0 droite","panels.controls.moveLeft":"Aller \xE0 gauche","panels.controls.items":"Utilisez les touches fl\xE9ch\xE9es pour naviguer entre les \xE9l\xE9ments","panels.alert.open":"Fen\xEAtre {name} ouverte","panels.alert.close":"Fen\xEAtre {name} ferm\xE9e","panels.alert.minimize":"Fen\xEAtre {name} r\xE9duite","layer.error":"\xC9chec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que pr\xE9vu","layer.longdraw":"{id} prend plus de temps que pr\xE9vu \xE0 extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont \xE9t\xE9 d\xE9sactiv\xE9s pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement d\xE9sactiv\xE9.","layer.noexportmap":"La tentative d\u2019ajouter {name} comme couche d\u2019imagerie cartographique a \xE9chou\xE9e car elle n\u2019a pu \xEAtre activ\xE9 pour ce service","caption.attributionDefaultText":"Propuls\xE9 par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home"}},ZF="en",Dme={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function Pme(){return Eme({legacy:!1,locale:document.documentElement.getAttribute("lang")||ZF,fallbackLocale:ZF,globalInjection:!0,messages:Lme,numberFormats:Dme})}var BF={exports:{}},XF;function Fme(){return XF||(XF=1,function(e){(function(){var t=typeof window<"u"&&typeof window.document<"u"?window.document:{},n=e.exports,r=function(){for(var o,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,c=a.length,d={};l<c;l++)if(o=a[l],o&&o[1]in t){for(l=0;l<o.length;l++)d[a[0][l]]=o[l];return d}return!1}(),i={change:r.fullscreenchange,error:r.fullscreenerror},s={request:function(o){return new Promise(function(a,l){var c=function(){this.off("change",c),a()}.bind(this);this.on("change",c),o=o||t.documentElement;var d=o[r.requestFullscreen]();d instanceof Promise&&d.then(c).catch(l)}.bind(this))},exit:function(){return new Promise(function(o,a){if(!this.isFullscreen){o();return}var l=function(){this.off("change",l),o()}.bind(this);this.on("change",l);var c=t[r.exitFullscreen]();c instanceof Promise&&c.then(l).catch(a)}.bind(this))},toggle:function(o){return this.isFullscreen?this.exit():this.request(o)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,a){var l=i[o];l&&t.addEventListener(l,a,!1)},off:function(o,a){var l=i[o];l&&t.removeEventListener(l,a,!1)},raw:r};if(!r){n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(s,{isFullscreen:{get:function(){return!!t[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!t[r.fullscreenEnabled]}}}),n?e.exports=s:window.screenfull=s})()}(BF)),BF.exports}var Ume=Fme();const To=Nm(Ume);var qb={exports:{}};qb.exports;var HF;function Gme(){return HF||(HF=1,function(e,t){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",p="[object GeneratorFunction]",f="[object Map]",y="[object Number]",g="[object Object]",b="[object Promise]",E="[object RegExp]",S="[object Set]",I="[object String]",w="[object Symbol]",_="[object WeakMap]",A="[object ArrayBuffer]",M="[object DataView]",k="[object Float32Array]",C="[object Float64Array]",R="[object Int8Array]",U="[object Int16Array]",B="[object Int32Array]",G="[object Uint8Array]",z="[object Uint8ClampedArray]",J="[object Uint16Array]",u="[object Uint32Array]",m=/[\\^$.*+?()[\]{}|]/g,x=/\w*$/,N=/^\[object .+?Constructor\]$/,V=/^(?:0|[1-9]\d*)$/,H={};H[s]=H[o]=H[A]=H[M]=H[a]=H[l]=H[k]=H[C]=H[R]=H[U]=H[B]=H[f]=H[y]=H[g]=H[E]=H[S]=H[I]=H[w]=H[G]=H[z]=H[J]=H[u]=!0,H[c]=H[d]=H[_]=!1;var de=typeof Om=="object"&&Om&&Om.Object===Object&&Om,oe=typeof self=="object"&&self&&self.Object===Object&&self,Te=de||oe||Function("return this")(),Pe=t&&!t.nodeType&&t,je=Pe&&!0&&e&&!e.nodeType&&e,pt=je&&je.exports===Pe;function Nt(P,q){return P.set(q[0],q[1]),P}function Lt(P,q){return P.add(q),P}function ir(P,q){for(var ae=-1,ke=P?P.length:0;++ae<ke&&q(P[ae],ae,P)!==!1;);return P}function Zt(P,q){for(var ae=-1,ke=q.length,or=P.length;++ae<ke;)P[or+ae]=q[ae];return P}function rn(P,q,ae,ke){for(var or=-1,Vr=P?P.length:0;++or<Vr;)ae=q(ae,P[or],or,P);return ae}function Jn(P,q){for(var ae=-1,ke=Array(P);++ae<P;)ke[ae]=q(ae);return ke}function j(P,q){return P?.[q]}function F(P){var q=!1;if(P!=null&&typeof P.toString!="function")try{q=!!(P+"")}catch{}return q}function Y(P){var q=-1,ae=Array(P.size);return P.forEach(function(ke,or){ae[++q]=[or,ke]}),ae}function se(P,q){return function(ae){return P(q(ae))}}function ne(P){var q=-1,ae=Array(P.size);return P.forEach(function(ke){ae[++q]=ke}),ae}var le=Array.prototype,me=Function.prototype,L=Object.prototype,D=Te["__core-js_shared__"],W=function(){var P=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}(),Q=me.toString,$=L.hasOwnProperty,X=L.toString,pe=RegExp("^"+Q.call($).replace(m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ge=pt?Te.Buffer:void 0,qe=Te.Symbol,et=Te.Uint8Array,Qt=se(Object.getPrototypeOf,Object),un=Object.create,mr=L.propertyIsEnumerable,sr=le.splice,ee=Object.getOwnPropertySymbols,Se=ge?ge.isBuffer:void 0,Me=se(Object.keys,Object),Be=ch(Te,"DataView"),Je=ch(Te,"Map"),jn=ch(Te,"Promise"),yr=ch(Te,"Set"),Ys=ch(Te,"WeakMap"),qs=ch(Object,"create"),Uo=dc(Be),oh=dc(Je),La=dc(jn),Q_=dc(yr),Gp=dc(Ys),cc=qe?qe.prototype:void 0,xA=cc?cc.valueOf:void 0;function uc(P){var q=-1,ae=P?P.length:0;for(this.clear();++q<ae;){var ke=P[q];this.set(ke[0],ke[1])}}function Xj(){this.__data__=qs?qs(null):{}}function Hj(P){return this.has(P)&&delete this.__data__[P]}function Yj(P){var q=this.__data__;if(qs){var ae=q[P];return ae===r?void 0:ae}return $.call(q,P)?q[P]:void 0}function qj(P){var q=this.__data__;return qs?q[P]!==void 0:$.call(q,P)}function Jj(P,q){var ae=this.__data__;return ae[P]=qs&&q===void 0?r:q,this}uc.prototype.clear=Xj,uc.prototype.delete=Hj,uc.prototype.get=Yj,uc.prototype.has=qj,uc.prototype.set=Jj;function Go(P){var q=-1,ae=P?P.length:0;for(this.clear();++q<ae;){var ke=P[q];this.set(ke[0],ke[1])}}function Qj(){this.__data__=[]}function Kj(P){var q=this.__data__,ae=yy(q,P);if(ae<0)return!1;var ke=q.length-1;return ae==ke?q.pop():sr.call(q,ae,1),!0}function ez(P){var q=this.__data__,ae=yy(q,P);return ae<0?void 0:q[ae][1]}function tz(P){return yy(this.__data__,P)>-1}function nz(P,q){var ae=this.__data__,ke=yy(ae,P);return ke<0?ae.push([P,q]):ae[ke][1]=q,this}Go.prototype.clear=Qj,Go.prototype.delete=Kj,Go.prototype.get=ez,Go.prototype.has=tz,Go.prototype.set=nz;function ah(P){var q=-1,ae=P?P.length:0;for(this.clear();++q<ae;){var ke=P[q];this.set(ke[0],ke[1])}}function rz(){this.__data__={hash:new uc,map:new(Je||Go),string:new uc}}function iz(P){return gy(this,P).delete(P)}function sz(P){return gy(this,P).get(P)}function oz(P){return gy(this,P).has(P)}function az(P,q){return gy(this,P).set(P,q),this}ah.prototype.clear=rz,ah.prototype.delete=iz,ah.prototype.get=sz,ah.prototype.has=oz,ah.prototype.set=az;function lh(P){this.__data__=new Go(P)}function lz(){this.__data__=new Go}function cz(P){return this.__data__.delete(P)}function uz(P){return this.__data__.get(P)}function hz(P){return this.__data__.has(P)}function dz(P,q){var ae=this.__data__;if(ae instanceof Go){var ke=ae.__data__;if(!Je||ke.length<n-1)return ke.push([P,q]),this;ae=this.__data__=new ah(ke)}return ae.set(P,q),this}lh.prototype.clear=lz,lh.prototype.delete=cz,lh.prototype.get=uz,lh.prototype.has=hz,lh.prototype.set=dz;function pz(P,q){var ae=t2(P)||Fz(P)?Jn(P.length,String):[],ke=ae.length,or=!!ke;for(var Vr in P)$.call(P,Vr)&&!(or&&(Vr=="length"||Rz(Vr,ke)))&&ae.push(Vr);return ae}function EA(P,q,ae){var ke=P[q];(!($.call(P,q)&&AA(ke,ae))||ae===void 0&&!(q in P))&&(P[q]=ae)}function yy(P,q){for(var ae=P.length;ae--;)if(AA(P[ae][0],q))return ae;return-1}function fz(P,q){return P&&TA(q,n2(q),P)}function K_(P,q,ae,ke,or,Vr,jo){var Wr;if(ke&&(Wr=Vr?ke(P,or,Vr,jo):ke(P)),Wr!==void 0)return Wr;if(!vy(P))return P;var NA=t2(P);if(NA){if(Wr=Nz(P),!q)return Az(P,Wr)}else{var uh=hc(P),kA=uh==d||uh==p;if(Gz(P))return _z(P,q);if(uh==g||uh==s||kA&&!Vr){if(F(P))return Vr?P:{};if(Wr=kz(kA?{}:P),!q)return Mz(P,fz(Wr,P))}else{if(!H[uh])return Vr?P:{};Wr=Cz(P,uh,K_,q)}}jo||(jo=new lh);var CA=jo.get(P);if(CA)return CA;if(jo.set(P,Wr),!NA)var RA=ae?Oz(P):n2(P);return ir(RA||P,function(r2,by){RA&&(by=r2,r2=P[by]),EA(Wr,by,K_(r2,q,ae,ke,by,P,jo))}),Wr}function mz(P){return vy(P)?un(P):{}}function yz(P,q,ae){var ke=q(P);return t2(P)?ke:Zt(ke,ae(P))}function gz(P){return X.call(P)}function vz(P){if(!vy(P)||Dz(P))return!1;var q=OA(P)||F(P)?pe:N;return q.test(dc(P))}function bz(P){if(!IA(P))return Me(P);var q=[];for(var ae in Object(P))$.call(P,ae)&&ae!="constructor"&&q.push(ae);return q}function _z(P,q){if(q)return P.slice();var ae=new P.constructor(P.length);return P.copy(ae),ae}function e2(P){var q=new P.constructor(P.byteLength);return new et(q).set(new et(P)),q}function wz(P,q){var ae=q?e2(P.buffer):P.buffer;return new P.constructor(ae,P.byteOffset,P.byteLength)}function xz(P,q,ae){var ke=q?ae(Y(P),!0):Y(P);return rn(ke,Nt,new P.constructor)}function Ez(P){var q=new P.constructor(P.source,x.exec(P));return q.lastIndex=P.lastIndex,q}function Tz(P,q,ae){var ke=q?ae(ne(P),!0):ne(P);return rn(ke,Lt,new P.constructor)}function Sz(P){return xA?Object(xA.call(P)):{}}function Iz(P,q){var ae=q?e2(P.buffer):P.buffer;return new P.constructor(ae,P.byteOffset,P.length)}function Az(P,q){var ae=-1,ke=P.length;for(q||(q=Array(ke));++ae<ke;)q[ae]=P[ae];return q}function TA(P,q,ae,ke){ae||(ae={});for(var or=-1,Vr=q.length;++or<Vr;){var jo=q[or],Wr=void 0;EA(ae,jo,Wr===void 0?P[jo]:Wr)}return ae}function Mz(P,q){return TA(P,SA(P),q)}function Oz(P){return yz(P,n2,SA)}function gy(P,q){var ae=P.__data__;return Lz(q)?ae[typeof q=="string"?"string":"hash"]:ae.map}function ch(P,q){var ae=j(P,q);return vz(ae)?ae:void 0}var SA=ee?se(ee,Object):$z,hc=gz;(Be&&hc(new Be(new ArrayBuffer(1)))!=M||Je&&hc(new Je)!=f||jn&&hc(jn.resolve())!=b||yr&&hc(new yr)!=S||Ys&&hc(new Ys)!=_)&&(hc=function(P){var q=X.call(P),ae=q==g?P.constructor:void 0,ke=ae?dc(ae):void 0;if(ke)switch(ke){case Uo:return M;case oh:return f;case La:return b;case Q_:return S;case Gp:return _}return q});function Nz(P){var q=P.length,ae=P.constructor(q);return q&&typeof P[0]=="string"&&$.call(P,"index")&&(ae.index=P.index,ae.input=P.input),ae}function kz(P){return typeof P.constructor=="function"&&!IA(P)?mz(Qt(P)):{}}function Cz(P,q,ae,ke){var or=P.constructor;switch(q){case A:return e2(P);case a:case l:return new or(+P);case M:return wz(P,ke);case k:case C:case R:case U:case B:case G:case z:case J:case u:return Iz(P,ke);case f:return xz(P,ke,ae);case y:case I:return new or(P);case E:return Ez(P);case S:return Tz(P,ke,ae);case w:return Sz(P)}}function Rz(P,q){return q=q??i,!!q&&(typeof P=="number"||V.test(P))&&P>-1&&P%1==0&&P<q}function Lz(P){var q=typeof P;return q=="string"||q=="number"||q=="symbol"||q=="boolean"?P!=="__proto__":P===null}function Dz(P){return!!W&&W in P}function IA(P){var q=P&&P.constructor,ae=typeof q=="function"&&q.prototype||L;return P===ae}function dc(P){if(P!=null){try{return Q.call(P)}catch{}try{return P+""}catch{}}return""}function Pz(P){return K_(P,!0,!0)}function AA(P,q){return P===q||P!==P&&q!==q}function Fz(P){return Uz(P)&&$.call(P,"callee")&&(!mr.call(P,"callee")||X.call(P)==s)}var t2=Array.isArray;function MA(P){return P!=null&&jz(P.length)&&!OA(P)}function Uz(P){return zz(P)&&MA(P)}var Gz=Se||Vz;function OA(P){var q=vy(P)?X.call(P):"";return q==d||q==p}function jz(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=i}function vy(P){var q=typeof P;return!!P&&(q=="object"||q=="function")}function zz(P){return!!P&&typeof P=="object"}function n2(P){return MA(P)?pz(P):bz(P)}function $z(){return[]}function Vz(){return!1}e.exports=Pz}(qb,qb.exports)),qb.exports}var jme=Gme();const YF=Nm(jme),Jb=nn("maptip",()=>{const e=K(void 0),t=K(void 0),n=K("");function r(o){e.value=o}function i(o){t.value=o}function s(o){n.value=o}return{maptipInstance:e,maptipPoint:t,content:n,setMaptipInstance:r,setMaptipPoint:i,setMaptipContent:s}}),zme=tt({__name:"esri-map",setup(e){const t=Jb(),n=Sn("iApi"),r=Qe(()=>t.maptipPoint),i=Qe(()=>t.maptipInstance),s=Qe(()=>t.content),o=Zn([]),a=K(!1);o.push(Gn(r,()=>{if(r.value){const c=n.geo.map.getPixelWidth()/2,d=0,p=n.geo.map.mapPointToScreenPoint(r.value),f=p.screenX-c,y=d-p.screenY;i.value.setProps({offset:a.value?[f,y+25]:[f,y]}),s.value&&s.value!==""&&i.value.show()}else i.value.hide()})),o.push(Gn(s,c=>{c&&c!==""&&r?(i.value.setContent(c),i.value.show()):i.value.hide()})),qi(()=>{o.forEach(c=>c())});const l=()=>{n.geo.map.setMouseFocus()};return(c,d)=>{const p=_t("tippy");return bt((ce(),_e("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:l,onTouchstart:d[0]||(d[0]=f=>a.value=!0),onTouchend:d[1]||(d[1]=f=>a.value=!1),onKeydown:d[2]||(d[2]=bb(Jd(()=>{},["prevent"]),["up","down","left","right"]))},null,544)),[[p,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var qF={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},QI={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},$me=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Qb={CSS:{},springs:{}};function So(e,t,n){return Math.min(Math.max(e,t),n)}function W0(e,t){return e.indexOf(t)>-1}function KI(e,t){return e.apply(null,t)}var Le={arr:function(e){return Array.isArray(e)},obj:function(e){return W0(Object.prototype.toString.call(e),"Object")},pth:function(e){return Le.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||Le.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return Le.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return Le.hex(e)||Le.rgb(e)||Le.hsl(e)},key:function(e){return!qF.hasOwnProperty(e)&&!QI.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function JF(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(n){return parseFloat(n)}):[]}function QF(e,t){var n=JF(e),r=So(Le.und(n[0])?1:n[0],.1,100),i=So(Le.und(n[1])?100:n[1],.1,100),s=So(Le.und(n[2])?10:n[2],.1,100),o=So(Le.und(n[3])?0:n[3],.1,100),a=Math.sqrt(i/r),l=s/(2*Math.sqrt(i*r)),c=l<1?a*Math.sqrt(1-l*l):0,d=1,p=l<1?(l*a+-o)/c:-o+a;function f(g){var b=t?t*g/1e3:g;return l<1?b=Math.exp(-b*l*a)*(d*Math.cos(c*b)+p*Math.sin(c*b)):b=(d+p*b)*Math.exp(-b*a),g===0||g===1?g:1-b}function y(){var g=Qb.springs[e];if(g)return g;for(var b=1/6,E=0,S=0;;)if(E+=b,f(E)===1){if(S++,S>=16)break}else S=0;var I=E*b*1e3;return Qb.springs[e]=I,I}return t?f:y}function Vme(e){return e===void 0&&(e=10),function(t){return Math.ceil(So(t,1e-6,1)*e)*(1/e)}}var Wme=function(){var e=11,t=1/(e-1);function n(d,p){return 1-3*p+3*d}function r(d,p){return 3*p-6*d}function i(d){return 3*d}function s(d,p,f){return((n(p,f)*d+r(p,f))*d+i(p))*d}function o(d,p,f){return 3*n(p,f)*d*d+2*r(p,f)*d+i(p)}function a(d,p,f,y,g){var b,E,S=0;do E=p+(f-p)/2,b=s(E,y,g)-d,b>0?f=E:p=E;while(Math.abs(b)>1e-7&&++S<10);return E}function l(d,p,f,y){for(var g=0;g<4;++g){var b=o(p,f,y);if(b===0)return p;var E=s(p,f,y)-d;p-=E/b}return p}function c(d,p,f,y){if(!(0<=d&&d<=1&&0<=f&&f<=1))return;var g=new Float32Array(e);if(d!==p||f!==y)for(var b=0;b<e;++b)g[b]=s(b*t,d,f);function E(S){for(var I=0,w=1,_=e-1;w!==_&&g[w]<=S;++w)I+=t;--w;var A=(S-g[w])/(g[w+1]-g[w]),M=I+A*t,k=o(M,d,f);return k>=.001?l(S,M,d,f):k===0?M:a(S,I,I+t,d,f)}return function(S){return d===p&&f===y||S===0||S===1?S:s(E(S),p,y)}}return c}(),KF=function(){var e={linear:function(){return function(r){return r}}},t={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var i,s=4;r<((i=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((i*3-2)/22-r,2)}},Elastic:function(r,i){r===void 0&&(r=1),i===void 0&&(i=.5);var s=So(r,1,10),o=So(i,.1,2);return function(a){return a===0||a===1?a:-s*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/o)}}},n=["Quad","Cubic","Quart","Quint","Expo"];return n.forEach(function(r,i){t[r]=function(){return function(s){return Math.pow(s,i+2)}}}),Object.keys(t).forEach(function(r){var i=t[r];e["easeIn"+r]=i,e["easeOut"+r]=function(s,o){return function(a){return 1-i(s,o)(1-a)}},e["easeInOut"+r]=function(s,o){return function(a){return a<.5?i(s,o)(a*2)/2:1-i(s,o)(a*-2+2)/2}},e["easeOutIn"+r]=function(s,o){return function(a){return a<.5?(1-i(s,o)(1-a*2))/2:(i(s,o)(a*2-1)+1)/2}}}),e}();function e4(e,t){if(Le.fnc(e))return e;var n=e.split("(")[0],r=KF[n],i=JF(e);switch(n){case"spring":return QF(e,t);case"cubicBezier":return KI(Wme,i);case"steps":return KI(Vme,i);default:return KI(r,i)}}function eU(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function Kb(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,i=[],s=0;s<n;s++)if(s in e){var o=e[s];t.call(r,o,s,e)&&i.push(o)}return i}function e_(e){return e.reduce(function(t,n){return t.concat(Le.arr(n)?e_(n):n)},[])}function tU(e){return Le.arr(e)?e:(Le.str(e)&&(e=eU(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function t4(e,t){return e.some(function(n){return n===t})}function n4(e){var t={};for(var n in e)t[n]=e[n];return t}function r4(e,t){var n=n4(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function t_(e,t){var n=n4(e);for(var r in t)n[r]=Le.und(e[r])?t[r]:e[r];return n}function Zme(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function Bme(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=e.replace(t,function(a,l,c,d){return l+l+c+c+d+d}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=parseInt(r[1],16),s=parseInt(r[2],16),o=parseInt(r[3],16);return"rgba("+i+","+s+","+o+",1)"}function Xme(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),n=parseInt(t[1],10)/360,r=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100,s=t[4]||1;function o(f,y,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?f+(y-f)*6*g:g<1/2?y:g<2/3?f+(y-f)*(2/3-g)*6:f}var a,l,c;if(r==0)a=l=c=i;else{var d=i<.5?i*(1+r):i+r-i*r,p=2*i-d;a=o(p,d,n+1/3),l=o(p,d,n),c=o(p,d,n-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+s+")"}function Hme(e){if(Le.rgb(e))return Zme(e);if(Le.hex(e))return Bme(e);if(Le.hsl(e))return Xme(e)}function Ia(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function Yme(e){if(W0(e,"translate")||e==="perspective")return"px";if(W0(e,"rotate")||W0(e,"skew"))return"deg"}function i4(e,t){return Le.fnc(e)?e(t.target,t.id,t.total):e}function Io(e,t){return e.getAttribute(t)}function s4(e,t,n){var r=Ia(t);if(t4([n,"deg","rad","turn"],r))return t;var i=Qb.CSS[t+n];if(!Le.und(i))return i;var s=100,o=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=s+n;var l=s/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(t);return Qb.CSS[t+n]=c,c}function nU(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?s4(e,i,n):i}}function o4(e,t){if(Le.dom(e)&&!Le.inp(e)&&(!Le.nil(Io(e,t))||Le.svg(e)&&e[t]))return"attribute";if(Le.dom(e)&&t4($me,t))return"transform";if(Le.dom(e)&&t!=="transform"&&nU(e,t))return"css";if(e[t]!=null)return"object"}function rU(e){if(Le.dom(e)){for(var t=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,r=new Map,i;i=n.exec(t);)r.set(i[1],i[2]);return r}}function qme(e,t,n,r){var i=W0(t,"scale")?1:0+Yme(t),s=rU(e).get(t)||i;return n&&(n.transforms.list.set(t,s),n.transforms.last=t),r?s4(e,s,r):s}function a4(e,t,n,r){switch(o4(e,t)){case"transform":return qme(e,t,r,n);case"css":return nU(e,t,n);case"attribute":return Io(e,t);default:return e[t]||0}}function l4(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=Ia(e)||0,i=parseFloat(t),s=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+s+r;case"-":return i-s+r;case"*":return i*s+r}}function iU(e,t){if(Le.col(e))return Hme(e);if(/\s/g.test(e))return e;var n=Ia(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function c4(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Jme(e){return Math.PI*2*Io(e,"r")}function Qme(e){return Io(e,"width")*2+Io(e,"height")*2}function Kme(e){return c4({x:Io(e,"x1"),y:Io(e,"y1")},{x:Io(e,"x2"),y:Io(e,"y2")})}function sU(e){for(var t=e.points,n=0,r,i=0;i<t.numberOfItems;i++){var s=t.getItem(i);i>0&&(n+=c4(r,s)),r=s}return n}function e0e(e){var t=e.points;return sU(e)+c4(t.getItem(t.numberOfItems-1),t.getItem(0))}function oU(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return Jme(e);case"rect":return Qme(e);case"line":return Kme(e);case"polyline":return sU(e);case"polygon":return e0e(e)}}function t0e(e){var t=oU(e);return e.setAttribute("stroke-dasharray",t),t}function n0e(e){for(var t=e.parentNode;Le.svg(t)&&Le.svg(t.parentNode);)t=t.parentNode;return t}function aU(e,t){var n=t||{},r=n.el||n0e(e),i=r.getBoundingClientRect(),s=Io(r,"viewBox"),o=i.width,a=i.height,l=n.viewBox||(s?s.split(" "):[0,0,o,a]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function r0e(e,t){var n=Le.str(e)?eU(e)[0]:e,r=t||100;return function(i){return{property:i,el:n,svg:aU(n),totalLength:oU(n)*(r/100)}}}function i0e(e,t,n){function r(d){d===void 0&&(d=0);var p=t+d>=1?t+d:0;return e.el.getPointAtLength(p)}var i=aU(e.el,e.svg),s=r(),o=r(-1),a=r(1),l=n?1:i.w/i.vW,c=n?1:i.h/i.vH;switch(e.property){case"x":return(s.x-i.x)*l;case"y":return(s.y-i.y)*c;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function lU(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=iU(Le.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:Le.str(e)||t?r.split(n):[]}}function u4(e){var t=e?e_(Le.arr(e)?e.map(tU):tU(e)):[];return Kb(t,function(n,r,i){return i.indexOf(n)===r})}function cU(e){var t=u4(e);return t.map(function(n,r){return{target:n,id:r,total:t.length,transforms:{list:rU(n)}}})}function s0e(e,t){var n=n4(t);if(/^spring/.test(n.easing)&&(n.duration=QF(n.easing)),Le.arr(e)){var r=e.length,i=r===2&&!Le.obj(e[0]);i?e={value:e}:Le.fnc(t.duration)||(n.duration=t.duration/r)}var s=Le.arr(e)?e:[e];return s.map(function(o,a){var l=Le.obj(o)&&!Le.pth(o)?o:{value:o};return Le.und(l.delay)&&(l.delay=a?0:t.delay),Le.und(l.endDelay)&&(l.endDelay=a===s.length-1?t.endDelay:0),l}).map(function(o){return t_(o,n)})}function o0e(e){for(var t=Kb(e_(e.map(function(s){return Object.keys(s)})),function(s){return Le.key(s)}).reduce(function(s,o){return s.indexOf(o)<0&&s.push(o),s},[]),n={},r=function(s){var o=t[s];n[o]=e.map(function(a){var l={};for(var c in a)Le.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},i=0;i<t.length;i++)r(i);return n}function a0e(e,t){var n=[],r=t.keyframes;r&&(t=t_(o0e(r),t));for(var i in t)Le.key(i)&&n.push({name:i,tweens:s0e(t[i],e)});return n}function l0e(e,t){var n={};for(var r in e){var i=i4(e[r],t);Le.arr(i)&&(i=i.map(function(s){return i4(s,t)}),i.length===1&&(i=i[0])),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function c0e(e,t){var n;return e.tweens.map(function(r){var i=l0e(r,t),s=i.value,o=Le.arr(s)?s[1]:s,a=Ia(o),l=a4(t.target,e.name,a,t),c=n?n.to.original:l,d=Le.arr(s)?s[0]:c,p=Ia(d)||Ia(l),f=a||p;return Le.und(o)&&(o=c),i.from=lU(d,f),i.to=lU(l4(o,d),f),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=e4(i.easing,i.duration),i.isPath=Le.pth(s),i.isPathTargetInsideSVG=i.isPath&&Le.svg(t.target),i.isColor=Le.col(i.from.original),i.isColor&&(i.round=1),n=i,i})}var uU={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var s="";r.list.forEach(function(o,a){s+=a+"("+o+") "}),e.style.transform=s}}};function hU(e,t){var n=cU(e);n.forEach(function(r){for(var i in t){var s=i4(t[i],r),o=r.target,a=Ia(s),l=a4(o,i,a,r),c=a||Ia(l),d=l4(iU(s,c),l),p=o4(o,i);uU[p](o,i,d,r.transforms,!0)}})}function u0e(e,t){var n=o4(e.target,t.name);if(n){var r=c0e(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}function h0e(e,t){return Kb(e_(e.map(function(n){return t.map(function(r){return u0e(n,r)})})),function(n){return!Le.und(n)})}function dU(e,t){var n=e.length,r=function(s){return s.timelineOffset?s.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map(function(s){return r(s)+s.duration})):t.duration,i.delay=n?Math.min.apply(Math,e.map(function(s){return r(s)+s.delay})):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map(function(s){return r(s)+s.duration-s.endDelay})):t.endDelay,i}var pU=0;function d0e(e){var t=r4(qF,e),n=r4(QI,e),r=a0e(n,e),i=cU(e.targets),s=h0e(i,r),o=dU(s,n),a=pU;return pU++,t_(t,{id:a,children:[],animatables:i,animations:s,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var Ws=[],fU=function(){var e;function t(){!e&&(!mU()||!cn.suspendWhenDocumentHidden)&&Ws.length>0&&(e=requestAnimationFrame(n))}function n(i){for(var s=Ws.length,o=0;o<s;){var a=Ws[o];a.paused?(Ws.splice(o,1),s--):(a.tick(i),o++)}e=o>0?requestAnimationFrame(n):void 0}function r(){cn.suspendWhenDocumentHidden&&(mU()?e=cancelAnimationFrame(e):(Ws.forEach(function(i){return i._onDocumentVisibility()}),fU()))}return typeof document<"u"&&document.addEventListener("visibilitychange",r),t}();function mU(){return!!document&&document.hidden}function cn(e){e===void 0&&(e={});var t=0,n=0,r=0,i,s=0,o=null;function a(I){var w=window.Promise&&new Promise(function(_){return o=_});return I.finished=w,w}var l=d0e(e);a(l);function c(){var I=l.direction;I!=="alternate"&&(l.direction=I!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,i.forEach(function(w){return w.reversed=l.reversed})}function d(I){return l.reversed?l.duration-I:I}function p(){t=0,n=d(l.currentTime)*(1/cn.speed)}function f(I,w){w&&w.seek(I-w.timelineOffset)}function y(I){if(l.reversePlayback)for(var w=s;w--;)f(I,i[w]);else for(var _=0;_<s;_++)f(I,i[_])}function g(I){for(var w=0,_=l.animations,A=_.length;w<A;){var M=_[w],k=M.animatable,C=M.tweens,R=C.length-1,U=C[R];R&&(U=Kb(C,function(pt){return I<pt.end})[0]||U);for(var B=So(I-U.start-U.delay,0,U.duration)/U.duration,G=isNaN(B)?1:U.easing(B),z=U.to.strings,J=U.round,u=[],m=U.to.numbers.length,x=void 0,N=0;N<m;N++){var V=void 0,H=U.to.numbers[N],de=U.from.numbers[N]||0;U.isPath?V=i0e(U.value,G*H,U.isPathTargetInsideSVG):V=de+G*(H-de),J&&(U.isColor&&N>2||(V=Math.round(V*J)/J)),u.push(V)}var oe=z.length;if(!oe)x=u[0];else{x=z[0];for(var Te=0;Te<oe;Te++){z[Te];var Pe=z[Te+1],je=u[Te];isNaN(je)||(Pe?x+=je+Pe:x+=je+" ")}}uU[M.type](k.target,M.property,x,k.transforms),M.currentValue=x,w++}}function b(I){l[I]&&!l.passThrough&&l[I](l)}function E(){l.remaining&&l.remaining!==!0&&l.remaining--}function S(I){var w=l.duration,_=l.delay,A=w-l.endDelay,M=d(I);l.progress=So(M/w*100,0,100),l.reversePlayback=M<l.currentTime,i&&y(M),!l.began&&l.currentTime>0&&(l.began=!0,b("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,b("loopBegin")),M<=_&&l.currentTime!==0&&g(0),(M>=A&&l.currentTime!==w||!w)&&g(w),M>_&&M<A?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,b("changeBegin")),b("change"),g(M)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,b("changeComplete")),l.currentTime=So(M,0,w),l.began&&b("update"),I>=w&&(n=0,E(),l.remaining?(t=r,b("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&c()):(l.paused=!0,l.completed||(l.completed=!0,b("loopComplete"),b("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var I=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=I==="reverse",l.remaining=l.loop,i=l.children,s=i.length;for(var w=s;w--;)l.children[w].reset();(l.reversed&&l.loop!==!0||I==="alternate"&&l.loop===1)&&l.remaining++,g(l.reversed?l.duration:0)},l._onDocumentVisibility=p,l.set=function(I,w){return hU(I,w),l},l.tick=function(I){r=I,t||(t=r),S((r+(n-t))*cn.speed)},l.seek=function(I){S(d(I))},l.pause=function(){l.paused=!0,p()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,Ws.push(l),p(),fU())},l.reverse=function(){c(),l.completed=!l.reversed,p()},l.restart=function(){l.reset(),l.play()},l.remove=function(I){var w=u4(I);gU(w,l)},l.reset(),l.autoplay&&l.play(),l}function yU(e,t){for(var n=t.length;n--;)t4(e,t[n].animatable.target)&&t.splice(n,1)}function gU(e,t){var n=t.animations,r=t.children;yU(e,n);for(var i=r.length;i--;){var s=r[i],o=s.animations;yU(e,o),!o.length&&!s.children.length&&r.splice(i,1)}!n.length&&!r.length&&t.pause()}function p0e(e){for(var t=u4(e),n=Ws.length;n--;){var r=Ws[n];gU(t,r)}}function f0e(e,t){t===void 0&&(t={});var n=t.direction||"normal",r=t.easing?e4(t.easing):null,i=t.grid,s=t.axis,o=t.from||0,a=o==="first",l=o==="center",c=o==="last",d=Le.arr(e),p=parseFloat(d?e[0]:e),f=d?parseFloat(e[1]):0,y=Ia(d?e[1]:e)||0,g=t.start||0+(d?p:0),b=[],E=0;return function(S,I,w){if(a&&(o=0),l&&(o=(w-1)/2),c&&(o=w-1),!b.length){for(var _=0;_<w;_++){if(!i)b.push(Math.abs(o-_));else{var A=l?(i[0]-1)/2:o%i[0],M=l?(i[1]-1)/2:Math.floor(o/i[0]),k=_%i[0],C=Math.floor(_/i[0]),R=A-k,U=M-C,B=Math.sqrt(R*R+U*U);s==="x"&&(B=-R),s==="y"&&(B=-U),b.push(B)}E=Math.max.apply(Math,b)}r&&(b=b.map(function(z){return r(z/E)*E})),n==="reverse"&&(b=b.map(function(z){return s?z<0?z*-1:-z:Math.abs(E-z)}))}var G=d?(f-p)/E:p;return g+G*(Math.round(b[I]*100)/100)+y}}function m0e(e){e===void 0&&(e={});var t=cn(e);return t.duration=0,t.add=function(n,r){var i=Ws.indexOf(t),s=t.children;i>-1&&Ws.splice(i,1);function o(f){f.passThrough=!0}for(var a=0;a<s.length;a++)o(s[a]);var l=t_(n,r4(QI,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=Le.und(r)?c:l4(r,c),o(t),t.seek(l.timelineOffset);var d=cn(l);o(d),s.push(d);var p=dU(s,e);return t.delay=p.delay,t.endDelay=p.endDelay,t.duration=p.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}cn.version="3.2.1",cn.speed=1,cn.suspendWhenDocumentHidden=!0,cn.running=Ws,cn.remove=p0e,cn.get=a4,cn.set=hU,cn.convertPx=s4,cn.path=r0e,cn.setDashoffset=t0e,cn.stagger=f0e,cn.timeline=m0e,cn.easing=e4,cn.penner=KF,cn.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const y0e={xs:200,sm:576,md:768,lg:960};class vU{resizeObserver;constructor(t){this.resizeObserver=new ResizeObserver(n=>{n.length&&window.requestAnimationFrame(()=>{n.forEach(r=>{const i=r.target.dataset.breakpoints,s=i?JSON.parse(i):t??y0e;Object.keys(s).forEach(o=>{const a=s[o];r.contentRect.width>=a?r.target.classList.add(o):r.target.classList.remove(o)})})})})}observe(t){this.resizeObserver?.observe(t)}}const g0e=["data-cy"],bU=tt({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(e){const t=K(null),n=e,r=K(!1);tr(()=>{n.panel.teleport&&new vU({xs:0,sm:461,...n.panel.teleport.breakpoints}).observe(t.value)});const i=(l,c,d)=>{if(r.value)return c();cn({targets:l,opacity:{value:d,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:c})},s=(l,c)=>{i(l,c,[0,1])},o=l=>{l.classList.contains("screen-spinner")||(r.value=n.panel.isScreenLoaded(n.panel.route.screen),t.value.querySelectorAll("[focus-item").forEach(c=>c.classList.remove("default-focus-style")))},a=(l,c)=>{i(l,c,[0,1])};return(l,c)=>{const d=_t("focus-container");return ce(),_e("div",{class:an(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",e.panel.expanded?"flex-grow max-w-full":""]),style:la(e.panel.style),"data-cy":e.panel.id,ref_key:"componentEl",ref:t},[Ye(E0,{onBeforeLeave:o,onLeave:a,onEnter:s},{default:gn(()=>[bt((ce(),Ft(Jv(e.panel.route.screen),_0({class:"h-full"},e.panel.route.props,{panel:e.panel}),null,16,["panel"])),[[d]])]),_:1})],14,g0e)}}}),nc=nn("panel",()=>{const e=K(void 0),t=K(void 0),n=K(0),r=K(0),i=K(!1),s=K(!0),o=K({}),a=K({}),l=K([]),c=K([]),d=K([]),p=K(1),f=Qe(()=>r.value);function y(z){return z==="xs"&&d.value.length>0?[d.value.slice().pop()]:d.value}function g(z){const J=[];return z.forEach(u=>{u in a.value&&J.push(a.value[u].getPromise())}),J}function b(z){C(z),M(),t.value=void 0}function E(z){R(z),M()}function S(z,J){U(z,J),M()}function I(z){B(z),M()}function w(z){p.value=z}function _(z){n.value=z,M()}function A(z){i.value=z}function M(){let z=n.value;const J=[],u=350,m=12,x=600;for(let N=l.value.length-1;N>=0;N--){const V=l.value[N];let H=V.width||u;if(i.value?H=z:H+=m,V.id==="grid"&&(H=Math.max(Math.min(H,z),x)),(z>=H&&!i.value||J.length===0)&&(z-=H,J.unshift(V)),V.id==="grid"&&z<x)break}if(e.value&&!J.includes(e.value)&&!i.value){let N;for(let oe=0;oe<J.length-1&&z<(e.value.width||u)+m;oe++)N=J.shift(),z+=N.width||u;z>=(e.value.width||u)?J.unshift(e.value):t.value||(N=J.shift(),J.unshift(e.value));const V=l.value.indexOf(e.value),H=l.value.indexOf(N),de=l.value.slice();H>-1&&(de.splice(V,1),de.splice(H,0,e.value)),l.value=de}r.value=z,d.value=J}function k(z){if(o.value={...o.value,[z.id]:z},z.id in a.value)a.value[z.id].resolveMe(z);else{const J=new mn;J.resolveMe(z),a.value={...a.value,[z.id]:J}}}function C(z){z.teleport?c.value=[...c.value,z]:(l.value=[...l.value,z],t.value=z)}function R(z){if(z.teleport){const J=c.value.indexOf(z);J!==-1&&(c.value=[...c.value.slice(0,J),...c.value.slice(J+1)])}else{const J=l.value.indexOf(z);J!==-1&&(l.value=[...l.value.slice(0,J),...l.value.slice(J+1)])}}function U(z,J){const u=l.value.indexOf(z),m=J==="right"?1:-1;d.value.includes(l.value[u+m])&&([l.value[u],l.value[u+m]]=[l.value[u+m],l.value[u]])}function B(z){o.value[z.id]!==void 0&&delete o.value[z.id],a.value[z.id]!==void 0&&delete a.value[z.id];const J=d.value.indexOf(z);J!==-1&&(d.value=[...d.value.slice(0,J),...d.value.slice(J+1)]),e.value&&e.value.id==z.id&&(e.value=void 0)}function G(z){a.value={...a.value,[z]:new mn}}return{items:o,regPromises:a,orderedItems:l,pinned:e,priority:t,visible:d,opacity:p,stackWidth:n,remWidth:r,mobileView:i,reorderable:s,teleported:c,getRemainingWidth:f,getVisible:y,getRegPromises:g,openPanel:b,closePanel:E,movePanel:S,removePanel:I,setOpacity:w,setStackWidth:_,setMobileView:A,updateVisible:M,registerPanel:k,addRegPromise:G}}),v0e=tt({__name:"panel-stack",setup(e){VS(d=>({"3d36ee4c":i.value}));const t=nc(),n=Sn("iApi"),r=K(),i=Qe(()=>t.opacity),s=Qe(()=>t.mobileView);tr(()=>{new ResizeObserver(d=>{const p=!(n.$vApp.$root?.$refs["app-size"]).classList.contains("sm");s.value!==p&&(t.mobileView=p,n.event.emit(Ae.RAMP_MOBILEVIEW_CHANGE,p)),t.setStackWidth(d[0].contentRect.width)}).observe(r.value?.$el)});const o=d=>t.getVisible(d),a=(d,p)=>{c(d,p,[[6,0],[0,1]])},l=(d,p)=>{const[f,y]=[d.children[0].getBoundingClientRect(),d.parentElement.getBoundingClientRect()];d.style.width=`${f.width}px`,d.style.height=`${f.height}px`,d.style.left=`${f.left-y.left}px`,d.style.position="absolute",c(d,p,[[0,-6],[1,0]])},c=(d,p,f)=>{cn({targets:d,duration:300,translateY:{value:f[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:f[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:p})};return(d,p)=>(ce(),Ft(fb,{onEnter:a,onLeave:l,name:"panel-container",tag:"div",ref_key:"el",ref:r,class:"panel-container"},{default:gn(()=>[(ce(!0),_e(Ot,null,ya(o(Ie(n).screenSize),f=>(ce(),Ft(bU,{key:`${f.id}`,panel:f},null,8,["panel"]))),128))]),_:1},512))}}),Ao=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},b0e=Ao(v0e,[["__scopeId","data-v-717e4bd7"]]);var hi="top",rs="bottom",is="right",di="left",h4="auto",Z0=[hi,rs,is,di],hp="start",B0="end",_0e="clippingParents",_U="viewport",X0="popper",w0e="reference",wU=Z0.reduce(function(e,t){return e.concat([t+"-"+hp,t+"-"+B0])},[]),xU=[].concat(Z0,[h4]).reduce(function(e,t){return e.concat([t,t+"-"+hp,t+"-"+B0])},[]),x0e="beforeRead",E0e="read",T0e="afterRead",S0e="beforeMain",I0e="main",A0e="afterMain",M0e="beforeWrite",O0e="write",N0e="afterWrite",k0e=[x0e,E0e,T0e,S0e,I0e,A0e,M0e,O0e,N0e];function Mo(e){return e?(e.nodeName||"").toLowerCase():null}function Mi(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function $u(e){var t=Mi(e).Element;return e instanceof t||e instanceof Element}function ss(e){var t=Mi(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function d4(e){if(typeof ShadowRoot>"u")return!1;var t=Mi(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function C0e(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},s=t.elements[n];!ss(s)||!Mo(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function R0e(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],s=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!ss(i)||!Mo(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const L0e={name:"applyStyles",enabled:!0,phase:"write",fn:C0e,effect:R0e,requires:["computeStyles"]};function Oo(e){return e.split("-")[0]}var Vu=Math.max,n_=Math.min,dp=Math.round;function p4(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function EU(){return!/^((?!chrome|android).)*safari/i.test(p4())}function pp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&ss(e)&&(i=e.offsetWidth>0&&dp(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&dp(r.height)/e.offsetHeight||1);var o=$u(e)?Mi(e):window,a=o.visualViewport,l=!EU()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,d=(r.top+(l&&a?a.offsetTop:0))/s,p=r.width/i,f=r.height/s;return{width:p,height:f,top:d,right:c+p,bottom:d+f,left:c,x:c,y:d}}function f4(e){var t=pp(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function TU(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&d4(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Aa(e){return Mi(e).getComputedStyle(e)}function D0e(e){return["table","td","th"].indexOf(Mo(e))>=0}function rc(e){return(($u(e)?e.ownerDocument:e.document)||window.document).documentElement}function r_(e){return Mo(e)==="html"?e:e.assignedSlot||e.parentNode||(d4(e)?e.host:null)||rc(e)}function SU(e){return!ss(e)||Aa(e).position==="fixed"?null:e.offsetParent}function P0e(e){var t=/firefox/i.test(p4()),n=/Trident/i.test(p4());if(n&&ss(e)){var r=Aa(e);if(r.position==="fixed")return null}var i=r_(e);for(d4(i)&&(i=i.host);ss(i)&&["html","body"].indexOf(Mo(i))<0;){var s=Aa(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function H0(e){for(var t=Mi(e),n=SU(e);n&&D0e(n)&&Aa(n).position==="static";)n=SU(n);return n&&(Mo(n)==="html"||Mo(n)==="body"&&Aa(n).position==="static")?t:n||P0e(e)||t}function m4(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Y0(e,t,n){return Vu(e,n_(t,n))}function F0e(e,t,n){var r=Y0(e,t,n);return r>n?n:r}function IU(){return{top:0,right:0,bottom:0,left:0}}function AU(e){return Object.assign({},IU(),e)}function MU(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var U0e=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,AU(typeof e!="number"?e:MU(e,Z0))};function G0e(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Oo(n.placement),l=m4(a),c=[di,is].indexOf(a)>=0,d=c?"height":"width";if(!(!s||!o)){var p=U0e(i.padding,n),f=f4(s),y=l==="y"?hi:di,g=l==="y"?rs:is,b=n.rects.reference[d]+n.rects.reference[l]-o[l]-n.rects.popper[d],E=o[l]-n.rects.reference[l],S=H0(s),I=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,w=b/2-E/2,_=p[y],A=I-f[d]-p[g],M=I/2-f[d]/2+w,k=Y0(_,M,A),C=l;n.modifiersData[r]=(t={},t[C]=k,t.centerOffset=k-M,t)}}function j0e(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||TU(t.elements.popper,i)&&(t.elements.arrow=i))}const z0e={name:"arrow",enabled:!0,phase:"main",fn:G0e,effect:j0e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fp(e){return e.split("-")[1]}var $0e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function V0e(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:dp(n*i)/i||0,y:dp(r*i)/i||0}}function OU(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,p=e.isFixed,f=o.x,y=f===void 0?0:f,g=o.y,b=g===void 0?0:g,E=typeof d=="function"?d({x:y,y:b}):{x:y,y:b};y=E.x,b=E.y;var S=o.hasOwnProperty("x"),I=o.hasOwnProperty("y"),w=di,_=hi,A=window;if(c){var M=H0(n),k="clientHeight",C="clientWidth";if(M===Mi(n)&&(M=rc(n),Aa(M).position!=="static"&&a==="absolute"&&(k="scrollHeight",C="scrollWidth")),M=M,i===hi||(i===di||i===is)&&s===B0){_=rs;var R=p&&M===A&&A.visualViewport?A.visualViewport.height:M[k];b-=R-r.height,b*=l?1:-1}if(i===di||(i===hi||i===rs)&&s===B0){w=is;var U=p&&M===A&&A.visualViewport?A.visualViewport.width:M[C];y-=U-r.width,y*=l?1:-1}}var B=Object.assign({position:a},c&&$0e),G=d===!0?V0e({x:y,y:b},Mi(n)):{x:y,y:b};if(y=G.x,b=G.y,l){var z;return Object.assign({},B,(z={},z[_]=I?"0":"",z[w]=S?"0":"",z.transform=(A.devicePixelRatio||1)<=1?"translate("+y+"px, "+b+"px)":"translate3d("+y+"px, "+b+"px, 0)",z))}return Object.assign({},B,(t={},t[_]=I?b+"px":"",t[w]=S?y+"px":"",t.transform="",t))}function W0e(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Oo(t.placement),variation:fp(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,OU(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,OU(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Z0e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:W0e,data:{}};var i_={passive:!0};function B0e(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Mi(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",n.update,i_)}),a&&l.addEventListener("resize",n.update,i_),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",n.update,i_)}),a&&l.removeEventListener("resize",n.update,i_)}}const X0e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:B0e,data:{}};var H0e={left:"right",right:"left",bottom:"top",top:"bottom"};function s_(e){return e.replace(/left|right|bottom|top/g,function(t){return H0e[t]})}var Y0e={start:"end",end:"start"};function NU(e){return e.replace(/start|end/g,function(t){return Y0e[t]})}function y4(e){var t=Mi(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function g4(e){return pp(rc(e)).left+y4(e).scrollLeft}function q0e(e,t){var n=Mi(e),r=rc(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=EU();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+g4(e),y:l}}function J0e(e){var t,n=rc(e),r=y4(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Vu(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Vu(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+g4(e),l=-r.scrollTop;return Aa(i||n).direction==="rtl"&&(a+=Vu(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function v4(e){var t=Aa(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function kU(e){return["html","body","#document"].indexOf(Mo(e))>=0?e.ownerDocument.body:ss(e)&&v4(e)?e:kU(r_(e))}function q0(e,t){var n;t===void 0&&(t=[]);var r=kU(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Mi(r),o=i?[s].concat(s.visualViewport||[],v4(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(q0(r_(o)))}function b4(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Q0e(e,t){var n=pp(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function CU(e,t,n){return t===_U?b4(q0e(e,n)):$u(t)?Q0e(t,n):b4(J0e(rc(e)))}function K0e(e){var t=q0(r_(e)),n=["absolute","fixed"].indexOf(Aa(e).position)>=0,r=n&&ss(e)?H0(e):e;return $u(r)?t.filter(function(i){return $u(i)&&TU(i,r)&&Mo(i)!=="body"}):[]}function eye(e,t,n,r){var i=t==="clippingParents"?K0e(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var d=CU(e,c,r);return l.top=Vu(d.top,l.top),l.right=n_(d.right,l.right),l.bottom=n_(d.bottom,l.bottom),l.left=Vu(d.left,l.left),l},CU(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function RU(e){var t=e.reference,n=e.element,r=e.placement,i=r?Oo(r):null,s=r?fp(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case hi:l={x:o,y:t.y-n.height};break;case rs:l={x:o,y:t.y+t.height};break;case is:l={x:t.x+t.width,y:a};break;case di:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?m4(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(s){case hp:l[c]=l[c]-(t[d]/2-n[d]/2);break;case B0:l[c]=l[c]+(t[d]/2-n[d]/2);break}}return l}function Wu(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?_0e:a,c=n.rootBoundary,d=c===void 0?_U:c,p=n.elementContext,f=p===void 0?X0:p,y=n.altBoundary,g=y===void 0?!1:y,b=n.padding,E=b===void 0?0:b,S=AU(typeof E!="number"?E:MU(E,Z0)),I=f===X0?w0e:X0,w=e.rects.popper,_=e.elements[g?I:f],A=eye($u(_)?_:_.contextElement||rc(e.elements.popper),l,d,o),M=pp(e.elements.reference),k=RU({reference:M,element:w,strategy:"absolute",placement:i}),C=b4(Object.assign({},w,k)),R=f===X0?C:M,U={top:A.top-R.top+S.top,bottom:R.bottom-A.bottom+S.bottom,left:A.left-R.left+S.left,right:R.right-A.right+S.right},B=e.modifiersData.offset;if(f===X0&&B){var G=B[i];Object.keys(U).forEach(function(z){var J=[is,rs].indexOf(z)>=0?1:-1,u=[hi,rs].indexOf(z)>=0?"y":"x";U[z]+=G[u]*J})}return U}function tye(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?xU:l,d=fp(r),p=d?a?wU:wU.filter(function(g){return fp(g)===d}):Z0,f=p.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=p);var y=f.reduce(function(g,b){return g[b]=Wu(e,{placement:b,boundary:i,rootBoundary:s,padding:o})[Oo(b)],g},{});return Object.keys(y).sort(function(g,b){return y[g]-y[b]})}function nye(e){if(Oo(e)===h4)return[];var t=s_(e);return[NU(e),t,NU(t)]}function rye(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,d=n.boundary,p=n.rootBoundary,f=n.altBoundary,y=n.flipVariations,g=y===void 0?!0:y,b=n.allowedAutoPlacements,E=t.options.placement,S=Oo(E),I=S===E,w=l||(I||!g?[s_(E)]:nye(E)),_=[E].concat(w).reduce(function(Pe,je){return Pe.concat(Oo(je)===h4?tye(t,{placement:je,boundary:d,rootBoundary:p,padding:c,flipVariations:g,allowedAutoPlacements:b}):je)},[]),A=t.rects.reference,M=t.rects.popper,k=new Map,C=!0,R=_[0],U=0;U<_.length;U++){var B=_[U],G=Oo(B),z=fp(B)===hp,J=[hi,rs].indexOf(G)>=0,u=J?"width":"height",m=Wu(t,{placement:B,boundary:d,rootBoundary:p,altBoundary:f,padding:c}),x=J?z?is:di:z?rs:hi;A[u]>M[u]&&(x=s_(x));var N=s_(x),V=[];if(s&&V.push(m[G]<=0),a&&V.push(m[x]<=0,m[N]<=0),V.every(function(Pe){return Pe})){R=B,C=!1;break}k.set(B,V)}if(C)for(var H=g?3:1,de=function(Pe){var je=_.find(function(pt){var Nt=k.get(pt);if(Nt)return Nt.slice(0,Pe).every(function(Lt){return Lt})});if(je)return R=je,"break"},oe=H;oe>0;oe--){var Te=de(oe);if(Te==="break")break}t.placement!==R&&(t.modifiersData[r]._skip=!0,t.placement=R,t.reset=!0)}}const iye={name:"flip",enabled:!0,phase:"main",fn:rye,requiresIfExists:["offset"],data:{_skip:!1}};function LU(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function DU(e){return[hi,is,rs,di].some(function(t){return e[t]>=0})}function sye(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=Wu(t,{elementContext:"reference"}),a=Wu(t,{altBoundary:!0}),l=LU(o,r),c=LU(a,i,s),d=DU(l),p=DU(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}const oye={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:sye};function aye(e,t,n){var r=Oo(e),i=[di,hi].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[di,is].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function lye(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=xU.reduce(function(d,p){return d[p]=aye(p,t.rects,s),d},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}const cye={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:lye};function uye(e){var t=e.state,n=e.name;t.modifiersData[n]=RU({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const hye={name:"popperOffsets",enabled:!0,phase:"read",fn:uye,data:{}};function dye(e){return e==="x"?"y":"x"}function pye(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,p=n.padding,f=n.tether,y=f===void 0?!0:f,g=n.tetherOffset,b=g===void 0?0:g,E=Wu(t,{boundary:l,rootBoundary:c,padding:p,altBoundary:d}),S=Oo(t.placement),I=fp(t.placement),w=!I,_=m4(S),A=dye(_),M=t.modifiersData.popperOffsets,k=t.rects.reference,C=t.rects.popper,R=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,U=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),B=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,G={x:0,y:0};if(M){if(s){var z,J=_==="y"?hi:di,u=_==="y"?rs:is,m=_==="y"?"height":"width",x=M[_],N=x+E[J],V=x-E[u],H=y?-C[m]/2:0,de=I===hp?k[m]:C[m],oe=I===hp?-C[m]:-k[m],Te=t.elements.arrow,Pe=y&&Te?f4(Te):{width:0,height:0},je=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:IU(),pt=je[J],Nt=je[u],Lt=Y0(0,k[m],Pe[m]),ir=w?k[m]/2-H-Lt-pt-U.mainAxis:de-Lt-pt-U.mainAxis,Zt=w?-k[m]/2+H+Lt+Nt+U.mainAxis:oe+Lt+Nt+U.mainAxis,rn=t.elements.arrow&&H0(t.elements.arrow),Jn=rn?_==="y"?rn.clientTop||0:rn.clientLeft||0:0,j=(z=B?.[_])!=null?z:0,F=x+ir-j-Jn,Y=x+Zt-j,se=Y0(y?n_(N,F):N,x,y?Vu(V,Y):V);M[_]=se,G[_]=se-x}if(a){var ne,le=_==="x"?hi:di,me=_==="x"?rs:is,L=M[A],D=A==="y"?"height":"width",W=L+E[le],Q=L-E[me],$=[hi,di].indexOf(S)!==-1,X=(ne=B?.[A])!=null?ne:0,pe=$?W:L-k[D]-C[D]-X+U.altAxis,ge=$?L+k[D]+C[D]-X-U.altAxis:Q,qe=y&&$?F0e(pe,L,ge):Y0(y?pe:W,L,y?ge:Q);M[A]=qe,G[A]=qe-L}t.modifiersData[r]=G}}const fye={name:"preventOverflow",enabled:!0,phase:"main",fn:pye,requiresIfExists:["offset"]};function mye(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function yye(e){return e===Mi(e)||!ss(e)?y4(e):mye(e)}function gye(e){var t=e.getBoundingClientRect(),n=dp(t.width)/e.offsetWidth||1,r=dp(t.height)/e.offsetHeight||1;return n!==1||r!==1}function vye(e,t,n){n===void 0&&(n=!1);var r=ss(t),i=ss(t)&&gye(t),s=rc(t),o=pp(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Mo(t)!=="body"||v4(s))&&(a=yye(t)),ss(t)?(l=pp(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=g4(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function bye(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function _ye(e){var t=bye(e);return k0e.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function wye(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function xye(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var PU={placement:"bottom",modifiers:[],strategy:"absolute"};function FU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Eye(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?PU:i;return function(o,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},PU,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},d=[],p=!1,f={state:c,setOptions:function(b){var E=typeof b=="function"?b(c.options):b;g(),c.options=Object.assign({},s,c.options,E),c.scrollParents={reference:$u(o)?q0(o):o.contextElement?q0(o.contextElement):[],popper:q0(a)};var S=_ye(xye([].concat(r,c.options.modifiers)));return c.orderedModifiers=S.filter(function(I){return I.enabled}),y(),f.update()},forceUpdate:function(){if(!p){var b=c.elements,E=b.reference,S=b.popper;if(FU(E,S)){c.rects={reference:vye(E,H0(S),c.options.strategy==="fixed"),popper:f4(S)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var I=0;I<c.orderedModifiers.length;I++){if(c.reset===!0){c.reset=!1,I=-1;continue}var w=c.orderedModifiers[I],_=w.fn,A=w.options,M=A===void 0?{}:A,k=w.name;typeof _=="function"&&(c=_({state:c,options:M,name:k,instance:f})||c)}}}},update:wye(function(){return new Promise(function(b){f.forceUpdate(),b(c)})}),destroy:function(){g(),p=!0}};if(!FU(o,a))return f;f.setOptions(l).then(function(b){!p&&l.onFirstUpdate&&l.onFirstUpdate(b)});function y(){c.orderedModifiers.forEach(function(b){var E=b.name,S=b.options,I=S===void 0?{}:S,w=b.effect;if(typeof w=="function"){var _=w({state:c,name:E,instance:f,options:I}),A=function(){};d.push(_||A)}})}function g(){d.forEach(function(b){return b()}),d=[]}return f}}var Tye=[X0e,hye,Z0e,L0e,cye,iye,fye,z0e,oye],UU=Eye({defaultModifiers:Tye});const Sye=["content","aria-label"],_4=tt({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(e){const t=K(!1),n=K(null),r=Zn([]),i=K(),s=K(),o=K(),a=e;r.push(Gn(t,()=>{n.value.update()}));const l=()=>{t.value=!t.value,o.value._tippy.hide()},c=()=>{o.value._tippy.setProps({placement:t.value?a.tooltipPlacementAlt:a.tooltipPlacement}),o.value._tippy.show()},d=()=>{o.value._tippy.hide()};return tr(()=>{window.addEventListener("click",p=>{(!i.value||!i.value.contains(p.target))&&(t.value=!1)},{capture:!0}),window.addEventListener("blur",()=>{t.value=!1}),window.addEventListener("focusin",p=>{(!i.value||!i.value.contains(p.target))&&(t.value=!1)}),o.value.addEventListener("focus",c),o.value.addEventListener("blur",d),o.value.addEventListener("mouseover",c),o.value.addEventListener("mouseleave",d),Hi(()=>{const p={name:"overflowScroll",enabled:!0,phase:"main",fn({state:f}){const{bottom:y}=Wu(f);y>0?(f.styles.popper.overflowY=y>100?"auto":void 0,f.styles.popper.overflowX="hidden",f.styles.popper.height=`${f.rects.popper.height-y-8}px`):f.styles.popper.height="auto"}};o.value&&s.value&&(n.value=UU(o.value,s.value,{placement:a.position||"bottom",modifiers:[p,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))})}),qi(()=>{r.forEach(p=>p()),window.removeEventListener("click",p=>{(!i.value||!i.value.contains(p.target))&&(t.value=!1)},{capture:!0}),window.removeEventListener("blur",()=>{t.value=!1}),window.removeEventListener("focusin",p=>{(!i.value||!i.value.contains(p.target))&&(t.value=!1)}),o.value.removeEventListener("focus",c),o.value.removeEventListener("blur",d),o.value.removeEventListener("mouseover",c),o.value.removeEventListener("mouseleave",d),t.value=!1}),(p,f)=>{const y=_t("tippy");return ce(),_e("div",{ref_key:"el",ref:i},[bt((ce(),_e("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:e.tooltip,"aria-label":e.ariaLabel?String(e.ariaLabel):String(e.tooltip),ref_key:"dropdownTrigger",ref:o},[Ji(p.$slots,"header")],8,Sye)),[[y,{placement:e.tooltipPlacement,theme:e.tooltipTheme,animation:e.tooltipAnimation,trigger:"manual"}]]),bt(ie("div",{onClick:f[0]||(f[0]=g=>n.value.update()),class:an(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":e.centered}]),ref_key:"dropdown",ref:s},[Ji(p.$slots,"default",{close:()=>t.value=!t.value})],2),[[T0,t.value]])],512)}}}),Zs=nn("notification",()=>{const e=K([]),t=K({}),n=Qe(()=>e.value.length>=99?99:e.value.length);function r(c){e.value=[c,...e.value]}function i(c){if(e.value.includes(c)){const d=e.value.indexOf(c);c instanceof GU&&l(c),d>-1&&e.value.splice(d,1)}}function s(c){t.value[c.id]=c}function o(c,d){t.value[c]&&(t.value[c].messageList.push(d),e.value.includes(t.value[c])||(e.value=[t.value[c],...e.value]))}function a(){Object.values(t.value).forEach(c=>l(c)),e.value=[]}function l(c){const d=e.value.indexOf(c);d>-1&&e.value.splice(d,1),c.messageList=[]}return{notificationStack:e,groups:t,notificationNumber:n,showNotification:r,removeNotification:i,registerGroup:s,addToGroup:o,clearAll:a}}),Iye={class:"h-full flex flex-col"},Aye={class:"w-full flex mb-6"},Mye=["content","aria-label"],Oye=tt({__name:"screen",props:{panel:{type:Object,required:!0}},setup(e){const t=Zs(),{t:n}=qt(),r=Qe(()=>t.notificationNumber),i=()=>t.clearAll();return(s,o)=>{const a=vn("panel-screen"),l=_t("tippy");return ce(),Ft(a,{panel:e.panel},{header:gn(()=>[Us(Ct(Ie(n)("notifications.title")),1)]),content:gn(()=>[ie("div",Iye,[ie("div",Aye,[bt((ce(),_e("button",{type:"button",onClick:i,class:an(["p-4 ml-auto",[r.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:Ie(n)("notifications.controls.clearAll"),"aria-label":Ie(n)("notifications.controls.clearAll")},o[0]||(o[0]=[ie("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ie("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ie("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ie("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ie("path",{d:"M22 22l-5 -5"}),ie("path",{d:"M17 22l5 -5"})],-1)]),10,Mye)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),Ye(jU,{class:"overflow-y-auto"})])]),_:1},8,["panel"])}}});var pi=(e=>(e.ERROR="error",e.INFO="info",e.WARNING="warning",e))(pi||{});class Nye extends yn{notificationStore;constructor(t){super(t),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":ln(Oye)},alertName:"notifications.title"}}),this.notificationStore=Zs(this.$vApp.$pinia)}show(t,n){this.notificationStore.showNotification({type:t,message:n})}addGroup(t,n,r){if(this.getGroup(t))throw new Error("Duplicate notification group id registration: "+t);const i=new GU(this.$iApi,t,n,r);return this.notificationStore.registerGroup(i),i}getGroup(t){return this.notificationStore.groups[t]}}class GU extends yn{notificationStore=Zs(this.$vApp.$pinia);id;message;type;messageList=[];constructor(t,n,r,i){super(t),this.id=n,this.type=r,this.message=i}show(t){this.notificationStore.addToGroup(this.id,t)}}const kye=["content"],Cye={class:"flex items-center text-left"},Rye={class:"select-text cursor-text"},Lye=["content"],Dye={key:0,class:"text-left"},Pye=tt({__name:"notification-item",props:{notification:{type:Object,required:!0}},setup(e){const t=Zs(),{t:n}=qt(),r=e,i=K(!1),s=Zn({[pi.WARNING]:"\u26A0",[pi.INFO]:"\u2139\uFE0F",[pi.ERROR]:"\u274C"}),o=l=>{t.removeNotification(l)},a=()=>{if(!r.notification.messageList)return!1};return(l,c)=>{const d=_t("tippy");return bt((ce(),_e("li",{class:an(["flex-col default-focus-style p-4",e.notification.messageList?"cursor-pointer":""]),content:Ie(n)(i.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:c[1]||(c[1]=p=>i.value=!i.value)},[ie("div",Cye,[ie("span",null,[Us(Ct(s[e.notification.type])+" ",1),ie("span",Rye,Ct(e.notification.message),1)]),c[4]||(c[4]=ie("span",{class:"flex-grow"},null,-1)),e.notification.messageList?(ce(),_e("div",{key:0,class:an(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":i.value}])},c[2]||(c[2]=[ie("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[ie("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):Vt("",!0),bt((ce(),_e("button",{type:"button",onClick:c[0]||(c[0]=Jd(p=>o(e.notification),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:Ie(n)("notifications.controls.dismiss")},c[3]||(c[3]=[ie("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[ie("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,Lye)),[[d,{theme:"ramp4",animation:"scale"}]])]),e.notification.messageList&&i.value?(ce(),_e("div",Dye,[(ce(!0),_e(Ot,null,ya(e.notification.messageList,(p,f)=>(ce(),_e("p",{key:e.notification.id+p+f},Ct(p),1))),128))])):Vt("",!0)],10,kye)),[[d,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),Fye=["content"],Uye={key:0,class:"w-full border-b border-black"},Gye={key:1,class:"flex flex-col items-center h-full"},jU=tt({__name:"notification-list",setup(e){const t=Zs(),{t:n}=qt(),r=K(),i=()=>{r.value._tippy.hide()},s=a=>{a.key==="Tab"&&r.value?.matches(":focus")&&r.value._tippy.show()};tr(()=>{r.value?.addEventListener("blur",i),r.value?.addEventListener("keyup",s)}),qi(()=>{r.value?.removeEventListener("blur",i),r.value?.removeEventListener("keyup",s)});const o=Qe(()=>t.notificationStack);return(a,l)=>{const c=_t("focus-item"),d=_t("focus-list"),p=_t("tippy");return ce(),_e("div",null,[o.value.length>0?bt((ce(),_e("ul",{key:0,content:Ie(n)("panels.controls.items"),ref_key:"el",ref:r,class:"h-full overflow-y-auto"},[(ce(!0),_e(Ot,null,ya(o.value,(f,y)=>(ce(),_e(Ot,{key:f.message+y},[y>0?(ce(),_e("div",Uye)):Vt("",!0),bt(Ye(Pye,{class:an([f.type]),notification:f},null,8,["class","notification"]),[[c]])],64))),128))],8,Fye)),[[d],[p,{trigger:"manual",placement:"top-start",touch:!1}]]):(ce(),_e("div",Gye,[l[0]||(l[0]=ie("span",{class:"flex-grow"},null,-1)),l[1]||(l[1]=ie("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[ie("path",{d:"M0 0h24v24H0z",fill:"none"}),ie("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),ie("span",null,Ct(Ie(n)("notifications.empty")),1),l[2]||(l[2]=ie("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),jye={class:"flex items-center hover:text-white"},zye=["aria-label"],$ye={key:0,class:"number rounded-full w-18 text-white"},Vye={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},Wye={class:"pb-8 border-b border-gray-600"},Zye={class:"absolute flex right-3 top-3"},Bye=["content","aria-label"],Xye=tt({__name:"caption-button",setup(e){const t=Zs(),{t:n}=qt(),r=Qe(()=>t.notificationNumber),i=()=>t.clearAll();return(s,o)=>{const a=vn("close"),l=_t("tippy");return ce(),Ft(_4,{position:"top-start",tooltip:Ie(n)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:gn(()=>[ie("div",jye,[(ce(),_e("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":Ie(n)("notifications.open")},o[0]||(o[0]=[ie("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,zye)),r.value&&r.value>0?(ce(),_e("span",$ye,Ct(r.value),1)):Vt("",!0)])]),default:gn(c=>[ie("div",Vye,[ie("div",null,[ie("h4",Wye,Ct(Ie(n)("notifications.title")),1),ie("div",Zye,[bt((ce(),_e("button",{type:"button",onClick:i,class:an(["p-4 mr-6",[r.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:Ie(n)("notifications.controls.clearAll"),"aria-label":Ie(n)("notifications.controls.clearAll")},o[1]||(o[1]=[ie("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ie("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ie("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ie("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ie("path",{d:"M22 22l-5 -5"}),ie("path",{d:"M17 22l5 -5"})],-1)]),10,Bye)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),Ye(a,{onClick:c.close},null,8,["onClick"])])]),Ye(jU,{class:"overflow-y-auto h-230"})])]),_:1},8,["tooltip"])}}}),Hye=Ao(Xye,[["__scopeId","data-v-3623a7d2"]]),Yye={class:"flex hover:text-white"},qye=["aria-label"],Jye={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},Qye=["aria-label","content"],Kye={class:"pb-8 border-b border-gray-600 mb-10"},ege={class:"absolute right-5 top-5"},tge={class:"select-text"},nge={class:"font-bold cursor-text"},rge={class:"text-sm cursor-text"},ige={class:"font-bold cursor-text"},sge={class:"ml-5 cursor-text"},oge=tt({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(e){const{t}=qt(),n=Sn("iApi"),r=()=>{n.reload()},i=Qe(()=>`${Dp.major}.${Dp.minor}.${Dp.patch}`),s=Qe(()=>Dp.hash.slice(0,9)),o=Qe(()=>{const a=new Date(Dp.timestamp);if(isNaN(a.getTime()))return["dev mode","no date"];{const l=c=>c<10?"0"+c.toString():c.toString();return[`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`,`${a.getHours()}:${l(a.getMinutes())}:${l(a.getSeconds())}`]}});return(a,l)=>{const c=vn("close"),d=vn("dropdown-menu"),p=_t("tippy"),f=_t("focus-item");return bt((ce(),Ft(d,{class:"pointer-events-auto sm:flex",position:e.position,tooltip:Ie(t)("ramp.about"),tooltipPlacement:e.position},{header:gn(()=>[ie("div",Yye,[(ce(),_e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":Ie(t)("ramp.about.open")},l[0]||(l[0]=[ie("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,qye))])]),default:gn(y=>[ie("div",Jye,[ie("div",null,[bt((ce(),_e("button",{class:"absolute left-5 top-5 text-gray-500 hover:text-black focus:text-black p-8",onClick:r,"aria-label":Ie(t)("ramp.reload"),content:Ie(t)("ramp.reload")},l[1]||(l[1]=[ie("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ie("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)]),8,Qye)),[[p,{placement:"bottom-start",theme:"ramp4",animation:"scale"}]]),ie("h4",Kye,Ct(Ie(t)("ramp.about")),1),ie("div",ege,[Ye(c,{onClick:y.close},null,8,["onClick"])]),ie("div",tge,[ie("div",null,[ie("span",nge,Ct(i.value),1),ie("span",rge," ["+Ct(s.value)+"] ",1)]),ie("div",null,[ie("span",ige,Ct(o.value[0]),1),ie("span",sge,Ct(o.value[1]),1)]),l[2]||(l[2]=ie("div",{class:"mt-5"},[ie("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[ie("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[ie("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),Us(" ramp4-pcar4 ")])],-1))])])])]),_:1},8,["position","tooltip","tooltipPlacement"])),[[f]])}}}),zU=Ao(oge,[["__scopeId","data-v-24f3a9dc"]]),age={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},lge={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},cge=["href","aria-label"],uge=["src","alt"],hge={key:1,class:"relative ml-10 top-2 text-sm sm:text-base"},dge={class:"flex min-w-fit justify-end"},pge={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},fge=["aria-pressed","aria-label","content"],mge={class:"relative top-1 text-sm sm:text-base"},yge={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},gge=["onClick"],vge={key:0,class:"sr-only"},bge=tt({__name:"map-caption",setup(e){const t=ql(),n=zr(),{t:r}=qt(),i=Sn("iApi"),s=Qe(()=>t.scale),o=Qe(()=>t.attribution),a=Qe(()=>t.coords),l=Qe(()=>t.langtoggle),c=Qe(()=>n.config.map),d=K([]),p=Zn([]);p.push(Gn(c,E=>{E&&i.geo.map.caption.createCaption(c.value?.caption)})),qi(()=>{p.forEach(E=>E())}),Mu(()=>{Hi(()=>{i.$i18n.locale.value&&d.value.length==0&&(d.value=i.$i18n.availableLocales)})});const f=()=>o.value?.logo?.link&&o.value?.logo?.value&&!o.value?.logo?.disabled,y=E=>{i.$i18n.locale.value!=E&&i.setLanguage(E)},g=()=>{t.toggleScale(),i.geo.map.caption.updateScale()},b=(E=!1)=>r(E?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(E,S)=>{const I=vn("dropdown-menu"),w=_t("truncate"),_=_t("tippy");return ce(),_e("div",age,[Ye(zU,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),Ye(Hye,{class:"sm:block display-none"}),f()?(ce(),_e("span",lge,[ie("a",{class:"pointer-events-auto cursor-pointer",href:o.value?.logo.link,target:"_blank","aria-label":o.value?.logo.altText},[ie("img",{class:"object-contain h-18 sm:h-26",src:o.value?.logo.value,alt:o.value?.logo.altText},null,8,uge)],8,cge)])):Vt("",!0),o.value?.text.disabled?Vt("",!0):bt((ce(),_e("span",hge,[Us(Ct(o.value?.text.value),1)])),[[w,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),S[0]||(S[0]=ie("span",{class:"flex-grow w-15"},null,-1)),ie("div",dge,[a.value?.disabled?Vt("",!0):bt((ce(),_e("div",pge,[Us(Ct(a.value?.formattedString),1)])),[[w,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),s.value?.disabled?Vt("",!0):bt((ce(),_e("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:g,"aria-pressed":s.value?.isImperialScale,"aria-label":`
                    ${s.value?.label} - ${b(s.value?.isImperialScale)}
                `,content:b(s.value?.isImperialScale)},[ie("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:la({width:s.value?.width})},null,4),ie("span",mge,Ct(s.value?.label),1)],8,fge)),[[_,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),l.value?.disabled?Vt("",!0):(ce(),Ft(I,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:Ie(r)("map.changeLanguage"),ariaLabel:`${Ie(r)("map.language.short")} - ${Ie(r)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:gn(()=>[ie("span",yge,Ct(Ie(r)("map.language.short")),1)]),default:gn(()=>[(ce(!0),_e(Ot,null,ya(d.value,(A,M)=>(ce(),_e("a",{key:`${A}-${M}`,class:an(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":A===Ie(i).$i18n.locale.value}]),href:"javascript:;",onClick:k=>y(A)},[Us(Ct(Ie(r)("map.language."+A))+" ",1),A===Ie(i).$i18n.locale.value?(ce(),_e("span",vge,Ct(Ie(r)("map.language.curr")),1)):Vt("",!0)],10,gge))),128))]),_:1},8,["tooltip","ariaLabel"]))])])}}}),_ge=["content","aria-label"],wge={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},xge=tt({__name:"floating-button",setup(e){const t=Zs(),n=Sn("iApi"),{t:r}=qt(),i=Qe(()=>t.notificationNumber);return(s,o)=>{const a=_t("tippy");return bt((ce(),_e("button",{type:"button",onClick:o[0]||(o[0]=l=>Ie(n).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:Ie(r)("notifications.title"),"aria-label":Ie(r)("notifications.title")},[o[1]||(o[1]=ie("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ie("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),i.value&&i.value>0?(ce(),_e("span",wge,Ct(i.value),1)):Vt("",!0)],8,_ge)),[[a]])}}}),Ege=Ao(xge,[["__scopeId","data-v-a451db5c"]]),Tge={class:"flex items-center mb-20"},Sge={class:"text-xl"},Ige=tt({__name:"keyboard-instructions",setup(e){const t=Sn("iApi"),{t:n}=qt(),r=K(!1),i=K(["app","lists","map"]),s=K([]),o=K(null),a=K(null);tr(()=>{s.value.push(t.event.on("openKeyboardInstructions",()=>{r.value=!0,Hi(()=>{o.value.focus()})}))}),qi(()=>{s.value.forEach(c=>t.event.off(c))});const l=c=>{c.key==="Tab"?c.shiftKey&&c.target===o.value?(c.preventDefault(),a.value.focus()):!c.shiftKey&&c.target===a.value&&(c.preventDefault(),o.value.focus()):c.key==="Escape"&&(c.preventDefault(),r.value=!1)};return(c,d)=>{const p=vn("close");return r.value?(ce(),_e("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:d[3]||(d[3]=f=>r.value=!1),onKeydown:l},[ie("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col",onClick:d[2]||(d[2]=Jd(()=>{},["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:o},[ie("div",Tge,[ie("h2",Sge,Ct(Ie(n)("keyboardInstructions.title")),1),Ye(p,{class:"ml-auto",onClick:d[0]||(d[0]=f=>r.value=!1)})]),(ce(!0),_e(Ot,null,ya(i.value,f=>(ce(),_e("p",{class:"whitespace-pre-line pb-10",key:f},Ct(Ie(n)(`keyboardInstructions.${f}`)),1))),128)),ie("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:d[1]||(d[1]=f=>r.value=!1),ref_key:"lastEl",ref:a},Ct(Ie(n)("keyboardInstructions.OK")),513)],512)],32)):Vt("",!0)}}}),mp=nn("instance",()=>({started:K(!1)})),Age={class:"h-full relative"},Mge={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},Oge={class:"absolute top-8 w-full flex justify-center"},Nge={key:1,class:"w-full h-full"},kge=tt({__name:"shell",setup(e){const t=Sn("iApi"),n=mp(),r=ts(),i=nc(),{t:s}=qt(),o=Qe(()=>r.items.appbar),a=()=>{t.event.emit("openKeyboardInstructions")},l=()=>i.teleported;return(c,d)=>(ce(),_e("div",Age,[ie("div",Mge,[d[0]||(d[0]=ie("div",{class:"sr-only screen-reader-alert"},null,-1)),ie("div",Oge,[ie("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},Ct(Ie(s)("keyboardInstructions.open")),1)]),Ye(Ige),Ye(b0e,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),o.value?Vt("",!0):(ce(),Ft(Ege,{key:0})),Ye(bge,{class:"z-30"})]),Ie(n).started?(ce(),Ft(zme,{key:0})):(ce(),_e("div",Nge,d[1]||(d[1]=[ie("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(ce(!0),_e(Ot,null,ya(l(),p=>(ce(),Ft(QT,{to:p.teleport?.target,key:p.id},[(ce(),Ft(bU,{key:`${p.id}`,panel:p},null,8,["panel"]))],8,["to"]))),128))]))}}),Cge=Ao(kge,[["__scopeId","data-v-7bc0478f"]]);var fi="top",os="bottom",as="right",mi="left",w4="auto",J0=[fi,os,as,mi],yp="start",Q0="end",Rge="clippingParents",$U="viewport",K0="popper",Lge="reference",VU=J0.reduce(function(e,t){return e.concat([t+"-"+yp,t+"-"+Q0])},[]),WU=[].concat(J0,[w4]).reduce(function(e,t){return e.concat([t,t+"-"+yp,t+"-"+Q0])},[]),Dge="beforeRead",Pge="read",Fge="afterRead",Uge="beforeMain",Gge="main",jge="afterMain",zge="beforeWrite",$ge="write",Vge="afterWrite",Wge=[Dge,Pge,Fge,Uge,Gge,jge,zge,$ge,Vge];function No(e){return e?(e.nodeName||"").toLowerCase():null}function Bs(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function gp(e){var t=Bs(e).Element;return e instanceof t||e instanceof Element}function ls(e){var t=Bs(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ZU(e){if(typeof ShadowRoot>"u")return!1;var t=Bs(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Zge(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},s=t.elements[n];!ls(s)||!No(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Bge(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],s=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!ls(i)||!No(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var BU={name:"applyStyles",enabled:!0,phase:"write",fn:Zge,effect:Bge,requires:["computeStyles"]};function ko(e){return e.split("-")[0]}var Zu=Math.max,o_=Math.min,vp=Math.round;function bp(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(ls(e)&&t){var s=e.offsetHeight,o=e.offsetWidth;o>0&&(r=vp(n.width)/o||1),s>0&&(i=vp(n.height)/s||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function x4(e){var t=bp(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function XU(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ZU(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Co(e){return Bs(e).getComputedStyle(e)}function Xge(e){return["table","td","th"].indexOf(No(e))>=0}function ic(e){return((gp(e)?e.ownerDocument:e.document)||window.document).documentElement}function a_(e){return No(e)==="html"?e:e.assignedSlot||e.parentNode||(ZU(e)?e.host:null)||ic(e)}function HU(e){return!ls(e)||Co(e).position==="fixed"?null:e.offsetParent}function Hge(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&ls(e)){var r=Co(e);if(r.position==="fixed")return null}for(var i=a_(e);ls(i)&&["html","body"].indexOf(No(i))<0;){var s=Co(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function ey(e){for(var t=Bs(e),n=HU(e);n&&Xge(n)&&Co(n).position==="static";)n=HU(n);return n&&(No(n)==="html"||No(n)==="body"&&Co(n).position==="static")?t:n||Hge(e)||t}function E4(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ty(e,t,n){return Zu(e,o_(t,n))}function Yge(e,t,n){var r=ty(e,t,n);return r>n?n:r}function YU(){return{top:0,right:0,bottom:0,left:0}}function qU(e){return Object.assign({},YU(),e)}function JU(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var qge=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,qU(typeof e!="number"?e:JU(e,J0))};function Jge(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=ko(n.placement),l=E4(a),c=[mi,as].indexOf(a)>=0,d=c?"height":"width";if(!(!s||!o)){var p=qge(i.padding,n),f=x4(s),y=l==="y"?fi:mi,g=l==="y"?os:as,b=n.rects.reference[d]+n.rects.reference[l]-o[l]-n.rects.popper[d],E=o[l]-n.rects.reference[l],S=ey(s),I=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,w=b/2-E/2,_=p[y],A=I-f[d]-p[g],M=I/2-f[d]/2+w,k=ty(_,M,A),C=l;n.modifiersData[r]=(t={},t[C]=k,t.centerOffset=k-M,t)}}function Qge(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||XU(t.elements.popper,i)&&(t.elements.arrow=i))}var Kge={name:"arrow",enabled:!0,phase:"main",fn:Jge,effect:Qge,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _p(e){return e.split("-")[1]}var e1e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function t1e(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:vp(t*i)/i||0,y:vp(n*i)/i||0}}function QU(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,p=e.isFixed,f=d===!0?t1e(o):typeof d=="function"?d(o):o,y=f.x,g=y===void 0?0:y,b=f.y,E=b===void 0?0:b,S=o.hasOwnProperty("x"),I=o.hasOwnProperty("y"),w=mi,_=fi,A=window;if(c){var M=ey(n),k="clientHeight",C="clientWidth";if(M===Bs(n)&&(M=ic(n),Co(M).position!=="static"&&a==="absolute"&&(k="scrollHeight",C="scrollWidth")),M=M,i===fi||(i===mi||i===as)&&s===Q0){_=os;var R=p&&A.visualViewport?A.visualViewport.height:M[k];E-=R-r.height,E*=l?1:-1}if(i===mi||(i===fi||i===os)&&s===Q0){w=as;var U=p&&A.visualViewport?A.visualViewport.width:M[C];g-=U-r.width,g*=l?1:-1}}var B=Object.assign({position:a},c&&e1e);if(l){var G;return Object.assign({},B,(G={},G[_]=I?"0":"",G[w]=S?"0":"",G.transform=(A.devicePixelRatio||1)<=1?"translate("+g+"px, "+E+"px)":"translate3d("+g+"px, "+E+"px, 0)",G))}return Object.assign({},B,(t={},t[_]=I?E+"px":"",t[w]=S?g+"px":"",t.transform="",t))}function n1e(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:ko(t.placement),variation:_p(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,QU(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,QU(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var r1e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:n1e,data:{}},l_={passive:!0};function i1e(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Bs(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",n.update,l_)}),a&&l.addEventListener("resize",n.update,l_),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",n.update,l_)}),a&&l.removeEventListener("resize",n.update,l_)}}var s1e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:i1e,data:{}},o1e={left:"right",right:"left",bottom:"top",top:"bottom"};function c_(e){return e.replace(/left|right|bottom|top/g,function(t){return o1e[t]})}var a1e={start:"end",end:"start"};function KU(e){return e.replace(/start|end/g,function(t){return a1e[t]})}function T4(e){var t=Bs(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function S4(e){return bp(ic(e)).left+T4(e).scrollLeft}function l1e(e){var t=Bs(e),n=ic(e),r=t.visualViewport,i=n.clientWidth,s=n.clientHeight,o=0,a=0;return r&&(i=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,a=r.offsetTop)),{width:i,height:s,x:o+S4(e),y:a}}function c1e(e){var t,n=ic(e),r=T4(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Zu(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Zu(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+S4(e),l=-r.scrollTop;return Co(i||n).direction==="rtl"&&(a+=Zu(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function I4(e){var t=Co(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function eG(e){return["html","body","#document"].indexOf(No(e))>=0?e.ownerDocument.body:ls(e)&&I4(e)?e:eG(a_(e))}function ny(e,t){var n;t===void 0&&(t=[]);var r=eG(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Bs(r),o=i?[s].concat(s.visualViewport||[],I4(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(ny(a_(o)))}function A4(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function u1e(e){var t=bp(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function tG(e,t){return t===$U?A4(l1e(e)):gp(t)?u1e(t):A4(c1e(ic(e)))}function h1e(e){var t=ny(a_(e)),n=["absolute","fixed"].indexOf(Co(e).position)>=0,r=n&&ls(e)?ey(e):e;return gp(r)?t.filter(function(i){return gp(i)&&XU(i,r)&&No(i)!=="body"&&(n?Co(i).position!=="static":!0)}):[]}function d1e(e,t,n){var r=t==="clippingParents"?h1e(e):[].concat(t),i=[].concat(r,[n]),s=i[0],o=i.reduce(function(a,l){var c=tG(e,l);return a.top=Zu(c.top,a.top),a.right=o_(c.right,a.right),a.bottom=o_(c.bottom,a.bottom),a.left=Zu(c.left,a.left),a},tG(e,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function nG(e){var t=e.reference,n=e.element,r=e.placement,i=r?ko(r):null,s=r?_p(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case fi:l={x:o,y:t.y-n.height};break;case os:l={x:o,y:t.y+t.height};break;case as:l={x:t.x+t.width,y:a};break;case mi:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?E4(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(s){case yp:l[c]=l[c]-(t[d]/2-n[d]/2);break;case Q0:l[c]=l[c]+(t[d]/2-n[d]/2);break}}return l}function ry(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.boundary,o=s===void 0?Rge:s,a=n.rootBoundary,l=a===void 0?$U:a,c=n.elementContext,d=c===void 0?K0:c,p=n.altBoundary,f=p===void 0?!1:p,y=n.padding,g=y===void 0?0:y,b=qU(typeof g!="number"?g:JU(g,J0)),E=d===K0?Lge:K0,S=e.rects.popper,I=e.elements[f?E:d],w=d1e(gp(I)?I:I.contextElement||ic(e.elements.popper),o,l),_=bp(e.elements.reference),A=nG({reference:_,element:S,strategy:"absolute",placement:i}),M=A4(Object.assign({},S,A)),k=d===K0?M:_,C={top:w.top-k.top+b.top,bottom:k.bottom-w.bottom+b.bottom,left:w.left-k.left+b.left,right:k.right-w.right+b.right},R=e.modifiersData.offset;if(d===K0&&R){var U=R[i];Object.keys(C).forEach(function(B){var G=[as,os].indexOf(B)>=0?1:-1,z=[fi,os].indexOf(B)>=0?"y":"x";C[B]+=U[z]*G})}return C}function p1e(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?WU:l,d=_p(r),p=d?a?VU:VU.filter(function(g){return _p(g)===d}):J0,f=p.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=p);var y=f.reduce(function(g,b){return g[b]=ry(e,{placement:b,boundary:i,rootBoundary:s,padding:o})[ko(b)],g},{});return Object.keys(y).sort(function(g,b){return y[g]-y[b]})}function f1e(e){if(ko(e)===w4)return[];var t=c_(e);return[KU(e),t,KU(t)]}function m1e(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,d=n.boundary,p=n.rootBoundary,f=n.altBoundary,y=n.flipVariations,g=y===void 0?!0:y,b=n.allowedAutoPlacements,E=t.options.placement,S=ko(E),I=S===E,w=l||(I||!g?[c_(E)]:f1e(E)),_=[E].concat(w).reduce(function(Pe,je){return Pe.concat(ko(je)===w4?p1e(t,{placement:je,boundary:d,rootBoundary:p,padding:c,flipVariations:g,allowedAutoPlacements:b}):je)},[]),A=t.rects.reference,M=t.rects.popper,k=new Map,C=!0,R=_[0],U=0;U<_.length;U++){var B=_[U],G=ko(B),z=_p(B)===yp,J=[fi,os].indexOf(G)>=0,u=J?"width":"height",m=ry(t,{placement:B,boundary:d,rootBoundary:p,altBoundary:f,padding:c}),x=J?z?as:mi:z?os:fi;A[u]>M[u]&&(x=c_(x));var N=c_(x),V=[];if(s&&V.push(m[G]<=0),a&&V.push(m[x]<=0,m[N]<=0),V.every(function(Pe){return Pe})){R=B,C=!1;break}k.set(B,V)}if(C)for(var H=g?3:1,de=function(Pe){var je=_.find(function(pt){var Nt=k.get(pt);if(Nt)return Nt.slice(0,Pe).every(function(Lt){return Lt})});if(je)return R=je,"break"},oe=H;oe>0;oe--){var Te=de(oe);if(Te==="break")break}t.placement!==R&&(t.modifiersData[r]._skip=!0,t.placement=R,t.reset=!0)}}var y1e={name:"flip",enabled:!0,phase:"main",fn:m1e,requiresIfExists:["offset"],data:{_skip:!1}};function rG(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function iG(e){return[fi,as,os,mi].some(function(t){return e[t]>=0})}function g1e(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=ry(t,{elementContext:"reference"}),a=ry(t,{altBoundary:!0}),l=rG(o,r),c=rG(a,i,s),d=iG(l),p=iG(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}var v1e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:g1e};function b1e(e,t,n){var r=ko(e),i=[mi,fi].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[mi,as].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function _1e(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=WU.reduce(function(d,p){return d[p]=b1e(p,t.rects,s),d},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}var w1e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_1e};function x1e(e){var t=e.state,n=e.name;t.modifiersData[n]=nG({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var E1e={name:"popperOffsets",enabled:!0,phase:"read",fn:x1e,data:{}};function T1e(e){return e==="x"?"y":"x"}function S1e(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,p=n.padding,f=n.tether,y=f===void 0?!0:f,g=n.tetherOffset,b=g===void 0?0:g,E=ry(t,{boundary:l,rootBoundary:c,padding:p,altBoundary:d}),S=ko(t.placement),I=_p(t.placement),w=!I,_=E4(S),A=T1e(_),M=t.modifiersData.popperOffsets,k=t.rects.reference,C=t.rects.popper,R=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,U=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),B=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,G={x:0,y:0};if(M){if(s){var z,J=_==="y"?fi:mi,u=_==="y"?os:as,m=_==="y"?"height":"width",x=M[_],N=x+E[J],V=x-E[u],H=y?-C[m]/2:0,de=I===yp?k[m]:C[m],oe=I===yp?-C[m]:-k[m],Te=t.elements.arrow,Pe=y&&Te?x4(Te):{width:0,height:0},je=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:YU(),pt=je[J],Nt=je[u],Lt=ty(0,k[m],Pe[m]),ir=w?k[m]/2-H-Lt-pt-U.mainAxis:de-Lt-pt-U.mainAxis,Zt=w?-k[m]/2+H+Lt+Nt+U.mainAxis:oe+Lt+Nt+U.mainAxis,rn=t.elements.arrow&&ey(t.elements.arrow),Jn=rn?_==="y"?rn.clientTop||0:rn.clientLeft||0:0,j=(z=B?.[_])!=null?z:0,F=x+ir-j-Jn,Y=x+Zt-j,se=ty(y?o_(N,F):N,x,y?Zu(V,Y):V);M[_]=se,G[_]=se-x}if(a){var ne,le=_==="x"?fi:mi,me=_==="x"?os:as,L=M[A],D=A==="y"?"height":"width",W=L+E[le],Q=L-E[me],$=[fi,mi].indexOf(S)!==-1,X=(ne=B?.[A])!=null?ne:0,pe=$?W:L-k[D]-C[D]-X+U.altAxis,ge=$?L+k[D]+C[D]-X-U.altAxis:Q,qe=y&&$?Yge(pe,L,ge):ty(y?pe:W,L,y?ge:Q);M[A]=qe,G[A]=qe-L}t.modifiersData[r]=G}}var I1e={name:"preventOverflow",enabled:!0,phase:"main",fn:S1e,requiresIfExists:["offset"]};function A1e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function M1e(e){return e===Bs(e)||!ls(e)?T4(e):A1e(e)}function O1e(e){var t=e.getBoundingClientRect(),n=vp(t.width)/e.offsetWidth||1,r=vp(t.height)/e.offsetHeight||1;return n!==1||r!==1}function N1e(e,t,n){n===void 0&&(n=!1);var r=ls(t),i=ls(t)&&O1e(t),s=ic(t),o=bp(e,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((No(t)!=="body"||I4(s))&&(a=M1e(t)),ls(t)?(l=bp(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=S4(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function k1e(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function C1e(e){var t=k1e(e);return Wge.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function R1e(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function L1e(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var sG={placement:"bottom",modifiers:[],strategy:"absolute"};function oG(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function D1e(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?sG:i;return function(o,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},sG,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},d=[],p=!1,f={state:c,setOptions:function(b){var E=typeof b=="function"?b(c.options):b;g(),c.options=Object.assign({},s,c.options,E),c.scrollParents={reference:gp(o)?ny(o):o.contextElement?ny(o.contextElement):[],popper:ny(a)};var S=C1e(L1e([].concat(r,c.options.modifiers)));return c.orderedModifiers=S.filter(function(I){return I.enabled}),y(),f.update()},forceUpdate:function(){if(!p){var b=c.elements,E=b.reference,S=b.popper;if(oG(E,S)){c.rects={reference:N1e(E,ey(S),c.options.strategy==="fixed"),popper:x4(S)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var I=0;I<c.orderedModifiers.length;I++){if(c.reset===!0){c.reset=!1,I=-1;continue}var w=c.orderedModifiers[I],_=w.fn,A=w.options,M=A===void 0?{}:A,k=w.name;typeof _=="function"&&(c=_({state:c,options:M,name:k,instance:f})||c)}}}},update:R1e(function(){return new Promise(function(b){f.forceUpdate(),b(c)})}),destroy:function(){g(),p=!0}};if(!oG(o,a))return f;f.setOptions(l).then(function(b){!p&&l.onFirstUpdate&&l.onFirstUpdate(b)});function y(){c.orderedModifiers.forEach(function(b){var E=b.name,S=b.options,I=S===void 0?{}:S,w=b.effect;if(typeof w=="function"){var _=w({state:c,name:E,instance:f,options:I}),A=function(){};d.push(_||A)}})}function g(){d.forEach(function(b){return b()}),d=[]}return f}}var P1e=[s1e,E1e,r1e,BU,w1e,y1e,I1e,Kge,v1e],F1e=D1e({defaultModifiers:P1e}),U1e="tippy-box",aG="tippy-content",lG="tippy-backdrop",cG="tippy-arrow",uG="tippy-svg-arrow",Bu={passive:!0,capture:!0},hG=function(){return document.body};function M4(e,t,n){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(n)?n[t]:n)}return e}function O4(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function dG(e,t){return typeof e=="function"?e.apply(void 0,t):e}function pG(e,t){if(t===0)return e;var n;return function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}}function G1e(e,t){var n=Object.assign({},e);return t.forEach(function(r){delete n[r]}),n}function j1e(e){return e.split(/\s+/).filter(Boolean)}function Xu(e){return[].concat(e)}function fG(e,t){e.indexOf(t)===-1&&e.push(t)}function z1e(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function mG(e){return e.split("-")[0]}function wp(e){return[].slice.call(e)}function yG(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function Hu(){return document.createElement("div")}function u_(e){return["Element","Fragment"].some(function(t){return O4(e,t)})}function $1e(e){return O4(e,"NodeList")}function N4(e){return O4(e,"MouseEvent")}function V1e(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function W1e(e){return u_(e)?[e]:$1e(e)?wp(e):Array.isArray(e)?e:wp(document.querySelectorAll(e))}function k4(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function iy(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function gG(e){var t,n=Xu(e),r=n[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function Z1e(e,t){var n=t.clientX,r=t.clientY;return e.every(function(i){var s=i.popperRect,o=i.popperState,a=i.props,l=a.interactiveBorder,c=mG(o.placement),d=o.modifiersData.offset;if(!d)return!0;var p=c==="bottom"?d.top.y:0,f=c==="top"?d.bottom.y:0,y=c==="right"?d.left.x:0,g=c==="left"?d.right.x:0,b=s.top-r+p>l,E=r-s.bottom-f>l,S=s.left-n+y>l,I=n-s.right-g>l;return b||E||S||I})}function C4(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[r](i,n)})}function vG(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Ro={isTouch:!1},bG=0;function B1e(){Ro.isTouch||(Ro.isTouch=!0,window.performance&&document.addEventListener("mousemove",_G))}function _G(){var e=performance.now();e-bG<20&&(Ro.isTouch=!1,document.removeEventListener("mousemove",_G)),bG=e}function X1e(){var e=document.activeElement;if(V1e(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function H1e(){document.addEventListener("touchstart",B1e,Bu),window.addEventListener("blur",X1e)}var Y1e=typeof window<"u"&&typeof document<"u",q1e=Y1e?!!window.msCrypto:!1,J1e={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Q1e={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Xs=Object.assign({appendTo:hG,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},J1e,Q1e),K1e=Object.keys(Xs),eve=function(e){var t=Object.keys(e);t.forEach(function(n){Xs[n]=e[n]})};function wG(e){var t=e.plugins||[],n=t.reduce(function(r,i){var s=i.name,o=i.defaultValue;if(s){var a;r[s]=e[s]!==void 0?e[s]:(a=Xs[s])!=null?a:o}return r},{});return Object.assign({},e,n)}function tve(e,t){var n=t?Object.keys(wG(Object.assign({},Xs,{plugins:t}))):K1e,r=n.reduce(function(i,s){var o=(e.getAttribute("data-tippy-"+s)||"").trim();if(!o)return i;if(s==="content")i[s]=o;else try{i[s]=JSON.parse(o)}catch{i[s]=o}return i},{});return r}function xG(e,t){var n=Object.assign({},t,{content:dG(t.content,[e])},t.ignoreAttributes?{}:tve(e,t.plugins));return n.aria=Object.assign({},Xs.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var nve=function(){return"innerHTML"};function R4(e,t){e[nve()]=t}function EG(e){var t=Hu();return e===!0?t.className=cG:(t.className=uG,u_(e)?t.appendChild(e):R4(t,e)),t}function TG(e,t){u_(t.content)?(R4(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?R4(e,t.content):e.textContent=t.content)}function h_(e){var t=e.firstElementChild,n=wp(t.children);return{box:t,content:n.find(function(r){return r.classList.contains(aG)}),arrow:n.find(function(r){return r.classList.contains(cG)||r.classList.contains(uG)}),backdrop:n.find(function(r){return r.classList.contains(lG)})}}function SG(e){var t=Hu(),n=Hu();n.className=U1e,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Hu();r.className=aG,r.setAttribute("data-state","hidden"),TG(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props);function i(s,o){var a=h_(t),l=a.box,c=a.content,d=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&TG(c,e.props),o.arrow?d?s.arrow!==o.arrow&&(l.removeChild(d),l.appendChild(EG(o.arrow))):l.appendChild(EG(o.arrow)):d&&l.removeChild(d)}return{popper:t,onUpdate:i}}SG.$$tippy=!0;var rve=1,d_=[],L4=[];function ive(e,t){var n=xG(e,Object.assign({},Xs,wG(yG(t)))),r,i,s,o=!1,a=!1,l=!1,c=!1,d,p,f,y=[],g=pG(F,n.interactiveDebounce),b,E=rve++,S=null,I=z1e(n.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:E,reference:e,popper:Hu(),popperInstance:S,props:n,state:w,plugins:I,clearDelayTimeouts:pe,setProps:ge,setContent:qe,show:et,hide:Qt,hideWithInteractivity:un,enable:$,disable:X,unmount:mr,destroy:sr};if(!n.render)return _;var A=n.render(_),M=A.popper,k=A.onUpdate;M.setAttribute("data-tippy-root",""),M.id="tippy-"+_.id,_.popper=M,e._tippy=_,M._tippy=_;var C=I.map(function(ee){return ee.fn(_)}),R=e.hasAttribute("aria-expanded");return rn(),H(),x(),N("onCreate",[_]),n.showOnCreate&&W(),M.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),M.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&J().addEventListener("mousemove",g)}),_;function U(){var ee=_.props.touch;return Array.isArray(ee)?ee:[ee,0]}function B(){return U()[0]==="hold"}function G(){var ee;return!!((ee=_.props.render)!=null&&ee.$$tippy)}function z(){return b||e}function J(){var ee=z().parentNode;return ee?gG(ee):document}function u(){return h_(M)}function m(ee){return _.state.isMounted&&!_.state.isVisible||Ro.isTouch||d&&d.type==="focus"?0:M4(_.props.delay,ee?0:1,Xs.delay)}function x(ee){ee===void 0&&(ee=!1),M.style.pointerEvents=_.props.interactive&&!ee?"":"none",M.style.zIndex=""+_.props.zIndex}function N(ee,Se,Me){if(Me===void 0&&(Me=!0),C.forEach(function(Je){Je[ee]&&Je[ee].apply(Je,Se)}),Me){var Be;(Be=_.props)[ee].apply(Be,Se)}}function V(){var ee=_.props.aria;if(ee.content){var Se="aria-"+ee.content,Me=M.id,Be=Xu(_.props.triggerTarget||e);Be.forEach(function(Je){var jn=Je.getAttribute(Se);if(_.state.isVisible)Je.setAttribute(Se,jn?jn+" "+Me:Me);else{var yr=jn&&jn.replace(Me,"").trim();yr?Je.setAttribute(Se,yr):Je.removeAttribute(Se)}})}}function H(){if(!(R||!_.props.aria.expanded)){var ee=Xu(_.props.triggerTarget||e);ee.forEach(function(Se){_.props.interactive?Se.setAttribute("aria-expanded",_.state.isVisible&&Se===z()?"true":"false"):Se.removeAttribute("aria-expanded")})}}function de(){J().removeEventListener("mousemove",g),d_=d_.filter(function(ee){return ee!==g})}function oe(ee){if(!(Ro.isTouch&&(l||ee.type==="mousedown"))){var Se=ee.composedPath&&ee.composedPath()[0]||ee.target;if(!(_.props.interactive&&vG(M,Se))){if(Xu(_.props.triggerTarget||e).some(function(Me){return vG(Me,Se)})){if(Ro.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else N("onClickOutside",[_,ee]);_.props.hideOnClick===!0&&(_.clearDelayTimeouts(),_.hide(),a=!0,setTimeout(function(){a=!1}),_.state.isMounted||pt())}}}function Te(){l=!0}function Pe(){l=!1}function je(){var ee=J();ee.addEventListener("mousedown",oe,!0),ee.addEventListener("touchend",oe,Bu),ee.addEventListener("touchstart",Pe,Bu),ee.addEventListener("touchmove",Te,Bu)}function pt(){var ee=J();ee.removeEventListener("mousedown",oe,!0),ee.removeEventListener("touchend",oe,Bu),ee.removeEventListener("touchstart",Pe,Bu),ee.removeEventListener("touchmove",Te,Bu)}function Nt(ee,Se){ir(ee,function(){!_.state.isVisible&&M.parentNode&&M.parentNode.contains(M)&&Se()})}function Lt(ee,Se){ir(ee,Se)}function ir(ee,Se){var Me=u().box;function Be(Je){Je.target===Me&&(C4(Me,"remove",Be),Se())}if(ee===0)return Se();C4(Me,"remove",p),C4(Me,"add",Be),p=Be}function Zt(ee,Se,Me){Me===void 0&&(Me=!1);var Be=Xu(_.props.triggerTarget||e);Be.forEach(function(Je){Je.addEventListener(ee,Se,Me),y.push({node:Je,eventType:ee,handler:Se,options:Me})})}function rn(){B()&&(Zt("touchstart",j,{passive:!0}),Zt("touchend",Y,{passive:!0})),j1e(_.props.trigger).forEach(function(ee){if(ee!=="manual")switch(Zt(ee,j),ee){case"mouseenter":Zt("mouseleave",Y);break;case"focus":Zt(q1e?"focusout":"blur",se);break;case"focusin":Zt("focusout",se);break}})}function Jn(){y.forEach(function(ee){var Se=ee.node,Me=ee.eventType,Be=ee.handler,Je=ee.options;Se.removeEventListener(Me,Be,Je)}),y=[]}function j(ee){var Se,Me=!1;if(!(!_.state.isEnabled||ne(ee)||a)){var Be=((Se=d)==null?void 0:Se.type)==="focus";d=ee,b=ee.currentTarget,H(),!_.state.isVisible&&N4(ee)&&d_.forEach(function(Je){return Je(ee)}),ee.type==="click"&&(_.props.trigger.indexOf("mouseenter")<0||o)&&_.props.hideOnClick!==!1&&_.state.isVisible?Me=!0:W(ee),ee.type==="click"&&(o=!Me),Me&&!Be&&Q(ee)}}function F(ee){var Se=ee.target,Me=z().contains(Se)||M.contains(Se);if(!(ee.type==="mousemove"&&Me)){var Be=D().concat(M).map(function(Je){var jn,yr=Je._tippy,Ys=(jn=yr.popperInstance)==null?void 0:jn.state;return Ys?{popperRect:Je.getBoundingClientRect(),popperState:Ys,props:n}:null}).filter(Boolean);Z1e(Be,ee)&&(de(),Q(ee))}}function Y(ee){var Se=ne(ee)||_.props.trigger.indexOf("click")>=0&&o;if(!Se){if(_.props.interactive){_.hideWithInteractivity(ee);return}Q(ee)}}function se(ee){_.props.trigger.indexOf("focusin")<0&&ee.target!==z()||_.props.interactive&&ee.relatedTarget&&M.contains(ee.relatedTarget)||Q(ee)}function ne(ee){return Ro.isTouch?B()!==ee.type.indexOf("touch")>=0:!1}function le(){me();var ee=_.props,Se=ee.popperOptions,Me=ee.placement,Be=ee.offset,Je=ee.getReferenceClientRect,jn=ee.moveTransition,yr=G()?h_(M).arrow:null,Ys=Je?{getBoundingClientRect:Je,contextElement:Je.contextElement||z()}:e,qs={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(oh){var La=oh.state;if(G()){var Q_=u(),Gp=Q_.box;["placement","reference-hidden","escaped"].forEach(function(cc){cc==="placement"?Gp.setAttribute("data-placement",La.placement):La.attributes.popper["data-popper-"+cc]?Gp.setAttribute("data-"+cc,""):Gp.removeAttribute("data-"+cc)}),La.attributes.popper={}}}},Uo=[{name:"offset",options:{offset:Be}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!jn}},qs];G()&&yr&&Uo.push({name:"arrow",options:{element:yr,padding:3}}),Uo.push.apply(Uo,Se?.modifiers||[]),_.popperInstance=F1e(Ys,M,Object.assign({},Se,{placement:Me,onFirstUpdate:f,modifiers:Uo}))}function me(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function L(){var ee=_.props.appendTo,Se,Me=z();_.props.interactive&&ee===hG||ee==="parent"?Se=Me.parentNode:Se=dG(ee,[Me]),Se.contains(M)||Se.appendChild(M),_.state.isMounted=!0,le()}function D(){return wp(M.querySelectorAll("[data-tippy-root]"))}function W(ee){_.clearDelayTimeouts(),ee&&N("onTrigger",[_,ee]),je();var Se=m(!0),Me=U(),Be=Me[0],Je=Me[1];Ro.isTouch&&Be==="hold"&&Je&&(Se=Je),Se?r=setTimeout(function(){_.show()},Se):_.show()}function Q(ee){if(_.clearDelayTimeouts(),N("onUntrigger",[_,ee]),!_.state.isVisible){pt();return}if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(ee.type)>=0&&o)){var Se=m(!1);Se?i=setTimeout(function(){_.state.isVisible&&_.hide()},Se):s=requestAnimationFrame(function(){_.hide()})}}function $(){_.state.isEnabled=!0}function X(){_.hide(),_.state.isEnabled=!1}function pe(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function ge(ee){if(!_.state.isDestroyed){N("onBeforeUpdate",[_,ee]),Jn();var Se=_.props,Me=xG(e,Object.assign({},Se,yG(ee),{ignoreAttributes:!0}));_.props=Me,rn(),Se.interactiveDebounce!==Me.interactiveDebounce&&(de(),g=pG(F,Me.interactiveDebounce)),Se.triggerTarget&&!Me.triggerTarget?Xu(Se.triggerTarget).forEach(function(Be){Be.removeAttribute("aria-expanded")}):Me.triggerTarget&&e.removeAttribute("aria-expanded"),H(),x(),k&&k(Se,Me),_.popperInstance&&(le(),D().forEach(function(Be){requestAnimationFrame(Be._tippy.popperInstance.forceUpdate)})),N("onAfterUpdate",[_,ee])}}function qe(ee){_.setProps({content:ee})}function et(){var ee=_.state.isVisible,Se=_.state.isDestroyed,Me=!_.state.isEnabled,Be=Ro.isTouch&&!_.props.touch,Je=M4(_.props.duration,0,Xs.duration);if(!(ee||Se||Me||Be)&&!z().hasAttribute("disabled")&&(N("onShow",[_],!1),_.props.onShow(_)!==!1)){if(_.state.isVisible=!0,G()&&(M.style.visibility="visible"),x(),je(),_.state.isMounted||(M.style.transition="none"),G()){var jn=u(),yr=jn.box,Ys=jn.content;k4([yr,Ys],0)}f=function(){var qs;if(!(!_.state.isVisible||c)){if(c=!0,M.offsetHeight,M.style.transition=_.props.moveTransition,G()&&_.props.animation){var Uo=u(),oh=Uo.box,La=Uo.content;k4([oh,La],Je),iy([oh,La],"visible")}V(),H(),fG(L4,_),(qs=_.popperInstance)==null||qs.forceUpdate(),N("onMount",[_]),_.props.animation&&G()&&Lt(Je,function(){_.state.isShown=!0,N("onShown",[_])})}},L()}}function Qt(){var ee=!_.state.isVisible,Se=_.state.isDestroyed,Me=!_.state.isEnabled,Be=M4(_.props.duration,1,Xs.duration);if(!(ee||Se||Me)&&(N("onHide",[_],!1),_.props.onHide(_)!==!1)){if(_.state.isVisible=!1,_.state.isShown=!1,c=!1,o=!1,G()&&(M.style.visibility="hidden"),de(),pt(),x(!0),G()){var Je=u(),jn=Je.box,yr=Je.content;_.props.animation&&(k4([jn,yr],Be),iy([jn,yr],"hidden"))}V(),H(),_.props.animation?G()&&Nt(Be,_.unmount):_.unmount()}}function un(ee){J().addEventListener("mousemove",g),fG(d_,g),g(ee)}function mr(){_.state.isVisible&&_.hide(),_.state.isMounted&&(me(),D().forEach(function(ee){ee._tippy.unmount()}),M.parentNode&&M.parentNode.removeChild(M),L4=L4.filter(function(ee){return ee!==_}),_.state.isMounted=!1,N("onHidden",[_]))}function sr(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),Jn(),delete e._tippy,_.state.isDestroyed=!0,N("onDestroy",[_]))}}function Ce(e,t){t===void 0&&(t={});var n=Xs.plugins.concat(t.plugins||[]);H1e();var r=Object.assign({},t,{plugins:n}),i=W1e(e),s=i.reduce(function(o,a){var l=a&&ive(a,r);return l&&o.push(l),o},[]);return u_(e)?s[0]:s}Ce.defaultProps=Xs,Ce.setDefaultProps=eve,Ce.currentInput=Ro;var sve=Object.assign({},BU,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),ove=function(e,t){var n;t===void 0&&(t={});var r=e,i=[],s=[],o,a=t.overrides,l=[],c=!1;function d(){s=r.map(function(w){return Xu(w.props.triggerTarget||w.reference)}).reduce(function(w,_){return w.concat(_)},[])}function p(){i=r.map(function(w){return w.reference})}function f(w){r.forEach(function(_){w?_.enable():_.disable()})}function y(w){return r.map(function(_){var A=_.setProps;return _.setProps=function(M){A(M),_.reference===o&&w.setProps(M)},function(){_.setProps=A}})}function g(w,_){var A=s.indexOf(_);if(_!==o){o=_;var M=(a||[]).concat("content").reduce(function(k,C){return k[C]=r[A].props[C],k},{});w.setProps(Object.assign({},M,{getReferenceClientRect:typeof M.getReferenceClientRect=="function"?M.getReferenceClientRect:function(){var k;return(k=i[A])==null?void 0:k.getBoundingClientRect()}}))}}f(!1),p(),d();var b={fn:function(){return{onDestroy:function(){f(!0)},onHidden:function(){o=null},onClickOutside:function(w){w.props.showOnCreate&&!c&&(c=!0,o=null)},onShow:function(w){w.props.showOnCreate&&!c&&(c=!0,g(w,i[0]))},onTrigger:function(w,_){g(w,_.currentTarget)}}}},E=Ce(Hu(),Object.assign({},G1e(t,["overrides"]),{plugins:[b].concat(t.plugins||[]),triggerTarget:s,popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat(((n=t.popperOptions)==null?void 0:n.modifiers)||[],[sve])})})),S=E.show;E.show=function(w){if(S(),!o&&w==null)return g(E,i[0]);if(!(o&&w==null)){if(typeof w=="number")return i[w]&&g(E,i[w]);if(r.indexOf(w)>=0){var _=w.reference;return g(E,_)}if(i.indexOf(w)>=0)return g(E,w)}},E.showNext=function(){var w=i[0];if(!o)return E.show(0);var _=i.indexOf(o);E.show(i[_+1]||w)},E.showPrevious=function(){var w=i[i.length-1];if(!o)return E.show(w);var _=i.indexOf(o),A=i[_-1]||w;E.show(A)};var I=E.setProps;return E.setProps=function(w){a=w.overrides||a,I(w)},E.setInstances=function(w){f(!0),l.forEach(function(_){return _()}),r=w,f(!1),p(),d(),l=y(E),E.setProps({triggerTarget:s})},l=y(E),E},ave={name:"animateFill",defaultValue:!1,fn:function(e){var t;if(!((t=e.props.render)!=null&&t.$$tippy))return{};var n=h_(e.popper),r=n.box,i=n.content,s=e.props.animateFill?lve():null;return{onCreate:function(){s&&(r.insertBefore(s,r.firstElementChild),r.setAttribute("data-animatefill",""),r.style.overflow="hidden",e.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(s){var o=r.style.transitionDuration,a=Number(o.replace("ms",""));i.style.transitionDelay=Math.round(a/10)+"ms",s.style.transitionDuration=o,iy([s],"visible")}},onShow:function(){s&&(s.style.transitionDuration="0ms")},onHide:function(){s&&iy([s],"hidden")}}}};function lve(){var e=Hu();return e.className=lG,iy([e],"hidden"),e}var D4={clientX:0,clientY:0},p_=[];function IG(e){var t=e.clientX,n=e.clientY;D4={clientX:t,clientY:n}}function cve(e){e.addEventListener("mousemove",IG)}function uve(e){e.removeEventListener("mousemove",IG)}var hve={name:"followCursor",defaultValue:!1,fn:function(e){var t=e.reference,n=gG(e.props.triggerTarget||t),r=!1,i=!1,s=!0,o=e.props;function a(){return e.props.followCursor==="initial"&&e.state.isVisible}function l(){n.addEventListener("mousemove",p)}function c(){n.removeEventListener("mousemove",p)}function d(){r=!0,e.setProps({getReferenceClientRect:null}),r=!1}function p(g){var b=g.target?t.contains(g.target):!0,E=e.props.followCursor,S=g.clientX,I=g.clientY,w=t.getBoundingClientRect(),_=S-w.left,A=I-w.top;(b||!e.props.interactive)&&e.setProps({getReferenceClientRect:function(){var M=t.getBoundingClientRect(),k=S,C=I;E==="initial"&&(k=M.left+_,C=M.top+A);var R=E==="horizontal"?M.top:C,U=E==="vertical"?M.right:k,B=E==="horizontal"?M.bottom:C,G=E==="vertical"?M.left:k;return{width:U-G,height:B-R,top:R,right:U,bottom:B,left:G}}})}function f(){e.props.followCursor&&(p_.push({instance:e,doc:n}),cve(n))}function y(){p_=p_.filter(function(g){return g.instance!==e}),p_.filter(function(g){return g.doc===n}).length===0&&uve(n)}return{onCreate:f,onDestroy:y,onBeforeUpdate:function(){o=e.props},onAfterUpdate:function(g,b){var E=b.followCursor;r||E!==void 0&&o.followCursor!==E&&(y(),E?(f(),e.state.isMounted&&!i&&!a()&&l()):(c(),d()))},onMount:function(){e.props.followCursor&&!i&&(s&&(p(D4),s=!1),a()||l())},onTrigger:function(g,b){N4(b)&&(D4={clientX:b.clientX,clientY:b.clientY}),i=b.type==="focus"},onHidden:function(){e.props.followCursor&&(d(),c(),s=!0)}}}};function dve(e,t){var n;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat((((n=e.popperOptions)==null?void 0:n.modifiers)||[]).filter(function(r){var i=r.name;return i!==t.name}),[t])})}}var pve={name:"inlinePositioning",defaultValue:!1,fn:function(e){var t=e.reference;function n(){return!!e.props.inlinePositioning}var r,i=-1,s=!1,o=[],a={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(p){var f=p.state;n()&&(o.indexOf(f.placement)!==-1&&(o=[]),r!==f.placement&&o.indexOf(f.placement)===-1&&(o.push(f.placement),e.setProps({getReferenceClientRect:function(){return l(f.placement)}})),r=f.placement)}};function l(p){return fve(mG(p),t.getBoundingClientRect(),wp(t.getClientRects()),i)}function c(p){s=!0,e.setProps(p),s=!1}function d(){s||c(dve(e.props,a))}return{onCreate:d,onAfterUpdate:d,onTrigger:function(p,f){if(N4(f)){var y=wp(e.reference.getClientRects()),g=y.find(function(E){return E.left-2<=f.clientX&&E.right+2>=f.clientX&&E.top-2<=f.clientY&&E.bottom+2>=f.clientY}),b=y.indexOf(g);i=b>-1?b:i}},onHidden:function(){i=-1}}}};function fve(e,t,n,r){if(n.length<2||e===null)return t;if(n.length===2&&r>=0&&n[0].left>n[1].right)return n[r]||t;switch(e){case"top":case"bottom":{var i=n[0],s=n[n.length-1],o=e==="top",a=i.top,l=s.bottom,c=o?i.left:s.left,d=o?i.right:s.right,p=d-c,f=l-a;return{top:a,bottom:l,left:c,right:d,width:p,height:f}}case"left":case"right":{var y=Math.min.apply(Math,n.map(function(M){return M.left})),g=Math.max.apply(Math,n.map(function(M){return M.right})),b=n.filter(function(M){return e==="left"?M.left===y:M.right===g}),E=b[0].top,S=b[b.length-1].bottom,I=y,w=g,_=w-I,A=S-E;return{top:E,bottom:S,left:I,right:w,width:_,height:A}}default:return t}}var mve={name:"sticky",defaultValue:!1,fn:function(e){var t=e.reference,n=e.popper;function r(){return e.popperInstance?e.popperInstance.state.elements.reference:t}function i(l){return e.props.sticky===!0||e.props.sticky===l}var s=null,o=null;function a(){var l=i("reference")?r().getBoundingClientRect():null,c=i("popper")?n.getBoundingClientRect():null;(l&&AG(s,l)||c&&AG(o,c))&&e.popperInstance&&e.popperInstance.update(),s=l,o=c,e.state.isMounted&&requestAnimationFrame(a)}return{onMount:function(){e.props.sticky&&a()}}}};function AG(e,t){return e&&t?e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left:!0}Ce.setDefaultProps({render:SG}),Ce.setDefaultProps({onShow:e=>{if(!e.props.content)return!1}});function P4(e,t={},n={mount:!0,appName:"Tippy"}){n=Object.assign({mount:!0,appName:"Tippy"},n);const r=Mn(),i=K(),s=K({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=Gd();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=k=>{let C,R=ot(k)?k.value:k;return Ds(R)?(o.value||(o.value=Zl({name:n.appName,setup:()=>()=>ot(k)?k.value:k}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),C=()=>l()):typeof R=="object"?(o.value||(o.value=Zl({name:n.appName,setup:()=>()=>Ti(ot(k)?k.value:k)}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),C=()=>l()):C=R,C},d=k=>{let C={};return ot(k)?C=k.value||{}:ri(k)?C={...k}:C={...k},C.content&&(C.content=c(C.content)),C.triggerTarget&&(C.triggerTarget=ot(C.triggerTarget)?C.triggerTarget.value:C.triggerTarget),(!C.plugins||!Array.isArray(C.plugins))&&(C.plugins=[]),C.plugins=C.plugins.filter(R=>R.name!=="vueTippyReactiveState"),C.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){s.value.isEnabled=!0},onMount(){s.value.isMounted=!0},onShow(){s.value.isMounted=!0,s.value.isVisible=!0},onShown(){s.value.isShown=!0},onHide(){s.value.isMounted=!1,s.value.isVisible=!1},onHidden(){s.value.isShown=!1},onUnmounted(){s.value.isMounted=!1},onDestroy(){s.value.isDestroyed=!0}})}),C},p=()=>{i.value&&i.value.setProps(d(t))},f=()=>{!i.value||!t.content||i.value.setContent(c(t.content))},y=k=>{var C;(C=i.value)===null||C===void 0||C.setContent(c(k))},g=k=>{var C;(C=i.value)===null||C===void 0||C.setProps(d(k))},b=()=>{var k;i.value&&(i.value.destroy(),i.value=void 0),a=null,(k=o.value)===null||k===void 0||k.unmount(),o.value=void 0},E=()=>{var k;(k=i.value)===null||k===void 0||k.show()},S=()=>{var k;(k=i.value)===null||k===void 0||k.hide()},I=()=>{var k;(k=i.value)===null||k===void 0||k.disable(),s.value.isEnabled=!1},w=()=>{var k;(k=i.value)===null||k===void 0||k.enable(),s.value.isEnabled=!0},_=()=>{var k;(k=i.value)===null||k===void 0||k.unmount()},A=()=>{if(!e)return;let k=ot(e)?e.value:e;typeof k=="function"&&(k=k()),k&&(i.value=Ce(k,d(t)),k.$tippy=M)},M={tippy:i,refresh:p,refreshContent:f,setContent:y,setProps:g,destroy:b,hide:S,show:E,disable:I,enable:w,unmount:_,mount:A,state:s};return n.mount&&(r?r.isMounted?A():tr(A):A()),r&&Gl(()=>{b()}),ot(t)||ri(t)?Gn(t,p,{immediate:!1}):ot(t.content)&&Gn(t.content,f,{immediate:!1}),M}function yve(e,t){const n=K();return tr(()=>{const r=(Array.isArray(e)?e.map(i=>i.value):typeof e=="function"?e():e.value).map(i=>i instanceof Element?i._tippy:i).filter(Boolean);n.value=ove(r,t?{allowHTML:!0,...t}:{allowHTML:!0})}),{singleton:n}}function gve(e){return typeof e=="function"?e():Ie(e)}function vve(e){var t,n;const r=gve(e);return(n=(t=r)===null||t===void 0?void 0:t.$el)!==null&&n!==void 0?n:r}const bve=tt({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>Ce.defaultProps.appendTo},aria:{default:()=>Ce.defaultProps.aria},delay:{default:()=>Ce.defaultProps.delay},duration:{default:()=>Ce.defaultProps.duration},getReferenceClientRect:{default:()=>Ce.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>Ce.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>Ce.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>Ce.defaultProps.interactive},interactiveBorder:{default:()=>Ce.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>Ce.defaultProps.interactiveDebounce},moveTransition:{default:()=>Ce.defaultProps.moveTransition},offset:{default:()=>Ce.defaultProps.offset},onAfterUpdate:{default:()=>Ce.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>Ce.defaultProps.onBeforeUpdate},onCreate:{default:()=>Ce.defaultProps.onCreate},onDestroy:{default:()=>Ce.defaultProps.onDestroy},onHidden:{default:()=>Ce.defaultProps.onHidden},onHide:{default:()=>Ce.defaultProps.onHide},onMount:{default:()=>Ce.defaultProps.onMount},onShow:{default:()=>Ce.defaultProps.onShow},onShown:{default:()=>Ce.defaultProps.onShown},onTrigger:{default:()=>Ce.defaultProps.onTrigger},onUntrigger:{default:()=>Ce.defaultProps.onUntrigger},onClickOutside:{default:()=>Ce.defaultProps.onClickOutside},placement:{default:()=>Ce.defaultProps.placement},plugins:{default:()=>Ce.defaultProps.plugins},popperOptions:{default:()=>Ce.defaultProps.popperOptions},render:{default:()=>Ce.defaultProps.render},showOnCreate:{type:Boolean,default:()=>Ce.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>Ce.defaultProps.touch},trigger:{default:()=>Ce.defaultProps.trigger},triggerTarget:{default:()=>Ce.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>Ce.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>Ce.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>Ce.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>Ce.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>Ce.defaultProps.allowHTML},animation:{default:()=>Ce.defaultProps.animation},arrow:{default:()=>Ce.defaultProps.arrow},content:{default:()=>Ce.defaultProps.content},inertia:{default:()=>Ce.defaultProps.inertia},maxWidth:{default:()=>Ce.defaultProps.maxWidth},role:{default:()=>Ce.defaultProps.role},theme:{default:()=>Ce.defaultProps.theme},zIndex:{default:()=>Ce.defaultProps.zIndex}},emits:["state"],setup(e,{slots:t,emit:n,expose:r}){const i=K(),s=K(),o=K(),a=K(!1),l=()=>{let y={...e};for(const g of["to","tag","contentTag","contentClass"])y.hasOwnProperty(g)&&delete y[g];return y};let c=()=>vve(i);e.to&&(typeof Element<"u"&&e.to instanceof Element?c=()=>e.to:e.to==="parent"?c=()=>{let y=i.value;return y||(y=i.value=s.value.parentElement),y}:(typeof e.to=="string"||e.to instanceof String)&&(c=()=>document.querySelector(e.to)));const d=P4(c,l());let p=t.content;!p&&e.to==="parent"&&(p=t.default),tr(()=>{a.value=!0,Hi(()=>{p&&d.setContent(()=>o.value)})}),Gn(d.state,()=>{n("state",Ie(d.state))},{immediate:!0,deep:!0}),Gn(()=>e,()=>{d.setProps(l()),p&&d.setContent(()=>o.value)},{deep:!0});let f=Zn({elem:i,contentElem:o,mounted:a,...d});return r(f),()=>{const y=(e.contentTag,e.contentTag),g=p?Ti(y,{ref:o,style:{display:a.value?"inherit":"none"},class:e.contentClass},p(f)):null;if(e.to==="parent"){const S=[];if(!i.value){const I=Ti("span",{ref:s,"data-v-tippy":"",style:{display:"none"}});S.push(I)}return g&&S.push(g),S}const b=t.default?t.default(f):[];if(!e.tag){const S=Ti(b[0],{ref:i,"data-v-tippy":""});return g?[S,g]:S}const E=(e.tag,e.tag);return Ti(E,{ref:i,"data-v-tippy":""},g?[b,g]:b)}}}),_ve=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let F4={};Object.keys(Ce.defaultProps).forEach(e=>{_ve.includes(e)?F4[e]={type:Boolean,default:function(){return Ce.defaultProps[e]}}:F4[e]={default:function(){return Ce.defaultProps[e]}}});const wve=tt({props:F4,setup(e){const t=K([]),{singleton:n}=yve(t,e);return{instances:t,singleton:n}},mounted(){var e;const t=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(t).map(n=>n._tippy).filter(Boolean),(e=this.singleton)===null||e===void 0||e.setInstances(this.instances)},render(){let e=this.$slots.default?this.$slots.default():[];return Ti(()=>e)}}),xve={mounted(e,t,n){const r=typeof t.value=="string"?{content:t.value}:t.value||{},i=Object.keys(t.modifiers||{}),s=i.find(a=>a!=="arrow"),o=i.findIndex(a=>a==="arrow")!==-1;s&&(r.placement=r.placement||s),o&&(r.arrow=r.arrow!==void 0?r.arrow:!0),n.props&&n.props.onTippyShow&&(r.onShow=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),n.props&&n.props.onTippyShown&&(r.onShown=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),n.props&&n.props.onTippyHidden&&(r.onHidden=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),n.props&&n.props.onTippyHide&&(r.onHide=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),n.props&&n.props.onTippyMount&&(r.onMount=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),e.getAttribute("title")&&!r.content&&(r.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!r.content&&(r.content=e.getAttribute("content")),P4(e,r)},unmounted(e){e.$tippy?e.$tippy.destroy():e._tippy&&e._tippy.destroy()},updated(e,t){const n=typeof t.value=="string"?{content:t.value}:t.value||{};e.getAttribute("title")&&!n.content&&(n.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!n.content&&(n.content=e.getAttribute("content")),e.$tippy?e.$tippy.setProps(n||{}):e._tippy&&e._tippy.setProps(n||{})}},Eve={install(e,t={}){Ce.setDefaultProps(t.defaultProps||{}),e.directive(t.directive||"tippy",xve),e.component(t.component||"tippy",bve),e.component(t.componentSingleton||"tippy-singleton",wve)}},MG=Ce.setDefaultProps;MG({ignoreAttributes:!0,plugins:[mve,pve,hve,ave]});const Tve=tt({name:"App",components:{Shell:Cge},setup(){const e=Mn();tr(()=>{new vU().observe(e?.proxy?.$refs["app-size"]),MG({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})})}}),Sve=["lang"],Ive={class:"h-full",ref:"app-size"};function Ave(e,t,n,r,i,s){const o=vn("shell");return ce(),_e("div",{class:"ramp-app ramp-styles animation-enabled",lang:e.$i18n.locale},[ie("div",Ive,[Ye(o)],512)],8,Sve)}const Mve=Ao(Tve,[["render",Ave]]),Lo="focus-list",Yu="focus-item",Ove="focus-icon",Nve="focus-container",xp=`[${Lo}],[${Nve}]`,f_="truncate-text",m_="show-truncate",Ep="focused",U4=`button,input,select,a,textarea,[contenteditable],[${Lo}],[${Ove}],[tabIndex]`,kve={mounted(e,t){+e.getAttribute("tabindex")<=0&&e.setAttribute("tabindex","0"),e.toggleAttribute(Lo,!0),new Cve(e,t.value)},updated(e){OG(e)}};function OG(e){e.querySelectorAll(U4).forEach(t=>{if(t.closest(xp)===e||t.closest(xp)===t&&t.parentElement.closest(xp)===e)if(t.closest(`[${Lo}],.${Ep}`).classList.contains(Ep))t.setAttribute("tabindex","0");else{t.setAttribute("tabindex","-1");return}})}class Cve{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(t,n){this.element=t,this.highlightedItem=this.element,this.isHorizontal=n==="horizontal",this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const r=this;t.addEventListener("keydown",function(i){r.onKeydown(i)}),t.addEventListener("focus",function(){r.onFocus()}),t.addEventListener("blur",function(){r.onBlur()}),t.addEventListener("mousedown",function(){r.onMousedown()}),t.addEventListener("touchstart",function(){r.onTouchstart()}),t.addEventListener("refocusLegendItem",i=>{const s=i.detail.focusItem;r.element.focus(),r.focusItem(s),this.highlightedItem=s}),document.addEventListener("click",function(i){i.target&&t.contains(i.target)?r.onClick(i):r.defocusItem(r.highlightedItem)})}setTabIndex(t,n=this.element){n.querySelectorAll(U4).forEach(r=>{(t===-1||r.closest(xp)===this.element||r.closest(xp)===r&&r.parentElement.closest(xp)===this.element||r.closest(`[${Lo}],.${Ep}`).classList.contains(Ep))&&r.setAttribute("tabindex",t.toString())})}defocusItem(t){t.classList.remove(Ep),this.setTabIndex(-1,t),t._tippy&&t._tippy.hide(),t.getAttribute(Yu)===m_&&t.querySelector(`[${f_}]`)?._tippy?.hide()}focusItem(t){t.classList.add(Ep),this.setAriaActiveDescendant(t),this.setTabIndex(0,t),t.scrollIntoView({block:"nearest"}),t._tippy&&!this.isTapped&&t._tippy.show(),t.getAttribute(Yu)===m_&&t.querySelector(`[${f_}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(t){this.element.setAttribute("aria-activedescendant",t.getAttribute("id"))}shiftHighlight(t,n=!1){if(this.defocusItem(this.highlightedItem),n)if(this.highlightedItem===this.element)this.highlightedItem=t[t.length-1];else{const r=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[r-1]||t[t.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=t[0];else{const r=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[r+1]||t[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(t){const n=this,r=Array.prototype.filter.call(this.element.querySelectorAll(`[${Yu}]`),i=>i.closest(`[${Lo}]`)===n.element&&!!i.offsetParent);if(r.length!==0)switch(t.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":t.target===this.element&&this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.highlightedItem.click());break;case"Tab":const i=this.highlightedItem.querySelectorAll(U4).length===0,s=this.element.isEqualNode(t.target);this.highlightedItem!==this.element&&s&&(i&&this.defocusItem(this.highlightedItem),t.shiftKey&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(t){this.defocusItem(this.highlightedItem);let n=t.target;if(!n.hasAttribute(Lo))for(;n.parentElement.closest(`[${Lo}]`)!==this.element;)n=n.parentElement.closest(`[${Lo}]`);this.highlightedItem=n.closest(`[${Yu}]`)||n.closest(`[${Lo}]`)||this.highlightedItem,n.hasAttribute(`${Yu}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(Yu)===m_&&this.highlightedItem.querySelector(`[${f_}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),OG(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(Yu)===m_&&this.highlightedItem.querySelector(`[${f_}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const NG="focus-item",Rve={beforeMount(e,t){e.hasAttribute("id")||e.setAttribute("id",Lve()),t.value?e.setAttribute(NG,t.value):e.toggleAttribute(NG,!0)}};function Lve(){let e;do e="focus-item-"+Math.random().toString(36).substring(2,9);while(document.getElementById(e)!==null);return e}const G4="focus-container",kG="focus-list",Dve="focus-icon",j4=`[${kG}],[${G4}]`,CG=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${kG}],[${G4}],[${Dve}],[tabIndex]`;let z4=[];const Pve={mounted(e){[...document.querySelectorAll(".inner-shell")].some(t=>t.contains(e))&&z4.push(new Fve(e))},beforeUnmount(e){z4=z4.filter(t=>t.element===e?(t.removeEventListeners(),!1):!0)}};class Fve{element;constructor(t){this.element=t,this.element.toggleAttribute(G4,!0),this.element.tabIndex=0,setTimeout(()=>this.disableTabbing(),600);const n=this;this.element.addEventListener("keypress",function(r){n.onKeypress(r)}),this.element.addEventListener("click",function(){n.onClick()}),this.element.addEventListener("focusout",function(r){n.onFocusOut(r)}),this.element.addEventListener("focus",function(){n.onFocus()})}removeEventListeners(){const t=this;this.element.removeEventListener("keypress",function(n){t.onKeypress(n)}),this.element.removeEventListener("click",function(){t.onClick()}),this.element.removeEventListener("focusout",function(n){t.onFocusOut(n)}),this.element.removeEventListener("focus",function(){t.onFocus()})}onKeypress(t){t.target===this.element&&(t.key==="Enter"||t.key===" ")&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(t){this.element.contains(t.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){Array.prototype.filter.call(this.element.querySelectorAll(CG),()=>!0).forEach(t=>{t.tabIndex=-1})}enableTabbing(){let t;return Array.prototype.map.call(this.element.querySelectorAll(CG),n=>{(n.closest(j4)===this.element||n.closest(j4)===n&&n.parentElement.closest(j4)===this.element)&&n.offsetParent&&(n.tabIndex=0,t===void 0&&(t=n))}),t}}const Uve="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",Gve="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u062A\u0635\u0627\u0644\u0627\u062A6\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u0924_\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC_\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",Tp=(e,t)=>{for(const n in t)e[n]=t[n];return e},$4="numeric",V4="ascii",W4="alpha",y_="asciinumeric",g_="alphanumeric",Z4="domain",RG="emoji",jve="scheme",zve="slashscheme",LG="whitespace";function $ve(e,t){return e in t||(t[e]=[]),t[e]}function qu(e,t,n){t[$4]&&(t[y_]=!0,t[g_]=!0),t[V4]&&(t[y_]=!0,t[W4]=!0),t[y_]&&(t[g_]=!0),t[W4]&&(t[g_]=!0),t[g_]&&(t[Z4]=!0),t[RG]&&(t[Z4]=!0);for(const r in t){const i=$ve(r,n);i.indexOf(e)<0&&i.push(e)}}function Vve(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Oi(e){e===void 0&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}Oi.groups={},Oi.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const i=t.jr[r][0],s=t.jr[r][1];if(s&&i.test(e))return s}return t.jd},has(e,t){return t===void 0&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||Oi.groups;let i;return t&&t.j?i=t:(i=new Oi(t),n&&r&&qu(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const s=e.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(e[o]);return i.tt(e[s-1],t,n,r)},tt(e,t,n,r){r=r||Oi.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const s=t;let o,a=i.go(e);if(a?(o=new Oi,Tp(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Oi,s){if(r)if(o.t&&typeof o.t=="string"){const l=Tp(Vve(o.t,r),n);qu(s,l,r)}else n&&qu(s,n,r);o.t=s}return i.j[e]=o,o}};const Re=(e,t,n,r,i)=>e.ta(t,n,r,i),cs=(e,t,n,r,i)=>e.tr(t,n,r,i),DG=(e,t,n,r,i)=>e.ts(t,n,r,i),fe=(e,t,n,r,i)=>e.tt(t,n,r,i),Ma="WORD",B4="UWORD",sy="LOCALHOST",X4="TLD",H4="UTLD",v_="SCHEME",Sp="SLASH_SCHEME",b_="NUM",PG="WS",Y4="NL",Ip="OPENBRACE",oy="OPENBRACKET",ay="OPENANGLEBRACKET",ly="OPENPAREN",Ju="CLOSEBRACE",Ap="CLOSEBRACKET",Mp="CLOSEANGLEBRACKET",Qu="CLOSEPAREN",__="AMPERSAND",w_="APOSTROPHE",x_="ASTERISK",sc="AT",E_="BACKSLASH",T_="BACKTICK",S_="CARET",oc="COLON",q4="COMMA",I_="DOLLAR",Do="DOT",A_="EQUALS",J4="EXCLAMATION",Po="HYPHEN",M_="PERCENT",O_="PIPE",N_="PLUS",k_="POUND",C_="QUERY",Q4="QUOTE",K4="SEMI",Oa="SLASH",cy="TILDE",R_="UNDERSCORE",FG="EMOJI",L_="SYM";var UG=Object.freeze({__proto__:null,WORD:Ma,UWORD:B4,LOCALHOST:sy,TLD:X4,UTLD:H4,SCHEME:v_,SLASH_SCHEME:Sp,NUM:b_,WS:PG,NL:Y4,OPENBRACE:Ip,OPENBRACKET:oy,OPENANGLEBRACKET:ay,OPENPAREN:ly,CLOSEBRACE:Ju,CLOSEBRACKET:Ap,CLOSEANGLEBRACKET:Mp,CLOSEPAREN:Qu,AMPERSAND:__,APOSTROPHE:w_,ASTERISK:x_,AT:sc,BACKSLASH:E_,BACKTICK:T_,CARET:S_,COLON:oc,COMMA:q4,DOLLAR:I_,DOT:Do,EQUALS:A_,EXCLAMATION:J4,HYPHEN:Po,PERCENT:M_,PIPE:O_,PLUS:N_,POUND:k_,QUERY:C_,QUOTE:Q4,SEMI:K4,SLASH:Oa,TILDE:cy,UNDERSCORE:R_,EMOJI:FG,SYM:L_});const Op=/[a-z]/,eA=/\p{L}/u,tA=/\p{Emoji}/u,nA=/\d/,GG=/\s/,jG=`
`,Wve="\uFE0F",Zve="\u200D";let D_=null,P_=null;function Bve(e){e===void 0&&(e=[]);const t={};Oi.groups=t;const n=new Oi;D_==null&&(D_=zG(Uve)),P_==null&&(P_=zG(Gve)),fe(n,"'",w_),fe(n,"{",Ip),fe(n,"[",oy),fe(n,"<",ay),fe(n,"(",ly),fe(n,"}",Ju),fe(n,"]",Ap),fe(n,">",Mp),fe(n,")",Qu),fe(n,"&",__),fe(n,"*",x_),fe(n,"@",sc),fe(n,"`",T_),fe(n,"^",S_),fe(n,":",oc),fe(n,",",q4),fe(n,"$",I_),fe(n,".",Do),fe(n,"=",A_),fe(n,"!",J4),fe(n,"-",Po),fe(n,"%",M_),fe(n,"|",O_),fe(n,"+",N_),fe(n,"#",k_),fe(n,"?",C_),fe(n,'"',Q4),fe(n,"/",Oa),fe(n,";",K4),fe(n,"~",cy),fe(n,"_",R_),fe(n,"\\",E_);const r=cs(n,nA,b_,{[$4]:!0});cs(r,nA,r);const i=cs(n,Op,Ma,{[V4]:!0});cs(i,Op,i);const s=cs(n,eA,B4,{[W4]:!0});cs(s,Op),cs(s,eA,s);const o=cs(n,GG,PG,{[LG]:!0});fe(n,jG,Y4,{[LG]:!0}),fe(o,jG),cs(o,GG,o);const a=cs(n,tA,FG,{[RG]:!0});cs(a,tA,a),fe(a,Wve,a);const l=fe(a,Zve);cs(l,tA,a);const c=[[Op,i]],d=[[Op,null],[eA,s]];for(let p=0;p<D_.length;p++)ac(n,D_[p],X4,Ma,c);for(let p=0;p<P_.length;p++)ac(n,P_[p],H4,B4,d);qu(X4,{tld:!0,ascii:!0},t),qu(H4,{utld:!0,alpha:!0},t),ac(n,"file",v_,Ma,c),ac(n,"mailto",v_,Ma,c),ac(n,"http",Sp,Ma,c),ac(n,"https",Sp,Ma,c),ac(n,"ftp",Sp,Ma,c),ac(n,"ftps",Sp,Ma,c),qu(v_,{scheme:!0,ascii:!0},t),qu(Sp,{slashscheme:!0,ascii:!0},t),e=e.sort((p,f)=>p[0]>f[0]?1:-1);for(let p=0;p<e.length;p++){const f=e[p][0],y=e[p][1]?{[jve]:!0}:{[zve]:!0};f.indexOf("-")>=0?y[Z4]=!0:Op.test(f)?nA.test(f)?y[y_]=!0:y[V4]=!0:y[$4]=!0,DG(n,f,f,y)}return DG(n,"localhost",sy,{ascii:!0}),n.jd=new Oi(L_),{start:n,tokens:Tp({groups:t},UG)}}function Xve(e,t){const n=Hve(t.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let a=e,l=null,c=0,d=null,p=-1,f=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(p=0,f=0,d=a):p>=0&&(p+=n[o].length,f++),c+=n[o].length,s+=n[o].length,o++;s-=p,o-=f,c-=p,i.push({t:d.t,v:t.slice(s-c,s),s:s-c,e:s})}return i}function Hve(e){const t=[],n=e.length;let r=0;for(;r<n;){let i=e.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=e.charCodeAt(r+1))<56320||s>57343?e[r]:e.slice(r,r+2);t.push(o),r+=o.length}return t}function ac(e,t,n,r,i){let s;const o=t.length;for(let a=0;a<o-1;a++){const l=t[a];e.j[l]?s=e.j[l]:(s=new Oi(r),s.jr=i.slice(),e.j[l]=s),e=s}return s=new Oi(n),s.jr=i.slice(),e.j[t[o-1]]=s,s}function zG(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let s=0;for(;i.indexOf(e[r+s])>=0;)s++;if(s>0){t.push(n.join(""));let o=parseInt(e.substring(r,r+s),10);for(;o>0;o--)n.pop();r+=s}else e[r]==="_"?(t.push(n.join("")),r++):(n.push(e[r]),r++)}return t}const uy={defaultProtocol:"http",events:null,format:$G,formatHref:$G,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function rA(e,t){t===void 0&&(t=null);let n=Tp({},uy);e&&(n=Tp(n,e instanceof rA?e.o:e));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}rA.prototype={o:uy,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:uy[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function $G(e){return e}function VG(e,t){this.t="token",this.v=e,this.tk=t}VG.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"\u2026":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return e===void 0&&(e=uy.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toFormattedHref(e),r=e.get("tagName",n,t),i=this.toFormattedString(e),s={},o=e.get("className",n,t),a=e.get("target",n,t),l=e.get("rel",n,t),c=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return s.href=n,o&&(s.class=o),a&&(s.target=a),l&&(s.rel=l),c&&Tp(s,c),{tagName:r,attributes:s,content:i,eventListeners:d}}};function F_(e,t){class n extends VG{constructor(i,s){super(i,s),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const WG=F_("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),ZG=F_("text"),Yve=F_("nl"),Ku=F_("url",{isLink:!0,toHref(e){return e===void 0&&(e=uy.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==sy&&e[1].t===oc}}),rr=e=>new Oi(e);function qve(e){let{groups:t}=e;const n=t.domain.concat([__,x_,sc,E_,T_,S_,I_,A_,Po,b_,M_,O_,N_,k_,Oa,L_,cy,R_]),r=[w_,Mp,Ju,Ap,Qu,oc,q4,Do,J4,ay,Ip,oy,ly,C_,Q4,K4],i=[__,w_,x_,E_,T_,S_,Ju,I_,A_,Po,b_,Ip,M_,O_,N_,k_,C_,Oa,L_,cy,R_],s=rr(),o=fe(s,cy);Re(o,i,o),Re(o,t.domain,o);const a=rr(),l=rr(),c=rr();Re(s,t.domain,a),Re(s,t.scheme,l),Re(s,t.slashscheme,c),Re(a,i,o),Re(a,t.domain,a);const d=fe(a,sc);fe(o,sc,d),fe(l,sc,d),fe(c,sc,d);const p=fe(o,Do);Re(p,i,o),Re(p,t.domain,o);const f=rr();Re(d,t.domain,f),Re(f,t.domain,f);const y=fe(f,Do);Re(y,t.domain,f);const g=rr(WG);Re(y,t.tld,g),Re(y,t.utld,g),fe(d,sy,g);const b=fe(f,Po);Re(b,t.domain,f),Re(g,t.domain,f),fe(g,Do,y),fe(g,Po,b);const E=fe(g,oc);Re(E,t.numeric,WG);const S=fe(a,Po),I=fe(a,Do);Re(S,t.domain,a),Re(I,i,o),Re(I,t.domain,a);const w=rr(Ku);Re(I,t.tld,w),Re(I,t.utld,w),Re(w,t.domain,a),Re(w,i,o),fe(w,Do,I),fe(w,Po,S),fe(w,sc,d);const _=fe(w,oc),A=rr(Ku);Re(_,t.numeric,A);const M=rr(Ku),k=rr();Re(M,n,M),Re(M,r,k),Re(k,n,M),Re(k,r,k),fe(w,Oa,M),fe(A,Oa,M);const C=fe(l,oc),R=fe(c,oc),U=fe(R,Oa);fe(U,Oa,C),Re(l,t.domain,a),fe(l,Do,I),fe(l,Po,S),Re(c,t.domain,a),fe(c,Do,I),fe(c,Po,S),Re(C,t.domain,M),fe(C,Oa,M);const B=fe(M,Ip),G=fe(M,oy),z=fe(M,ay),J=fe(M,ly);fe(k,Ip,B),fe(k,oy,G),fe(k,ay,z),fe(k,ly,J),fe(B,Ju,M),fe(G,Ap,M),fe(z,Mp,M),fe(J,Qu,M),fe(B,Ju,M);const u=rr(Ku),m=rr(Ku),x=rr(Ku),N=rr(Ku);Re(B,n,u),Re(G,n,m),Re(z,n,x),Re(J,n,N);const V=rr(),H=rr(),de=rr(),oe=rr();return Re(B,r),Re(G,r),Re(z,r),Re(J,r),Re(u,n,u),Re(m,n,m),Re(x,n,x),Re(N,n,N),Re(u,r,u),Re(m,r,m),Re(x,r,x),Re(N,r,N),Re(V,n,V),Re(H,n,m),Re(de,n,x),Re(oe,n,N),Re(V,r,V),Re(H,r,H),Re(de,r,de),Re(oe,r,oe),fe(m,Ap,M),fe(x,Mp,M),fe(N,Qu,M),fe(u,Ju,M),fe(H,Ap,M),fe(de,Mp,M),fe(oe,Qu,M),fe(V,Qu,M),fe(s,sy,w),fe(s,Y4,Yve),{start:s,tokens:UG}}function Jve(e,t,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let a=e,l=null,c=null,d=0,p=null,f=-1;for(;i<r&&!(l=a.go(n[i].t));)o.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(f=0,p=a):f>=0&&f++,i++,d++;if(f<0)i-=d,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(iA(ZG,t,o)),o=[]),i-=f,d-=f;const y=p.t,g=n.slice(i-d,i);s.push(iA(y,t,g))}}return o.length>0&&s.push(iA(ZG,t,o)),s}function iA(e,t,n){const r=n[0].s,i=n[n.length-1].e,s=t.slice(r,i);return new e(s,n)}const $r={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Qve(){$r.scanner=Bve($r.customSchemes);for(let e=0;e<$r.tokenQueue.length;e++)$r.tokenQueue[e][1]({scanner:$r.scanner});$r.parser=qve($r.scanner.tokens);for(let e=0;e<$r.pluginQueue.length;e++)$r.pluginQueue[e][1]({scanner:$r.scanner,parser:$r.parser});$r.initialized=!0}function Kve(e){return $r.initialized||Qve(),Jve($r.parser.start,e,Xve($r.scanner.start,e))}var ebe={amp:"&",gt:">",lt:"<",nbsp:"\xA0",quot:'"'},tbe=/^#[xX]([A-Fa-f0-9]+)$/,nbe=/^#([0-9]+)$/,rbe=/^([A-Za-z0-9]+)$/,ibe=function(){function e(t){this.named=t}return e.prototype.parse=function(t){if(t){var n=t.match(tbe);if(n)return String.fromCharCode(parseInt(n[1],16));if(n=t.match(nbe),n)return String.fromCharCode(parseInt(n[1],10));if(n=t.match(rbe),n)return this.named[n[1]]||"&"+n[1]+";"}},e}(),sbe=/[\t\n\f ]/,obe=/[A-Za-z]/,abe=/\r\n?/g;function Nr(e){return sbe.test(e)}function BG(e){return obe.test(e)}function lbe(e){return e.replace(abe,`
`)}var cbe=function(){function e(t,n,r){r===void 0&&(r="precompile"),this.delegate=t,this.entityParser=n,this.mode=r,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var i=this.peek();if(i==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&i===`
`){var s=this.tagNameBuffer.toLowerCase();(s==="pre"||s==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var i=this.peek(),s=this.tagNameBuffer;i==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):i==="&"&&s!=="script"&&s!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(i))},tagOpen:function(){var i=this.consume();i==="!"?this.transitionTo("markupDeclarationOpen"):i==="/"?this.transitionTo("endTagOpen"):(i==="@"||i===":"||BG(i))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(i))},markupDeclarationOpen:function(){var i=this.consume();if(i==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var s=i.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();s==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var i=this.consume();Nr(i)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var i=this.consume();Nr(i)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(i.toLowerCase()))},doctypeName:function(){var i=this.consume();Nr(i)?this.transitionTo("afterDoctypeName"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(i.toLowerCase())},afterDoctypeName:function(){var i=this.consume();if(!Nr(i))if(i===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var s=i.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=s.toUpperCase()==="PUBLIC",a=s.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var i=this.peek();Nr(i)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):i==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):i==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):i===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var i=this.consume();i==='"'?this.transitionTo("afterDoctypePublicIdentifier"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(i)},doctypePublicIdentifierSingleQuoted:function(){var i=this.consume();i==="'"?this.transitionTo("afterDoctypePublicIdentifier"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(i)},afterDoctypePublicIdentifier:function(){var i=this.consume();Nr(i)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):i==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):i==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var i=this.consume();Nr(i)||(i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):i==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):i==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var i=this.consume();i==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(i)},doctypeSystemIdentifierSingleQuoted:function(){var i=this.consume();i==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(i)},afterDoctypeSystemIdentifier:function(){var i=this.consume();Nr(i)||i===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var i=this.consume();i==="-"?this.transitionTo("commentStartDash"):i===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(i),this.transitionTo("comment"))},commentStartDash:function(){var i=this.consume();i==="-"?this.transitionTo("commentEnd"):i===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var i=this.consume();i==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(i)},commentEndDash:function(){var i=this.consume();i==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+i),this.transitionTo("comment"))},commentEnd:function(){var i=this.consume();i===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+i),this.transitionTo("comment"))},tagName:function(){var i=this.consume();Nr(i)?this.transitionTo("beforeAttributeName"):i==="/"?this.transitionTo("selfClosingStartTag"):i===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(i)},endTagName:function(){var i=this.consume();Nr(i)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):i==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):i===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(i)},beforeAttributeName:function(){var i=this.peek();if(Nr(i)){this.consume();return}else i==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):i===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):i==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(i)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var i=this.peek();Nr(i)?(this.transitionTo("afterAttributeName"),this.consume()):i==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):i==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):i===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):i==='"'||i==="'"||i==="<"?(this.delegate.reportSyntaxError(i+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(i)):(this.consume(),this.delegate.appendToAttributeName(i))},afterAttributeName:function(){var i=this.peek();if(Nr(i)){this.consume();return}else i==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):i==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):i===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(i))},beforeAttributeValue:function(){var i=this.peek();Nr(i)?this.consume():i==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):i==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):i===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(i))},attributeValueDoubleQuoted:function(){var i=this.consume();i==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):i==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(i)},attributeValueSingleQuoted:function(){var i=this.consume();i==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):i==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(i)},attributeValueUnquoted:function(){var i=this.peek();Nr(i)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):i==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):i==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):i===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(i))},afterAttributeValueQuoted:function(){var i=this.peek();Nr(i)?(this.consume(),this.transitionTo("beforeAttributeName")):i==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):i===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var i=this.peek();i===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var i=this.consume();(i==="@"||i===":"||BG(i))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(i))}},this.reset()}return e.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},e.prototype.transitionTo=function(t){this.state=t},e.prototype.tokenize=function(t){this.reset(),this.tokenizePart(t),this.tokenizeEOF()},e.prototype.tokenizePart=function(t){for(this.input+=lbe(t);this.index<this.input.length;){var n=this.states[this.state];if(n!==void 0)n.call(this);else throw new Error("unhandled state "+this.state)}},e.prototype.tokenizeEOF=function(){this.flushData()},e.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},e.prototype.peek=function(){return this.input.charAt(this.index)},e.prototype.consume=function(){var t=this.peek();return this.index++,t===`
`?(this.line++,this.column=0):this.column++,t},e.prototype.consumeCharRef=function(){var t=this.input.indexOf(";",this.index);if(t!==-1){var n=this.input.slice(this.index,t),r=this.entityParser.parse(n);if(r){for(var i=n.length;i;)this.consume(),i--;return this.consume(),r}}},e.prototype.markTagStart=function(){this.delegate.tagOpen()},e.prototype.appendToTagName=function(t){this.tagNameBuffer+=t,this.delegate.appendToTagName(t)},e.prototype.isIgnoredEndTag=function(){var t=this.tagNameBuffer;return t==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||t==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||t==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},e}(),ube=function(){function e(t,n){n===void 0&&(n={}),this.options=n,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new cbe(this,t,n.mode),this._currentAttribute=void 0}return e.prototype.tokenize=function(t){return this.tokens=[],this.tokenizer.tokenize(t),this.tokens},e.prototype.tokenizePart=function(t){return this.tokens=[],this.tokenizer.tokenizePart(t),this.tokens},e.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},e.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},e.prototype.current=function(){var t=this.token;if(t===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return t;for(var n=0;n<arguments.length;n++)if(t.type===arguments[n])return t;throw new Error("token type was unexpectedly "+t.type)},e.prototype.push=function(t){this.token=t,this.tokens.push(t)},e.prototype.currentAttribute=function(){return this._currentAttribute},e.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},e.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},e.prototype.appendToDoctypeName=function(t){this.current("Doctype").name+=t},e.prototype.appendToDoctypePublicIdentifier=function(t){var n=this.current("Doctype");n.publicIdentifier===void 0?n.publicIdentifier=t:n.publicIdentifier+=t},e.prototype.appendToDoctypeSystemIdentifier=function(t){var n=this.current("Doctype");n.systemIdentifier===void 0?n.systemIdentifier=t:n.systemIdentifier+=t},e.prototype.endDoctype=function(){this.addLocInfo()},e.prototype.beginData=function(){this.push({type:"Chars",chars:""})},e.prototype.appendToData=function(t){this.current("Chars").chars+=t},e.prototype.finishData=function(){this.addLocInfo()},e.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},e.prototype.appendToCommentData=function(t){this.current("Comment").chars+=t},e.prototype.finishComment=function(){this.addLocInfo()},e.prototype.tagOpen=function(){},e.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},e.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},e.prototype.finishTag=function(){this.addLocInfo()},e.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},e.prototype.appendToTagName=function(t){this.current("StartTag","EndTag").tagName+=t},e.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},e.prototype.appendToAttributeName=function(t){this.currentAttribute()[0]+=t},e.prototype.beginAttributeValue=function(t){this.currentAttribute()[2]=t},e.prototype.appendToAttributeValue=function(t){this.currentAttribute()[1]+=t},e.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},e.prototype.reportSyntaxError=function(t){this.current().syntaxError=t},e}();function hbe(e,t){var n=new ube(new ibe(ebe),t);return n.tokenize(e)}const XG="LinkifyResult",U_="StartTag",HG="EndTag",sA="Chars",dbe="Comment",pbe="Doctype";function YG(e,t){t===void 0&&(t={});const n=hbe(e),r=[],i=[],s=new rA(t,ybe);for(let o=0;o<n.length;o++){const a=n[o];if(a.type===U_){r.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||s.ignoreTags.indexOf(l)>=0))continue;let c=r.length;mbe(l,n,++o,r),o+=r.length-c-1}else if(a.type!==sA)r.push(a);else{const l=fbe(a.chars,s);r.push.apply(r,l)}}for(let o=0;o<r.length;o++){const a=r[o];switch(a.type){case XG:i.push(a.rendered);break;case U_:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+vbe(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",i.push(l);break}case HG:i.push(`</${a.tagName}>`);break;case sA:i.push(oA(a.chars));break;case dbe:i.push(`<!--${oA(a.chars)}-->`);break;case pbe:{let l=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(l+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(l+=` "${a.systemIdentifier}"`),l+=">",i.push(l);break}}}return i.join("")}function fbe(e,t){const n=Kve(e),r=[];for(let i=0;i<n.length;i++){const s=n[i];s.t==="nl"&&t.get("nl2br")?r.push({type:U_,tagName:"br",attributes:[],selfClosing:!0}):!s.isLink||!t.check(s)?r.push({type:sA,chars:s.toString()}):r.push({type:XG,rendered:t.render(s)})}return r}function mbe(e,t,n,r){let i=1;for(;n<t.length&&i>0;){let s=t[n];s.type===U_&&s.tagName.toUpperCase()===e?i++:s.type===HG&&s.tagName.toUpperCase()===e&&i--,r.push(s),n++}return r}function ybe(e){let{tagName:t,attributes:n,content:r}=e;return`<${t} ${gbe(n)}>${oA(r)}</${t}>`}function oA(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qG(e){return e.replace(/"/g,"&quot;")}function gbe(e){const t=[];for(const n in e){const r=e[n]+"";t.push(`${n}="${qG(r)}"`)}return t.join(" ")}function vbe(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n][0],i=e[n][1]+"";t.push(`${r}="${qG(i)}"`)}return t}const bbe="truncate-text",_be="truncate-trigger",wbe={beforeMount(e,t){!e.classList.contains("truncate")&&!t.value?.noTruncateClass&&e.classList.add("truncate"),e.toggleAttribute(bbe,!0)},mounted(e,t){let n;t.value&&t.value.externalTrigger&&(n=e.closest(`[${_be}]`)),P4(e,{content:JG(e.textContent),onShow:xbe,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:n,...t.value?.options||{}})},updated(e,t){e._tippy&&(e._tippy.setContent(JG(e.textContent)),t.value&&t.value.options&&e._tippy.setProps(t.value.options))},unmounted(e){e._tippy&&e._tippy.destroy()}};function xbe(e){if(!(e.reference.clientWidth<e.reference.scrollWidth||e.reference.clientHeight<e.reference.scrollHeight))return!1}function JG(e){if(e===null)return"";let t=YG(e,{target:"_blank",validate:{url:n=>/^https?:\/\//.test(n)}});return t=`<div style='word-break: break-word;'>${t}</div>`,t}const Ebe=["content"],Tbe={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},Sbe={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},Ibe={key:1},Abe={key:0,class:"flex"},Mbe=["innerHTML"],Obe={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},Nbe=tt({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(e,{expose:t}){const{t:n}=qt(),r=nc(),i=U0(),s=Sn("iApi"),o=c0("el"),a=c0("contentEl"),l=K();t({el:o});const c=e,d=Qe(()=>s.fixture.get("appbar")?i.temporary:[]),p=Qe(()=>r.mobileView),f=Qe(()=>r.reorderable),y=S=>S.scrollHeight>S.clientHeight,g=()=>!p.value&&!c.panel.teleport,b=S=>{c.panel.move(S),S==="left"&&Hi(()=>{(o.value?.querySelector(".move-left")).focus()})},E=Qe(()=>c.screenId?c.panel.screens[c.screenId][s.$i18n.locale.value??"en"]:null);return tr(()=>{o.value?.addEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.addEventListener("keyup",S=>{S.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value=new ResizeObserver(()=>{y(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")}),l.value.observe(a.value)}),qi(()=>{o.value?.removeEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.removeEventListener("keyup",S=>{S.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value.disconnect()}),(S,I)=>{const w=vn("back"),_=vn("panel-options-menu"),A=vn("left"),M=vn("right"),k=vn("pin"),C=vn("expand"),R=vn("minimize"),U=vn("close"),B=_t("truncate"),G=_t("focus-item"),z=_t("tippy");return bt((ce(),_e("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${Ie(n)(e.panel.alertName)+". "+Ie(n)("panels.access")}</div>`,ref_key:"el",ref:o},[e.header?(ce(),_e("header",Tbe,[Ye(w,{class:an(e.panel.teleport?"display-none":"block sm:display-none"),onClick:I[0]||(I[0]=J=>e.panel.close())},null,8,["class"]),bt((ce(),_e("h2",Sbe,[S.$slots.header?Ji(S.$slots,"header",{key:0}):(ce(),_e("div",Ibe,Ct(Ie(n)(e.panel.alertName)),1))])),[[B]]),S.$slots.controls?(ce(),Ft(_,{key:0},{default:gn(()=>[Ji(S.$slots,"controls")]),_:3})):Vt("",!0),ie("div",{class:an(e.panel.teleport?"flex":"display-none sm:flex")},[e.panel.teleport?Vt("",!0):(ce(),_e("div",Abe,[f.value?(ce(),Ft(A,{key:0,onClick:I[1]||(I[1]=J=>b("left")),active:!e.panel.isLeftMostPanel},null,8,["active"])):Vt("",!0),f.value?(ce(),Ft(M,{key:1,onClick:I[2]||(I[2]=J=>b("right")),active:!e.panel.isRightMostPanel},null,8,["active"])):Vt("",!0),Ye(k,{onClick:I[3]||(I[3]=J=>e.panel.pin()),active:e.panel.isPinned},null,8,["active"]),e.panel.controls&&e.panel.controls.expand?(ce(),Ft(C,{key:2,onClick:I[4]||(I[4]=J=>e.panel.expand()),active:e.panel.expanded},null,8,["active"])):Vt("",!0)])),e.panel.button&&d.value?.includes(e.panel.id)?(ce(),Ft(R,{key:1,onClick:I[5]||(I[5]=J=>e.panel.minimize())})):Vt("",!0),Ye(U,{onClick:I[6]||(I[6]=J=>e.panel.close())})],2)])):Vt("",!0),e.content?(ce(),_e("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[S.$slots.content?Ji(S.$slots,"content",{key:0}):E.value?(ce(),_e("div",{key:1,innerHTML:E.value.innerHTML},null,8,Mbe)):Vt("",!0)],512)):Vt("",!0),e.footer?bt((ce(),_e("div",Obe,[Ji(S.$slots,"footer")])),[[G]]):Vt("",!0)],8,Ebe)),[[z,{trigger:"manual",touch:!1,onShow:g,allowHTML:!0,maxWidth:e.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),kbe={class:"relative"},Cbe=["content","aria-label"],Rbe=["transform"],Lbe=tt({__name:"pin",props:{active:Boolean},setup(e){const{t}=qt();return(n,r)=>{const i=_t("tippy");return ce(),_e("div",kbe,[bt((ce(),_e("button",{type:"button",class:an(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Ie(t)(e.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":Ie(t)(e.active?"panels.controls.unpin":"panels.controls.pin")},[(ce(),_e("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${e.active?30:0})`},r[0]||(r[0]=[ie("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,Rbe))],10,Cbe)),[[i,{placement:"bottom",hideOnClick:!1}]])])}}}),Dbe={class:"relative"},Pbe=["content","aria-label"],Fbe=tt({__name:"close",props:{active:Boolean},setup(e){const{t}=qt();return(n,r)=>{const i=_t("tippy");return ce(),_e("div",Dbe,[bt((ce(),_e("button",{type:"button",class:an(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Ie(t)("panels.controls.close"),"aria-label":Ie(t)("panels.controls.close")},r[0]||(r[0]=[ie("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[ie("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,Pbe)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Ube={class:"relative"},Gbe=["content","aria-label"],jbe=tt({__name:"back",props:{active:Boolean},setup(e){const{t}=qt();return(n,r)=>{const i=_t("tippy");return ce(),_e("div",Ube,[bt((ce(),_e("button",{type:"button",class:an(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Ie(t)("panels.controls.back"),"aria-label":Ie(t)("panels.controls.back")},r[0]||(r[0]=[ie("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[ie("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,Gbe)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),zbe={class:"w-32 h-32"},$be=["content","aria-label"],Vbe={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},Wbe={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},Zbe=tt({__name:"expand",props:{active:Boolean},setup(e){const{t}=qt();return(n,r)=>{const i=_t("tippy");return ce(),_e("div",zbe,[bt((ce(),_e("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:Ie(t)(`panels.controls.${e.active?"collapse":"expand"}`),"aria-label":Ie(t)(`panels.controls.${e.active?"collapse":"expand"}`)},[e.active?(ce(),_e("svg",Wbe,r[1]||(r[1]=[ie("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ie("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ie("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),ie("path",{d:"M4 12h16v2H4z"},null,-1)]))):(ce(),_e("svg",Vbe,r[0]||(r[0]=[ie("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ie("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ie("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,$be)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),Bbe={class:"relative"},Xbe=["content","aria-label"],Hbe=tt({__name:"minimize",props:{active:Boolean},setup(e){const{t}=qt();return(n,r)=>{const i=_t("tippy");return ce(),_e("div",Bbe,[bt((ce(),_e("button",{type:"button",class:an(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":e.active}]),content:Ie(t)("panels.controls.minimize"),"aria-label":Ie(t)("panels.controls.minimize")},r[0]||(r[0]=[ie("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ie("path",{d:"M0 0h24v24H0V0z",fill:"none"}),ie("path",{d:"M6 19h12v2H6z"})],-1)]),10,Xbe)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Ybe={class:"relative"},qbe=["content","aria-label"],Jbe=tt({__name:"right",props:{active:Boolean},setup(e){const{t}=qt();return(n,r)=>{const i=_t("tippy");return ce(),_e("div",Ybe,[bt((ce(),_e("button",{type:"button",class:an(["p-8",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:Ie(t)("panels.controls.moveRight"),"aria-label":Ie(t)("panels.controls.moveRight")},r[0]||(r[0]=[ie("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ie("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,qbe)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Qbe={class:"relative"},Kbe=["content","aria-label"],e_e=tt({__name:"left",props:{active:Boolean},setup(e){const{t}=qt();return(n,r)=>{const i=_t("tippy");return ce(),_e("div",Qbe,[bt((ce(),_e("button",{type:"button",class:an(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:Ie(t)("panels.controls.moveLeft"),"aria-label":Ie(t)("panels.controls.moveLeft")},r[0]||(r[0]=[ie("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ie("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,Kbe)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),t_e=tt({__name:"panel-options-menu",setup(e){const{t}=qt();return(n,r)=>(ce(),Ft(_4,{class:"flex",tooltip:Ie(t)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:gn(()=>r[0]||(r[0]=[ie("div",{class:"p-6"},[ie("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[ie("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)])),default:gn(()=>[Ji(n.$slots,"default",{},void 0,!0)]),_:3},8,["tooltip"]))}}),n_e=Ao(t_e,[["__scopeId","data-v-51e22a4a"]]),r_e={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},i_e={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},s_e=tt({__name:"fullscreen-nav",setup(e){const{t}=qt(),n=Sn("iApi"),r=()=>{n.toggleFullscreen()};return(i,s)=>{const o=vn("mapnav-button");return ce(),Ft(o,{onClickFunction:r,tooltip:Ie(t)("mapnav.fullscreen")},{default:gn(()=>[Ie(n).isFullscreen?(ce(),_e("svg",r_e,s[0]||(s[0]=[ie("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ie("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(ce(),_e("svg",i_e,s[1]||(s[1]=[ie("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ie("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))]),_:1},8,["tooltip"])}}}),o_e=tt({__name:"geolocator-nav",setup(e){const{t}=qt(),n=Sn("iApi");let r=Zn([]);const i=async()=>{if(r.length)s(r);else{const a=await o({maximumAge:1/0,timeout:5e3}).catch(l=>{l.code===GeolocationPositionError.PERMISSION_DENIED?n.notify.show(pi.ERROR,t("mapnav.geolocator.error.permission")):n.notify.show(pi.ERROR,t("mapnav.geolocator.error.internal"))});a&&(r=[a.coords.longitude,a.coords.latitude],s(r))}},s=a=>{const l=new xr("geolocation",a,Ge.latLongSR(),!0);n.geo.map.zoomMapTo(l)},o=a=>new Promise((l,c)=>navigator.geolocation.getCurrentPosition(l,c,a));return(a,l)=>{const c=vn("mapnav-button");return ce(),Ft(c,{onClickFunction:i,tooltip:Ie(t)("mapnav.geolocator")},{default:gn(()=>l[0]||(l[0]=[ie("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ie("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)])),_:1},8,["tooltip"])}}}),a_e=tt({__name:"home-nav",setup(e){const{t}=qt(),n=Sn("iApi"),r=()=>{const i=n.geo.map.getExtentSet();n.geo.map.zoomMapTo(i.fullExtent)};return(i,s)=>{const o=vn("mapnav-button");return ce(),Ft(o,{onClickFunction:r,tooltip:Ie(t)("mapnav.home")},{default:gn(()=>s[0]||(s[0]=[ie("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ie("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),ie("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)])),_:1},8,["tooltip"])}}}),l_e={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},c_e=["content","aria-label"],u_e=tt({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){return(t,n)=>{const r=_t("focus-item"),i=_t("tippy");return ce(),_e("div",l_e,[bt((ce(),_e("button",{type:"button",class:"w-full h-full default-focus-style focus:outline-none",onClick:n[0]||(n[0]=s=>e.onClickFunction()),content:e.tooltip,"aria-label":typeof e.tooltip=="string"?e.tooltip:""},[Ji(t.$slots,"default")],8,c_e)),[[r],[i,{placement:"left"}]])])}}}),h_e={class:"relative",tabindex:"-1"},d_e=["aria-label","content"],p_e=tt({__name:"button",props:{onClickFunction:{type:Function,required:!0},buttonId:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){const t=Sn("iApi"),n=e,r=()=>t.event.emit(Ae.APPBAR_BUTTON_CLICK,n.buttonId);return(i,s)=>{const o=_t("focus-item"),a=_t("tippy");return ce(),_e("div",h_e,[bt((ce(),_e("button",{type:"button",class:"py-6 w-full h-full",onClick:s[0]||(s[0]=()=>{e.onClickFunction(),r()}),"aria-label":String(e.tooltip),content:`<div style='word-break: break-word;'>${e.tooltip}</div>`},[Ji(i.$slots,"default",{},void 0,!0)],8,d_e)),[[o],[a,{allowHTML:!0,placement:"right"}]])])}}}),f_e=Ao(p_e,[["__scopeId","data-v-1cb84ae1"]]),QG=nn("areas-of-interest",()=>({areas:K([])})),KG=nn("export",()=>{const e=K({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),t=K("");function n(r){if(e.value[r.name]!==void 0){const i=e.value[r.name];e.value[r.name]=r.selected!==void 0?r.selected:!i}}return{componentSelectedState:e,fileName:t,toggleSelected:n}}),ej=nn("extentguard",()=>{const e=K(!1);function t(l){e.value=l}const n=K(!1);function r(l){n.value=l}const i=K(!1);function s(l){i.value=l}const o=K([]);function a(l){o.value=l}return{active:e,setActive:t,enforcing:n,setEnforcing:r,alwaysOn:i,setAlwaysOn:s,extentSetIds:o,setExtentSetIds:a}}),Np=function e(t){function n(i,s,o){var a,l={};if(Array.isArray(i))return i.concat(s);for(a in i)l[o?a.toLowerCase():a]=i[a];for(a in s){var c=o?a.toLowerCase():a,d=s[a];l[c]=c in l&&typeof d=="object"?n(l[c],d,c=="headers"):d}return l}function r(i,s,o,a,l){var c=typeof i!="string"?(s=i).url:i,d={config:s},p=n(t,s),f={};a=a||p.data,(p.transformRequest||[]).map(function(y){a=y(a,p.headers)||a}),p.auth&&(f.authorization=p.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),f["content-type"]="application/json");try{f[p.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+p.xsrfCookieName+"=([^;]*)"))[2])}catch{}return p.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,p.baseURL+"/")),p.params&&(c+=(~c.indexOf("?")?"&":"?")+(p.paramsSerializer?p.paramsSerializer(p.params):new URLSearchParams(p.params))),(p.fetch||fetch)(c,{method:(o||p.method||"get").toUpperCase(),body:a,headers:n(p.headers,f,!0),credentials:p.withCredentials?"include":l}).then(function(y){for(var g in y)typeof y[g]!="function"&&(d[g]=y[g]);return p.responseType=="stream"?(d.data=y.body,d):y[p.responseType||"text"]().then(function(b){d.data=b,d.data=JSON.parse(b)}).catch(Object).then(function(){return(p.validateStatus?p.validateStatus(y.status):y.ok)?d:Promise.reject(d)})})}return t=t||{},r.request=r,r.get=function(i,s){return r(i,s,"get")},r.delete=function(i,s){return r(i,s,"delete")},r.head=function(i,s){return r(i,s,"head")},r.options=function(i,s){return r(i,s,"options")},r.post=function(i,s,o){return r(i,o,"post",s)},r.put=function(i,s,o){return r(i,o,"put",s)},r.patch=function(i,s,o){return r(i,o,"patch",s)},r.all=Promise.all.bind(Promise),r.spread=function(i){return i.apply.bind(i,i)},r.CancelToken=typeof AbortController=="function"?AbortController:Object,r.defaults=t,r.create=e,r}(),m_e={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,Y:60},y_e={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class g_e{provinceList=[];listFetched=!1;constructor(t){Np.get(t).then(n=>{this.provinceList=n.data.definitions.map(i=>{const s=parseInt(i.code);return{code:s,abbr:y_e[s],name:i.description}});const r={code:-1,abbr:"...",name:"..."};this.provinceList.push(r),this.provinceList.sort((i,s)=>i.name>s.name?1:-1),this.listFetched=!0})}codeToProvince(t){return this.provinceList.find(n=>n.code===t)}nameToProvince(t){return this.provinceList.find(n=>n.name===t)}fsaToProvince(t){let n;const r=t.toUpperCase(),i=r.substring(0,1);return i==="X"?r==="X0A"||r==="X0B"||r==="X0C"?n=62:n=61:n=m_e[i],this.codeToProvince(n)}}function v_e(e){return new g_e(e)}const G_={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"R\xE9gion De Tri D'Acheminement",NTS:"Syst\xE8me National De R\xE9f\xE9rence Cartographique",COORD:"Latitude/Longitude",SCALE:"\xC9chelle"}};class b_e{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(t,n){Np.get(n).then(r=>{r.data.definitions.forEach(i=>{G_[t][i.code]=i.term.split(`${i.code}-`)[1]}),Object.keys(G_[t]).forEach(i=>{this.allTypes[i]=G_[t][i],this.validTypes[i]=G_[t][i]}),this.typesFetched=!0})}filterValidTypes(t){if(this.filterComplete)return this.validTypes;if(t=typeof t=="string"?[t]:t,t&&t.length>0)for(const n of t)delete this.validTypes[n];return this.filterComplete=!0,this.validTypes}}function __e(e,t){return new b_e(e,t)}function us(e,t){return e.then(function(n){return[null,n]}).catch(function(n){return[n,void 0]})}class j_{config;query;failedServs=[];results=[];constructor(t,n=""){this.query=n,this.config=t}addResult(t){Array.isArray(t)?this.results=this.results.concat(t):this.results.push(t)}}async function w_e(e,t){let n,r;const i=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,s=/^\d{2,3}[A-P]/,o=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;return i.test(t)&&!e.disabledSearchTypes.includes("LAT/LNG")?(r=t.slice(0,-1),n=new j_(e,r),await T_e(n)):o.test(t)&&!e.disabledSearchTypes.includes("FSA")?(r=t.substring(0,3).toUpperCase(),n=new j_(e,r),await S_e(n)):s.test(t)&&!e.disabledSearchTypes.includes("NTS")?(r=t.substring(0,6).toUpperCase(),n=new j_(e,r),await I_e(n)):(r=encodeURIComponent(t.trim()),n=new j_(e,r),await A_e(n)),n}const z_=async e=>{const[t,n]=await us(Np.get(e));return t?(console.error("Request error from "+e),console.error(t),Promise.reject("Could not load results from remote service.")):n.data},$_=(e,t,n)=>[e+n,t-n,e-n,t+n],aA=(e,t,n,r)=>{let i="";const s=e.config;return t?i=s.geoLocateUrl+"?q="+e.query:(n&&r?i=`${s.geoNameUrl}?lat=${n}&lon=${r}&num=${s.maxResults}`:i=`${s.geoNameUrl}?q=${e.query}&num=${s.maxResults}`,s.categories.length>0&&(i+=`&concise=${s.categories.join(",")}`),s.officialOnly&&(i+="&category=O")),i},tj=(e,t)=>t.filter(n=>e.types.validTypes[n.concise.code]).map(n=>({name:n.name,flav:"nme",bbox:n.bbox,type:e.types.allTypes[n.concise.code],position:[n.longitude,n.latitude],location:{city:n.location,province:e.provinces.codeToProvince(parseInt(n.province.code))},order:e.sortOrder.indexOf(n.concise.code)>=0?e.sortOrder.indexOf(n.concise.code):e.sortOrder.length})),lA=async e=>{const[t,n]=await us(z_(aA(e,!0)));return t?(console.error("Geolocation service failed"),e.failedServs.push("geolocation"),[]):n},x_e=async e=>{const[t,n]=await us(z_(aA(e,!1)));let r;t?(console.error("GeoName service targeting Name failed"),e.failedServs.push("geoname"),r=[]):r=n.items,e.addResult(tj(e.config,r))},E_e=async(e,t,n)=>{const[r,i]=await us(z_(aA(e,!1,t,n)));let s;r?(console.error("GeoName service targeting Lat Lon failed"),e.failedServs.push("geoname"),s=[]):s=i.items,e.addResult(tj(e.config,s))},T_e=async e=>{const t=e.query.split(/[\s|,|;|]/).filter(s=>!isNaN(s)&&s!=="").map(s=>parseFloat(s)),n=t[0],r=t[1],i={name:`${n},${r}`,flav:"llg",location:{},type:"Latitude/Longitude",position:[r,n],bbox:$_(r,n,.015),order:-1};await E_e(e,n,r),e.addResult(i)},S_e=async e=>{const t=e.config,n=await lA(e);if(n.length){const r=n[0].geometry.coordinates,i=r[1],s=r[0],o={name:e.query,flav:"fsa",bbox:$_(s,i,.03),type:t.types.allTypes.FSA,position:[s,i],location:{province:t.provinces.fsaToProvince(e.query)},order:-1};e.addResult(o)}},I_e=async e=>{const t=e.config,n=await lA(e);if(n.length){const r=n[0],i=r.title.split(" "),s=i.shift()||"",o=i.join(" "),a=r.geometry.coordinates,l=a[1],c=a[0],d={name:s,flav:"nts",bbox:r.bbox??$_(c,l,.03),type:t.types.allTypes.NTS,position:[c,l],location:{city:o},order:-1};e.addResult(d)}},A_e=async e=>{const t=e.config;if(await x_e(e),t.categories.length===0||t.categories.includes("ADDR")){const n=await lA(e),r=t.sortOrder.indexOf("ADDR"),i=r>=0?r:t.sortOrder.length,s=n.filter(o=>o.type?.includes("Street")).map(o=>{const[a,l,c]=o.title.split(", "),d=o.geometry.coordinates,p=d[1],f=d[0];return{name:a,flav:"add",bbox:$_(f,p,.002),type:t.types.allTypes.ADDRESS,position:[f,p],location:{city:l.split(" Of ").pop(),province:t.provinces.nameToProvince(c)},order:i}});e.addResult(s)}},nj="~FSA~",rj="https://geogratis.gc.ca/services/geolocation/@{language}/locate",ij="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",sj="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",oj="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json";class aj{config;constructor(t,n){let r,i,s,o;const a=n?.serviceUrls;a?(r=a.geoLocation?a.geoLocation:rj,i=a.geoNames?a.geoNames:ij,s=a.geoProvince?a.geoProvince:sj,o=a.geoTypes?a.geoTypes:oj):(r=rj,i=ij,s=sj,o=oj),r=r.replace("@{language}",t),i=i.replace("@{language}",t),s=s.replace("@{language}",t),o=o.replace("@{language}",t);let l="";const c=n?.fsaBoundaries;if(c&&c.serviceUrl){const E=c.keyField||"CFSAUID";l=`${c.serviceUrl}/query/?where=${E}%3D'${nj}'&outFields=${E}&returnGeometry=true&f=json`}const d=n?.settings;let p,f,y,g,b;d?(p=d.categories?d.categories:[],f=d.sortOrder?d.sortOrder:[],y=d.disabledSearchTypes?d.disabledSearchTypes:[],g=d.maxResults>0?d.maxResults:100,b=!!d.officialOnly):(p=[],f=[],y=[],g=100,b=!1),this.config={language:t,geoNameUrl:i,geoLocateUrl:r,fsaUrl:l,types:__e(t,o),provinces:v_e(s),categories:p,sortOrder:f,disabledSearchTypes:y,maxResults:g,officialOnly:b},this.config.types.filterValidTypes(n?.excludeTypes),this._typeList=[],this._excludedTypes=n?.excludeTypes||[]}get typeList(){return this._typeList}set typeList(t){this._typeList=t}levenshteinDistance(t,n){n=n.toLowerCase().trim(),t=decodeURI(t.toLowerCase().replace("*",""));const r=[];for(let i=0;i<=n.length;i++){r[i]=[i];for(let s=1;s<=t.length;s++)r[i][s]=i===0?s:Math.min(r[i][s-1]+1,r[i-1][s]+.2,r[i-1][s-1]+(t[s-1]===n[i-1]?0:1))}return r[n.length][t.length]}async query(t){const n=await w_e(this.config,t.toUpperCase()),r=this.config.sortOrder.length,i=n.results.filter(l=>l.order<r),s=n.results.filter(l=>l.order>=r);i.sort((l,c)=>l.order-c.order);const o=this.config.maxResults;let a;return i.length>=o?a=i.slice(0,o):(s.forEach(l=>l.order=this.levenshteinDistance(n.query,l.name)),s.sort((l,c)=>l.order-c.order),a=i.concat(s.slice(0,o-i.length))),{results:a,failedServs:n.failedServs}}fetchProvinces(){return new Promise(t=>{const n=setInterval(()=>{this.config.provinces.listFetched&&(clearInterval(n),t(this.config.provinces.provinceList))},100)})}fetchTypes(){return new Promise(t=>{const n=setInterval(()=>{if(this.config.types.typesFetched){clearInterval(n);const r=[],i={code:-1,name:"..."};r.push(i);const s=this.config.types.allTypes;for(const o in s)this._excludedTypes.includes(o)||r.push({code:o,name:s[o]});this.typeList=r,t(this.typeList)}},100)})}}function lj(e,t,n){return e&&t.extent&&(n=n.filter(r=>r.bbox[0]<=t.extent.xmax&&r.bbox[1]<=t.extent.ymax&&r.bbox[2]>=t.extent.xmin&&r.bbox[3]>=t.extent.ymin)),t.province&&t.province!=="..."&&(n=n.filter(r=>r.location.province?.name&&r.location.province.name===t.province)),t.type&&t.type!=="..."&&(n=n.filter(r=>r.type===t.type)),n}const cj=nn("geosearch",()=>{const e=K(new aj("en",void 0)),t=K({type:"",province:"",extent:void 0}),n=K(!1),r=K(""),i=K(""),s=K(""),o=K([]),a=K([]),l=K(!1),c=K([]),d=Qe(()=>e.value.fetchProvinces()),p=Qe(()=>new Promise(w=>{e.value.fetchTypes().then(_=>{_.sort((A,M)=>A.name>M.name?1:-1),w(_)})}));function f(w,_){e.value=new aj(w,_)}function y(w){l.value=!0;const _=r.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(!_)o.value=[],a.value=[],l.value=!1;else if(_&&_!==s.value||w){const A=setInterval(()=>{e.value.config.provinces.listFetched&&e.value.config.types.typesFetched&&(clearInterval(A),e.value.query(`${_}*`).then(M=>{c.value=M.failedServs,s.value=_,a.value=M.results;const k=lj(n.value,t.value,a.value);o.value=k||[],l.value=!1}))},250)}else{const A=lj(n.value,t.value,a.value);o.value=A||[],l.value=!1}}function g(w){t.value.province=typeof w.province>"u"?"":w.province,y(w.forceReRun)}function b(w){t.value.type=typeof w.type>"u"?"":w.type,y(w.forceReRun)}function E(w){s.value=r.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),r.value=w,y()}function S(w){const _={a:"\xE0\xE1\xE2\xE3\xE4\xE5\u0101\u0103\u0105\u01CE\u0201\u0203\u0227\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7",b:"\u1E03\u0253\u1E05\u1E07",c:"\xE7\u0107\u0109\u010B\u010D",d:"\u010F\u1E0B\u1E0D\u1E0F\u1E11\u1E13",e:"\xE8\xE9\xEA\xEB\u0113\u0115\u0117\u0119\u011B\u0205\u0207\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7",f:"\u0192\u1E1F",g:"\u011D\u011F\u0121\u0123\u01E7\u01F5\u1E21",h:"\u0125\u021F\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E96",i:"\xEC\xED\xEE\xEF\u0129\u012B\u012D\u012F\u0131\u0209\u020B\u1ECB\u1EC9\u0129",j:"\u0135\u01F0\u0249",k:"\u0137\u0138\u0199\u1E33\u1E35",l:"\u013A\u013C\u013E\u0140\u0142\u1E37\u1E39\u1E3B\u1E3D",m:"\u1E3F\u1E41\u1E43",n:"\xF1\u0144\u0146\u0148\u0149\u014B\u01F9\u1E45\u1E47\u1E49\u1E4B",o:"\xF2\xF3\xF4\xF5\xF6\u014D\u014F\u0151\u01A1\u01D2\u01EB\u01ED\u020D\u020F\u022F\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3",p:"\u1E55\u1E57",r:"\u0155\u0157\u0159\u0211\u0213\u1E5B\u1E5D\u1E5F",s:"\u015B\u015D\u015F\u0161\u0219\u1E61\u1E63\u1E65\u1E67\u1E69",t:"\u0163\u0165\u0167\u021B\u1E6B\u1E6D\u1E6F\u1E71\u1E97",u:"\xF9\xFA\xFB\xFC\u0169\u016B\u016D\u016F\u0171\u0173\u01B0\u01D4\u01D6\u01D8\u01DA\u01DC\u0215\u0217\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1",v:"\u1E7D\u1E7F",w:"\u1E81\u1E83\u0175\u1E85\u1E87\u1E89\u1E8B",x:"\u1E8B\u1E8D",y:"\u1EF3\xFD\u0177\xFF\u1EF9\u0233\u1E8F\u1E99\u1EF5\u1EF7\u1EF9",z:"\u017A\u017C\u017E\u1E91\u1E93\u1E95"};w=w.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),i.value=Array.from(w).map(A=>Object.keys(_).includes(A)?"["+A+_[A]+"]":A.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim()).join("")}function I(w){if(w.visible!==void 0&&(n.value=w.visible),w.extent.sr.wkid!==4326)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");t.value.extent=w.extent,y()}return{GSservice:e,queryParams:t,resultsVisible:n,searchVal:r,searchRegex:i,lastSearchVal:s,searchResults:o,savedResults:a,loadingResults:l,failedServices:c,getProvinces:d,getTypes:p,initService:f,runQuery:y,setProvince:g,setType:b,setSearchTerm:E,setSearchRegex:S,setMapExtent:I}}),uj=nn("help",()=>({location:K("./help/")}));var cA=(e=>(e.Visibility="visibilityButton",e.Expand="expandButton",e))(cA||{}),V_=(e=>(e.Item="item",e.Placeholder="placeholder",e.Error="error",e))(V_||{});class uA extends yn{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(t,n,r){super(t),this._uid=rh.sharedUtils.generateUUID(),this._name=n.name,this._type=n.type??"placeholder",this._parent=r,this._children=[],this._loadPromise=new mn,this._hidden=n.hidden??!1,this._expanded=n.expanded??!0,this._visibility=!0,this._exclusive=n.exclusive??!1,this._controls=n.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=n.disabledControls?.slice(),this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(t){this._name=t}get type(){return this._type}get children(){return this._children}set children(t){this._children=t}get parent(){return this._parent}set parent(t){this._parent=t}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(t){return this._disabledControls?.includes(t)?!1:this._controls?.includes(t)}setControl(t,n){n&&this._disabledControls?.includes(t)?(this._disabledControls=this._disabledControls.filter(r=>r!==t),this._controls?.push(t)):!n&&this._controls?.includes(t)&&(this._controls=this._controls.filter(r=>r!==t),this._disabledControls?.push(t))}toggleHidden(t){this._hidden=t??!this.hidden}toggleExpanded(t){this._expanded=t??!this.expanded}toggleVisibility(t,n=!0){if(this.visibility!==t){if(this._visibility=t??!this.visibility,!this.exclusive)this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach(r=>r.toggleVisibility(!0,!1)):this.children.forEach(r=>r.toggleVisibility(!0,!1)):this.children.forEach(r=>r.toggleVisibility(!1,!1));else if(this.visibility)if(this._lastVisible&&(!(this._lastVisible instanceof Na)||this._lastVisible.layerControlAvailable(dn.Visibility)))this._lastVisible.toggleVisibility(!0);else{const r=this.children.find(i=>!(i instanceof Na)||i.layerControlAvailable(dn.Visibility));r&&r.toggleVisibility(!0)}else this._lastVisible=this.children.find(r=>r.visibility),this._lastVisible?.toggleVisibility(!1);this.parent&&n&&this.parent.checkVisibility(this)}}checkVisibilityRules(){this.parent&&!this.parent.visibility?this.toggleVisibility(!1,!1):this.parent?.exclusive&&this.parent.children.some(t=>t.visibility&&t!==this&&t.type==="item")&&this.toggleVisibility(!1,!1)}checkVisibility(t){this instanceof Na&&!this.layerControlAvailable(dn.Visibility)||(this.exclusive?t.visibility?(this.children.forEach(n=>{n.uid!==t.uid&&n.toggleVisibility(!1,!1)}),this._lastVisible=t,this._visibility=!0,this instanceof Na&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof Na&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=t):this.children.some(n=>n.visibility)?(this._visibility=!0,this._visibleChildren=this.children.filter(n=>n.visibility),this instanceof Na&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof Na&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const t={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},n=[];return this.children.forEach(r=>{n.push(r.getConfig())}),this.exclusive?t.exclusiveVisibility=n:t.children=n,t}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new mn}error(){this._type!=="error"&&(this._type="error",this._loadPromise.getPromise().catch(()=>{}),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class Na extends uA{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(t,n,r){if(super(t,n,r),this._type=V_.Placeholder,this._layerId=n.layerId,this._layerIdx=n.sublayerIndex,this._isSublayer=n.sublayerIndex!==void 0,this._layerControls=n.layerControls??[],this._origLayerControls=n.layerControls,this._layerDisabledControls=n.disabledLayerControls??[],this._origLayerDisabledControls=n.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=n.symbologyExpanded||!1,n.coverIcon&&(this._coverIcon=n.coverIcon),n.description&&(this._description=n.description),this._symbologyRenderStyle=n.symbologyRenderStyle??"icons",this._customSymbology=!!n.symbologyStack,this._symbologyStack=n.symbologyStack?.map(i=>({uid:this.$iApi.geo.shared.generateUUID(),label:i.text,definitionClause:i.sqlQuery,imgUrl:i.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0})),this._maxLines=n.maxLines&&[1,2,3,4,5,6].includes(n.maxLines)?n.maxLines:void 0,!this._name){const i=this.$iApi.getConfig()?.layers;if(i&&Array.isArray(i)){const s=i.find(o=>o.id===this._layerId);if(s)if(this._isSublayer){if(s.sublayers&&Array.isArray(s.sublayers)){const o=s.sublayers.find(a=>a.index===this._layerIdx);o&&o.name&&(this._name=o.name)}}else s.name&&(this._name=s.name)}}}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(t){this._layer=t,this._layerId=t.id,this._layerIdx=t.isSublayer?t.layerIdx:void 0,this._layerUid=t.uid,this._name=this._name||t.name,this._symbologyStack=this._customSymbology?this._symbologyStack:t.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(t){this._layerOffscale=t}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(t){this._layerRedrawing=t}get coverIcon(){return this._coverIcon}set coverIcon(t){this._coverIcon=t}get description(){return this._description}set description(t){this._description=t}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(t){this._treeGrown=t}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(t){this._symbologyRenderStyle=t}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(t){this._symbologyStack=t}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const t={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...t}}toggleVisibility(t,n=!0,r=!1){if(!(!this.layerControlAvailable(dn.Visibility)&&!r)&&(super.toggleVisibility(t,n),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const i=this._symbologyStack.some(s=>s.lastVisbility);this._symbologyStack.forEach(s=>{i||(s.lastVisbility=!0),s.visibility=this.visibility?s.lastVisbility:!1})}}toggleSymbology(t){return this._symbologyExpanded=t??!this._symbologyExpanded,this._symbologyExpanded}setSymbologyVisibility(t,n){this._symbologyStack.some(r=>((t===void 0||r.uid===t)&&(r.visibility=n,r.lastVisbility=n),t!==void 0&&r.uid===t))}load(t){const n=t instanceof B_?t:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);n&&(this.layer=n,this._layerRedrawing=n.mapLayer&&n.drawState!==Br.UP_TO_DATE,n.loadPromise().then(()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:n.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),n.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on(Ae.LAYER_VISIBILITYCHANGE,r=>{r.layer.uid===this.layer.uid&&this._type===V_.Item&&this.toggleVisibility(r.visibility,!0,!0)})),this.handlers.push(this.$iApi.event.on(Ae.LAYER_DRAWSTATECHANGE,r=>{this.layer.uid===r.layer.uid&&(r.layer.drawState===Br.REFRESH?this.layerRedrawing=!0:setTimeout(()=>{this.layerRedrawing=r.layer.drawState===Br.REFRESH},500))})),this._layerOffscale=this.$iApi.geo.map.created?n.isOffscale():!1,this.handlers.push(this.$iApi.event.on(Ae.MAP_SCALECHANGE,()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())}))}).catch(()=>{this.error()}))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(t){return this._layerDisabledControls?.includes(t)?!1:!!this._layerControls?.includes(t)}updateLayerControls(){const t=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=t?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=t?.disabledControls??[])}}var hj=(e=>(e.Title="title",e.Text="text",e.Image="image",e.Markdown="markdown",e.Template="template",e))(hj||{});class hA extends uA{_infoType;_content;constructor(t,n,r){super(t,n,r),this._infoType=n.infoType??"title",this._content=n.content??"",n.infoType==="template"&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(n.infoType||n.content)&&(this._controls=n.controls?.slice()??[cA.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(t){this._content=t}getConfig(){const t={infoType:this._infoType,content:this._content};return{...super.getConfig(),...t}}}const dj=nn("legend",()=>{const e=K(),t=K([]),n=K([]),r=K(!0),i=K(3);function s(l){if(l.parent===void 0)t.value.push(l.item);else{if(!(l.item instanceof hA)&&!(l.item instanceof Na)){console.error("attempted to add an unsupported legend item type");return}l.parent.children.push(l.item)}}function o(l){const c=d=>(d=d.filter(p=>(p===l&&!p.children.length&&p.onRemoved(),p!==l)),d.forEach(p=>{p.children=c(p.children)}),d=d.filter(p=>!(p instanceof hA&&!p.children.length&&p.content==="")),d);t.value=c(t.value)}function a(l){if(l.oldItem.parent===void 0){const c=t.value,d=c.indexOf(l.oldItem);d>-1&&(t.value[d]=l.newItem),t.value=c}else{const c=l.oldItem.parent.children,d=c.indexOf(l.oldItem);d>-1&&(c[d]=l.newItem),l.oldItem.parent.children=c}}return{legendConfig:e,multilineItems:r,maxLines:i,children:t,headerControls:n,addItem:s,removeItem:o,replaceItem:a}}),pj=nn("mapnav",()=>{const e=K({}),t=K([]);function n(r){r in e.value&&delete e.value[r];const i=t.value.indexOf(r);i!==-1&&t.value.splice(i,1)}return{items:e,order:t,removeItem:n}}),fj=nn("metadata",()=>{const e=K(""),t=K({type:"LineString",coordinates:[]});return{status:e,response:t}}),mj=nn("northarrow",()=>{const e=K(""),t=K("");return{arrowIcon:e,poleIcon:t}}),yj=nn("overviewmap",()=>{const e=K({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),t=K({}),n=K(!0),r=K(1.5),i=K("#FF0000"),s=K(1),o=K("#000000"),a=K(.25);function l(c){e.value.initialBasemapId=c}return{mapConfig:e,basemaps:t,startMinimized:n,expandFactor:r,borderColour:i,borderWidth:s,areaColour:o,areaOpacity:a,updateInitialBasemap:l}}),gj=nn("scrollguard",()=>{const e=K(!1);function t(n){e.value=n}return{enabled:e,setEnabled:t}});var dr=(e=>(e[e.UPLOAD=0]="UPLOAD",e[e.FORMAT=1]="FORMAT",e[e.CONFIGURE=2]="CONFIGURE",e))(dr||{});const vj=nn("wizard",()=>{const e={id:"Placeholder",layerType:Oe.UNKNOWN,url:""},t=K(),n=K(""),r=K(""),i=K(!0),s=K(null),o=K({config:e,configOptions:[]}),a=K(dr.UPLOAD);function l(c){switch(a.value){case dr.UPLOAD:c===dr.UPLOAD?n.value="":c===dr.FORMAT&&(a.value=dr.FORMAT);break;case dr.FORMAT:c===dr.UPLOAD?(s.value&&(n.value="",s.value=null),r.value="",a.value=dr.UPLOAD):c===dr.CONFIGURE&&(a.value=dr.CONFIGURE);break;case dr.CONFIGURE:c===dr.UPLOAD?(n.value="",r.value="",s.value=null,i.value=!0,o.value={config:e,configOptions:[]},a.value=dr.UPLOAD):c===dr.FORMAT&&(o.value={config:e,configOptions:[]},i.value=!0,a.value=dr.FORMAT);break}}return{layerSource:t,url:n,typeSelection:r,nested:i,fileData:s,layerInfo:o,currStep:a,goToStep:l}});class M_e{fixture;panel;event;geo;notify;dev;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(t,n,r){this.event=new _pe(this);const i=O_e(t,this);this.$vApp=i.app,this.$element=i.element,this.$i18n=i.i18n,this.$rootEl=i.app.$root?.$el,this.fixture=new j2e(this),this.panel=new z2e(this),this.geo=new U2e(this),this.dev=new X2e(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new Nye(this),this._isFullscreen=To.isEnabled&&!!this.$vApp.$root&&To.isFullscreen&&To.element===this.$vApp.$root.$el,To.isEnabled&&To.onchange(()=>{this._isFullscreen=To.isEnabled&&!!this.$vApp.$root&&To.isFullscreen&&To.element===this.$vApp.$root.$el}),this.initialize(!0,n,r)}initialize(t,n,r){const i=zr(this.$vApp.$pinia),s=nc(this.$vApp.$pinia),o=Jb(this.$vApp.$pinia);if(n?.configs!==void 0){const l=Object.keys(this.$i18n.messages.value);i.registerAllConfigs(n,l);const c=i.registeredConfigs[i.registeredLangs[this.$i18n.locale.value]];i.newConfig(c),i.activeBasemapConfig=c.map.basemaps.find(g=>g.id===c.map.initialBasemapId);const d=setInterval(()=>{const g=this.$vApp.$el.querySelector("#esriMap");g&&(clearInterval(d),this.geo.map.createMap(c.map,g).then(()=>{if(g._tippy.hide(0),o.setMaptipInstance(g._tippy),c.layers&&c.layers.length>0){let b=0;c.layers.forEach(E=>{const S=this.geo.layer.createLayer(E);this.geo.map.addLayer(S,b).catch(()=>{}),S.mapLayer&&b++})}}))},100);if(c.panels){if(c.panels.open&&c.panels.open.length>0){const g=c.panels.open.map(b=>b.id);this.panel.isRegistered(g).then(()=>{c.panels?.open?.forEach(b=>{this.panel.open({id:b.id,screen:b.screen}),b.pin&&this.panel.pin(b.id)})})}s.reorderable=c.panels.reorderable??!0}!c.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),c.system?.proxyUrl&&(this.geo.proxy=c.system.proxyUrl),c.system?.exposeOid&&(this.ui.exposeOids=c.system.exposeOid),c.system?.exposeMeasurements!=null&&(this.ui.exposeMeasurements=c.system.exposeMeasurements),c.system?.scrollToInstance&&(this.ui.scrollToInstance=c.system?.scrollToInstance),c.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=c.system?.suppressNumberLocalization);const p={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},f=c.system?.zoomIcon||"globe",y=p[f]||f;this.ui.getZoomIcon=()=>y,this.ui.formatNumber=g=>this.ui.suppressNumberLocalization?g.toString():this.$i18n.n(g,"number"),this.ui.escapeHtml=g=>{const b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return g.replace(/[<>"']/g,E=>b[E])},this.ui.isPlainText=g=>typeof g=="string"?!this.containsValidHtml(g)&&!this.representsObject(g):!1}r||(r={});const a=mp(this.$vApp.$pinia);r?.startRequired?(this.startRequired=!0,a.started=!1):(this.startRequired=!1,a.started=!0,this.event.emit(Ae.MAP_START)),t&&(r.loadDefaultFixtures!==!1||n?.startingFixtures!==void 0)?this.fixture.addDefaultFixtures(n?.startingFixtures):t||this.fixture.restore(),r.loadDefaultEvents!==!1&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reloadWorker(t,n){const r=mp(this.$vApp.$pinia),i=Zs(this.$vApp.$pinia),s=zr(this.$vApp.$pinia),o=ts(this.$vApp.$pinia),a=js(this.$vApp.$pinia),l=jb(this.$vApp.$pinia),c=!!t;c?Object.keys(o.items).forEach(d=>{this.fixture.exists(d)&&this.fixture.remove(d)}):this.fixture.flush(),Object.keys(l.grids).forEach(d=>{l.removeGrid(d)}),r.started=!1,this.geo.map.destroyMap(),a.$reset(),n?.loadDefaultEvents===!1&&(this.event.removeDefaultEvents(),this._eventsOn=!1),c||(t=JSON.parse(JSON.stringify({startingFixtures:s.startingFixtures,configs:s.registeredConfigs}))),i.clearAll(),this.geo.map.maptip.clear(),this.initialize(c,t,n),c&&this.event.emit(Ae.CONFIG_CHANGE,this.getConfig())}reload(t,n){this.reloadWorker(t,n),this.event.emit(Ae.RAMP_RELOAD)}component(t,n){if(n){const r=this.$element.component(t,n);return this.event.emit(Ae.COMPONENT,t),r}return this.$element.component(t)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const t=this.$vApp.$root.$refs["app-size"].classList;return t.contains("lg")?"lg":t.contains("md")?"md":t.contains("sm")?"sm":"xs"}getConfig(){const t=zr(this.$vApp.$pinia);return JSON.parse(JSON.stringify(t.getActiveConfig(this.language)))}useStore(t){if(!(["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(t)&&!this.fixture.exists(t)))switch(t){case"appbar":return U0(this.$vApp.$pinia);case"areas-of-interest":return QG(this.$vApp.$pinia);case"details":return kI(this.$vApp.$pinia);case"export":return KG(this.$vApp.$pinia);case"extentguard":return ej(this.$vApp.$pinia);case"geosearch":return cj(this.$vApp.$pinia);case"grid":return jb(this.$vApp.$pinia);case"help":return uj(this.$vApp.$pinia);case"legend":return dj(this.$vApp.$pinia);case"mapnav":return pj(this.$vApp.$pinia);case"metadata":return fj(this.$vApp.$pinia);case"northarrow":return mj(this.$vApp.$pinia);case"overviewmap":return yj(this.$vApp.$pinia);case"scrollguard":return gj(this.$vApp.$pinia);case"wizard":return vj(this.$vApp.$pinia);case"config":return zr(this.$vApp.$pinia);case"fixture":return ts(this.$vApp.$pinia);case"instance":return mp(this.$vApp.$pinia);case"layer":return js(this.$vApp.$pinia);case"map-caption":return ql(this.$vApp.$pinia);case"maptip":return Jb(this.$vApp.$pinia);case"notification":return Zs(this.$vApp.$pinia);case"panel":return nc(this.$vApp.$pinia);default:console.error(`The store ${t} does not exist.`);return}}setLanguage(t){if(this.$i18n.locale.value===t)return;const n=zr(this.$vApp.$pinia),r=Zs(this.$vApp.$pinia),i=n.registeredLangs;Object.keys(n.registeredConfigs).length===1&&r.clearAll();const s=this.$i18n.locale.value;this.$i18n.locale.value=t;const o=this.getConfig();i[s]!==i[t]&&(this.reloadWorker(),this.event.emit(Ae.CONFIG_CHANGE,o)),this.event.emit(Ae.LANG_CHANGE,{oldLang:s,newLang:t})}get language(){return this.$vApp.$i18n.locale}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){To.isEnabled&&To.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return mp(this.$vApp.$pinia).started}updateAlert(t){const n=this.$vApp.$el.querySelector(".screen-reader-alert");n.childNodes.length>0&&(n.innerHTML="");const r=document.createElement("span");r.setAttribute("role","alert");const i=document.createTextNode(t);r.appendChild(i),n.insertBefore(r,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const t=mp(this.$vApp.$pinia);!t.started&&this.startRequired?(this.event.emit(Ae.MAP_START),t.started=!0):t.started&&console.warn("start has already been called")}containsValidHtml(t){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(t)}representsObject(t){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(t)}}function O_e(e,t){const n=dpe();n.use(({store:o})=>{const a=YF(o.$state);o.$reset=()=>o.$patch(YF(a))});const r=Pme(),i=Zl(Mve).use(r).use(Eve,{directive:"tippy",component:"tippy"}).use(n);i.directive("focus-container",Pve),i.directive("focus-list",kve),i.directive("focus-item",Rve),i.directive("truncate",wbe),i.component("panel-screen",Nbe),i.component("pin",Lbe),i.component("close",Fbe),i.component("back",jbe),i.component("expand",Zbe),i.component("panel-options-menu",n_e),i.component("dropdown-menu",_4),i.component("minimize",Hbe),i.component("right",Jbe),i.component("left",e_e),i.component("fullscreen-nav-button",s_e),i.component("geolocator-nav-button",o_e),i.component("home-nav-button",a_e),i.component("mapnav-button",u_e),i.component("appbar-button",f_e),i.component("transition",E0),i.component("transition-group",fb),i.config.globalProperties.$iApi=t,i.config.globalProperties.$pinia=n,i.config.idPrefix=`ramp-${e.id||t.geo.shared.generateUUID()}`,i.provide("iApi",t);const s=i.mount(e);return{element:i,app:s,i18n:r.global}}class q_{esriBasemap;config;createErr=!1;constructor(t){this.config=t}static async create(t){const n=new q_(t),r=t.layers.map(s=>{if(s.layerType===Oe.TILE)return Et.TileLayer({url:s.url,opacity:s.opacity});if(s.layerType===Oe.MAPIMAGE)return Et.MapImageLayer({url:s.url,opacity:s.opacity});if(s.layerType===Oe.OSM)return Et.OpenStreetMapLayer({opacity:s.opacity});throw new Error(`Unsupported layer type provided to basemap config: ${s.layerType}`)}),i=(await Promise.allSettled(r)).filter(s=>s.status==="rejected"?(console.error(s.reason),n.createErr=!0,!1):!0).map(s=>{if(s.status==="fulfilled")return s.value;throw new Error("TS is fun")});return n.esriBasemap=await Et.Basemap({baseLayers:i,title:t.name||"",id:t.id}),n}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(t){this.config.name=t||""}get description(){return this.config.description}set description(t){this.config.description=t||""}get altText(){return this.config.altText}set altText(t){this.config.altText=t||""}get attribution(){return this.config.attribution}set attribution(t){this.config.attribution=t}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class bj extends yn{esriMap;_basemapStore;created=!1;name;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(t,n=""){super(t),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new mn,this.handlers=[],this.pointZoomScale=5e4,this.name=n}noMapErr(){console.error(`Attempted to manipulate the ${this.name} map before calling createMap()`),console.trace()}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};async createMap(t,n){const r=a=>{this.$iApi.notify.show(pi.ERROR,this.$iApi.$i18n.t("layer.error",{id:a.name}))},i=t.basemaps.map(a=>q_.create(a)),s=(await Promise.all(i)).filter(a=>(a.createErr&&r(a),a.esriBasemap.baseLayers.length>0));s.forEach(a=>{a.esriBasemap.baseLayers.forEach(l=>{Qn(()=>l.loadStatus,()=>{l.loadStatus==="loaded"?this.trackFirstBasemap=!1:l.loadStatus==="failed"&&(r(a),this.trackFirstBasemap&&this.recoverBasemap(a.tileSchemaId))})})}),this._basemapStore=s,t.labelsDefault&&(this.labelsDefault.visible=t.labelsDefault.visible);const o={};this.esriMap=ln(await Et.Map(o)),this.pointZoomScale=t.pointZoomScale&&t.pointZoomScale>0?t.pointZoomScale:5e4,this._targetDiv=n,this.createMapView(t.initialBasemapId)}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach(t=>t.esriBasemap.destroy()),this._basemapStore=[]}async reloadMap(t,n){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMap(),await this.createMap(t,n)}async createMapView(t){this.abstractError()}destroyMapView(){if(!this.esriView){this.noMapErr();return}this._viewPromise=new mn,this.created=!1,this.handlers.forEach(t=>t.handler.remove()),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView}async findBasemap(t){const n=this._basemapStore.find(r=>r.id===t);if(n)return n;throw new Error(`Invalid basemap id requested: ${t}`)}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const n=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=Fe(n.esriBasemap)}async setBasemap(t){return this.abstractError(),!1}async recoverBasemap(t){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap?.id??void 0;this.noMapErr()}geomToMapSR(t){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(t.sr)?Promise.resolve(t):this.$iApi.geo.proj.projectGeometry(this._rampSR,t)}async zoomMapTo(t,n,r=!0,i=200,s="ease"){if(this.esriView){if(t.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(t),a={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===Xe.POINT&&(a.scale=n||this.pointZoomScale);const l={animate:r,duration:i,easing:s};return this.viewPromise.then(()=>this.esriView.goTo(a,l))}else this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?Jt.fromESRI(this.esriView.extent):(this.noMapErr(),Jt.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),my.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),Ge.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(t){return t>0?(this.pointZoomScale=t,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${t}.`),!1)}}class N_e extends yn{maptipStore;constructor(t){super(t),this.maptipStore=Jb(this.$vApp.$pinia)}#e=void 0;#t=void 0;async checkAtCoord(t){this.#t=t;const n=await this.$iApi.geo.map.getGraphicAtCoord(t);if(this.#t!==t)return;if(!n){this.clear(),this.maptipStore.maptipInstance.disable();return}const r=this.$iApi.geo.layer.getLayer(n.layerId);if(r?.geomType!=Xe.POLYGON&&this.#e&&this.#e.layerId===n.layerId&&this.#e.oid===n.oid&&this.#e.layerIdx===n.layerIdx)return;if(this.clear(),this.#e=n,!r){console.error(`graphic hit test returned non-existent layer id: ${n.layerId}`);return}if(!r.hovertips)return;const i=await r.getIcon(n.oid),s=await r.getGraphic(n.oid,{getAttribs:!0});this.maptipStore.maptipInstance.enable(),this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(t)),this.$iApi.event.emit(Ae.MAP_GRAPHICHIT,{layer:r,graphicHit:n,attributes:s.attributes,icon:i,screenPoint:t})}generateDefaultMaptip(t){this.setContent(`<div class="flex items-center space-x-5"><span>${t.icon}</span><span class="line-clamp-3">${t.layer.tooltipValue(t.attributes)}</span></div>`)}clear(){this.#e=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(t){this.maptipStore.setMaptipPoint(t)}setContent(t){this.maptipStore.setMaptipContent(t)}}class k_e extends yn{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(t){super(t),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(t){if(!t)return;const n=ql(this.$vApp.$pinia);if(n.coords.disabled=!1,n.scale.disabled=!1,n.scale.isImperialScale=!1,t.mapCoords)if(t.mapCoords.disabled)n.coords.disabled=!0;else{const r=t.mapCoords.formatter;r!==void 0&&this.setPointFormatter(r)}if(t.scaleBar)if(t.scaleBar.disabled)n.scale.disabled=!0;else{const r=t.scaleBar.imperialScale;r!==void 0&&(n.toggleScale(r),this.$iApi.geo.map.viewPromise.then(()=>{this.updateScale()}))}n.langtoggle={disabled:t?.langToggle?.disabled??!1}}updateAttribution(t){const n={disabled:!1,value:this.$iApi.$i18n.t("caption.attributionDefaultText")},r={disabled:!1,altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},i={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(t?(t.logo?t.logo.disabled?i.logo.disabled=!0:(i.logo.altText=t.logo.altText||r.altText,i.logo.link=t.logo.link||r.link,i.logo.value=t.logo.value||r.value):(i.logo.altText=r.altText,i.logo.link=r.link,i.logo.value=r.value),t.text?t.text.disabled?i.text.disabled=!0:i.text.value=t.text.value||n.value:i.text.value=n.value,ql(this.$vApp.$pinia).setAttribution(i)):(i.logo.altText=r.altText,i.logo.link=r.link,i.logo.value=r.value,i.text.value=n.value),!t||t.text?.disabled||!t.text){if(!this.$iApi.geo.map.esriMap){console.warn("Attempted to fetch map attribution with undefined map");return}let s="";const o=5e3,a=20,l=this.$iApi.geo.map.esriMap.basemap;if(l){const c=l.baseLayers.map(d=>new Promise(p=>{let f=0;const y=o/a,g=setInterval(function(){d.loaded&&!d.loadError?(clearInterval(g),p(d)):f>y&&(clearInterval(g),p(null)),f++},a)})).toArray();Promise.all(c).then(d=>{s=d.filter(p=>p?.copyright).map(p=>p.copyright).join(" | "),i.text.value=s||i.text.value||n.value,ql(this.$vApp.$pinia).setAttribution(i)})}}}updateScale(){const t=ql(this.$vApp.$pinia),n=t.scale;if(n?.disabled)return;const r=n?.isImperialScale||!1,i=this.scaleHelper().find(s=>s.isImperialScale===r)??{isImperialScale:!1,units:"error",pixels:1,distance:1};t.scale={width:`${i.pixels}px`,label:`${this.$iApi.$i18n.n(i.distance,"number")}${i.units}`,isImperialScale:r}}async formatPoint(t){return t?await this.pointFormatter(t):""}setPointFormatter(t){if(typeof t=="string"){if(!(t in this.DEFAULT_POINT_FORMATTERS)){console.warn(`Could not find point formatter with id: ${t}`);return}this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[t]}else this.pointFormatter=t}scaleHelper(){const t=window.innerWidth>600?70:35,n=this.$iApi.geo.map.getResolution(),r=[],i=n*t,s=1609.34,o=3.28084,a=i>1e3?["km","mi"]:["m","ft"];for(let l=0;l<2;l++){const c=l===1;if(r.push({isImperialScale:c,units:a[l],pixels:0,distance:0}),i>1e3){const d=n*t/(c?s:1e3),p=Math.round(d).toString().length,f=Math.pow(10,p-1);r[l].distance=Math.ceil(d/f)*f,r[l].pixels=r[l].distance*(c?s:1e3)/n}else r[l].distance=Math.ceil(c?i*o:i),r[l].pixels=i/n}return r}wrapValue(t,n,r){return((t-n)%(r-n)+(r-n))%(r-n)+n}async formatLatLongDMS(t){const n=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(n.y,-90,90),i=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.floor(Math.abs(r))*(r<0?-1:1),a=Math.floor(Math.abs((r-o)*60)),l=Math.floor((Math.abs(r)-Math.abs(o)-a/60)*3600),c=Math.floor(Math.abs(i))*(i<0?-1:1),d=Math.floor(Math.abs((i-c)*60)),p=Math.floor((Math.abs(i)-Math.abs(c)-d/60)*3600);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(c),"number")}${s} ${this.$iApi.$i18n.n(d,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(p,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>i?"west":"east"))}`}async formatLatLongDDM(t){const n=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(n.y,-90,90),i=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.floor(Math.abs(r))*(r<0?-1:1),a=Math.abs((r-o)*60),l=Math.floor(Math.abs(i))*(i<0?-1:1),c=Math.abs((i-l)*60);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${s} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>i?"west":"east"))}`}async formatLatLongDD(t){const n=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(n.y,-90,90),i=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.abs(r),a=Math.abs(i);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(0>i?"west":"east"))}`}async formatMercator(t){const n=await this.$iApi.geo.proj.projectGeometry(102100,t);return`${this.$iApi.$i18n.n(Math.floor(n.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(n.y),"number")} m`}async formatLambert(t){const n=await this.$iApi.geo.proj.projectGeometry(3978,t);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(n.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>n.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(n.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(n.y>0?"north":"south"))}`}async formatUTM(t){const n=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(n.y,-90,90),i=this.wrapValue(n.x,-180,180),s=Math.ceil((i+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+s),t);return`${this.$iApi.$i18n.n(s,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(t){const n=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),t);return`${this.$iApi.$i18n.n(n.x,"number")} | ${this.$iApi.$i18n.n(n.y,"number")}`}}class C_e extends bj{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:1e4,load:1e4,fail:9e4};constructor(t){super(t,"main"),this.maptip=new N_e(t),this.caption=new k_e(t),this.mapMouseThrottle=0}async createMap(t,n){this.setMapMouseThrottle(t.mapMouseThrottle??0),this.trackFirstBasemap=!0,this.layerDefaultTimes.draw=t.layerTimeDefault?.expectedDrawTime??1e4,this.layerDefaultTimes.load=t.layerTimeDefault?.expectedLoadTime??1e4,this.layerDefaultTimes.fail=t.layerTimeDefault?.maxLoadTime||9e4,await super.createMap(t,n),this.viewPromise.then(()=>{this.$iApi.event.emit(Ae.MAP_CREATED)})}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.$iApi.geo.layer.allLayersOnMap(!1).map(t=>t.uid).forEach(t=>this.removeLayer(t)),super.destroyMap(),this.$iApi.event.emit(Ae.MAP_DESTROYED)}async createMapView(t){const n=zr(this.$vApp.$pinia).config.map;if(!n)throw new Error("Attempted to create map view without a map config");const r=(typeof t=="string"?await this.findBasemap(t):t)||await this.findBasemap(n.initialBasemapId),i=n.tileSchemas.find(a=>a.id===r.tileSchemaId);if(!i)throw new Error(`Could not find tile schema for the given basemap id: ${r.id}`);const s=n.extentSets.find(a=>a.id===i.extentSetId);if(!s)throw new Error(`Could not find extent set with the given id: ${i.extentSetId}`);this._rampExtentSet=my.fromConfig(s),this._rampSR=this._rampExtentSet.sr.clone();const o=n.lodSets.find(a=>a.id===i.lodSetId);if(!o)throw new Error(`Could not find lod set with the given id: ${i.lodSetId}`);this.esriView=ln(await Et.MapView({map:this.esriMap,container:this._targetDiv,constraints:{lods:o.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:r.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:Qn(()=>this.esriView.extent,a=>{if(a){const l=this.$iApi.geo.geom.geomEsriToRamp(a,"map_extent_event");this.$iApi.event.emit(Ae.MAP_EXTENTCHANGE,l),this.$iApi.event.emit(Ae.FILTER_CHANGE,{extent:l,filterKey:gr.EXTENT})}})}),this.handlers.push({type:"scale",handler:Qn(()=>this.esriView.scale,a=>{this.$iApi.event.emit(Ae.MAP_SCALECHANGE,a)})}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",a=>{this.$iApi.event.emit(Ae.MAP_RESIZED,{height:a.height,width:a.width})})}),this.handlers.push({type:"click",handler:this.esriView.on("click",a=>{this.$iApi.event.emit(Ae.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(a,"map_click_point"))})}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",a=>{this.$iApi.event.emit(Ae.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(a,"map_doubleclick_point"))})}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",G0(100,!0,a=>{this.$iApi.event.emit(Ae.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(a))}))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",G0(100,a=>{this.$iApi.event.emit(Ae.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(a))}))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",a=>{setTimeout(()=>{this.$iApi.event.emit(Ae.MAP_MOUSELEAVE,a.native)},Math.max(this.mapMouseThrottle,100)+1)})}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",a=>{this.$iApi.event.emit(Ae.MAP_MOUSEDOWN,a.native)})}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",a=>{this.$iApi.event.emit(Ae.MAP_KEYDOWN,a.native),a.stopPropagation()})}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",a=>{this.$iApi.event.emit(Ae.MAP_KEYUP,a.native),a.stopPropagation()})}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",a=>{this.$iApi.event.emit(Ae.MAP_FOCUS,a.native)})}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",a=>{this.$iApi.event.emit(Ae.MAP_BLUR,a.native)})}),this.esriView.container?this.esriView.container.addEventListener("touchmove",a=>{a.preventDefault()}):console.error("ESRI Map View is missing its container"),Qn(()=>this.esriView.fatalError,()=>{const a=new IntersectionObserver(l=>{l.forEach(c=>{c.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),a.disconnect())})});a.observe(this.esriView.container)}),this.esriView.when(()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(r),i.recoveryBasemap?.basemapId){const a=i.recoveryBasemap.timeout??8e3;a>0&&setTimeout(()=>{this.trackFirstBasemap&&this.recoverBasemap(i.id)},a)}})}destroyMapView(){this.esriView?.container?.removeEventListener("touchmove",t=>{t.preventDefault()}),super.destroyMapView()}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const n=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=Fe(n.esriBasemap);const r=zr(this.$vApp.$pinia);r.activeBasemapConfig=n.config}async setBasemap(t){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const n=zr(this.$vApp.$pinia),r=await this.findBasemap(t),i=n.activeBasemapConfig.tileSchemaId!==r.tileSchemaId;if(i){const s=this.getExtent().center(),o=this.getScale();this._viewPromise=new mn,this.created=!1,this.$iApi.event.emit(Ae.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(r),await this.viewPromise.then(()=>{this.$iApi.event.emit(Ae.MAP_REFRESH_END),this.$iApi.event.emit(Ae.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:i});const a=this.findClosestScale(o);this.$iApi.geo.proj.projectGeometry(this._rampSR,s).then(l=>this.zoomMapTo(l,a,!1))})}else{await this.applyBasemap(r);const s=await Et.ColorBackground({color:new Ca(r.backgroundColour).toESRI()});this.esriView.background=s,this.$iApi.event.emit(Ae.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:i})}return i}async recoverBasemap(t){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const n=zr(this.$vApp.$pinia).config.map;if(n){const r=n.tileSchemas.find(i=>i.id===t);if(r?.recoveryBasemap?.basemapId){const i=await this.findBasemap(r.recoveryBasemap.basemapId);await this.applyBasemap(i)}}}addLayer(t,n=void 0){return new Promise((r,i)=>{if(this.esriMap||(this.noMapErr(),i()),t.initiationState!==Bt.INITIATING&&t.initiationState!==Bt.INITIATED&&t.layerState!==sn.ERROR&&t.initiate(),t.mapLayer&&n===void 0){const l=this.$iApi.geo.layer.layerOrderIds();if(t.isCosmetic)n=l.length;else{const c=this.$iApi.geo.layer.allLayers();let d=!0;for(let p=l.length-1;p>=0&&d;p--){const f=c.find(y=>y.id===l[p]);f&&!f.isCosmetic&&(n=p+1,d=!1)}d&&(n=0)}}js(this.$vApp.$pinia).addLayer(t,n),this.$iApi.event.emit(Ae.LAYER_REGISTERED,t);const s=Date.now();let o=0;const a=setInterval(()=>{o+=250,o>=t.expectedTime.fail||t.layerState===sn.ERROR?(clearInterval(a),t.lastCancel<s&&console.error(`Failed to add layer: ${t.id}.`),i()):t.initiationState===Bt.INITIATED&&(t.esriLayer||!t.mapLayer)&&(clearInterval(a),t.mapLayer?this.insertToEsriMap(t):t.onLoad(),r())},250)})}insertToEsriMap(t){let n=0;const r=this.$iApi.geo.layer.getLayerPosition(t.id)??-1;if(r>0){const i=this.$iApi.geo.layer.layerOrderIds(),s=this.$iApi.geo.layer.allLayers();for(let o=r-1;o>-1;o--){const a=i[o],l=s.find(c=>c.id===a);if(l&&l.esriLayer){const c=this.esriMap.layers.indexOf(l.esriLayer);if(c>-1){n=c+1;break}}else l||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}r>-1&&this.esriMap?.add(t.esriLayer,n)}reorder(t,n,r=!1){if(n<0){console.error("Negative index passed to map reorder");return}if(!this.esriMap){this.noMapErr();return}if(t.isSublayer&&(t=t.parentLayer),!t.mapLayer){console.error("Attempted to reorder a data layer");return}const i=this.$iApi.geo.layer.allLayers();let s=this.$iApi.geo.layer.layerOrderIds();if(r){if(t.isCosmetic)return;if(n>0){const a=s.filter(l=>{const c=i.find(d=>d.id===l);return c?!c.isCosmetic:(console.error("Layer reorder had critical error"),!1)});n>=a.length&&(console.error("non-cosmetic reorder index was too high"),n=a.length-1),n=s.indexOf(a[n])}}else n>=s.length&&(console.error("reorder index was too high"),n=s.length-1);const o=s.indexOf(t.id);if(o!==n){if(js(this.$vApp.$pinia).reorderLayer(t,n),t.esriLayer&&this.esriMap.layers.indexOf(t.esriLayer)>-1){let a=0;if(n>0){s=this.$iApi.geo.layer.layerOrderIds();for(let l=n-1;l>-1;l--){const c=s[l],d=i.find(p=>p.id===c);if(d&&d.esriLayer){const p=this.esriMap.layers.indexOf(d.esriLayer);if(p>-1){const f=n<o?1:0;a=p+f;break}}else d||console.error("Layer reorder had critical error")}}this.esriMap.reorder(t.esriLayer,a)}this.$iApi.event.emit(Ae.MAP_REORDER,{layer:t,newIndex:n})}}removeSublayer(t){let n,r;if(typeof t=="string")n=t,r=this.$iApi.geo.layer.getLayer(n);else{if(!t.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${t}`);n=t.uid,r=t}if(!r)throw new Error("Sublayer could not be found for removal.");r.visibility=!1,r.isRemoved=!0,this.$iApi.event.emit(Ae.LAYER_REMOVE,t),r.parentLayer?.sublayers.every(i=>i.isRemoved)&&this.removeLayer(r.parentLayer)}removeLayer(t){if(!this.esriMap){this.noMapErr();return}let n;if(t instanceof B_?n=t:n=this.$iApi.geo.layer.getLayer(t),!n)throw new Error("Layer could not be found for removal.");if(n.isSublayer){this.removeSublayer(n);return}n.supportsSublayers&&n.sublayers.forEach(i=>{i.isRemoved||this.removeSublayer(i)});const r=js(this.$vApp.$pinia);r.removeLayer(n),r.removeLayerConfig(n.id),n.removeEsriLayer(),n.initiationState===Bt.INITIATED&&n.terminate(),n.isRemoved=!0,this.$iApi.event.emit(Ae.LAYER_REMOVE,n)}setMapMouseThrottle(t){if(t<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=t;const n=this.handlers.findIndex(r=>r.type==="pointer-move");if(n!==-1){const r=this.handlers[n];this.handlers.splice(n,1),r.handler.remove()}return n!==-1&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(!this.esriView){this.noMapErr();return}return xa(this.mapMouseThrottle,t=>{this.$iApi.event.emit(Ae.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(t))})}async zoomToLevel(t){if(this.esriView)return this.esriView.goTo({zoom:t});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(t){if(!this.esriView){this.noMapErr();return}const n=t.isOffScale(this.getScale());if(!n.offScale)return;const r=this.esriView.constraints.lods;if(!r)return this.zoomMapTo(this.getExtent().center(),(n.zoomIn,t.minScale));const i=n.zoomIn?r:[...r].reverse(),s=i.find(o=>n.zoomIn?o.scale<t.minScale:o.scale>t.maxScale)||i[i.length-1];return this.zoomToLevel(s.level)}findClosestScale(t){const n=this.esriView?.constraints.lods;if(!n)return t;const r=n.map(s=>Math.abs(s.scale-t)),i=r.indexOf(Math.min(...r));return n[i].scale}async takeScreenshot(t){if(this.esriView)return t.quality||(t.quality=1),t.format||(t.format="png"),this.esriView.takeScreenshot(t);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(t){return this.esriView?xr.fromESRI(this.esriView.toMap({x:t.screenX,y:t.screenY}),"mappoint"):(this.noMapErr(),new xr("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(t){if(this.esriView){const n=this.esriView.toScreen(t.toESRI());return{screenX:n.x,screenY:n.y}}else return this.noMapErr(),{screenX:1,screenY:1}}async symbolIdentify(t,n){await this.viewPromise;const r=(await this.esriView.hitTest({x:t,y:n})).results.filter(i=>i.type==="graphic").map(async i=>{const s=i.layer;if(i.graphic.isAggregate===!0){const o=await this.esriView.whenLayerView(s),a=o.createQuery();return a.aggregateIds=[i.graphic.getObjectId()],(await o.queryFeatures(a)).features.map(l=>({layerId:s.id,layerIdx:0,oid:l.getObjectId()}))}else return{layerId:s.id,layerIdx:0,oid:i.graphic.getObjectId()}});return(await Promise.all(r)).flat()}runIdentify(t){const n=this.$iApi.geo.layer.allLayersOnMap(!1).filter(d=>d.canIdentify());let r;if(t instanceof xr){const d=this.mapPointToScreenPoint(t);r={mapPoint:t,screenX:d.screenX,screenY:d.screenY,button:0,input:"mouse",clickTime:Date.now()}}else r=t;const i=this.$iApi.fixture.get("draw");if(i&&this.esriView&&(i.store.activeTool||i.store.selectedGraphicId!==null))return{click:r,results:[]};if(n===void 0)return{click:r,results:[]};let s=Promise.resolve([]);n.some(d=>d.identifyMode===zn.HYBRID||d.identifyMode===zn.SYMBOLIC)&&(s=this.symbolIdentify(r.screenX,r.screenY));const o={geometry:r.mapPoint,hitTest:s},a=n.filter(d=>d.supportsIdentify).map(d=>(o.tolerance=r.input=="touch"?d.touchTolerance:d.mouseTolerance,d.runIdentify(o))).flat(),l=Date.now();a.forEach(d=>{d.requestTime=l});const c={results:a,click:r};return this.$iApi.event.emit(Ae.MAP_IDENTIFY,c),c}async getGraphicAtCoord(t){if(!this.esriView){this.noMapErr();return}const n=this.$iApi.geo.layer.allLayersOnMap(!1).filter(l=>l.supportsFeatures||l.layerType===Oe.GRAPHIC);if(n.length===0)return;const r=await this.esriView.hitTest({x:t.screenX,y:t.screenY});if(r.results.length===0)return;const i=r.results.filter(l=>l.type==="graphic");let s,o;const a=new Set;if(i.some(l=>{if(!l.layer||a.has(l.layer.id))return!1;const c=n.find(d=>d.id===l.layer.id);return c?(c.isCosmetic||c.layerType===Oe.GRAPHIC||l.graphic.isAggregate||(s=c,o=l.graphic),!0):(a.add(l.layer.id),!1)}),s&&o)return{oid:o.getObjectId(),layerId:s.id,layerIdx:s.layerIdx}}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(t){const n=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this._activeKeys.some(r=>n.includes(r))||this.keyPan()):n.includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this.keyZoom(t)):t.key==="Enter"?this.runIdentify(this.getExtent().center()):t.key==="Tab"&&this._activeKeys.push(t.key)}mapKeyUp(t){const n=["=","-"];this._activeKeys.includes(t.key)&&!n.includes(t.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this._activeKeys.some(r=>n.includes(r))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return this._activeKeys.filter(t=>!["Control","Shift"].includes(t)).length!==0}get mouseFocus(){return this._mouseFocus}async keyZoom(t){clearInterval(this._panInterval),t.key==="="?await this.zoomIn():t.key==="-"&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const t=this.getExtent().center(),n=this.mapPointToScreenPoint(t),r=this.screenPointToMapPoint({screenX:n.screenX+5,screenY:n.screenY+5}),i=Math.abs(r.x-t.x),s=Math.abs(r.y-t.y);let o=0,a=0,l=1;for(let d=0;d<this._activeKeys.length;++d)switch(this._activeKeys[d]){case"ArrowLeft":o-=i;break;case"ArrowRight":o+=i;break;case"ArrowUp":a+=s;break;case"ArrowDown":a-=s;break;case"Shift":l=2;break;case"Control":l=.25;break}const c=this.getScale();this._panInterval=setInterval(()=>{t.x+=l*o,t.y+=l*a,this.zoomMapTo(t,c,!1)},25)}}const R_e={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},L_e={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},D_e={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},P_e={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},F_e={circlePoint:R_e,solidLine:L_e,outlinedPoly:D_e,boundingBoxPoly:P_e};var U_e=function(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},_j=function(e){return U_e(e[0],e[e.length-1])||e.push(e[0]),e},wj=function(e){var t=0,n=0,r=e.length,i=e[n],s;for(n;n<r-1;n++)s=e[n+1],t+=(s[0]-i[0])*(s[1]+i[1]),i=s;return t>=0},G_e=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},xj=function(e){var t=[],n=e.slice(0),r=_j(n.shift().slice(0));if(r.length>=4){wj(r)||r.reverse(),t.push(r);for(var i=0;i<n.length;i++){var s=_j(n[i].slice(0));s.length>=4&&(wj(s)&&s.reverse(),t.push(s))}}return t},j_e=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=xj(e[n]),i=r.length-1;i>=0;i--){var s=r[i].slice(0);t.push(s)}return t},z_e=function e(t,n){n=n||"OBJECTID";var r={wkid:4326},i={},s;switch(t.type){case"Point":i.x=t.coordinates[0],i.y=t.coordinates[1],t.coordinates[2]!=null&&(i.z=t.coordinates[2]),i.spatialReference=r;break;case"MultiPoint":i.points=t.coordinates.slice(0),t.coordinates[0][2]!=null&&(i.hasZ=!0),i.spatialReference=r;break;case"LineString":i.paths=[t.coordinates.slice(0)],t.coordinates[0][2]!=null&&(i.hasZ=!0),i.spatialReference=r;break;case"MultiLineString":i.paths=t.coordinates.slice(0),t.coordinates[0][0][2]!=null&&(i.hasZ=!0),i.spatialReference=r;break;case"Polygon":i.rings=xj(t.coordinates.slice(0)),t.coordinates[0][0][2]!=null&&(i.hasZ=!0),i.spatialReference=r;break;case"MultiPolygon":i.rings=j_e(t.coordinates.slice(0)),t.coordinates[0][0][0][2]!=null&&(i.hasZ=!0),i.spatialReference=r;break;case"Feature":t.geometry&&(i.geometry=e(t.geometry,n)),i.attributes=t.properties?G_e(t.properties):{},t.id&&(i.attributes[n]=t.id);break;case"FeatureCollection":for(i=[],s=0;s<t.features.length;s++)i.push(e(t.features[s],n));break;case"GeometryCollection":for(i=[],s=0;s<t.geometries.length;s++)i.push(e(t.geometries[s],n));break}return i};function Ej(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function $_e(e,t){var n=Ej(e);return function(r,i){return t(n(r),i,e)}}function V_e(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function dA(e){var t=new RegExp('["'+e+`
]`),n=e.charCodeAt(0);function r(c,d){var p,f,y=i(c,function(g,b){if(p)return p(g,b-1);f=g,p=d?$_e(g,d):Ej(g)});return y.columns=f,y}function i(c,d){var p={},f={},y=[],g=c.length,b=0,E=0,S,I;function w(){if(b>=g)return f;if(I)return I=!1,p;var A=b,M;if(c.charCodeAt(A)===34){for(var k=A;k++<g;)if(c.charCodeAt(k)===34){if(c.charCodeAt(k+1)!==34)break;++k}return b=k+2,M=c.charCodeAt(k+1),M===13?(I=!0,c.charCodeAt(k+2)===10&&++b):M===10&&(I=!0),c.slice(A+1,k).replace(/""/g,'"')}for(;b<g;){var C=1;if(M=c.charCodeAt(b++),M===10)I=!0;else if(M===13)I=!0,c.charCodeAt(b)===10&&(++b,++C);else if(M!==n)continue;return c.slice(A,b-C)}return c.slice(A)}for(;(S=w())!==f;){for(var _=[];S!==p&&S!==f;)_.push(S),S=w();d&&(_=d(_,E++))==null||y.push(_)}return y}function s(c,d){return d==null&&(d=V_e(c)),[d.map(l).join(e)].concat(c.map(function(p){return d.map(function(f){return l(p[f])}).join(e)})).join(`
`)}function o(c){return c.map(a).join(`
`)}function a(c){return c.map(l).join(e)}function l(c){return c==null?"":t.test(c+="")?'"'+c.replace(/\"/g,'""')+'"':c}return{parse:r,parseRows:i,format:s,formatRows:o}}var W_=dA(","),W_e=W_.parse,Z_e=W_.parseRows,B_e=W_.format,X_e=W_.formatRows,Z_=dA("	"),H_e=Z_.parse,Y_e=Z_.parseRows,q_e=Z_.format,J_e=Z_.formatRows;const Q_e=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:B_e,csvFormatRows:X_e,csvParse:W_e,csvParseRows:Z_e,dsvFormat:dA,tsvFormat:q_e,tsvFormatRows:J_e,tsvParse:H_e,tsvParseRows:Y_e},Symbol.toStringTag,{value:"Module"})),K_e=EL(Q_e);var eh={exports:{}},Tj;function e2e(){if(Tj)return eh.exports;Tj=1,eh.exports=e,eh.exports.pair=s,eh.exports.format=n,eh.exports.formatPair=t,eh.exports.coordToDMS=r;function e(a,l){var c=i(a,l);return c===null?null:c.val}function t(a){return n(a.lat,"lat")+" "+n(a.lon,"lon")}function n(a,l){var c=r(a,l);return c.whole+"\xB0 "+(c.minutes?c.minutes+"' ":"")+(c.seconds?c.seconds+'" ':"")+c.dir}function r(a,l){var c={lat:["N","S"],lon:["E","W"]}[l]||"",d=c[a>=0?0:1],p=Math.abs(a),f=Math.floor(p),y=p-f,g=y*60,b=Math.floor(g),E=Math.floor((g-b)*60);return{whole:f,minutes:b,seconds:E,dir:d}}function i(a,l){if(l||(l="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var c=/^[\s\,]*([NSEW])?\s*([\-|\|\]?[0-9.]+)[]?\s*(?:([0-9.]+)[']\s*)?(?:([0-9.]+)(?:''|"||)\s*)?([NSEW])?/,d=a.match(c);if(!d)return null;var p=d[0],f;if(d[1]&&d[5]?(f=d[1],p=p.slice(0,-1)):f=d[1]||d[5],f&&l.indexOf(f)===-1)return null;var y=d[2]?parseFloat(d[2]):0,g=d[3]?parseFloat(d[3])/60:0,b=d[4]?parseFloat(d[4])/3600:0,E=y<0?-1:1;return(f==="S"||f==="W")&&(E*=-1),{val:(Math.abs(y)+g+b)*E,dim:f,matched:p,remain:a.slice(p.length)}}function s(a,l){a=a.trim();var c=i(a,l);if(!c)return null;a=c.remain.trim();var d=i(a,l);return!d||d.remain?null:c.dim?o(c.val,d.val,c.dim):[c.val,d.val]}function o(a,l,c){if(c==="N"||c==="S")return[a,l];if(c==="W"||c==="E")return[l,a]}return eh.exports}var pA,Sj;function t2e(){if(Sj)return pA;Sj=1;var e=K_e,t=e2e(),n=/(Lat)(itude)?/gi,r=/(L)(on|ng)(gitude)?/i;function i(E,S){var I,w,_;for(var A in E)w=A.match(S),w&&(!I||w[0].length/A.length>_)&&(_=w[0].length/A.length,I=A);return I}function s(E){return i(E,n)}function o(E){return i(E,r)}function a(E){return!!E.match(n)}function l(E){return!!E.match(r)}function c(E){return typeof E=="object"?Object.keys(E).length:0}function d(E){var S=[",",";","	","|"],I=[];return S.forEach(function(w){var _=e.dsvFormat(w).parse(E);if(_.length>=1){for(var A=c(_[0]),M=0;M<_.length;M++)if(c(_[M])!==A)return;I.push({delimiter:w,arity:Object.keys(_[0]).length})}}),I.length?I.sort(function(w,_){return _.arity-w.arity})[0].delimiter:null}function p(E){return delete E.columns,E}function f(E){var S=d(E);return S?p(e.dsvFormat(S).parse(E)):null}function y(E,S,I){I||(I=S,S={}),S.delimiter=S.delimiter||",";var w=S.latfield||"",_=S.lonfield||"",A=S.crs||"",M=[],k={type:"FeatureCollection",features:M};if(A!==""&&(k.crs={type:"name",properties:{name:A}}),S.delimiter==="auto"&&typeof E=="string"&&(S.delimiter=d(E),!S.delimiter)){I({type:"Error",message:"Could not autodetect delimiter"});return}var C=S.numericFields?S.numericFields.split(","):null,R=typeof E=="string"?e.dsvFormat(S.delimiter).parse(E,function(N){if(C)for(var V in N)C.includes(V)&&(N[V]=+N[V]);return N}):E;if(!R.length){I(null,k);return}var U=[],B;w||(w=s(R[0])),_||(_=o(R[0]));var G=!w||!_;if(G){for(B=0;B<R.length;B++)M.push({type:"Feature",properties:R[B],geometry:null});I(U.length?U:null,k);return}for(B=0;B<R.length;B++)if(R[B][_]!==void 0&&R[B][w]!==void 0){var z=R[B][_],J=R[B][w],u,m,x;x=t(z,"EW"),x&&(z=x),x=t(J,"NS"),x&&(J=x),u=parseFloat(z),m=parseFloat(J),isNaN(u)||isNaN(m)?U.push({message:"A row contained an invalid value for latitude or longitude",row:R[B],index:B}):(S.includeLatLon||(delete R[B][_],delete R[B][w]),M.push({type:"Feature",properties:R[B],geometry:{type:"Point",coordinates:[parseFloat(u),parseFloat(m)]}}))}I(U.length?U:null,k)}function g(E){for(var S=E.features,I={type:"Feature",geometry:{type:"LineString",coordinates:[]}},w=0;w<S.length;w++)I.geometry.coordinates.push(S[w].geometry.coordinates);return I.properties=S.reduce(function(_,A){for(var M in A.properties)_[M]||(_[M]=[]),_[M].push(A.properties[M]);return _},{}),{type:"FeatureCollection",features:[I]}}function b(E){for(var S=E.features,I={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},w=0;w<S.length;w++)I.geometry.coordinates[0].push(S[w].geometry.coordinates);return I.properties=S.reduce(function(_,A){for(var M in A.properties)_[M]||(_[M]=[]),_[M].push(A.properties[M]);return _},{}),{type:"FeatureCollection",features:[I]}}return pA={isLon:l,isLat:a,guessLatHeader:s,guessLonHeader:o,csv:e.csvParse,tsv:e.tsvParse,dsv:e,auto:f,csv2geojson:y,toLine:g,toPolygon:b},pA}var fA=t2e();const n2e={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function r2e(e){if(e.type!=="FeatureCollection")throw new Error("GeoJSON is not in FeatureCollection format");let t=!0,n=!0;for(let r=0;r<e.features.length;r++){const i=e.features[r];Object.assign(i.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in i&&typeof i.id<"u"&&(i.properties.ID_FILE=i.id,t=!1),"OBJECTID"in i.properties&&(i.properties.OBJECTID_FILE=i.properties.OBJECTID,delete i.properties.OBJECTID,n=!1),i.id=r+1}if(t)for(let r=0;r<e.features.length;r++)delete e.features[r].properties.ID_FILE;if(n)for(let r=0;r<e.features.length;r++)delete e.features[r].properties.OBJECTID_FILE}function i2e(e,t){const n=r=>r.indexOf(" ")>-1;t.fields?.forEach(r=>{if(r.name&&n(r.name)){const i=r.name;let s,o="_",a;do s=i.replace(/ /g,o),a=t.fields?.find(l=>l.name===s),a&&(o+="_");while(a);r.alias=i,r.name=s;for(let l=0;l<e.features.length;l++){const c=e.features[l];c.properties[s]=c.properties[i],delete c.properties[i]}}})}function s2e(e,t){const n=e.features[t].geometry.geometries;if(n.length===1)e.features[t].geometry={type:n[0].type,coordinates:n[0].coordinates};else{const r=n.map(i=>i.coordinates);e.features[t].geometry={type:`Multi${n[0].type}`,coordinates:r}}}function o2e(e){return e==="MultiLineString"?"LineString":e==="MultiPolygon"?"Polygon":e}class a2e extends yn{async fetchFileData(t,n){const r=await Np.get(t,{responseType:"arrayBuffer"});switch(n){case Oe.GEOJSON:case Oe.DATAJSON:return JSON.parse(this.arbToStr(r.data));case Oe.SHAPEFILE:case Oe.GEOJSONZIPPED:case Oe.FLATGEOBUF:case Oe.FLATGEOBUFZIPPED:return r.data;case Oe.CSV:case Oe.DATACSV:return this.arbToStr(r.data);default:console.error(`Unsupported file type passed to fetchFileData- '${n}'`)}}extractGeoJsonFields(t){if(t.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let n="";for(let o=0;o<t.features.length;o++){const a=t.features[o];if(a.geometry.type==="GeometryCollection"){const c=a.geometry.geometries;if(c===void 0||c.length===0)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const d=c[0].type;for(let p=0;p<c.length;p++)if(c[p].type!==d)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");s2e(t,o)}const l=o2e(a.geometry.type);if(n==="")n=l;else if(n!==l)throw new Error("GeoJSON file contains multiple geometry types")}const r=Object.keys(t.features[0].properties).map(o=>({name:o,type:"string"}));let i=0;const s=Object.keys(t.features[0].properties);for(;i<t.features.length;){const o=t.features[i];if(o.properties&&Object.keys(o.properties).filter(a=>s.includes(a)).forEach(a=>{const l=o.properties[a];if(l!=null){const c=r.findIndex(d=>d.name===a);r[c]={name:a,type:this.inferType(l)},s.splice(s.indexOf(a),1)}}),s.length===0)break;i++}return r}extractCsvFields(t,n=","){return fA.dsv.dsvFormat(n).parseRows(t)[0].map(r=>({name:r,type:Js.STRING}))}filterCsvLatLonFields(t,n=","){const r=fA.dsv.dsvFormat(n).parseRows(t),i=r[0],s={lat:JSON.parse(JSON.stringify(i)),lon:JSON.parse(JSON.stringify(i))};for(let o=0;o<i.length;o++)for(let a=1;a<r.length;a++){const l=Number(r[a][o]),c=s.lat.indexOf(i[o]),d=s.lon.indexOf(i[o]);if((isNaN(l)||l<-90||l>90)&&c!==-1&&s.lat.splice(c,1),(isNaN(l)||l<-180||l>180)&&d!==-1&&s.lon.splice(d,1),c===-1&&d===-1)break}return s}async geoJsonToEsriJson(t,n){let r,i="",s;const o={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:Js.OID}]};r2e(t);const a=t.features[0].geometry.type,l=n2e[a],c=JSON.parse(JSON.stringify(F_e[l]));if(n){if(n.sourceProjection&&(i=this.$iApi.geo.proj.normalizeProj(n.sourceProjection)),n.targetSR)r=n.targetSR;else throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");n.layerId?s=n.layerId:s=this.$iApi.geo.shared.generateUUID(),n.colour&&(c.renderer.symbol.color=new Ca(n.colour).toArcServer())}else throw new Error("geoJsonToEsriJson - missing opts arguement");i||(i=Ge.parseGeoJsonCrs(t.crs)),o.renderer=await Et.RendererFromJson(c.renderer),o.fields=(o.fields||[]).concat(n.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(t).filter(g=>n.fieldMetadata?.fieldInfo?.find(b=>b.name===g.name)):this.extractGeoJsonFields(t)),n.fieldMetadata?.enforceOrder&&n.fieldMetadata?.fieldInfo&&n.fieldMetadata?.fieldInfo.length>0&&(o.fields=this.$iApi.geo.attributes.orderFields(o.fields,n.fieldMetadata?.fieldInfo)),i2e(t,o);const d=this.$iApi.geo.proj.normalizeProj(r);if(n){if(n.latField){const g=o.fields.find(b=>b.name===n.latField||b.alias===n.latField);g&&(g.type=Js.DOUBLE)}if(n.lonField){const g=o.fields.find(b=>b.name===n.lonField||b.alias===n.lonField);g&&(g.type=Js.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([i,r]);const p=Ge.parseSR(r).toESRI();await this.$iApi.geo.proj.projectGeoJson(t,i,d);const f=z_e(t,{sr:8888});o.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const y=o.fields.map(g=>g.name);for(let g=0;g<f.length;g++){const b=f[g];b.geometry.spatialReference=p,b.geometry.type=o.geometryType,Object.keys(b.attributes).forEach(E=>{y.includes(E)?(Array.isArray(b.attributes[E])||typeof b.attributes[E]=="object")&&b.attributes[E]!=null&&(b.attributes[E]=JSON.stringify(b.attributes[E])):delete b.attributes[E]})}return(n.fieldMetadata?.fieldInfo&&n.fieldMetadata?.fieldInfo.length>0?n.fieldMetadata.fieldInfo.filter(g=>g.trim&&y.includes(g.name)).map(g=>g.name):[]).forEach(g=>{for(let b=0;b<f.length;b++){const E=f[b].attributes;typeof E[g]=="string"&&(E[g]=E[g].trim())}}),o.source=f,o.spatialReference=p,o.id=s,o}async csvToGeoJson(t,n){const r={latfield:"Lat",lonfield:"Long",delimiter:","};return n&&(n.latfield&&(r.latfield=n.latfield),n.lonfield&&(r.lonfield=n.lonfield),n.delimiter&&(r.delimiter=n.delimiter)),new Promise((i,s)=>{fA.csv2geojson(t,r,(o,a)=>{o?(console.error("csv conversion error"),console.error(o),s(o)):(a.features.map(l=>{l.properties[r.lonfield]=l.geometry.coordinates[0],l.properties[r.latfield]=l.geometry.coordinates[1]}),i(a))})})}async shapefileToGeoJson(t){return(await import("./shp.min-D4JzX7QB.js").then(n=>n.s)).default(t)}fgbToGeoJson(t,n){return import("./flatgeobuf-Dd2813h3.js").then(({geojson:r})=>new Promise(i=>{let s=!1,o=null;const a=r.deserialize(new Uint8Array(t),void 0,d=>{o=d.crs,s=!0});let l=0;const c=setInterval(()=>{if(a&&s){clearInterval(c);let d;o&&(o.code&&o.code!==4326&&o.org==="EPSG"?d=new Ge(o.code):o.wkt?d=new Ge(o.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",o)),d&&(a.crs=d.toGeoJSON()),i(a)}else l+=60,l>n&&(clearInterval(c),i({}))},60)}))}inferType(t){return typeof t=="number"?Js.DOUBLE:Js.STRING}rawDataJsonParser(t,n=!1){let r;return typeof t=="string"?r=JSON.parse(t):n?r=structuredClone(t):r=t,r}async unzipSingleFile(t){const n=await import("./jszip.min-b7hv2w5F.js").then(s=>s.j),r=await new n.default().loadAsync(t),i=Object.keys(r.files)[0];if(i&&r.file(i))return await r.file(i).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(t){if(t.rawData&&t.rawData instanceof ArrayBuffer)return t.rawData;if(t.url)return this.$iApi.geo.layer.files.fetchFileData(t.url,t.layerType);throw new Error(`${t.layerType} config contains no url or invalid/missing raw data`)}arbToStr(t){return new TextDecoder("utf-8").decode(new Uint8Array(t))}}const l2e=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");class c2e extends yn{async loadWfsData(t,n=-1,r=0,i=1e3,s={type:"FeatureCollection",features:[]},o=!1){let a={offset:r.toString(),limit:i.toString()};n===-1&&(a={resulttype:"hits"});const l=new km(t).updateQuery(a),[c,d]=await us(Np.get(l));if(!d)return console.error(`WFS data failed to load for ${t}`,c),Promise.reject(c);const p=d.data;if(n===-1)return n=d.data.numberMatched,this.loadWfsData(t,n,r,i,s,o);if(s.features=s.features.concat(p.features),p.features.length<n-r){const f=Math.min(i,n-r-p.features.length);return this.loadWfsData(l,n,p.features.length+r,f,s,o)}else return o&&s.features.length>0&&s.features[0].geometry.type===hn.POINT&&s.features.forEach(f=>{const y=f.geometry.coordinates;f.properties.rvInternalCoordX=y[0],f.properties.rvInternalCoordY=y[1]}),s}reversedAxisWKIDs(){return l2e}parseCapabilities(t){const n=()=>{let o=t;if(t.indexOf("?")===-1)o+="?service=WMS&request=GetCapabilities";else{const a=new km(t.toUpperCase());"SERVICE"in a.queryMap||(o+="&service=WMS"),"REQUEST"in a.queryMap||(o+="&request=GetCapabilities")}return xn(o,{responseType:"xml"}).then(a=>a.data)},r=new Promise(o=>{n().then(a=>o(a)).catch(()=>{console.error("Get capabilities failed; trying the second time;"),o(n())})}),i=o=>{let a=o.Layer;return a?(Array.isArray(a)||(a=[a]),a.map(l=>{const c=l.Name,d=l.Title;let p=l.Style;const f=[],y={};return p&&(Array.isArray(p)||(p=[p]),p.forEach(g=>{const b=g.Name;if(f.push(b),g.LegendURL){const E=g.LegendURL.OnlineResource["@_xlink:href"];y[b]=E.replaceAll("&amp;","&")}})),{name:c?.toString()??null,title:d,queryable:l["@_queryable"]==="1",layers:i(l),allStyles:f,styleToURL:y,currentStyle:f[0]}})):[]},s=o=>{let a=o.Format;return Array.isArray(a)||(a=[a]),a};return import("./fxp-BPfEykj3.js").then(o=>o.f).then(({XMLParser:o})=>r.then(a=>{if(!a)return[];const l=new XMLSerializer().serializeToString(a),c={ignoreAttributes:!1},d=new o(c).parse(l);if("ServiceExceptionReport"in d)return console.error(d.ServiceExceptionReport.ServiceException),[];const p=d.WMS_Capabilities.Capability;return{layers:i(p),queryTypes:s(p.Request.GetFeatureInfo)}}))}}class kp{static makeRawItem(t,n){const r=Promise.resolve();return Zn({format:t,data:n,started:!0,loaded:!0,loading:r,load(){return r}})}static makeOidItem(t,n){const r=new mn,i={format:pc.ESRI,data:void 0,started:!1,loaded:!1,loading:r.getPromise(),async load(){if(!this.started){this.started=!0;const s=await n.getGraphic(t,{getAttribs:!0});this.data=s.attributes,this.loaded=!0,r.resolveMe()}return r.getPromise()}};return Zn(i)}}class u2e extends yn{files;ogc;constructor(t){super(t),this.files=new a2e(t),this.ogc=new c2e(t)}createLayer(t){let n;switch(t.layerType){case Oe.FEATURE:n=g2e;break;case Oe.MAPIMAGE:n=v2e;break;case Oe.GRAPHIC:n=Mj;break;case Oe.TILE:n=Oj;break;case Oe.WFS:n=E2e;break;case Oe.DATATABLE:n=S2e;break;case Oe.WMS:n=x2e;break;case Oe.GEOJSON:n=h2e;break;case Oe.GEOJSONZIPPED:n=f2e;break;case Oe.FLATGEOBUFZIPPED:n=y2e;break;case Oe.CSV:n=p2e;break;case Oe.DATAJSON:n=T2e;break;case Oe.IMAGERY:n=w2e;break;case Oe.SHAPEFILE:n=d2e;break;case Oe.FLATGEOBUF:n=m2e;break;case Oe.OSM:n=_2e;break;default:throw new Error("Unsupported Layer Type "+t.layerType)}return new n(t,this.$iApi)}sublayerId(t,n){return`${t}-${n}`}getLayer(t){return js(this.$vApp.$pinia).getLayerByAny(t)}getSublayer(t,n){const r=js(this.$vApp.$pinia).getLayerById(t);if(r&&r.supportsSublayers&&n<r.sublayers.length)return r.sublayers[n]}async awaitLayer(t,n=!1){let r=this.getLayer(t);if(!r){const i=new mn;let s=0;const o=300,a=setInterval(()=>{s+=o;const l=this.getLayer(t);if(l)clearInterval(a),i.resolveMe(l);else if(s>8e3){clearInterval(a);const c=setInterval(()=>{const d=this.getLayer(t);d&&(clearInterval(c),i.resolveMe(d))},1500)}},o);r=await i.getPromise()}return n&&await r.viewPromise(),r}async awaitSublayer(t,n){return this.awaitLayer(this.sublayerId(t,n))}getLayerPosition(t){const n=this.getLayer(t);if(n&&n.mapLayer){const r=n.isSublayer?n.parentLayer.id:n.id,i=this.layerOrderIds().findIndex(s=>s===r);return i===-1?void 0:i}else return}layerOrderIds(){return js(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return js(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter(t=>t.layerState!==sn.ERROR&&t.initiationState===Bt.INITIATED)}allLayersOnMap(t=!0){const n=this.allLayers().filter(r=>r.mapLayer&&r.initiationState===Bt.INITIATED);if(t){const r=this.layerOrderIds(),i=new Map(r.map((s,o)=>[s,o]));n.sort((s,o)=>i.get(s.id)-i.get(o.id))}return n}allDataLayers(){return this.allLayers().filter(t=>!t.mapLayer&&t.initiationState===Bt.INITIATED)}allErrorLayers(){return this.allLayers().filter(t=>t.layerState===sn.ERROR)}allInitiatingLayers(){return this.allLayers().filter(t=>t.initiationState===Bt.INITIATING)}getLayerControls(t){const n=this.getLayer(t);if(!n)return;const r=n.config.controls?.slice()??[dn.BoundaryZoom,dn.Datatable,dn.Identify,dn.Metadata,dn.Opacity,dn.Refresh,dn.Reload,dn.Remove,dn.Settings,dn.Symbology,dn.Visibility],i=[];return n.supportsFeatures||i.push(dn.Datatable),n.extent===void 0&&i.push(dn.BoundaryZoom),(n.config?.metadata||(n.isSublayer?n.parentLayer?.config?.metadata:{})||{}).url||i.push(dn.Metadata),!n.mapLayer&&!n.config.controls?.includes(dn.Settings)&&i.push(dn.Settings),i.forEach(s=>{const o=r?.indexOf(s)??-1;o!==-1&&r?.splice(o,1)}),{controls:r,disabledControls:n.config.disabledControls??[]}}async loadLayerMetadata(t){if(!t.trim())throw new Error("url missing on layer server metadata request.");const[n,r]=await us(xn(t,{query:{f:"json"}}));if(!r)throw console.error(`Service metadata load error: ${t}`,n),new Error(`Service metadata load error: ${t}`);if(!r.data)throw console.error(`Service metadata load error: ${t}`),new Error(`Service metadata load error: ${t}`);const i=r.data,s={geometryType:Xe.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:ar.UNKNOWN,mapLayer:!0};if(s.name=i.name||"",s.currentVersion=i.currentVersion||-1,s.minScale=i.effectiveMinScale||i.minScale||0,s.maxScale=i.effectiveMaxScale||i.maxScale||0,s.extent=i.extent?Jt.fromArcServer(i.extent,"layer_extent"):void 0,s.defaultVisibility=i.defaultVisibility??!0,s.canModifyLayer=i.canModifyLayer??!0,i.type==="Feature Layer"||i.type==="Table"){if(s.dataFormat=ar.ESRI_FEATURE,s.displayField=i.displayField||"",Array.isArray(i.fields)){const o=await Promise.all(i.fields.map(a=>Et.FieldFromJson(a)));s.fields=o.map(a=>({name:a.name,alias:a.alias,type:a.type,length:a.length})),o.every(a=>a.type==="oid"?(s.objectIdField=a.name,!1):!0)&&(s.objectIdField=i.objectIdField||(console.error(`Encountered service with no OID defined: ${t}`),"")),i.type==="Feature Layer"?(s.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(i.geometryType),i.drawingInfo?.renderer&&(s.renderer=await Et.RendererFromJson(i.drawingInfo.renderer)),i.sourceSpatialReference&&(s.sourceSR=Ge.fromConfig(i.sourceSpatialReference))):s.mapLayer=!1}}else s.dataFormat=ar.ESRI_RASTER;return s}async loadFeatureCount(t,n=""){if(!t)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const r={query:{f:"json",where:n||"1=1",returnCountOnly:!0,returnGeometry:!1}},[i,s]=await us(xn(`${t}/query`,r));return s?s.data?Number.isInteger(s.data.count)?s.data.count:(console.error(`Funny result (${s.data.count}) during feature count: ${t}`),0):(console.error(`Unable to load feature count: ${t}`),0):(console.error(`Feature count request unsuccessful: ${t}`,i),0)}}class B_ extends yn{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;get nameArcade(){return""}async setNameArcade(t){}tooltipField;get tooltipArcade(){return""}async setTooltipArcade(t){}oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;isSystem;userAdded;identify;identifyMode;hovertips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(t,n){super(n),this.config=t,this.id="",this.uid="",this.name="error",this.layerState=sn.NEW,this.drawState=Br.NOT_LOADED,this.initiationState=Bt.NEW,this.layerIdx=-1,this.layerFormat=gi.UNKNOWN,this.layerType=Oe.UNKNOWN,this.dataFormat=ar.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=zn.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.tooltipField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.isSystem=!1,this.userAdded=!1,this.identify=!1,this.hovertips=!1,this.geomType=Xe.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}viewPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new ev(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return Ge.latLongSR()}get visibility(){return!1}set visibility(t){}get opacity(){return 0}set opacity(t){}get scaleSet(){return new wL}set scaleSet(t){}isOffscale(t=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(t){}get touchTolerance(){return 0}set touchTolerance(t){}get drawOrder(){return[]}canIdentify(){return!1}nameValue(t){return""}tooltipValue(t){return""}runIdentify(t){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,n){return Promise.resolve(new ki(new Tl))}getIcon(t){return Promise.resolve("")}getSqlFilter(t){return""}setSqlFilter(t,n){}applySqlFilter(t=[]){}getFilterOIDs(t=[],n=void 0){return Promise.resolve(void 0)}getGraphicExtent(t){return Promise.resolve(Jt.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(t){if(!this.isSublayer&&t)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=t}get sublayers(){return this._sublayers}onLoad(){}onError(t=!0){}updateLayerState(t,n=!1){}updateDrawState(t){}updateInitiationState(t){}uidToIdx(t){if(t===this.uid)return-1;{const n=this._sublayers.findIndex(r=>r?.uid===t);if(n===-1)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${t}]`);return n}}getSublayer(t){if(!this.supportsSublayers){console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);return}let n;if(typeof t=="string"?n=this.uidToIdx(t):n=t,this._sublayers[n]===void 0)throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${t}]`);return this._sublayers[n]}controlAvailable(t){const n=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(t,n)}}class Ij extends B_{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;nameArcadeFormula;nameArcadeExecutor;tooltipArcadeFormula;tooltipArcadeExecutor;constructor(t,n){super(t,n),this.name=t.name||"",this.geomType=Xe.NONE,this.dataFormat=ar.UNKNOWN,this.layerType=Oe.UNKNOWN,this.layerFormat=gi.UNKNOWN;const r=n.geo.map.layerDefaultTimes;this.expectedTime.draw=t.expectedDrawTime??r.draw,this.expectedTime.load=t.expectedLoadTime??r.load,this.expectedTime.fail=t.maxLoadTime||r.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=t,this.id=t.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isSystem=t.system||!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=zn.NONE,this.supportsFeatures=!1,this.hovertips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=sn.NEW,this.initiationState=Bt.NEW,this.drawState=Br.NOT_LOADED,this.loadDefProm=new mn,this.url=this.origRampConfig.url,this.canReload=!!(this.url||this.origRampConfig.caching),this.loadPromDone=!1,this.nameArcadeFormula="",this.tooltipArcadeFormula="",this.layerTree=new ev(0,this.uid,this.name,!0)}updateInitiationState(t){this.initiationState=t,this.$iApi.event.emit(Ae.LAYER_INITIATIONSTATECHANGE,{state:t,layer:this})}updateLayerState(t,n=!1){this.layerState=t,this.$iApi.event.emit(Ae.LAYER_LAYERSTATECHANGE,{state:t,layer:this,userCancel:n})}updateDrawState(t){this.drawState=t,t===Br.REFRESH?this.startTimer("draw"):t===Br.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit(Ae.LAYER_DRAWSTATECHANGE,{state:t,layer:this})}async initiate(){this.updateInitiationState(Bt.INITIATING),this.startTimer("load");const t=s=>{this.layerState!==sn.ERROR&&(console.error(s),this.onError())},n=Date.now(),r=setTimeout(()=>{n>this.lastCancel&&(this.lastCancel=Date.now(),t("Layer timed out during initialize. Id: "+this.id))},this.expectedTime.fail),[i]=await us(this.onInitiate());clearTimeout(r),n>this.lastCancel&&(this.drawState!==Br.UP_TO_DATE&&this.startTimer("draw"),i?t(`Init error on layer id: ${this.id} . ${i.message}`):this.updateInitiationState(Bt.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===Bt.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState(Bt.TERMINATING),await Promise.all(this.sublayers.map(t=>t.terminate())),this.loadDefProm=new mn,this.loadPromDone=!1,this.updateLayerState(sn.NEW),this.updateDrawState(Br.NOT_LOADED),this.updateInitiationState(Bt.TERMINATED)}onLoad(){const t=Date.now();let n=!1;const r=setTimeout(()=>{n=!0,this.onError()},this.expectedTime.fail);try{const i=this.onLoadActions();Promise.all(i).then(()=>{clearTimeout(r),n?this.visibility=!1:(this.stopTimer("load"),t>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new mn),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach(s=>s.onLoad()),this.updateLayerState(sn.LOADED)))}).catch(()=>{clearTimeout(r),this.onError()})}catch(i){console.error("Encountered error on layer load: ",i),clearTimeout(r),this.onError()}}onError(t=!0){this.layerState!==sn.ERROR&&(this.initiationState===Bt.INITIATING&&this.updateInitiationState(Bt.NEW),this.loadPromDone&&(this.loadDefProm=new mn),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach(n=>n.onError(t)),t&&this.$iApi.notify.show(pi.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(sn.ERROR,!t))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===Bt.NEW||this.initiationState===Bt.TERMINATING||this.initiationState===Bt.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&this.esriLayer.loadStatus==="loading"&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===sn.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,n){return this.stubError(),Promise.resolve(new ki(new Tl))}getIcon(t){return this.stubError(),Promise.resolve("")}getSqlFilter(t){return this.stubError(),""}setSqlFilter(t,n){this.stubError()}getFilterOIDs(t=[],n=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(t){return this.stubError(),Promise.resolve(Jt.fromParams("fake",0,0,0,0))}applySqlFilter(t=[]){this.stubError()}setCustomParameter(t,n,r=!0){this.stubError()}startTimer(t){this.stopTimer(t),this.expectedTime[t]>0&&(this.timers[t]=window.setTimeout(()=>this.$iApi.notify.show(pi.WARNING,this.$iApi.$i18n.t(`layer.long${t}`,{id:this.name||this.id})),this.expectedTime[t]))}stopTimer(t){this.timers[t]&&(clearTimeout(this.timers[t]),this.timers[t]=void 0)}async arcadeGenerator(t){const n={variables:[{name:"$attr",type:"dictionary",properties:this.fields.map(r=>{const i=this.$iApi.geo.attributes.fieldTypeToArcade(r.type);return i?{name:r.name,type:i}:(console.error(`Encountered field type with no arcade support: ${r.type} [${r.name}]`),i)}).filter(r=>!!r)}]};return Et.ArcadeExecutor(t,n)}get nameArcade(){return this.nameArcadeFormula}async setNameArcade(t){this.supportsFeatures?t.trim()===""?(this.nameArcadeFormula="",this.nameArcadeExecutor=void 0):(this.nameArcadeFormula=t,this.nameArcadeExecutor=await this.arcadeGenerator(t)):console.error("Attempted to set a name arcade function on a layer that doesn't support it.")}async nameInitializer(t,n=""){if(this.supportsFeatures){const r=(t?.nameArcade||"").trim();r&&await this.setNameArcade(r),this.nameField=(t?.nameField||"").trim()||n||this.oidField}else console.error("Attempted to init a name field on an unsupported layer.")}nameValue(t){if(t)if(this.nameArcade){const n={$attr:t};return this.nameArcadeExecutor?.execute(n)??"Arcade Error"}else return this.nameField?t[this.nameField]??"Name Field Error":"";else return""}get tooltipArcade(){return this.tooltipArcadeFormula}async setTooltipArcade(t){this.supportsFeatures?t.trim()===""?(this.tooltipArcadeFormula="",this.tooltipArcadeExecutor=void 0):(this.tooltipArcadeFormula=t,this.tooltipArcadeExecutor=await this.arcadeGenerator(t)):console.error("Attempted to set a tooltip arcade function on a layer that doesn't support it.")}async tooltipInitializer(t){if(this.supportsFeatures){const n=(t?.tooltipArcade||"").trim();n&&await this.setTooltipArcade(n),this.tooltipField=(t?.tooltipField||"").trim()}else console.error("Attempted to init a tooltip field on an unsupported layer.")}tooltipValue(t){if(t)if(this.tooltipArcade){const n={$attr:t};return this.tooltipArcadeExecutor?.execute(n)??"Arcade Error"}else return this.tooltipField?t[this.tooltipField]??this.nameValue(t):this.nameValue(t);else return""}}class th extends Ij{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(t,n){super(t,n),this._scaleSet=new wL,this._mouseTolerance=t.mouseTolerance!=null?t.mouseTolerance:5,this._touchTolerance=t.touchTolerance!=null?t.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=t.cosmetic||!1,this.extent=t.extent?Jt.fromConfig(`${this.id}_extent`,t.extent):void 0,this.viewDefProm=new mn,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){if(await super.onInitiate(),!this.esriLayer){this.noLayerErr();return}this.esriWatches.push(Qn(()=>this.esriLayer.visible,t=>{this.$iApi.event.emit(Ae.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this})})),this.esriWatches.push(Qn(()=>this.esriLayer.opacity,t=>{this.$iApi.event.emit(Ae.LAYER_OPACITYCHANGE,{opacity:t,layer:this})})),this.esriWatches.push(Qn(()=>this.esriLayer.loadStatus,t=>{const n={"not-loaded":sn.LOADING,loading:sn.LOADING,loaded:sn.LOADED,failed:sn.ERROR};t==="loaded"?this.onLoad():t==="failed"?this.onError():this.updateLayerState(n[t])})),this.esriLayer.on("layerview-create",t=>{this.esriView=ln(t.layerView),this.esriWatches.push(Qn(()=>t.layerView.updating,n=>{this.updateDrawState(n?Br.REFRESH:Br.UP_TO_DATE)})),this.viewDefProm.resolveMe()}),this.sublayers.forEach(t=>t.initiate())}async terminate(){this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new mn,this.esriWatches.forEach(t=>t.remove()),this.esriWatches=[]}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.removeEsriLayer();const t=Date.now();if(this.$iApi.event.emit(Ae.LAYER_RELOAD_START,this),this.sublayers.forEach(n=>this.$iApi.event.emit(Ae.LAYER_RELOAD_START,n)),await this.terminate(),await this.initiate(),!(this.lastCancel>t)){if(!this.esriLayer){console.error("ESRI layer failed to re-create during reload.");return}this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit(Ae.LAYER_RELOAD_END,this),this.sublayers.forEach(n=>this.$iApi.event.emit(Ae.LAYER_RELOAD_END,n))}}makeEsriLayerConfig(t){return{id:t.id,url:t.url,opacity:t?.state?.opacity??1,visible:t?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex(t=>t.id===this.id)>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const t=super.onLoadActions();if(this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify),this.layerType!==Oe.WMS){const n=this.$iApi.geo.proj.checkProj(this.getSR()).then(r=>r?Promise.resolve():Promise.reject());t.push(n)}return t}viewPromise(){return this.viewDefProm.getPromise()}mapCheck(){return this.$iApi.geo.map.created?!0:(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(t){this._scaleSet=t}isOffscale(t=void 0){let n;if(typeof t>"u")if(this.mapCheck())n=this.$iApi.geo.map.getScale();else return!1;else n=t;return this.scaleSet.isOffScale(n).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){return this.extent?this.mapCheck()?this.$iApi.geo.map.zoomMapTo(this.extent):Promise.resolve():(console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve())}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set click tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative click tolerance");return}this._mouseTolerance=t}get touchTolerance(){return this._touchTolerance}set touchTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set touch tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative touch tolerance");return}this._touchTolerance=t}get layerExists(){return this.initiationState===Bt.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return this.layerExists?this.esriLayer.visible:!1}set visibility(t){this.layerExists?this.esriLayer.visible=t:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some(t=>t.visibility))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(t){this.layerExists?this.esriLayer.opacity=t:this.noLayerErr()}getSR(){return this.esriLayer?Ge.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),Ge.latLongSR())}}class mA extends th{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(t,n){super(t,n),this.supportsIdentify=!0,this.geomType=Xe.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new xL(t.permanentFilteredQuery||"",t.initialFilteredQuery||""),this.hovertips=t.state?.hovertips??!0,this.attribs=new kj}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}async loadLayerMetadata(t={}){if(!this.serviceUrl)return;const n=Date.now(),r=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(n<this.lastCancel))if(this.geomType=r.geometryType,this.attribs.quickCache=new Lj(this.geomType),this.scaleSet.minScale=r.minScale,this.scaleSet.maxScale=r.maxScale,this.dataFormat=r.dataFormat,this.extent=this.extent??r.extent,this._serverVisibility=r.defaultVisibility,this.origRampConfig.name||(this.name=r.name??this.id),this.dataFormat===ar.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType===Oe.SUBLAYER?r.canModifyLayer:!0,this.fields=r.fields,this.nameField=r.displayField,this.oidField=r.objectIdField,this.sourceSR=r.sourceSR,this.drawOrder.forEach(o=>{o.field&&this.fields.findIndex(a=>a.name===o.field)===-1&&console.error(`Draw order for layer ${this.id} references invalid field ${o.field}`)});const i=t&&t.customRenderer&&t.customRenderer.type?t.customRenderer:r.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(i,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const s={supportsLimit:(r.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(gr.PERMANENT)};this.attribs.attLoader=new Rj(this.$iApi,s)}else this.supportsFeatures=!1,this.supportsIdentify=!1}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}getFieldsToTrim(){return this.fields.filter(t=>t.trim).map(t=>t.name)}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,n){let r={},i=new Tl;const s=this.$iApi.geo.map;let o=!1,a=!1,l=0;if(n.getAttribs||n.getStyle){const d=this.attribs.quickCache.getAttribs(t);if(d)r=d;else if(this.attribs.attLoader.isLoaded()||this.isFile){const p=await this.attribs.attLoader.getAttribs();r=p.features[p.oidIndex[t]]}else o=!0}if(n.getGeom){l=s.getScale();const d=this.attribs.quickCache.getGeom(t,l);if(d)i=d;else if(this.layerType===Oe.FEATURE){await this.viewPromise(),this.esriView.updating&&await new Promise(y=>{const g=Qn(()=>this.esriView.updating,b=>{b||(g.remove(),y())})});const p=await Et.Query();p.objectIds=[t],p.returnGeometry=!0;const f=await this.esriView.queryFeatures(p);if(f.features.length){const y=f.features[0],g=this.$iApi.geo.geom.geomEsriToRamp(y.geometry);this.attribs.quickCache.setGeom(t,g,l),i=g}else a=!0}else a=!0}if(o||a){const d={oid:t,serviceUrl:this.serviceUrl,includeGeometry:a,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};a&&(d.mapSR=s.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(d.maxOffset=s.esriView?.resolution));const p=await this.$iApi.geo.attributes.loadSingleFeature(d);a&&(this.attribs.quickCache.setGeom(t,p.geometry,l),i=p.geometry),(o||typeof this.attribs.quickCache.getAttribs(t)>"u")&&(this.attribs.quickCache.setAttribs(t,p.attributes),o&&(r=p.attributes))}const c=new ki(i,"",n.getAttribs?r:void 0);if(n.getStyle){const d=Fe(this.renderer.getGraphicSymbol(r));c.style=this.$iApi.geo.geom.styleEsriToRamp(d)}return c}async getIcon(t){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const n=await this.getGraphic(t,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(n.attributes||{},this.renderer)}setSqlFilter(t,n){const r=this.filter.getSql(t);if(n===r)return;this.filter.setSql(t,n),this.$iApi.event.emit(Ae.FILTER_CHANGE,{uid:this.uid,filterKey:t});const i=`${this.uid}-${t}-${n}`;this._lastFilterUpdate=i,setTimeout(()=>{this._lastFilterUpdate===i&&this.applySqlFilter()},100)}applySqlFilter(t=[]){throw new Error(`attempted to apply sql filter ${t} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[],n=void 0){const r=this.filter.getCombinedSql(t),i=!!n;if(!(r||i))return;n&&this.filter.setExtent(n);const s=this.filter.sqlActiveFilters(t);let o=this.filter.getCache(s,i);if(!o){const a={filterGeometry:n,filterSql:r,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(a),this.filter.setCache(o,s,i)}return o}queryOIDs(t){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const n={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(n)}async queryFeaturesDiscrete(t){const n=await this.queryOIDs(t),r={getGeom:!!t.includeGeometry,getAttribs:!0};return n.map(i=>({oid:i,graphic:this.getGraphic(i,r)}))}async queryFeatures(t){const n=await this.queryFeaturesDiscrete(t);return Promise.all(n.map(r=>r.graphic))}configDrawOrder(t,n){Array.isArray(t.drawOrder)&&t.drawOrder.length>0&&(n.orderBy=t.drawOrder.map(r=>{const i=r.ascending??!0?"ascending":"descending";return r.field?{field:r.field,order:i}:{valueExpression:r.arcade,order:i}}),this._drawOrder=t.drawOrder.slice())}}class Aj extends th{constructor(t,n){super(t,n),this.dataFormat=ar.ESRI_FEATURE,this.layerFormat=gi.GRAPHIC,this.hovertips=!1}_graphics=[];makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}getGraphicCount(){return this._graphics.length}getLocalGraphic(t){return this._graphics.find(n=>n.id===t)}getEsriGraphic(t){return this.esriLayer?.graphics.find(n=>n.id===t)}get graphics(){return this._graphics.slice()}async addGraphic(t){if(!this.layerExists){this.noLayerErr();return}let n;t instanceof Array?n=t:n=[t];const r=n.filter(l=>this._graphics.findIndex(c=>c.id===l.id)===-1?(this._graphics.push(l),!0):(console.error(`Attempting to add graphic with id '${l.id}' that has already been added.`),!1)),i=this.$iApi.geo.map.getSR(),s=r.map(l=>this.$iApi.geo.proj.projectGeometry(i,l.geometry)),o=await Promise.all(s),a=r.map((l,c)=>{const d=new ki(o[c],l.id,l.attributes);return d.style=l.style,this.$iApi.geo.geom.graphicRampToEsri(d)});this.esriLayer.addMany(a)}removeGraphic(t){if(!this.layerExists){this.noLayerErr();return}if(typeof t>"u"){this.esriLayer.removeAll(),this._graphics=[];return}let n;Array.isArray(t)?n=t:n=[t],n.map(r=>typeof r=="string"?r:r.id).forEach(r=>{const i=this.esriLayer.graphics.findIndex(o=>o.id===r);i>-1&&this.esriLayer.graphics.removeAt(i);const s=this._graphics.findIndex(o=>o.id===r);s>-1&&this._graphics.splice(s,1)})}}class Mj extends Aj{constructor(t,n){super(t,n),this.layerType=Oe.GRAPHIC}async onInitiate(){this.esriLayer=ln(await Et.GraphicsLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState(Br.UP_TO_DATE),t}}class nh extends mA{esriJson;sourceGeoJson;constructor(t,n){super(t,n),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=ar.ESRI_FEATURE,this.layerFormat=gi.FEATURE,this.layerIdx=0,t.identifyMode&&t.identifyMode!==zn.NONE?this.identifyMode=t.identifyMode:this.identifyMode=zn.HYBRID}async reload(){if(this.origRampConfig.caching!==!0&&!this.origRampConfig.url){console.error("Attempted to reload file layer from non server source without caching enabled.");return}await super.reload()}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const t={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,t),this.esriLayer=ln(await Et.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(t){const n=super.makeEsriLayerConfig(t),r="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach(i=>{n[i]=this.esriJson[i]}),this.origRampConfig.nameField?n.displayField=this.$iApi.geo.attributes.fieldValidator(n.fields,this.origRampConfig.nameField)||r:n.displayField=r,n.outFields=["*"],delete n.url,this.configDrawOrder(t,n),t.geomClustering&&(n.featureReduction=t.geomClustering),n}onLoadActions(){const t=super.onLoadActions(),n=async()=>{this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=await Et.RendererFromJson(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),await this.nameInitializer({nameArcade:this.origRampConfig.nameArcade},this.nameField);const r=this.origRampConfig.tooltipField?this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.tooltipField):"";await this.tooltipInitializer({tooltipArcade:this.origRampConfig.tooltipArcade,tooltipField:r}),this.featureCount=this.esriLayer?.source.length||0};return t.push(n()),t.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(t).then(()=>{this.applySqlFilter()}),t}runIdentify(t){if(!this.canIdentify())return[];const n=new mn,r=Zn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let i=Promise.resolve(),s=Promise.resolve(),o=[],a=[];if(this.identifyMode===zn.HYBRID||this.identifyMode===zn.GEOMETRIC){const l={includeGeometry:!1};this.geomType!==Xe.POLYGON&&t.geometry.type===Xe.POINT?l.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):l.filterGeometry=t.geometry,l.filterSql=this.getCombinedSqlFilter(),s=this.queryFeatures(l).then(c=>{o=c})}return t.hitTest&&(this.identifyMode===zn.HYBRID||this.identifyMode===zn.SYMBOLIC)&&(i=s.then(async()=>{const l=await t.hitTest;a=await Promise.all(l.filter(c=>c.layerId===this.id&&o.findIndex(d=>c.oid===d.attributes[this.oidField])===-1).map(c=>c.oid))})),Promise.all([i,s]).then(()=>{o.forEach(l=>{r.items.push(kp.makeRawItem(pc.ESRI,l.attributes))}),a.forEach(l=>{r.items.push(kp.makeOidItem(l,this))}),r.loaded=!0,n.resolveMe()}).catch(()=>{r.errored=!0,n.resolveMe()}),[r]}extractLayerMetadata(){const t=this.esriLayer;if(!t)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(t.geometryType),this.scaleSet.minScale=t.minScale||0,this.scaleSet.maxScale=t.maxScale||0,this.extent=this.extent??Jt.fromESRI(t.fullExtent,this.id+"_extent");const n=ln(t.fields.slice());this.fields=n.map(i=>({name:i.name,alias:i.alias,type:i.type,length:i.length})),this.nameField=t.displayField,this.oidField=t.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(t.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const r={sourceGraphics:t.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new M2e(this.$iApi,r)}async getGraphic(t,n){let r;if(!n.getGeom&&this.attribs.attLoader.isLoaded()){const i=await this.attribs.attLoader.getAttribs();r=new ki(new Tl,"",i.features[i.oidIndex[t]])}else{const i={filterOIDs:[t],includeGeometry:!!n.getGeom},s=await this.queryFeatures(i);if(s.length===0)throw new Error(`Could not find object id ${t}`);s.length!==1&&console.warn("did not get a single result on a query for a specific object id"),r=s[0]}if(n.getStyle){const i=Fe(this.renderer.getGraphicSymbol(r.attributes));r.style=this.$iApi.geo.geom.styleEsriToRamp(i)}return r}async queryFeatures(t){const n={layer:this,...t};return this.$iApi.geo.query.geoJsonQuery(n)}async queryOIDs(t){const n={layer:this,...t};return(await this.$iApi.geo.query.geoJsonQuery(n)).map(r=>r.attributes?r.attributes[this.oidField]:-1)}applySqlFilter(t=[]){if(!this.esriView){this.noLayerErr();return}const n=this.filter.getCombinedSql(t);Et.FeatureFilter({where:n}).then(r=>{Fe(this.esriView).filter=r})}}class h2e extends nh{constructor(t,n){super(t,n),this.layerType=Oe.GEOJSON}async onInitiate(){let t;const n=Date.now();if(this.origRampConfig.rawData)t=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("GeoJson layer config contains no raw data or url");n>this.lastCancel&&(this.sourceGeoJson=t,await super.onInitiate())}}class d2e extends nh{constructor(t,n){super(t,n),this.layerType=Oe.SHAPEFILE}async onInitiate(){const t=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.shapefileToGeoJson(n);t>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class p2e extends nh{constructor(t,n){super(t,n),this.layerType=Oe.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let t;const n=Date.now();if(this.origRampConfig.rawData&&typeof this.origRampConfig.rawData=="string")t=this.origRampConfig.rawData;else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Csv file config contains no raw data or url");if(n>this.lastCancel){const r=await this.$iApi.geo.layer.files.csvToGeoJson(t,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});n>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class f2e extends nh{constructor(t,n){super(t,n),this.layerType=Oe.GEOJSONZIPPED}async onInitiate(){const t=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.unzipSingleFile(n);t>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(r)),await super.onInitiate())}}}class m2e extends nh{constructor(t,n){super(t,n),this.layerType=Oe.FLATGEOBUF}async onInitiate(){const t=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.fgbToGeoJson(n,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class y2e extends nh{constructor(t,n){super(t,n),this.layerType=Oe.FLATGEOBUFZIPPED}async onInitiate(){const t=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.unzipSingleFile(n);if(t>this.lastCancel){const i=await this.$iApi.geo.layer.files.fgbToGeoJson(r,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}}class g2e extends mA{constructor(t,n){super(t,n),this.dataFormat=ar.ESRI_FEATURE,this.supportsIdentify=!0,this.layerType=Oe.FEATURE,this.layerFormat=gi.FEATURE,t.identifyMode&&t.identifyMode!==zn.NONE?this.identifyMode=t.identifyMode:this.identifyMode=zn.HYBRID}async onInitiate(){ln(this.esriLayer=await Et.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const n=super.makeEsriLayerConfig(t);return(t.initialFilteredQuery||t.permanentFilteredQuery)&&(n.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(t,n),t.geomClustering&&(n.featureReduction=t.geomClustering),n}onLoadActions(){const t=Date.now(),n=super.onLoadActions(),r=this.esriLayer.parsedUrl.path,i=this.$iApi.geo.shared.parseUrlIndex(r).index||0;this.layerIdx=i,this.serviceUrl=r;const s=async()=>{let a;if(this.esriLayer&&this.origRampConfig.customRenderer?.type){const l=await Et.RendererFromJson(this.origRampConfig.customRenderer);this.esriLayer.renderer=l,a={customRenderer:l}}else a={};await this.loadLayerMetadata(a),t>this.lastCancel&&(this.layerTree.name=this.name,this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()),await this.nameInitializer(this.origRampConfig,this.nameField),await this.tooltipInitializer(this.origRampConfig))},o=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(gr.PERMANENT)).then(a=>{t>this.lastCancel&&(this.featureCount=a)});return this.layerTree.layerIdx=i,n.push(o,s()),n}runIdentify(t){if(!this.canIdentify())return[];const n=new mn,r=Zn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let i=Promise.resolve(),s=Promise.resolve(),o=[];if(this.identifyMode===zn.HYBRID||this.identifyMode===zn.GEOMETRIC){const a={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==Xe.POLYGON&&t.geometry.type===Xe.POINT?a.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):a.filterGeometry=t.geometry,a.filterSql=this.getCombinedSqlFilter(),s=this.queryOIDs(a).then(l=>{o=l})}return t.hitTest&&(this.identifyMode===zn.HYBRID||this.identifyMode===zn.SYMBOLIC)&&(i=s.then(async()=>{(await t.hitTest).filter(a=>a.layerId===this.id&&o.findIndex(l=>a.oid===l)===-1).forEach(a=>{o.push(a.oid)})})),Promise.all([i,s]).then(()=>{o.forEach(a=>{r.items.push(kp.makeOidItem(a,this))}),r.loaded=!0,n.resolveMe()}).catch(()=>{r.errored=!0,n.resolveMe()}),[r]}applySqlFilter(t=[]){if(this.layerExists){const n=this.filter.getCombinedSql(t);this.esriLayer.definitionExpression=n}else this.noLayerErr()}getGraphicExtent(t){return new Promise((n,r)=>{if(!this.layerExists)this.noLayerErr(),r();else if(!["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType))console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),r();else{const i=this.attribs.quickCache.getExtent(t);i?n(i):this.esriLayer.queryExtent({objectIds:[t],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then(s=>{const o=Jt.fromESRI(s.extent);this.attribs.quickCache.setExtent(t,o),n(o)}).catch(()=>{console.error(`Extent querying failed for ${t}.`),r()})}})}}class v2e extends th{isDynamic;origState;constructor(t,n){super(t,n),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=Oe.MAPIMAGE,this.layerFormat=gi.MAPIMAGE,this.isDynamic=!1,this.hovertips=!1,this.layerTree.layerIdx=-1,this.identifyMode=zn.GEOMETRIC}async onInitiate(){this.esriLayer=ln(await Et.MapImageLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const n=super.makeEsriLayerConfig(t);return this.origState={visibility:n.visible,opacity:n.opacity},n.visible=!1,t.imageFormat&&(n.imageFormat=t.imageFormat),n}onLoadActions(){const t=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),t;const n=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(pi.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??Jt.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const r=l=>{const c=this.esriLayer?.allSublayers.find(d=>d.id===l);if(!c)throw new Error("attempt to find map image sublayer failed");return c},i={};this.origRampConfig.sublayers.forEach(l=>{i[l.index||0]=l});const s=[],o=(l,c)=>{const d=l.id,p=i[d];if(l.sublayers&&l.sublayers.length>0){const f=(p?p.name:"")||l.title||"",y=new ev(d,"",f,!1);c.findChildByIdx(d)||c.children.push(y),l.sublayers.reverse().forEach(g=>{o(g,y)})}else{this._sublayers[d]||(this._sublayers[d]=new b2e({id:this.$iApi.geo.layer.sublayerId(this.id,d),index:d,layerType:Oe.SUBLAYER,name:p?.name,state:p?.state??{opacity:this.opacity,visibility:this.visibility,hovertips:this.hovertips,identify:this.identify},extent:p?.extent,controls:p?.controls,disabledControls:p?.disabledControls,initialFilteredQuery:p?.initialFilteredQuery,permanentFilteredQuery:p?.permanentFilteredQuery,labels:p?.labels},this.$iApi,this));const f=this._sublayers[d];if(f.isRemoved)return;if(f.name=p?.name||l.title||"",s.push(f),!c.children.map(y=>y.layerIdx).includes(d)){const y=new ev(d,f.uid,f.name,!1);c.children.push(y)}f.esriWatches.push(Qn(()=>l.visible,()=>{this.$iApi.event.emit(Ae.LAYER_VISIBILITYCHANGE,{visibility:f.visibility,layer:f}),f.parentLayer?.checkVisibility()}),Qn(()=>l.opacity,y=>{this.$iApi.event.emit(Ae.LAYER_OPACITYCHANGE,{opacity:y,layer:f})}))}};this.origRampConfig.sublayers.forEach(l=>{if(!l.cosmetic){const c=r(l.index||0);o(c,this.layerTree)}});const a=s.map(async l=>{const c=r(l.layerIdx),d=i[l.layerIdx];if(l.serviceUrl=c.url,l.fetchEsriSublayer(this),await l.initiate(),n<this.lastCancel)return;const p={};if(l.esriSubLayer&&d?.customRenderer?.type){const y=await Et.RendererFromJson(d.customRenderer);l.esriSubLayer.renderer=y,p.customRenderer=y}if(await l.loadLayerMetadata(p),n<this.lastCancel)return;const f=i[l.layerIdx];if(f?(l.visibility=l.isRemoved?!1:f.state?.visibility??(this.origState.visibility?l._serverVisibility??this.origState.visibility:this.origState.visibility??l._serverVisibility)??!0,l.opacity=f.state?.opacity??this.origState.opacity??1,this.$iApi.geo.attributes.applyFieldMetadata(l,f.fieldMetadata),l.canModifyLayer||this.$iApi.notify.show(pi.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:l.name||l.id}))):this.$iApi.geo.attributes.applyFieldMetadata(l),l.supportsFeatures){l.updateFieldList(),l.updateFieldsToTrim(),await l.nameInitializer(f,l.nameField);const y=await this.$iApi.geo.layer.loadFeatureCount(l.serviceUrl,l.getSqlFilter(gr.PERMANENT));n>this.lastCancel&&(l.featureCount=y)}});return t.push(...a),this.esriLayer.allSublayers.forEach(l=>{!l.sublayers&&!s.find(c=>c.layerIdx===l.id)?(l.visible=!1,l.opacity=0):l.sublayers&&(l.visible=!0)}),this.visibility=this.origState.visibility??!0,t}updateLayerState(t,n=!1){super.updateLayerState(t,n),this.sublayers.forEach(r=>r.updateLayerState(t,n))}updateDrawState(t){super.updateDrawState(t),this.sublayers.forEach(n=>n.updateDrawState(t))}runIdentify(t){if(!this.canIdentify())return[];t.sublayerIds&&(t.sublayerIds=t.sublayerIds.map(i=>typeof i=="number"?this.layerTree?.findChildByIdx(i)?.uid:i));const n=t.sublayerIds?this._sublayers.filter(i=>t.sublayerIds?.includes(i.uid)):this._sublayers.filter(i=>i.canIdentify());if(n.length===0)return[];let r;return t.geometry.type===Xe.POINT&&(r=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance)),n.map(i=>{const s=new mn,o={},a=Zn({items:[],loading:s.getPromise(),loaded:!1,errored:!1,uid:i.uid,layerId:i.id,requestTime:Date.now()});return i.geomType!==Xe.POLYGON&&r?o.filterGeometry=r:o.filterGeometry=t.geometry,o.filterSql=i.getCombinedSqlFilter(),o.sourceSR=i.sourceSR,i.queryOIDs(o).then(l=>{l.forEach(c=>{a.items.push(kp.makeOidItem(c,i))}),a.loaded=!0,s.resolveMe()}).catch(()=>{a.errored=!0,s.resolveMe()}),a})}}class b2e extends mA{constructor(t,n,r){if(super(t,n),this.layerType=Oe.SUBLAYER,this.layerFormat=gi.MAPIMAGE,this.isSublayer=!0,this.layerIdx=t.index,this.parentLayer=r,this.isSystem=r.isSystem,this.dataFormat=ar.ESRI_FEATURE,this.supportsFeatures=!0,this.hovertips=!1,this.url=this.parentLayer?.url,this.canReload=!!(this.url||this.origRampConfig.caching),!r.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(r),(t.initialFilteredQuery||t.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(t){if(!t.esriLayer){console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer");return}this.esriSubLayer=ln(t.esriLayer.allSublayers.find(n=>n.id===this.layerIdx))}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=this.config.state.identify!=null?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=Bt.INITIATED;const t=this.labelVizOverride();t!==void 0&&(this.labelVisibility=t)}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.parentLayer?.reload()}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!!(this.parentLayer?.layerExists&&this.esriSubLayer&&this.initiationState===Bt.INITIATED)}get visibility(){return this.layerExists?this.esriSubLayer.visible:!1}set visibility(t){this.layerExists?this.esriSubLayer.visible=t:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(t){if(!this.layerExists){this.noLayerErr();return}this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=t}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(t){this.layerExists?this.parentLayer.mouseTolerance=t:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(t){this.layerExists?this.parentLayer.touchTolerance=t:this.noLayerErr()}applySqlFilter(t=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const n=this.filter.getCombinedSql(t);this.esriSubLayer.definitionExpression=n}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){if(this.parentLayer?.esriLayer){const t=this._parentLayer?.esriLayer?.spatialReference;return t?Ge.fromESRI(t):Ge.latLongSR()}else return this.noLayerErr(),Ge.latLongSR()}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return this.layerExists?this.esriSubLayer.labelsVisible:!1}set labelVisibility(t){this.layerExists?this.esriSubLayer.labelsVisible=t:this.noLayerErr()}labelVizOverride(){let t=this.origRampConfig.labels?.visible;if(t!==void 0||(t=this.$iApi.geo.map.labelsDefault?.visible,t!==void 0))return t}}class _2e extends th{constructor(t,n){super(t,n),this.supportsIdentify=!1,this.layerType=Oe.OSM,this.layerFormat=gi.OSM,this.dataFormat=ar.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=ln(await Et.OpenStreetMapLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const n=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),r={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:n.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(r),t}}class w2e extends th{constructor(t,n){super(t,n),this.supportsIdentify=!1,this.layerType=Oe.IMAGERY,this.layerFormat=gi.IMAGERY,this.dataFormat=ar.ESRI_RASTER}async onInitiate(){this.esriLayer=ln(await Et.ImageryLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const n=Date.now(),r=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(i=>{n>this.lastCancel&&(this.legend=i)});return t.push(r),t}}class Oj extends th{constructor(t,n){super(t,n),this.supportsIdentify=!1,this.layerType=Oe.TILE,this.layerFormat=gi.TILE,this.dataFormat=ar.ESRI_TILE}async onInitiate(){this.esriLayer=ln(await Et.TileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions(),n=Date.now();this.layerTree.name=this.name;const r=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(i=>{n>this.lastCancel&&(this.legend=i)});return t.push(r),t.push(this.checkProj()),t}checkProj(){const t=this.getSR(),n=this.$iApi.geo.map.getSR().isEqual(t);if(this.layerState===sn.LOADED&&!n)this.$iApi.notify.show(pi.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),this.onError();else if(this.layerState===sn.ERROR&&n)this.reload();else if(this.layerState!==sn.ERROR&&!n)return this.$iApi.notify.show(pi.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),Promise.reject();return Promise.resolve()}}class x2e extends th{sublayerNames;mimeType;constructor(t,n){super(t,n),this.supportsIdentify=!0,this.layerType=Oe.WMS,this.layerFormat=gi.WMS,this.mimeType=t.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=ar.OGC_RASTER,this.identifyMode=zn.GEOMETRIC}async onInitiate(){this.esriLayer=ln(await Et.WMSLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const n=super.makeEsriLayerConfig(t),r=t.sublayers;this.sublayerNames=r.map(s=>s.id||"error_no_wms_id");const i=r.map(s=>s.currentStyle).join();return n.customParameters={styles:i},t.url.indexOf("/geomet")!==-1&&(n.customParameters.layers=r[0].id),n}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const n=r=>{let i=!1;return r.forEach(s=>{this.sublayerNames.indexOf(s.name)>-1||s.sublayers&&s.sublayers.length>0&&n(s.sublayers)?i=!0:s.visible=!1}),i};return this.layerExists?n(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),t}canIdentify(){return super.canIdentify()}runIdentify(t){if(t.geometry.type!==Xe.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const n=new mn,r=Zn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,t.geometry,this.mimeType).then(i=>{if(i){let s=!0,o;typeof i!="string"?o=pc.JSON:i.indexOf("Search returned no results")===-1&&i!==""?o=pc.TEXT:(s=!1,o=pc.UNKNOWN),s&&r.items.push(kp.makeRawItem(o,i))}r.loaded=!0,n.resolveMe()}).catch(()=>{r.errored=!0,n.resolveMe()}),[r]}setCustomParameter(t,n,r=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[t]=n,r&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(t,n,r){const i=this.$iApi.geo.map,s=this.esriLayer;if(!i.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!s)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,a;const l=i.getExtent(),c=s.spatialReferences,d=t.join(","),p=i.esriView.toScreen(n.toESRI()),f=Math.floor(p.x),y=Math.floor(p.y),g={"application/json":"json","text/html":"text","text/plain":"text"}[r]||"text",b=i.getSR();b.wkid?o=b.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),c&&c.length>1?c.indexOf(o)===-1&&(b.latestWkid&&c.indexOf(b.latestWkid)>-1?o=b.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),s.version==="1.3"||s.version==="1.3.0"?(a={CRS:"EPSG:"+o,I:f,J:y,STYLES:"",FORMAT:s.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(a.BBOX=`${l.ymin},${l.xmin},${l.ymax},${l.xmax}`)):a={SRS:"EPSG:"+o,X:f,Y:y},Object.prototype.hasOwnProperty.call(a,"BBOX")||(a.BBOX=`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`);const E={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:s.version,WIDTH:i.getPixelWidth(),HEIGHT:i.getPixelHeight(),QUERY_LAYERS:d,LAYERS:d,INFO_FORMAT:r},S=s.customLayerParameters;return S&&Object.keys(S).forEach(I=>{I.toLowerCase()!=="styles"&&(E[I]=S[I])}),Object.keys(E).forEach(I=>a[I]=E[I]),xn(s.url.split("?")[0],{query:a,responseType:g})}getLegendUrls(t){if(!this.layerExists)return this.noLayerErr(),[];const n=new Map;this.esriLayer.allSublayers.forEach(i=>{i.visible&&(i.legendUrl&&this.origRampConfig.sublayers?.forEach(s=>{if(s.id&&s.currentStyle&&s.id===i.name){const o=new km(i.legendUrl);"STYLE"in o.queryMap&&o.queryMap.STYLE!==s.currentStyle&&(i.legendUrl=o.updateQuery({STYLE:s.currentStyle}))}}),n.set(i.name,i.legendUrl))});const r=t.map(i=>i.styleLegends&&i.currentStyle?i.styleLegends.find(s=>s.name===i.currentStyle).url:void 0);return r.forEach((i,s)=>{i||(r[s]=n.get(t[s].id))}),r}getWMSLayerTitle(t){if(!this.esriLayer)return"";let n;return this.esriLayer.allSublayers.some(r=>r.name===t?(n=r.title,!0):!1),n||""}loadSymbology(){const t=Date.now(),n=this.config.sublayers,r=this.getLegendUrls(n.map(i=>({id:i.id,styleLegends:i.styleLegends,currentStyle:i.currentStyle}))).map((i,s)=>{const o=n[s].name||this.getWMSLayerTitle(n[s].id)||n[s].id,a={uid:this.$iApi.geo.shared.generateUUID(),label:o,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(i).then(l=>{t>this.lastCancel&&(a.svgcode=l.svgcode,a.imgHeight=l.imgHeight,a.imgWidth=l.imgWidth)})};return a});this.legend=r}}class E2e extends nh{constructor(t,n){super(t,n),this.layerType=Oe.WFS}async onInitiate(){const t=Date.now(),n=new km(this.config.url),{offset:r,limit:i}=n.queryMap,s=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(r)||0,parseInt(i)||1e3,void 0,this.config.xyInAttribs);t>this.lastCancel&&(this.sourceGeoJson=s,await super.onInitiate())}}class Nj extends Ij{sourceJson;attribs;_visibility;constructor(t,n){super(t,n),this.dataFormat=ar.ESRI_FEATURE,this.layerFormat=gi.NOLAYER,this.drawState=Br.NOT_VISUAL,this.attribs=new kj,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=t.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(this.sourceJson){const t=this.sourceJson;if(t.data.length===0||t.fields.length===0)throw new Error("Data layer with no columns or now rows.");const n=t.fields.slice(),r=t.data[0].slice(),i=/ /gi;this.fields=n.map((l,c)=>{let d="",p=l;l.indexOf(" ")>-1&&(d=l,p=l.trim().replace(i,"-"),t.fields[c]=p);const f=this.$iApi.geo.layer.files.inferType(r[c]);return{name:p,alias:d,type:f,length:f===Js.STRING?256:void 0}}),this.oidField="rampOID",this.fields.push({name:this.oidField,type:Js.OID}),t.fields.push(this.oidField),t.data.forEach((l,c)=>l.push(c+1)),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const s={batchSize:-1,sourceDataJson:t,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new O2e(this.$iApi,s),await this.attribs.attLoader.getAttribs(),this.featureCount=t.data.length;const o=this.origRampConfig.nameField,a={nameField:o?this.$iApi.geo.attributes.fieldValidator(this.fields,o):"",nameArcade:this.origRampConfig.nameArcade};await this.nameInitializer(a,""),this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}else throw new Error("Attempted to initiate file based data layer, sourceJson is missing")}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit(Ae.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==sn.ERROR&&this.onLoad(),setTimeout(()=>{this.$iApi.event.emit(Ae.LAYER_RELOAD_END,this)},300)}onLoadActions(){const t=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then(n=>{this.legend[0].svgcode=n})}],t}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,n){let r={};if(this.attribs.attLoader.isLoaded()){const i=await this.attribs.attLoader.getAttribs();r=i.features[i.oidIndex[t]]}else throw new Error("Non ESRI data layer did not have attributes populated.");return new ki(new Tl,"",r)}async getIcon(t){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(t=[],n=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,this.$iApi.event.emit(Ae.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this}))}}class T2e extends Nj{constructor(t,n){super(t,n),this.layerType=Oe.DATAJSON}async onInitiate(){const t=Date.now();let n;if(this.origRampConfig.rawData)n=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)n=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Json Data layer config contains no raw data or url");t>this.lastCancel&&(this.sourceJson=n,await super.onInitiate())}}class S2e extends Nj{filter;serviceUrl;constructor(t,n){super(t,n),this.layerType=Oe.DATATABLE,this.serviceUrl=t.url,this.filter=new xL(t.permanentFilteredQuery||"",t.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const t=super.onLoadActions(),n=Date.now(),r=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,i=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then(o=>{if(n<this.lastCancel)return;this.name||(this.name=o.name),this.layerTree.name=this.name,this.oidField=o.objectIdField,this.fields=o.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.nameInitializer(this.origRampConfig,o.displayField);const a={supportsLimit:(o.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(gr.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new Rj(this.$iApi,a),this.attribs.quickCache=new Lj(this.geomType)}),s=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(gr.PERMANENT)).then(o=>{n>this.lastCancel&&(this.featureCount=o)});return this.layerTree.layerIdx=r,t.push(i,s),t}async getGraphic(t){let n={};const r=this.attribs.quickCache.getAttribs(t);if(r)n=r;else if(this.attribs.attLoader.isLoaded()){const i=await this.attribs.attLoader.getAttribs();n=i.features[i.oidIndex[t]]}else{const i={oid:t,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},s=await this.$iApi.geo.attributes.loadSingleFeature(i);this.attribs.quickCache.setAttribs(t,s.attributes),n=s.attributes}return new ki(new Tl,"",n)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}setSqlFilter(t,n){const r=this.filter.getSql(t);n!==r&&(this.filter.setSql(t,n),this.$iApi.event.emit(Ae.FILTER_CHANGE,{uid:this.uid,filterKey:t}))}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[]){const n=this.filter.getCombinedSql(t);if(!n)return;const r=this.filter.sqlActiveFilters(t);let i=this.filter.getCache(r,!1);if(!i){const s={filterSql:n,includeGeometry:!1};i=this.queryOIDs(s),this.filter.setCache(i,r,!1)}return i}queryOIDs(t){const n={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(n)}async queryFeaturesDiscrete(t){return(await this.queryOIDs(t)).map(n=>({oid:n,graphic:this.getGraphic(n)}))}async queryFeatures(t){const n=await this.queryFeaturesDiscrete(t);return Promise.all(n.map(r=>r.graphic))}}const I2e=new Map([["integer","number"],["small-integer","number"],["big-integer","number"],["single","number"],["double","number"],["long","number"],["oid","number"],["string","text"],["geometry","geometry"],["date","date"]]);class A2e extends yn{oidIndexer(t,n){t.features.forEach((r,i)=>{t.oidIndex[r[n]]=i})}async arcGisBatchLoad(t,n){if(n.loadAbortFlag)return[];const r=t.permanentFilter?` AND ${t.permanentFilter}`:"",i={query:{where:`${t.oidField}>${t.maxId}${r}`,outFields:t.attribs,orderByFields:t.oidField,returnGeometry:"false",f:"json"}},[s,o]=await us(xn(t.serviceUrl+"/query",i));if(!o)return console.error(`ArcGIS batch load error: ${t.serviceUrl}`,s),Promise.reject(new Error(`ArcGIS batch load error: ${t.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`));let a=o.data.features;const l=a.length;if(l>0){n.loadedCount+=l;let c;if(t.supportsLimit?c=o.data.exceededTransferLimit:(t.batchSize===-1&&(t.batchSize=l),c=l>=t.batchSize),a=this.trimFeatureSetAttributes(a,t.fieldsToTrim??[]),c){t.maxId=a[l-1].attributes[t.oidField];const d=await this.arcGisBatchLoad(t,n);return n.loadAbortFlag?[]:a.concat(d)}else return n.loadAbortFlag?[]:a}else return[]}async loadArcGisServerAttributes(t,n){t.maxId=-1,t.batchSize=-1;const r={features:(await this.arcGisBatchLoad(t,n)).map(i=>i.attributes),oidIndex:{}};return this.oidIndexer(r,t.oidField),n.loadIsDone=!0,r}async loadGraphicsAttributes(t,n){if(!t.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const r={features:t.sourceGraphics.map(i=>Fe(i).attributes).toArray(),oidIndex:{}};return this.oidIndexer(r,t.oidField),n.loadIsDone=!0,n.loadedCount=r.features.length,r}async loadCompactJsonAttributes(t,n){if(!t.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const r=t.sourceDataJson.fields,i=t.fieldsToTrim??[],s={features:t.sourceDataJson.data.map(o=>{const a={};return o.forEach((l,c)=>{a[r[c]]=typeof l=="string"&&i.includes(r[c])?l.trim():l}),a}),oidIndex:{}};return this.oidIndexer(s,t.oidField),n.loadIsDone=!0,n.loadedCount=s.features.length,t.sourceDataJson=void 0,s}async loadSingleFeature(t){const n={query:{f:"json",objectIds:t.oid,returnGeometry:t.includeGeometry,outFields:t.attribs}};typeof t.maxOffset<"u"&&(n.query.maxAllowableOffset=t.maxOffset),typeof t.mapSR<"u"&&(n.query.outSR=t.mapSR),typeof t.geometryPrecision<"u"&&t.geometryPrecision>=0&&(n.query.geometryPrecision=t.geometryPrecision);const[r,i]=await us(xn(t.serviceUrl+"/query",n));if(!i)return console.error(`ArcGIS single feature load error: ${t.serviceUrl}`,r),Promise.reject(new Error(`ArcGIS single feature load error: ${t.serviceUrl}`));if(!i.data||!i.data.features)return console.error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`));const s=i.data.features;if(s.length>0){let o;const a=this.trimFeatureSetAttributes([s[0]],t.fieldsToTrim??[])[0];if(t.includeGeometry){a.geometry.spatialReference=i.data.spatialReference;const l=Dg(a.geometry);o=this.$iApi.geo.geom.geomEsriToRamp(l)}else o=new Tl;return new ki(o,"",a.attributes)}return Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`))}trimFeatureSetAttributes(t,n){return n.forEach(r=>{t.forEach(i=>{typeof i.attributes[r]=="string"&&(i.attributes[r]=i.attributes[r].trim())})}),t}orderFields(t,n){const r=(s,o)=>s.findIndex(a=>a.name===o),i=(s,o)=>{const a=r(n,s.name),l=r(n,o.name);return a===-1&&l===-1?r(t,s.name)-r(t,o.name):a===-1?1:l===-1?-1:a-l};return t.slice().sort(i)}applyFieldMetadata(t,n=void 0){if(!n||!n.fieldInfo){t.fieldList="*";return}const r=n.fieldInfo.filter(i=>i.trim).map(i=>i.name);if(t.fields.forEach(i=>{r.includes(i.name)&&(i.trim=!0)}),n?.enforceOrder&&n?.fieldInfo&&n?.fieldInfo.length>0&&(t.fields=this.orderFields(t.fields,n.fieldInfo),t.fieldList=n.fieldInfo.map(i=>i.name).join(",")),n.exclusiveFields){n.fieldInfo.find(s=>s.name===t.oidField)||n.fieldInfo.push({name:t.oidField}),t.fieldList=n.fieldInfo.map(s=>s.name).join(",");const i=n.fieldInfo;t.fields=t.fields.filter(s=>i.find(o=>o.name===s.name))}else t.fieldList="*";n.fieldInfo.forEach(i=>{if(i.alias){const s=t.fields.find(o=>o.name===i.name);s&&(s.alias=i.alias)}})}fieldValidator(t,n){if(t.findIndex(r=>r.name===n)===-1){const r=t.find(i=>i.alias===n);return r?r.name:(console.warn(`Cannot find name field in layer field list: ${n}`),"")}else return n}async generateTabularAttributes(t,n){return n.attLoader.tabularAttributesCache||(n.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(t,n)),n.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(t,n){if(t.dataFormat===ar.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const r=await n.attLoader.getAttribs();if(!r.features||r.features.length===0)return{columns:[],rows:[],fields:[],oidField:""};const i=t.fields.filter(o=>Object.prototype.hasOwnProperty.call(r.features[0],Fe(o).name)).map(o=>({data:Fe(o).name,title:Fe(o).alias||Fe(o).name})),s=r.features.map(o=>{const a=pT({},o);return a.rvInteractive="",a.rvSymbol=t.getIcon(o[t.oidField]),a.rvUid=t.uid,a});return i.forEach(o=>{if(o.data.slice(-2)==="()"){const a=function(){return this[o.data]},l=o.data.slice(0,-2);s.forEach(c=>{c[l]=a})}}),{columns:i,rows:s,fields:t.fields,oidField:t.oidField}}fieldTypeToArcade(t){return I2e.get(t)}}class kj{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(t){this._attribLoader=t}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(t){this._quickCache=t}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class Cj{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class yA extends yn{aac;loadPromise;details;tabularAttributesCache;constructor(t,n){super(t),this.aac=new Cj,this.details=n}updateFieldList(t){this.details.attribs=t}updateFieldsToTrim(t){this.details.fieldsToTrim=t}getAttribs(){return this.loadPromise||(this.aac=new Cj,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class Rj extends yA{constructor(t,n){super(t,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class M2e extends yA{constructor(t,n){super(t,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class O2e extends yA{constructor(t,n){super(t,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class Lj{attribs;geoms;extents;isPoint;constructor(t){this.attribs={},this.geoms={},this.extents={},this.isPoint=t===Xe.POINT||t===Xe.MULTIPOINT}getScaleStore(t){return this.geoms[t]||(this.geoms[t]={}),this.geoms[t]}getGeomStore(t=void 0){if(this.isPoint)return this.geoms;if(typeof t>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(t)}getAttribs(t){return this.attribs[t]}setAttribs(t,n){this.attribs[t]=n}getGeom(t,n=void 0){return this.getGeomStore(n)[t]}setGeom(t,n,r=void 0){const i=this.getGeomStore(r);i[t]=n}getExtent(t){return this.extents[t]}setExtent(t,n){this.extents[t]=n}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class gA{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(t,n,r=!1){this.innerRenderer=t,this.symbolUnits=[],this.falseRenderer=r,this.type=_y.Unknown}makeSearchParams(t){return t}searchRenderer(t){const n=this.makeSearchParams(t),r=this.symbolUnits.find(s=>s.match(n));if(r)return r;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${n}`);const i=new X_(this);return i.svgCode="",i}getGraphicIcon(t){return this.searchRenderer(t).svgCode}getGraphicSymbol(t){return this.searchRenderer(t).symbol}getFieldDelimiter(t,n){let r="'";if(!n||n.length===0)return r;const i=n.find(s=>s.name===t);return i&&i.type&&i.type!=="string"&&(r=""),r}cleanFieldName(t,n){if(!t)return t;let r=n.find(i=>i.name===t);if(r)return t;{const i=t.toLowerCase();return r=n.find(s=>s.name.toLowerCase()===i),r?r.name:t}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map(t=>t.definitionClause).join(" OR ")}))`}}class X_{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(t){this.parent=t,this.symbol=new ks}match(t){return!!t}}class N2e extends gA{constructor(t,n){super(t,n),this.type=_y.Simple;const r=new X_(this);r.label=t.label||"",r.symbol=t.symbol,r.definitionClause="",this.symbolUnits.push(r)}}class k2e extends gA{delim;keyFields;constructor(t,n,r=!1){super(t,n,r),this.type=_y.Unique,this.delim=t.fieldDelimiter||", ";const i=o=>o.replace(/'/g,"''");this.keyFields=[t.field,t.field2,t.field3].filter(o=>o).map(o=>this.cleanFieldName(o,n));const s=this.keyFields.map(o=>this.getFieldDelimiter(o,n));if(t.uniqueValueInfos.forEach(o=>{const a=new Dj(this,o.value);if(a.label=o.label||"",a.symbol=o.symbol,!this.falseRenderer){const l=a.matchValue.split(this.delim),c=this.keyFields.map((d,p)=>l[p]==="<Null>"?`${d} IS NULL`:`${d} = ${s[p]}${i(l[p])}${s[p]}`).join(" AND ");a.definitionClause=`(${c})`,a.matchValue=a.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(a)}),t.defaultSymbol){const o=new Dj(this,"");o.isDefault=!0,o.label=t.defaultLabel||"",o.symbol=t.defaultSymbol,o.definitionClause=this.makeElseClause(),this.defaultUnit=o}}makeSearchParams(t){return this.keyFields.map(n=>{let r=t[n]===null?"":t[n];return typeof r!="string"&&(r=r.toString()),r}).join(this.delim)}}class Dj extends X_{matchValue;constructor(t,n){super(t),typeof n=="number"?this.matchValue=n.toString():this.matchValue=n}match(t){return this.matchValue===t}}class C2e extends gA{valField;constructor(t,n,r=!1){if(super(t,n,r),this.valField=this.cleanFieldName(t.field,n),t.classBreakInfos.forEach((i,s)=>{const o=s===0,a=new Pj(this,i.minValue,i.maxValue,o);a.label=i.label||"",a.symbol=i.symbol,this.falseRenderer||(a.definitionClause=`(${this.valField} >${o?"=":""}  ${i.minValue} AND ${this.valField} <= ${i.maxValue})`),this.symbolUnits.push(a)}),t.defaultSymbol){const i=new Pj(this,0,0,!1);i.isDefault=!0,i.label=t.defaultLabel||"",i.symbol=t.defaultSymbol,i.definitionClause=this.makeElseClause(),this.defaultUnit=i}}makeSearchParams(t){return parseFloat(t[this.valField])}}class Pj extends X_{minValue;maxValue;firstBreak;constructor(t,n,r,i){super(t),this.minValue=n,this.maxValue=r,this.firstBreak=i}match(t){return this.minValue===this.maxValue?this.maxValue===t:this.firstBreak?this.minValue<=t&&this.maxValue>=t:this.minValue<t&&this.maxValue>=t}}var vA={exports:{}},R2e=vA.exports,Fj;function L2e(){return Fj||(Fj=1,function(e,t){(function(n,r){e.exports=n.document?r(n,n.document):function(i){return r(i,i.document)}})(typeof window<"u"?window:R2e,function(n,r){var i=typeof this<"u"?this:n,s=i.SVG=function(u){if(s.supported)return u=new s.Doc(u),s.parser.draw||s.prepare(),u};if(s.ns="http://www.w3.org/2000/svg",s.xmlns="http://www.w3.org/2000/xmlns/",s.xlink="http://www.w3.org/1999/xlink",s.svgjs="http://svgjs.com/svgjs",s.supported=function(){return!!r.createElementNS&&!!r.createElementNS(s.ns,"svg").createSVGRect}(),!s.supported)return!1;s.did=1e3,s.eid=function(u){return"Svgjs"+E(u)+s.did++},s.create=function(u){var m=r.createElementNS(this.ns,u);return m.setAttribute("id",this.eid(u)),m},s.extend=function(){var u,m,x,N;for(u=[].slice.call(arguments),m=u.pop(),N=u.length-1;N>=0;N--)if(u[N])for(x in m)u[N].prototype[x]=m[x];s.Set&&s.Set.inherit&&s.Set.inherit()},s.invent=function(u){var m=typeof u.create=="function"?u.create:function(){this.constructor.call(this,s.create(u.create))};return u.inherit&&(m.prototype=new u.inherit),u.extend&&s.extend(m,u.extend),u.construct&&s.extend(u.parent||s.Container,u.construct),m},s.adopt=function(u){if(!u)return null;if(u.instance)return u.instance;var m;return u.nodeName=="svg"?m=u.parentNode instanceof n.SVGElement?new s.Nested:new s.Doc:u.nodeName=="linearGradient"?m=new s.Gradient("linear"):u.nodeName=="radialGradient"?m=new s.Gradient("radial"):s[E(u.nodeName)]?m=new s[E(u.nodeName)]:m=new s.Element(u),m.type=u.nodeName,m.node=u,u.instance=m,m instanceof s.Doc&&m.namespace().defs(),m.setData(JSON.parse(u.getAttribute("svgjs:data"))||{}),m},s.prepare=function(){var u=r.getElementsByTagName("body")[0],m=(u?new s.Doc(u):s.adopt(r.documentElement).nested()).size(2,0);s.parser={body:u||r.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:m.polyline().node,path:m.path().node,native:s.create("svg")}},s.parser={native:s.create("svg")},r.addEventListener("DOMContentLoaded",function(){s.parser.draw||s.prepare()},!1),s.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},s.utils={map:function(u,m){var x,N=u.length,V=[];for(x=0;x<N;x++)V.push(m(u[x]));return V},filter:function(u,m){var x,N=u.length,V=[];for(x=0;x<N;x++)m(u[x])&&V.push(u[x]);return V},radians:function(u){return u%360*Math.PI/180},degrees:function(u){return u*180/Math.PI%360},filterSVGElements:function(u){return this.filter(u,function(m){return m instanceof n.SVGElement})}},s.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},s.Color=function(u){var m;this.r=0,this.g=0,this.b=0,u&&(typeof u=="string"?s.regex.isRgb.test(u)?(m=s.regex.rgb.exec(u.replace(s.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):s.regex.isHex.test(u)&&(m=s.regex.hex.exec(S(u)),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):typeof u=="object"&&(this.r=u.r,this.g=u.g,this.b=u.b))},s.extend(s.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+I(this.r)+I(this.g)+I(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(u){return this.destination=new s.Color(u),this},at:function(u){return this.destination?(u=u<0?0:u>1?1:u,new s.Color({r:~~(this.r+(this.destination.r-this.r)*u),g:~~(this.g+(this.destination.g-this.g)*u),b:~~(this.b+(this.destination.b-this.b)*u)})):this}}),s.Color.test=function(u){return u+="",s.regex.isHex.test(u)||s.regex.isRgb.test(u)},s.Color.isRgb=function(u){return u&&typeof u.r=="number"&&typeof u.g=="number"&&typeof u.b=="number"},s.Color.isColor=function(u){return s.Color.isRgb(u)||s.Color.test(u)},s.Array=function(u,m){u=(u||[]).valueOf(),u.length==0&&m&&(u=m.valueOf()),this.value=this.parse(u)},s.extend(s.Array,{morph:function(u){if(this.destination=this.parse(u),this.value.length!=this.destination.length){for(var m=this.value[this.value.length-1],x=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(x);for(;this.value.length<this.destination.length;)this.value.push(m)}return this},settle:function(){for(var u=0,m=this.value.length,x=[];u<m;u++)x.indexOf(this.value[u])==-1&&x.push(this.value[u]);return this.value=x},at:function(u){if(!this.destination)return this;for(var m=0,x=this.value.length,N=[];m<x;m++)N.push(this.value[m]+(this.destination[m]-this.value[m])*u);return new s.Array(N)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(u){return u=u.valueOf(),Array.isArray(u)?u:this.split(u)},split:function(u){return u.trim().split(s.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var u=new this.constructor;return u.value=f(this.value),u}}),s.PointArray=function(u,m){s.Array.call(this,u,m||[[0,0]])},s.PointArray.prototype=new s.Array,s.PointArray.prototype.constructor=s.PointArray,s.extend(s.PointArray,{toString:function(){for(var u=0,m=this.value.length,x=[];u<m;u++)x.push(this.value[u].join(","));return x.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(u){if(!this.destination)return this;for(var m=0,x=this.value.length,N=[];m<x;m++)N.push([this.value[m][0]+(this.destination[m][0]-this.value[m][0])*u,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*u]);return new s.PointArray(N)},parse:function(u){var m=[];if(u=u.valueOf(),Array.isArray(u)){if(Array.isArray(u[0]))return u.map(function(V){return V.slice()});if(u[0].x!=null)return u.map(function(V){return[V.x,V.y]})}else u=u.trim().split(s.regex.delimiter).map(parseFloat);u.length%2!==0&&u.pop();for(var x=0,N=u.length;x<N;x=x+2)m.push([u[x],u[x+1]]);return m},move:function(u,m){var x=this.bbox();if(u-=x.x,m-=x.y,!isNaN(u)&&!isNaN(m))for(var N=this.value.length-1;N>=0;N--)this.value[N]=[this.value[N][0]+u,this.value[N][1]+m];return this},size:function(u,m){var x,N=this.bbox();for(x=this.value.length-1;x>=0;x--)N.width&&(this.value[x][0]=(this.value[x][0]-N.x)*u/N.width+N.x),N.height&&(this.value[x][1]=(this.value[x][1]-N.y)*m/N.height+N.y);return this},bbox:function(){return s.parser.poly.setAttribute("points",this.toString()),s.parser.poly.getBBox()}});for(var o={M:function(u,m,x){return m.x=x.x=u[0],m.y=x.y=u[1],["M",m.x,m.y]},L:function(u,m){return m.x=u[0],m.y=u[1],["L",u[0],u[1]]},H:function(u,m){return m.x=u[0],["H",u[0]]},V:function(u,m){return m.y=u[0],["V",u[0]]},C:function(u,m){return m.x=u[4],m.y=u[5],["C",u[0],u[1],u[2],u[3],u[4],u[5]]},S:function(u,m){return m.x=u[2],m.y=u[3],["S",u[0],u[1],u[2],u[3]]},Q:function(u,m){return m.x=u[2],m.y=u[3],["Q",u[0],u[1],u[2],u[3]]},T:function(u,m){return m.x=u[0],m.y=u[1],["T",u[0],u[1]]},Z:function(u,m,x){return m.x=x.x,m.y=x.y,["Z"]},A:function(u,m){return m.x=u[5],m.y=u[6],["A",u[0],u[1],u[2],u[3],u[4],u[5],u[6]]}},a="mlhvqtcsaz".split(""),l=0,c=a.length;l<c;++l)o[a[l]]=function(u){return function(m,x,N){if(u=="H")m[0]=m[0]+x.x;else if(u=="V")m[0]=m[0]+x.y;else if(u=="A")m[5]=m[5]+x.x,m[6]=m[6]+x.y;else for(var V=0,H=m.length;V<H;++V)m[V]=m[V]+(V%2?x.y:x.x);return o[u](m,x,N)}}(a[l].toUpperCase());s.PathArray=function(u,m){s.Array.call(this,u,m||[["M",0,0]])},s.PathArray.prototype=new s.Array,s.PathArray.prototype.constructor=s.PathArray,s.extend(s.PathArray,{toString:function(){return C(this.value)},move:function(u,m){var x=this.bbox();if(u-=x.x,m-=x.y,!isNaN(u)&&!isNaN(m))for(var N,V=this.value.length-1;V>=0;V--)N=this.value[V][0],N=="M"||N=="L"||N=="T"?(this.value[V][1]+=u,this.value[V][2]+=m):N=="H"?this.value[V][1]+=u:N=="V"?this.value[V][1]+=m:N=="C"||N=="S"||N=="Q"?(this.value[V][1]+=u,this.value[V][2]+=m,this.value[V][3]+=u,this.value[V][4]+=m,N=="C"&&(this.value[V][5]+=u,this.value[V][6]+=m)):N=="A"&&(this.value[V][6]+=u,this.value[V][7]+=m);return this},size:function(u,m){var x,N,V=this.bbox();for(x=this.value.length-1;x>=0;x--)N=this.value[x][0],N=="M"||N=="L"||N=="T"?(this.value[x][1]=(this.value[x][1]-V.x)*u/V.width+V.x,this.value[x][2]=(this.value[x][2]-V.y)*m/V.height+V.y):N=="H"?this.value[x][1]=(this.value[x][1]-V.x)*u/V.width+V.x:N=="V"?this.value[x][1]=(this.value[x][1]-V.y)*m/V.height+V.y:N=="C"||N=="S"||N=="Q"?(this.value[x][1]=(this.value[x][1]-V.x)*u/V.width+V.x,this.value[x][2]=(this.value[x][2]-V.y)*m/V.height+V.y,this.value[x][3]=(this.value[x][3]-V.x)*u/V.width+V.x,this.value[x][4]=(this.value[x][4]-V.y)*m/V.height+V.y,N=="C"&&(this.value[x][5]=(this.value[x][5]-V.x)*u/V.width+V.x,this.value[x][6]=(this.value[x][6]-V.y)*m/V.height+V.y)):N=="A"&&(this.value[x][1]=this.value[x][1]*u/V.width,this.value[x][2]=this.value[x][2]*m/V.height,this.value[x][6]=(this.value[x][6]-V.x)*u/V.width+V.x,this.value[x][7]=(this.value[x][7]-V.y)*m/V.height+V.y);return this},equalCommands:function(u){var m,x,N;for(u=new s.PathArray(u),N=this.value.length===u.value.length,m=0,x=this.value.length;N&&m<x;m++)N=this.value[m][0]===u.value[m][0];return N},morph:function(u){return u=new s.PathArray(u),this.equalCommands(u)?this.destination=u:this.destination=null,this},at:function(u){if(!this.destination)return this;var m=this.value,x=this.destination.value,N=[],V=new s.PathArray,H,de,oe,Te;for(H=0,de=m.length;H<de;H++){for(N[H]=[m[H][0]],oe=1,Te=m[H].length;oe<Te;oe++)N[H][oe]=m[H][oe]+(x[H][oe]-m[H][oe])*u;N[H][0]==="A"&&(N[H][4]=+(N[H][4]!=0),N[H][5]=+(N[H][5]!=0))}return V.value=N,V},parse:function(u){if(u instanceof s.PathArray)return u.valueOf();var m,N,x={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof u=="string"?u=u.replace(s.regex.numbersWithDots,p).replace(s.regex.pathLetters," $& ").replace(s.regex.hyphen,"$1 -").trim().split(s.regex.delimiter):u=u.reduce(function(Te,Pe){return[].concat.call(Te,Pe)},[]);var N=[],V=new s.Point,H=new s.Point,de=0,oe=u.length;do s.regex.isPathLetter.test(u[de])?(m=u[de],++de):m=="M"?m="L":m=="m"&&(m="l"),N.push(o[m].call(null,u.slice(de,de=de+x[m.toUpperCase()]).map(parseFloat),V,H));while(oe>de);return N},bbox:function(){return s.parser.path.setAttribute("d",this.toString()),s.parser.path.getBBox()}}),s.Number=s.invent({create:function(u,m){this.value=0,this.unit=m||"",typeof u=="number"?this.value=isNaN(u)?0:isFinite(u)?u:u<0?-34e37:34e37:typeof u=="string"?(m=u.match(s.regex.numberAndUnit),m&&(this.value=parseFloat(m[1]),m[5]=="%"?this.value/=100:m[5]=="s"&&(this.value*=1e3),this.unit=m[5])):u instanceof s.Number&&(this.value=u.valueOf(),this.unit=u.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(u){return u=new s.Number(u),new s.Number(this+u,this.unit||u.unit)},minus:function(u){return u=new s.Number(u),new s.Number(this-u,this.unit||u.unit)},times:function(u){return u=new s.Number(u),new s.Number(this*u,this.unit||u.unit)},divide:function(u){return u=new s.Number(u),new s.Number(this/u,this.unit||u.unit)},to:function(u){var m=new s.Number(this);return typeof u=="string"&&(m.unit=u),m},morph:function(u){return this.destination=new s.Number(u),u.relative&&(this.destination.value+=this.value),this},at:function(u){return this.destination?new s.Number(this.destination).minus(this).times(u).plus(this):this}}}),s.Element=s.invent({create:function(u){this._stroke=s.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=u)&&(this.type=u.nodeName,this.node.instance=this,this._events=u._events||{},this._stroke=u.getAttribute("stroke")||this._stroke)},extend:{x:function(u){return this.attr("x",u)},y:function(u){return this.attr("y",u)},cx:function(u){return u==null?this.x()+this.width()/2:this.x(u-this.width()/2)},cy:function(u){return u==null?this.y()+this.height()/2:this.y(u-this.height()/2)},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},width:function(u){return this.attr("width",u)},height:function(u){return this.attr("height",u)},size:function(u,m){var x=w(this,u,m);return this.width(new s.Number(x.width)).height(new s.Number(x.height))},clone:function(u){this.writeDataToDom();var m=R(this.node.cloneNode(!0));return u?u.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(u){return this.after(u).remove(),u},addTo:function(u){return u.put(this)},putIn:function(u){return u.add(this)},id:function(u){return this.attr("id",u)},inside:function(u,m){var x=this.bbox();return u>x.x&&m>x.y&&u<x.x+x.width&&m<x.y+x.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var u=this.attr("class");return u==null?[]:u.trim().split(s.regex.delimiter)},hasClass:function(u){return this.classes().indexOf(u)!=-1},addClass:function(u){if(!this.hasClass(u)){var m=this.classes();m.push(u),this.attr("class",m.join(" "))}return this},removeClass:function(u){return this.hasClass(u)&&this.attr("class",this.classes().filter(function(m){return m!=u}).join(" ")),this},toggleClass:function(u){return this.hasClass(u)?this.removeClass(u):this.addClass(u)},reference:function(u){return s.get(this.attr(u))},parent:function(u){var m=this;if(!m.node.parentNode)return null;if(m=s.adopt(m.node.parentNode),!u)return m;for(;m&&m.node instanceof n.SVGElement;){if(typeof u=="string"?m.matches(u):m instanceof u)return m;if(!m.node.parentNode||m.node.parentNode.nodeName=="#document"||m.node.parentNode.nodeName=="#document-fragment")return null;m=s.adopt(m.node.parentNode)}},doc:function(){return this instanceof s.Doc?this:this.parent(s.Doc)},parents:function(u){var m=[],x=this;do{if(x=x.parent(u),!x||!x.node)break;m.push(x)}while(x.parent);return m},matches:function(u){return g(this.node,u)},native:function(){return this.node},svg:function(u){var m=r.createElement("svg");if(u&&this instanceof s.Parent){m.innerHTML="<svg>"+u.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var x=0,N=m.firstChild.childNodes.length;x<N;x++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(u=r.createElement("svg")),this.writeDataToDom(),u.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var u=this.each?this:this.lines();u.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(u){return this.dom=u,this},is:function(u){return y(this,u)}}}),s.easing={"-":function(u){return u},"<>":function(u){return-Math.cos(u*Math.PI)/2+.5},">":function(u){return Math.sin(u*Math.PI/2)},"<":function(u){return-Math.cos(u*Math.PI/2)+1}},s.morph=function(u){return function(m,x){return new s.MorphObj(m,x).at(u)}},s.Situation=s.invent({create:function(u){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new s.Number(u.duration).valueOf(),this.delay=new s.Number(u.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=u.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),s.FX=s.invent({create:function(u){this._target=u,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(u,m,x){typeof u=="object"&&(m=u.ease,x=u.delay,u=u.duration);var N=new s.Situation({duration:u||1e3,delay:x||0,ease:s.easing[m||"-"]||m});return this.queue(N),this},delay:function(u){var m=new s.Situation({duration:u,delay:0,ease:s.easing["-"]});return this.queue(m)},target:function(u){return u&&u instanceof s.Element?(this._target=u,this):this._target},timeToAbsPos:function(u){return(u-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(u){return this.situation.duration/this._speed*u+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=n.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){n.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(u){return(typeof u=="function"||u instanceof s.Situation)&&this.situations.push(u),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof s.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var u,m,x,N=this.situation;if(N.init)return this;for(u in N.animations)for(x=this.target()[u](),Array.isArray(x)||(x=[x]),Array.isArray(N.animations[u])||(N.animations[u]=[N.animations[u]]),m=x.length;m--;)N.animations[u][m]instanceof s.Number&&(x[m]=new s.Number(x[m])),N.animations[u][m]=x[m].morph(N.animations[u][m]);for(u in N.attrs)N.attrs[u]=new s.MorphObj(this.target().attr(u),N.attrs[u]);for(u in N.styles)N.styles[u]=new s.MorphObj(this.target().style(u),N.styles[u]);return N.initialTransformation=this.target().matrixify(),N.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(u,m){var x=this.active;return this.active=!1,m&&this.clearQueue(),u&&this.situation&&(!x&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var u=this.situation;this.stop(),this.situation=u,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(u,m){var x=this.situation.duration/this._speed;return this.absPos=u,m||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*x,this.situation.finish=this.situation.start+x,this.step(!0)},speed:function(u){return u===0?this.pause():u?(this._speed=u,this.at(this.absPos,!0)):this._speed},loop:function(u,m){var x=this.last();return x.loops=u??!0,x.loop=0,m&&(x.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(u){var m=this.last();return typeof u>"u"?m.reversed=!m.reversed:m.reversed=u,this},progress:function(u){return u?this.situation.ease(this.pos):this.pos},after:function(u){var m=this.last(),x=function N(V){V.detail.situation==m&&(u.call(this,m),this.off("finished.fx",N))};return this.target().on("finished.fx",x),this._callStart()},during:function(u){var m=this.last(),x=function(N){N.detail.situation==m&&u.call(this,N.detail.pos,s.morph(N.detail.pos),N.detail.eased,m)};return this.target().off("during.fx",x).on("during.fx",x),this.after(function(){this.off("during.fx",x)}),this._callStart()},afterAll:function(u){var m=function x(N){u.call(this),this.off("allfinished.fx",x)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},duringAll:function(u){var m=function(x){u.call(this,x.detail.pos,s.morph(x.detail.pos),x.detail.eased,x.detail.situation)};return this.target().off("during.fx",m).on("during.fx",m),this.afterAll(function(){this.off("during.fx",m)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(u,m,x){return this.last()[x||"animations"][u]=m,this._callStart()},step:function(u){if(u||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var m,x,N;m=Math.max(this.absPos,0),x=Math.floor(m),this.situation.loops===!0||x<this.situation.loops?(this.pos=m-x,N=this.situation.loop,this.situation.loop=x):(this.absPos=this.situation.loops,this.pos=1,N=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-N)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var V=this.situation.ease(this.pos);for(var H in this.situation.once)H>this.lastPos&&H<=V&&(this.situation.once[H].call(this.target(),this.pos,V),delete this.situation.once[H]);return this.active&&this.target().fire("during",{pos:this.pos,eased:V,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=V,this):this},eachAt:function(){var u,m,x,N=this,V=this.target(),H=this.situation;for(u in H.animations)x=[].concat(H.animations[u]).map(function(oe){return typeof oe!="string"&&oe.at?oe.at(H.ease(N.pos),N.pos):oe}),V[u].apply(V,x);for(u in H.attrs)x=[u].concat(H.attrs[u]).map(function(oe){return typeof oe!="string"&&oe.at?oe.at(H.ease(N.pos),N.pos):oe}),V.attr.apply(V,x);for(u in H.styles)x=[u].concat(H.styles[u]).map(function(oe){return typeof oe!="string"&&oe.at?oe.at(H.ease(N.pos),N.pos):oe}),V.style.apply(V,x);if(H.transforms.length){for(x=H.initialTransformation,u=0,m=H.transforms.length;u<m;u++){var de=H.transforms[u];if(de instanceof s.Matrix){de.relative?x=x.multiply(new s.Matrix().morph(de).at(H.ease(this.pos))):x=x.morph(de).at(H.ease(this.pos));continue}de.relative||de.undo(x.extract()),x=x.multiply(de.at(H.ease(this.pos)))}V.matrix(x)}return this},once:function(u,m,x){var N=this.last();return x||(u=N.ease(u)),N.once[u]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:s.Element,construct:{animate:function(u,m,x){return(this.fx||(this.fx=new s.FX(this))).animate(u,m,x)},delay:function(u){return(this.fx||(this.fx=new s.FX(this))).delay(u)},stop:function(u,m){return this.fx&&this.fx.stop(u,m),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(u){if(this.fx){if(u==null)return this.fx.speed();this.fx.speed(u)}return this}}}),s.MorphObj=s.invent({create:function(u,m){if(s.Color.isColor(m))return new s.Color(u).morph(m);if(s.regex.delimiter.test(u))return s.regex.pathLetters.test(u)?new s.PathArray(u).morph(m):new s.Array(u).morph(m);if(s.regex.numberAndUnit.test(m))return new s.Number(u).morph(m);this.value=u,this.destination=m},extend:{at:function(u,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),s.extend(s.FX,{attr:function(u,m,x){if(typeof u=="object")for(var N in u)this.attr(N,u[N]);else this.add(u,m,"attrs");return this},style:function(u,m){if(typeof u=="object")for(var x in u)this.style(x,u[x]);else this.add(u,m,"styles");return this},x:function(u,m){if(this.target()instanceof s.G)return this.transform({x:u},m),this;var x=new s.Number(u);return x.relative=m,this.add("x",x)},y:function(u,m){if(this.target()instanceof s.G)return this.transform({y:u},m),this;var x=new s.Number(u);return x.relative=m,this.add("y",x)},cx:function(u){return this.add("cx",new s.Number(u))},cy:function(u){return this.add("cy",new s.Number(u))},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},size:function(u,m){if(this.target()instanceof s.Text)this.attr("font-size",u);else{var x;(!u||!m)&&(x=this.target().bbox()),u||(u=x.width/x.height*m),m||(m=x.height/x.width*u),this.add("width",new s.Number(u)).add("height",new s.Number(m))}return this},width:function(u){return this.add("width",new s.Number(u))},height:function(u){return this.add("height",new s.Number(u))},plot:function(u,m,x,N){return arguments.length==4?this.plot([u,m,x,N]):this.add("plot",new(this.target()).morphArray(u))},leading:function(u){return this.target().leading?this.add("leading",new s.Number(u)):this},viewbox:function(u,m,x,N){return this.target()instanceof s.Container&&this.add("viewbox",new s.ViewBox(u,m,x,N)),this},update:function(u){if(this.target()instanceof s.Stop){if(typeof u=="number"||u instanceof s.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",u.offset)}return this}}),s.Box=s.invent({create:function(u,m,x,N){if(typeof u=="object"&&!(u instanceof s.Element))return s.Box.call(this,u.left!=null?u.left:u.x,u.top!=null?u.top:u.y,u.width,u.height);arguments.length==4&&(this.x=u,this.y=m,this.width=x,this.height=N),U(this)},extend:{merge:function(u){var m=new this.constructor;return m.x=Math.min(this.x,u.x),m.y=Math.min(this.y,u.y),m.width=Math.max(this.x+this.width,u.x+u.width)-m.x,m.height=Math.max(this.y+this.height,u.y+u.height)-m.y,U(m)},transform:function(u){var m=1/0,x=-1/0,N=1/0,V=-1/0,H,de=[new s.Point(this.x,this.y),new s.Point(this.x2,this.y),new s.Point(this.x,this.y2),new s.Point(this.x2,this.y2)];return de.forEach(function(oe){oe=oe.transform(u),m=Math.min(m,oe.x),x=Math.max(x,oe.x),N=Math.min(N,oe.y),V=Math.max(V,oe.y)}),H=new this.constructor,H.x=m,H.width=x-m,H.y=N,H.height=V-N,U(H),H}}}),s.BBox=s.invent({create:function(u){if(s.Box.apply(this,[].slice.call(arguments)),u instanceof s.Element){var m;try{if(r.documentElement.contains){if(!r.documentElement.contains(u.node))throw new Exception("Element not in the dom")}else{for(var x=u.node;x.parentNode;)x=x.parentNode;if(x!=r)throw new Exception("Element not in the dom")}m=u.node.getBBox()}catch{if(u instanceof s.Shape){var N=u.clone(s.parser.draw.instance).show();m=N.node.getBBox(),N.remove()}else m={x:u.node.clientLeft,y:u.node.clientTop,width:u.node.clientWidth,height:u.node.clientHeight}}s.Box.call(this,m)}},inherit:s.Box,parent:s.Element,construct:{bbox:function(){return new s.BBox(this)}}}),s.BBox.prototype.constructor=s.BBox,s.extend(s.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),s.RBox=s.invent({create:function(u){s.Box.apply(this,[].slice.call(arguments)),u instanceof s.Element&&s.Box.call(this,u.node.getBoundingClientRect())},inherit:s.Box,parent:s.Element,extend:{addOffset:function(){return this.x+=n.pageXOffset,this.y+=n.pageYOffset,this}},construct:{rbox:function(u){return u?new s.RBox(this).transform(u.screenCTM().inverse()):new s.RBox(this).addOffset()}}}),s.RBox.prototype.constructor=s.RBox,s.Matrix=s.invent({create:function(u){var m,x=A([1,0,0,1,0,0]);for(u=u instanceof s.Element?u.matrixify():typeof u=="string"?A(u.split(s.regex.delimiter).map(parseFloat)):arguments.length==6?A([].slice.call(arguments)):Array.isArray(u)?A(u):typeof u=="object"?u:x,m=z.length-1;m>=0;--m)this[z[m]]=u[z[m]]!=null?u[z[m]]:x[z[m]]},extend:{extract:function(){var u=_(this,0,1),m=_(this,1,0),x=180/Math.PI*Math.atan2(u.y,u.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(x*Math.PI/180)+this.f*Math.sin(x*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(x*Math.PI/180)+this.e*Math.sin(-x*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-x,skewY:180/Math.PI*Math.atan2(m.y,m.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:x,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new s.Matrix(this)}},clone:function(){return new s.Matrix(this)},morph:function(u){return this.destination=new s.Matrix(u),this},at:function(u){if(!this.destination)return this;var m=new s.Matrix({a:this.a+(this.destination.a-this.a)*u,b:this.b+(this.destination.b-this.b)*u,c:this.c+(this.destination.c-this.c)*u,d:this.d+(this.destination.d-this.d)*u,e:this.e+(this.destination.e-this.e)*u,f:this.f+(this.destination.f-this.f)*u});return m},multiply:function(u){return new s.Matrix(this.native().multiply(M(u).native()))},inverse:function(){return new s.Matrix(this.native().inverse())},translate:function(u,m){return new s.Matrix(this.native().translate(u||0,m||0))},scale:function(u,m,x,N){return arguments.length==1?m=u:arguments.length==3&&(N=x,x=m,m=u),this.around(x,N,new s.Matrix(u,0,0,m,0,0))},rotate:function(u,m,x){return u=s.utils.radians(u),this.around(m,x,new s.Matrix(Math.cos(u),Math.sin(u),-Math.sin(u),Math.cos(u),0,0))},flip:function(u,m){return u=="x"?this.scale(-1,1,m,0):u=="y"?this.scale(1,-1,0,m):this.scale(-1,-1,u,m??u)},skew:function(u,m,x,N){return arguments.length==1?m=u:arguments.length==3&&(N=x,x=m,m=u),u=s.utils.radians(u),m=s.utils.radians(m),this.around(x,N,new s.Matrix(1,Math.tan(m),Math.tan(u),1,0,0))},skewX:function(u,m,x){return this.skew(u,0,m,x)},skewY:function(u,m,x){return this.skew(0,u,m,x)},around:function(u,m,x){return this.multiply(new s.Matrix(1,0,0,1,u||0,m||0)).multiply(x).multiply(new s.Matrix(1,0,0,1,-u||0,-m||0))},native:function(){for(var u=s.parser.native.createSVGMatrix(),m=z.length-1;m>=0;m--)u[z[m]]=this[z[m]];return u},toString:function(){return"matrix("+G(this.a)+","+G(this.b)+","+G(this.c)+","+G(this.d)+","+G(this.e)+","+G(this.f)+")"}},parent:s.Element,construct:{ctm:function(){return new s.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof s.Nested){var u=this.rect(1,1),m=u.node.getScreenCTM();return u.remove(),new s.Matrix(m)}return new s.Matrix(this.node.getScreenCTM())}}}),s.Point=s.invent({create:function(u,m){var x,N={x:0,y:0};x=Array.isArray(u)?{x:u[0],y:u[1]}:typeof u=="object"?{x:u.x,y:u.y}:u!=null?{x:u,y:m??u}:N,this.x=x.x,this.y=x.y},extend:{clone:function(){return new s.Point(this)},morph:function(u,m){return this.destination=new s.Point(u,m),this},at:function(u){if(!this.destination)return this;var m=new s.Point({x:this.x+(this.destination.x-this.x)*u,y:this.y+(this.destination.y-this.y)*u});return m},native:function(){var u=s.parser.native.createSVGPoint();return u.x=this.x,u.y=this.y,u},transform:function(u){return new s.Point(this.native().matrixTransform(u.native()))}}}),s.extend(s.Element,{point:function(u,m){return new s.Point(u,m).transform(this.screenCTM().inverse())}}),s.extend(s.Element,{attr:function(u,m,x){if(u==null){for(u={},m=this.node.attributes,x=m.length-1;x>=0;x--)u[m[x].nodeName]=s.regex.isNumber.test(m[x].nodeValue)?parseFloat(m[x].nodeValue):m[x].nodeValue;return u}else if(typeof u=="object")for(m in u)this.attr(m,u[m]);else if(m===null)this.node.removeAttribute(u);else{if(m==null)return m=this.node.getAttribute(u),m==null?s.defaults.attrs[u]:s.regex.isNumber.test(m)?parseFloat(m):m;u=="stroke-width"?this.attr("stroke",parseFloat(m)>0?this._stroke:null):u=="stroke"&&(this._stroke=m),(u=="fill"||u=="stroke")&&(s.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof s.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),typeof m=="number"?m=new s.Number(m):s.Color.isColor(m)?m=new s.Color(m):Array.isArray(m)&&(m=new s.Array(m)),u=="leading"?this.leading&&this.leading(m):typeof x=="string"?this.node.setAttributeNS(x,u,m.toString()):this.node.setAttribute(u,m.toString()),this.rebuild&&(u=="font-size"||u=="x")&&this.rebuild(u,m)}return this}}),s.extend(s.Element,{transform:function(u,m){var x=this,N,V;if(typeof u!="object")return N=new s.Matrix(x).extract(),typeof u=="string"?N[u]:N;if(N=new s.Matrix(x),m=!!m||!!u.relative,u.a!=null)N=m?N.multiply(new s.Matrix(u)):new s.Matrix(u);else if(u.rotation!=null)k(u,x),N=m?N.rotate(u.rotation,u.cx,u.cy):N.rotate(u.rotation-N.extract().rotation,u.cx,u.cy);else if(u.scale!=null||u.scaleX!=null||u.scaleY!=null){if(k(u,x),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,!m){var H=N.extract();u.scaleX=u.scaleX*1/H.scaleX,u.scaleY=u.scaleY*1/H.scaleY}N=N.scale(u.scaleX,u.scaleY,u.cx,u.cy)}else if(u.skew!=null||u.skewX!=null||u.skewY!=null){if(k(u,x),u.skewX=u.skew!=null?u.skew:u.skewX!=null?u.skewX:0,u.skewY=u.skew!=null?u.skew:u.skewY!=null?u.skewY:0,!m){var H=N.extract();N=N.multiply(new s.Matrix().skew(H.skewX,H.skewY,u.cx,u.cy).inverse())}N=N.skew(u.skewX,u.skewY,u.cx,u.cy)}else u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?x.bbox()["c"+u.flip]:u.offset:u.offset==null?(V=x.bbox(),u.flip=V.cx,u.offset=V.cy):u.flip=u.offset,N=new s.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(m?N=N.translate(u.x,u.y):(u.x!=null&&(N.e=u.x),u.y!=null&&(N.f=u.y)));return this.attr("transform",N)}}),s.extend(s.FX,{transform:function(u,m){var x=this.target(),N,V;return typeof u!="object"?(N=new s.Matrix(x).extract(),typeof u=="string"?N[u]:N):(m=!!m||!!u.relative,u.a!=null?N=new s.Matrix(u):u.rotation!=null?(k(u,x),N=new s.Rotate(u.rotation,u.cx,u.cy)):u.scale!=null||u.scaleX!=null||u.scaleY!=null?(k(u,x),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,N=new s.Scale(u.scaleX,u.scaleY,u.cx,u.cy)):u.skewX!=null||u.skewY!=null?(k(u,x),u.skewX=u.skewX!=null?u.skewX:0,u.skewY=u.skewY!=null?u.skewY:0,N=new s.Skew(u.skewX,u.skewY,u.cx,u.cy)):u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?x.bbox()["c"+u.flip]:u.offset:u.offset==null?(V=x.bbox(),u.flip=V.cx,u.offset=V.cy):u.flip=u.offset,N=new s.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(N=new s.Translate(u.x,u.y)),N?(N.relative=m,this.last().transforms.push(N),this._callStart()):this)}}),s.extend(s.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var u=(this.attr("transform")||"").split(s.regex.transforms).slice(0,-1).map(function(m){var x=m.trim().split("(");return[x[0],x[1].split(s.regex.delimiter).map(function(N){return parseFloat(N)})]}).reduce(function(m,x){return x[0]=="matrix"?m.multiply(A(x[1])):m[x[0]].apply(m,x[1])},new s.Matrix);return u},toParent:function(u){if(this==u)return this;var m=this.screenCTM(),x=u.screenCTM().inverse();return this.addTo(u).untransform().transform(x.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),s.Transformation=s.invent({create:function(u,m){if(arguments.length>1&&typeof m!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(u))for(var x=0,N=this.arguments.length;x<N;++x)this[this.arguments[x]]=u[x];else if(typeof u=="object")for(var x=0,N=this.arguments.length;x<N;++x)this[this.arguments[x]]=u[this.arguments[x]];this.inversed=!1,m===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(u){for(var m=[],x=0,N=this.arguments.length;x<N;++x)m.push(this[this.arguments[x]]);var V=this._undo||new s.Matrix;return V=new s.Matrix().morph(s.Matrix.prototype[this.method].apply(V,m)).at(u),this.inversed?V.inverse():V},undo:function(u){for(var m=0,x=this.arguments.length;m<x;++m)u[this.arguments[m]]=typeof this[this.arguments[m]]>"u"?0:u[this.arguments[m]];return u.cx=this.cx,u.cy=this.cy,this._undo=new s[E(this.method)](u,!0).at(1),this}}}),s.Translate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),s.Rotate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(u){var m=new s.Matrix().rotate(new s.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(u),this.cx,this.cy);return this.inversed?m.inverse():m},undo:function(u){return this._undo=u,this}}}),s.Scale=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),s.Skew=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),s.extend(s.Element,{style:function(u,m){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof u=="object")for(m in u)this.style(m,u[m]);else if(s.regex.isCss.test(u))for(u=u.split(/\s*;\s*/).filter(function(x){return!!x}).map(function(x){return x.split(/\s*:\s*/)});m=u.pop();)this.style(m[0],m[1]);else return this.node.style[b(u)];else this.node.style[b(u)]=m===null||s.regex.isBlank.test(m)?"":m;return this}}),s.Parent=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Element,extend:{children:function(){return s.utils.map(s.utils.filterSVGElements(this.node.childNodes),function(u){return s.adopt(u)})},add:function(u,m){return m==null?this.node.appendChild(u.node):u.node!=this.node.childNodes[m]&&this.node.insertBefore(u.node,this.node.childNodes[m]),this},put:function(u,m){return this.add(u,m),u},has:function(u){return this.index(u)>=0},index:function(u){return[].slice.call(this.node.childNodes).indexOf(u.node)},get:function(u){return s.adopt(this.node.childNodes[u])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(u,m){var x,N,V=this.children();for(x=0,N=V.length;x<N;x++)V[x]instanceof s.Element&&u.apply(V[x],[x,V]),m&&V[x]instanceof s.Container&&V[x].each(u,m);return this},removeElement:function(u){return this.node.removeChild(u.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),s.extend(s.Parent,{ungroup:function(u,m){return m===0||this instanceof s.Defs||this.node==s.parser.draw?this:(u=u||(this instanceof s.Doc?this:this.parent(s.Parent)),m=m||1/0,this.each(function(){return this instanceof s.Defs?this:this instanceof s.Parent?this.ungroup(u,m-1):this.toParent(u)}),this.node.firstChild||this.remove(),this)},flatten:function(u,m){return this.ungroup(u,m)}}),s.Container=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Parent}),s.ViewBox=s.invent({create:function(u){var m=[0,0,0,0],x,N,V,H,de,oe,Te,Pe=1,je=1,pt=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(u instanceof s.Element){for(oe=u,Te=u,de=(u.attr("viewBox")||"").match(pt),u.bbox,V=new s.Number(u.width()),H=new s.Number(u.height());V.unit=="%";)Pe*=V.value,V=new s.Number(oe instanceof s.Doc?oe.parent().offsetWidth:oe.parent().width()),oe=oe.parent();for(;H.unit=="%";)je*=H.value,H=new s.Number(Te instanceof s.Doc?Te.parent().offsetHeight:Te.parent().height()),Te=Te.parent();this.x=0,this.y=0,this.width=V*Pe,this.height=H*je,this.zoom=1,de&&(x=parseFloat(de[0]),N=parseFloat(de[1]),V=parseFloat(de[2]),H=parseFloat(de[3]),this.zoom=this.width/this.height>V/H?this.height/H:this.width/V,this.x=x,this.y=N,this.width=V,this.height=H)}else u=typeof u=="string"?u.match(pt).map(function(Nt){return parseFloat(Nt)}):Array.isArray(u)?u:typeof u=="object"?[u.x,u.y,u.width,u.height]:arguments.length==4?[].slice.call(arguments):m,this.x=u[0],this.y=u[1],this.width=u[2],this.height=u[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(u,m,x,N){return this.destination=new s.ViewBox(u,m,x,N),this},at:function(u){return this.destination?new s.ViewBox([this.x+(this.destination.x-this.x)*u,this.y+(this.destination.y-this.y)*u,this.width+(this.destination.width-this.width)*u,this.height+(this.destination.height-this.height)*u]):this}},parent:s.Container,construct:{viewbox:function(u,m,x,N){return arguments.length==0?new s.ViewBox(this):this.attr("viewBox",new s.ViewBox(u,m,x,N))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(u){s.Element.prototype[u]=function(m){return m==null?s.off(this,u):s.on(this,u,m),this}}),s.listenerId=0,s.on=function(u,m,x,N,V){var H=x.bind(N||u),de=u instanceof s.Element?u.node:u;de.instance=de.instance||{_events:{}};var oe=de.instance._events;x._svgjsListenerId||(x._svgjsListenerId=++s.listenerId),m.split(s.regex.delimiter).forEach(function(Te){var Pe=Te.split(".")[0],je=Te.split(".")[1]||"*";oe[Pe]=oe[Pe]||{},oe[Pe][je]=oe[Pe][je]||{},oe[Pe][je][x._svgjsListenerId]=H,de.addEventListener(Pe,H,V||!1)})},s.off=function(u,m,x,N){var V=u instanceof s.Element?u.node:u;if(V.instance&&!(typeof x=="function"&&(x=x._svgjsListenerId,!x))){var H=V.instance._events;(m||"").split(s.regex.delimiter).forEach(function(de){var oe=de&&de.split(".")[0],Te=de&&de.split(".")[1],Pe,je;if(x)H[oe]&&H[oe][Te||"*"]&&(V.removeEventListener(oe,H[oe][Te||"*"][x],N||!1),delete H[oe][Te||"*"][x]);else if(oe&&Te){if(H[oe]&&H[oe][Te]){for(je in H[oe][Te])s.off(V,[oe,Te].join("."),je);delete H[oe][Te]}}else if(Te)for(de in H)for(Pe in H[de])Te===Pe&&s.off(V,[de,Te].join("."));else if(oe){if(H[oe]){for(Pe in H[oe])s.off(V,[oe,Pe].join("."));delete H[oe]}}else{for(de in H)s.off(V,de);V.instance._events={}}})}},s.extend(s.Element,{on:function(u,m,x,N){return s.on(this,u,m,x,N),this},off:function(u,m){return s.off(this.node,u,m),this},fire:function(u,m){return u instanceof n.Event?this.node.dispatchEvent(u):this.node.dispatchEvent(u=new s.CustomEvent(u,{detail:m,cancelable:!0})),this._event=u,this},event:function(){return this._event}}),s.Defs=s.invent({create:"defs",inherit:s.Container}),s.G=s.invent({create:"g",inherit:s.Container,extend:{x:function(u){return u==null?this.transform("x"):this.transform({x:u-this.x()},!0)},y:function(u){return u==null?this.transform("y"):this.transform({y:u-this.y()},!0)},cx:function(u){return u==null?this.gbox().cx:this.x(u-this.gbox().width/2)},cy:function(u){return u==null?this.gbox().cy:this.y(u-this.gbox().height/2)},gbox:function(){var u=this.bbox(),m=this.transform();return u.x+=m.x,u.x2+=m.x,u.cx+=m.x,u.y+=m.y,u.y2+=m.y,u.cy+=m.y,u}},construct:{group:function(){return this.put(new s.G)}}}),s.Doc=s.invent({create:function(u){u&&(u=typeof u=="string"?r.getElementById(u):u,u.nodeName=="svg"?this.constructor.call(this,u):(this.constructor.call(this,s.create("svg")),u.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:s.Container,extend:{namespace:function(){return this.attr({xmlns:s.ns,version:"1.1"}).attr("xmlns:xlink",s.xlink,s.xmlns).attr("xmlns:svgjs",s.svgjs,s.xmlns)},defs:function(){if(!this._defs){var u;(u=this.node.getElementsByTagName("defs")[0])?this._defs=s.adopt(u):this._defs=new s.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var u=this.node.getScreenCTM();return u&&this.style("left",-u.e%1+"px").style("top",-u.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,s.parser.draw.parentNode||this.node.appendChild(s.parser.draw),this},clone:function(u){this.writeDataToDom();var m=this.node,x=R(m.cloneNode(!0));return u?(u.node||u).appendChild(x.node):m.parentNode.insertBefore(x.node,m.nextSibling),x}}}),s.extend(s.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var u=this.position()+1,m=this.parent();return m.removeElement(this).add(this,u),m instanceof s.Doc&&m.node.appendChild(m.defs().node),this},backward:function(){var u=this.position();return u>0&&this.parent().removeElement(this).add(this,u-1),this},front:function(){var u=this.parent();return u.node.appendChild(this.node),u instanceof s.Doc&&u.node.appendChild(u.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(u){u.remove();var m=this.position();return this.parent().add(u,m),this},after:function(u){u.remove();var m=this.position();return this.parent().add(u,m+1),this}}),s.Mask=s.invent({create:function(){this.constructor.call(this,s.create("mask")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unmask();return this.targets=[],s.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new s.Mask)}}}),s.extend(s.Element,{maskWith:function(u){return this.masker=u instanceof s.Mask?u:this.parent().mask().add(u),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),s.ClipPath=s.invent({create:function(){this.constructor.call(this,s.create("clipPath")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new s.ClipPath)}}}),s.extend(s.Element,{clipWith:function(u){return this.clipper=u instanceof s.ClipPath?u:this.parent().clip().add(u),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),s.Gradient=s.invent({create:function(u){this.constructor.call(this,s.create(u+"Gradient")),this.type=u},inherit:s.Container,extend:{at:function(u,m,x){return this.put(new s.Stop).update(u,m,x)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(u,m,x){return u=="transform"&&(u="gradientTransform"),s.Container.prototype.attr.call(this,u,m,x)}},construct:{gradient:function(u,m){return this.defs().gradient(u,m)}}}),s.extend(s.Gradient,s.FX,{from:function(u,m){return(this._target||this).type=="radial"?this.attr({fx:new s.Number(u),fy:new s.Number(m)}):this.attr({x1:new s.Number(u),y1:new s.Number(m)})},to:function(u,m){return(this._target||this).type=="radial"?this.attr({cx:new s.Number(u),cy:new s.Number(m)}):this.attr({x2:new s.Number(u),y2:new s.Number(m)})}}),s.extend(s.Defs,{gradient:function(u,m){return this.put(new s.Gradient(u)).update(m)}}),s.Stop=s.invent({create:"stop",inherit:s.Element,extend:{update:function(u){return(typeof u=="number"||u instanceof s.Number)&&(u={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",new s.Number(u.offset)),this}}}),s.Pattern=s.invent({create:"pattern",inherit:s.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return this.fill()},attr:function(u,m,x){return u=="transform"&&(u="patternTransform"),s.Container.prototype.attr.call(this,u,m,x)}},construct:{pattern:function(u,m,x){return this.defs().pattern(u,m,x)}}}),s.extend(s.Defs,{pattern:function(u,m,x){return this.put(new s.Pattern).update(x).attr({x:0,y:0,width:u,height:m,patternUnits:"userSpaceOnUse"})}}),s.Shape=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Element}),s.Bare=s.invent({create:function(u,m){if(this.constructor.call(this,s.create(u)),m)for(var x in m.prototype)typeof m.prototype[x]=="function"&&(this[x]=m.prototype[x])},inherit:s.Element,extend:{words:function(u){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(r.createTextNode(u)),this}}}),s.extend(s.Parent,{element:function(u,m){return this.put(new s.Bare(u,m))}}),s.Symbol=s.invent({create:"symbol",inherit:s.Container,construct:{symbol:function(){return this.put(new s.Symbol)}}}),s.Use=s.invent({create:"use",inherit:s.Shape,extend:{element:function(u,m){return this.attr("href",(m||"")+"#"+u,s.xlink)}},construct:{use:function(u,m){return this.put(new s.Use).element(u,m)}}}),s.Rect=s.invent({create:"rect",inherit:s.Shape,construct:{rect:function(u,m){return this.put(new s.Rect).size(u,m)}}}),s.Circle=s.invent({create:"circle",inherit:s.Shape,construct:{circle:function(u){return this.put(new s.Circle).rx(new s.Number(u).divide(2)).move(0,0)}}}),s.extend(s.Circle,s.FX,{rx:function(u){return this.attr("r",u)},ry:function(u){return this.rx(u)}}),s.Ellipse=s.invent({create:"ellipse",inherit:s.Shape,construct:{ellipse:function(u,m){return this.put(new s.Ellipse).size(u,m).move(0,0)}}}),s.extend(s.Ellipse,s.Rect,s.FX,{rx:function(u){return this.attr("rx",u)},ry:function(u){return this.attr("ry",u)}}),s.extend(s.Circle,s.Ellipse,{x:function(u){return u==null?this.cx()-this.rx():this.cx(u+this.rx())},y:function(u){return u==null?this.cy()-this.ry():this.cy(u+this.ry())},cx:function(u){return u==null?this.attr("cx"):this.attr("cx",u)},cy:function(u){return u==null?this.attr("cy"):this.attr("cy",u)},width:function(u){return u==null?this.rx()*2:this.rx(new s.Number(u).divide(2))},height:function(u){return u==null?this.ry()*2:this.ry(new s.Number(u).divide(2))},size:function(u,m){var x=w(this,u,m);return this.rx(new s.Number(x.width).divide(2)).ry(new s.Number(x.height).divide(2))}}),s.Line=s.invent({create:"line",inherit:s.Shape,extend:{array:function(){return new s.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(u,m,x,N){return u==null?this.array():(typeof m<"u"?u={x1:u,y1:m,x2:x,y2:N}:u=new s.PointArray(u).toLine(),this.attr(u))},move:function(u,m){return this.attr(this.array().move(u,m).toLine())},size:function(u,m){var x=w(this,u,m);return this.attr(this.array().size(x.width,x.height).toLine())}},construct:{line:function(u,m,x,N){return s.Line.prototype.plot.apply(this.put(new s.Line),u!=null?[u,m,x,N]:[0,0,0,0])}}}),s.Polyline=s.invent({create:"polyline",inherit:s.Shape,construct:{polyline:function(u){return this.put(new s.Polyline).plot(u||new s.PointArray)}}}),s.Polygon=s.invent({create:"polygon",inherit:s.Shape,construct:{polygon:function(u){return this.put(new s.Polygon).plot(u||new s.PointArray)}}}),s.extend(s.Polyline,s.Polygon,{array:function(){return this._array||(this._array=new s.PointArray(this.attr("points")))},plot:function(u){return u==null?this.array():this.clear().attr("points",typeof u=="string"?u:this._array=new s.PointArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("points",this.array().move(u,m))},size:function(u,m){var x=w(this,u,m);return this.attr("points",this.array().size(x.width,x.height))}}),s.extend(s.Line,s.Polyline,s.Polygon,{morphArray:s.PointArray,x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},width:function(u){var m=this.bbox();return u==null?m.width:this.size(u,m.height)},height:function(u){var m=this.bbox();return u==null?m.height:this.size(m.width,u)}}),s.Path=s.invent({create:"path",inherit:s.Shape,extend:{morphArray:s.PathArray,array:function(){return this._array||(this._array=new s.PathArray(this.attr("d")))},plot:function(u){return u==null?this.array():this.clear().attr("d",typeof u=="string"?u:this._array=new s.PathArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("d",this.array().move(u,m))},x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},size:function(u,m){var x=w(this,u,m);return this.attr("d",this.array().size(x.width,x.height))},width:function(u){return u==null?this.bbox().width:this.size(u,this.bbox().height)},height:function(u){return u==null?this.bbox().height:this.size(this.bbox().width,u)}},construct:{path:function(u){return this.put(new s.Path).plot(u||new s.PathArray)}}}),s.Image=s.invent({create:"image",inherit:s.Shape,extend:{load:function(u){if(!u)return this;var m=this,x=new n.Image;return s.on(x,"load",function(){s.off(x);var N=m.parent(s.Pattern);N!==null&&(m.width()==0&&m.height()==0&&m.size(x.width,x.height),N&&N.width()==0&&N.height()==0&&N.size(m.width(),m.height()),typeof m._loaded=="function"&&m._loaded.call(m,{width:x.width,height:x.height,ratio:x.width/x.height,url:u}))}),s.on(x,"error",function(N){s.off(x),typeof m._error=="function"&&m._error.call(m,N)}),this.attr("href",x.src=this.src=u,s.xlink)},loaded:function(u){return this._loaded=u,this},error:function(u){return this._error=u,this}},construct:{image:function(u,m,x){return this.put(new s.Image).load(u).size(m||0,x||m||0)}}}),s.Text=s.invent({create:function(){this.constructor.call(this,s.create("text")),this.dom.leading=new s.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",s.defaults.attrs["font-family"])},inherit:s.Shape,extend:{x:function(u){return u==null?this.attr("x"):this.attr("x",u)},y:function(u){var m=this.attr("y"),x=typeof m=="number"?m-this.bbox().y:0;return u==null?typeof m=="number"?m-x:m:this.attr("y",typeof u.valueOf()=="number"?u+x:u)},cx:function(u){return u==null?this.bbox().cx:this.x(u-this.bbox().width/2)},cy:function(u){return u==null?this.bbox().cy:this.y(u-this.bbox().height/2)},text:function(u){if(typeof u>"u"){for(var u="",m=this.node.childNodes,x=0,N=m.length;x<N;++x)x!=0&&m[x].nodeType!=3&&s.adopt(m[x]).dom.newLined==!0&&(u+=`
`),u+=m[x].textContent;return u}if(this.clear().build(!0),typeof u=="function")u.call(this,this);else{u=u.split(`
`);for(var x=0,V=u.length;x<V;x++)this.tspan(u[x]).newLine()}return this.build(!1).rebuild()},size:function(u){return this.attr("font-size",u).rebuild()},leading:function(u){return u==null?this.dom.leading:(this.dom.leading=new s.Number(u),this.rebuild())},lines:function(){var u=(this.textPath&&this.textPath()||this).node,m=s.utils.map(s.utils.filterSVGElements(u.childNodes),function(x){return s.adopt(x)});return new s.Set(m)},rebuild:function(u){if(typeof u=="boolean"&&(this._rebuild=u),this._rebuild){var m=this,x=0,N=this.dom.leading*new s.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),this.text()==`
`?x+=N:(this.attr("dy",N+x),x=0))}),this.fire("rebuild")}return this},build:function(u){return this._build=!!u,this},setData:function(u){return this.dom=u,this.dom.leading=new s.Number(u.leading||1.3),this}},construct:{text:function(u){return this.put(new s.Text).text(u)},plain:function(u){return this.put(new s.Text).plain(u)}}}),s.Tspan=s.invent({create:"tspan",inherit:s.Shape,extend:{text:function(u){return u==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof u=="function"?u.call(this,this):this.plain(u),this)},dx:function(u){return this.attr("dx",u)},dy:function(u){return this.attr("dy",u)},newLine:function(){var u=this.parent(s.Text);return this.dom.newLined=!0,this.dy(u.dom.leading*u.attr("font-size")).attr("x",u.x())}}}),s.extend(s.Text,s.Tspan,{plain:function(u){return this._build===!1&&this.clear(),this.node.appendChild(r.createTextNode(u)),this},tspan:function(u){var m=(this.textPath&&this.textPath()||this).node,x=new s.Tspan;return this._build===!1&&this.clear(),m.appendChild(x.node),x.text(u)},clear:function(){for(var u=(this.textPath&&this.textPath()||this).node;u.hasChildNodes();)u.removeChild(u.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),s.TextPath=s.invent({create:"textPath",inherit:s.Parent,parent:s.Text,construct:{morphArray:s.PathArray,path:function(u){for(var m=new s.TextPath,x=this.doc().defs().path(u);this.node.hasChildNodes();)m.node.appendChild(this.node.firstChild);return this.node.appendChild(m.node),m.attr("href","#"+x,s.xlink),this},array:function(){var u=this.track();return u?u.array():null},plot:function(u){var m=this.track(),x=null;return m&&(x=m.plot(u)),u==null?x:this},track:function(){var u=this.textPath();if(u)return u.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return s.adopt(this.node.firstChild)}}}),s.Nested=s.invent({create:function(){this.constructor.call(this,s.create("svg")),this.style("overflow","visible")},inherit:s.Container,construct:{nested:function(){return this.put(new s.Nested)}}}),s.A=s.invent({create:"a",inherit:s.Container,extend:{to:function(u){return this.attr("href",u,s.xlink)},show:function(u){return this.attr("show",u,s.xlink)},target:function(u){return this.attr("target",u)}},construct:{link:function(u){return this.put(new s.A).to(u)}}}),s.extend(s.Element,{linkTo:function(u){var m=new s.A;return typeof u=="function"?u.call(m,m):m.to(u),this.parent().put(m).put(this)}}),s.Marker=s.invent({create:"marker",inherit:s.Container,extend:{width:function(u){return this.attr("markerWidth",u)},height:function(u){return this.attr("markerHeight",u)},ref:function(u,m){return this.attr("refX",u).attr("refY",m)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(u,m,x){return this.defs().marker(u,m,x)}}}),s.extend(s.Defs,{marker:function(u,m,x){return this.put(new s.Marker).size(u,m).ref(u/2,m/2).viewbox(0,0,u,m).attr("orient","auto").update(x)}}),s.extend(s.Line,s.Polyline,s.Polygon,s.Path,{marker:function(u,m,x,N){var V=["marker"];return u!="all"&&V.push(u),V=V.join("-"),u=arguments[1]instanceof s.Marker?arguments[1]:this.doc().marker(m,x,N),this.attr(V,u)}});var d={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(u,m){return m=="color"?u:u+"-"+m}};["fill","stroke"].forEach(function(u){var m,x={};x[u]=function(N){if(typeof N>"u")return this;if(typeof N=="string"||s.Color.isRgb(N)||N&&typeof N.fill=="function")this.attr(u,N);else for(m=d[u].length-1;m>=0;m--)N[d[u][m]]!=null&&this.attr(d.prefix(u,d[u][m]),N[d[u][m]]);return this},s.extend(s.Element,s.FX,x)}),s.extend(s.Element,s.FX,{rotate:function(u,m,x){return this.transform({rotation:u,cx:m,cy:x})},skew:function(u,m,x,N){return arguments.length==1||arguments.length==3?this.transform({skew:u,cx:m,cy:x}):this.transform({skewX:u,skewY:m,cx:x,cy:N})},scale:function(u,m,x,N){return arguments.length==1||arguments.length==3?this.transform({scale:u,cx:m,cy:x}):this.transform({scaleX:u,scaleY:m,cx:x,cy:N})},translate:function(u,m){return this.transform({x:u,y:m})},flip:function(u,m){return m=typeof u=="number"?u:m,this.transform({flip:u||"both",offset:m})},matrix:function(u){return this.attr("transform",new s.Matrix(arguments.length==6?[].slice.call(arguments):u))},opacity:function(u){return this.attr("opacity",u)},dx:function(u){return this.x(new s.Number(u).plus(this instanceof s.FX?0:this.x()),!0)},dy:function(u){return this.y(new s.Number(u).plus(this instanceof s.FX?0:this.y()),!0)},dmove:function(u,m){return this.dx(u).dy(m)}}),s.extend(s.Rect,s.Ellipse,s.Circle,s.Gradient,s.FX,{radius:function(u,m){var x=(this._target||this).type;return x=="radial"||x=="circle"?this.attr("r",new s.Number(u)):this.rx(u).ry(m??u)}}),s.extend(s.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(u){return this.node.getPointAtLength(u)}}),s.extend(s.Parent,s.Text,s.Tspan,s.FX,{font:function(u,m){if(typeof u=="object")for(m in u)this.font(m,u[m]);return u=="leading"?this.leading(m):u=="anchor"?this.attr("text-anchor",m):u=="size"||u=="family"||u=="weight"||u=="stretch"||u=="variant"||u=="style"?this.attr("font-"+u,m):this.attr(u,m)}}),s.Set=s.invent({create:function(u){u instanceof s.Set?this.members=u.members.slice():Array.isArray(u)?this.members=u:this.clear()},extend:{add:function(){var u,m,x=[].slice.call(arguments);for(u=0,m=x.length;u<m;u++)this.members.push(x[u]);return this},remove:function(u){var m=this.index(u);return m>-1&&this.members.splice(m,1),this},each:function(u){for(var m=0,x=this.members.length;m<x;m++)u.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(u){return this.index(u)>=0},index:function(u){return this.members.indexOf(u)},get:function(u){return this.members[u]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new s.RBox;var u=this.members[0].rbox(this.members[0].doc());return this.each(function(){u=u.merge(this.rbox(this.doc()))}),u}},construct:{set:function(u){return new s.Set(u)}}}),s.FX.Set=s.invent({create:function(u){this.set=u}}),s.Set.inherit=function(){var u,m=[];for(var u in s.Shape.prototype)typeof s.Shape.prototype[u]=="function"&&typeof s.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(x){s.Set.prototype[x]=function(){for(var N=0,V=this.members.length;N<V;N++)this.members[N]&&typeof this.members[N][x]=="function"&&this.members[N][x].apply(this.members[N],arguments);return x=="animate"?this.fx||(this.fx=new s.FX.Set(this)):this}}),m=[];for(var u in s.FX.prototype)typeof s.FX.prototype[u]=="function"&&typeof s.FX.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(x){s.FX.Set.prototype[x]=function(){for(var N=0,V=this.set.members.length;N<V;N++)this.set.members[N].fx[x].apply(this.set.members[N].fx,arguments);return this}})},s.extend(s.Element,{data:function(u,m,x){if(typeof u=="object")for(m in u)this.data(m,u[m]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+u))}catch{return this.attr("data-"+u)}else this.attr("data-"+u,m===null?null:x===!0||typeof m=="string"||typeof m=="number"?m:JSON.stringify(m));return this}}),s.extend(s.Element,{remember:function(u,m){if(typeof arguments[0]=="object")for(var m in u)this.remember(m,u[m]);else{if(arguments.length==1)return this.memory()[u];this.memory()[u]=m}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var u=arguments.length-1;u>=0;u--)delete this.memory()[arguments[u]];return this},memory:function(){return this._memory||(this._memory={})}}),s.get=function(u){var m=r.getElementById(B(u)||u);return s.adopt(m)},s.select=function(u,m){return new s.Set(s.utils.map((m||r).querySelectorAll(u),function(x){return s.adopt(x)}))},s.extend(s.Parent,{select:function(u){return s.select(u,this.node)}});function p(u,m,x,N){return x+N.replace(s.regex.dots," .")}function f(u){for(var m=u.slice(0),x=m.length;x--;)Array.isArray(m[x])&&(m[x]=f(m[x]));return m}function y(u,m){return u instanceof m}function g(u,m){return(u.matches||u.matchesSelector||u.msMatchesSelector||u.mozMatchesSelector||u.webkitMatchesSelector||u.oMatchesSelector).call(u,m)}function b(u){return u.toLowerCase().replace(/-(.)/g,function(m,x){return x.toUpperCase()})}function E(u){return u.charAt(0).toUpperCase()+u.slice(1)}function S(u){return u.length==4?["#",u.substring(1,2),u.substring(1,2),u.substring(2,3),u.substring(2,3),u.substring(3,4),u.substring(3,4)].join(""):u}function I(u){var m=u.toString(16);return m.length==1?"0"+m:m}function w(u,m,x){if(m==null||x==null){var N=u.bbox();m==null?m=N.width/N.height*x:x==null&&(x=N.height/N.width*m)}return{width:m,height:x}}function _(u,m,x){return{x:m*u.a+x*u.c+0,y:m*u.b+x*u.d+0}}function A(u){return{a:u[0],b:u[1],c:u[2],d:u[3],e:u[4],f:u[5]}}function M(u){return u instanceof s.Matrix||(u=new s.Matrix(u)),u}function k(u,m){u.cx=u.cx==null?m.bbox().cx:u.cx,u.cy=u.cy==null?m.bbox().cy:u.cy}function C(u){for(var m=0,x=u.length,N="";m<x;m++)N+=u[m][0],u[m][1]!=null&&(N+=u[m][1],u[m][2]!=null&&(N+=" ",N+=u[m][2],u[m][3]!=null&&(N+=" ",N+=u[m][3],N+=" ",N+=u[m][4],u[m][5]!=null&&(N+=" ",N+=u[m][5],N+=" ",N+=u[m][6],u[m][7]!=null&&(N+=" ",N+=u[m][7])))));return N+" "}function R(u){for(var m=u.childNodes.length-1;m>=0;m--)u.childNodes[m]instanceof n.SVGElement&&R(u.childNodes[m]);return s.adopt(u).id(s.eid(u.nodeName))}function U(u){return u.x==null&&(u.x=0,u.y=0,u.width=0,u.height=0),u.w=u.width,u.h=u.height,u.x2=u.x+u.width,u.y2=u.y+u.height,u.cx=u.x+u.width/2,u.cy=u.y+u.height/2,u}function B(u){var m=(u||"").toString().match(s.regex.reference);if(m)return m[1]}function G(u){return Math.abs(u)>1e-37?u:0}var z="abcdef".split("");if(typeof n.CustomEvent!="function"){var J=function(u,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var x=r.createEvent("CustomEvent");return x.initCustomEvent(u,m.bubbles,m.cancelable,m.detail),x};J.prototype=n.Event.prototype,s.CustomEvent=J}else s.CustomEvent=n.CustomEvent;return function(u){for(var m=0,x=["moz","webkit"],N=0;N<x.length&&!n.requestAnimationFrame;++N)u.requestAnimationFrame=u[x[N]+"RequestAnimationFrame"],u.cancelAnimationFrame=u[x[N]+"CancelAnimationFrame"]||u[x[N]+"CancelRequestAnimationFrame"];u.requestAnimationFrame=u.requestAnimationFrame||function(V){var H=new Date().getTime(),de=Math.max(0,16-(H-m)),oe=u.setTimeout(function(){V(H+de)},de);return m=H+de,oe},u.cancelAnimationFrame=u.cancelAnimationFrame||u.clearTimeout}(n),s})}(vA)),vA.exports}var D2e=L2e();const Cp=Nm(D2e);class P2e extends yn{constructor(t){super(t)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(t,n){return n.getGraphicIcon(t)}getGraphicSymbol(t,n){return n.getGraphicSymbol(t)}makeRenderer(t,n,r=!1){switch(t.type){case this.SIMPLE:return new N2e(t,n);case this.CLASS_BREAKS:return new C2e(t,n,r);case this.UNIQUE_VALUE:return new k2e(t,n,r);default:throw new Error(`Unknown renderer type encountered - ${t.type}`)}}async generateWMSSymbology(t){const n=Cp(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),r={svgcode:"",imgHeight:"",imgWidth:""};if(t){const i=await this.renderSymbologyImage(t);if(i){r.svgcode=i;const s=document.createElement("span");s.innerHTML=i;const o=s.firstElementChild?.lastElementChild;r.imgHeight=o?.getAttribute("height")||"",r.imgWidth=o?.getAttribute("width")||""}else r.svgcode=n.svg()}else r.svgcode=n.svg();return r}listToSymbology(t,n){return n.map(({text:r,image:i})=>{const s={name:r,image:i,svgcode:""};return t(i).then(o=>{s.svgcode=o}),s})}listToIconSymbology(t){return this.listToSymbology(this.renderSymbologyIcon,t)}listToImageSymbology(t){return this.listToSymbology(this.renderSymbologyImage,t)}async renderSymbologyImage(t,n=null){n===null&&(n=Cp(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const r=await this.$iApi.geo.shared.convertImagetoDataURL(t);if(r===t)return"";const{loader:i}=await this.svgDrawImage(n,r);return n.viewbox(0,0,i.width,i.height),n.svg()}async renderSymbologyIcon(t,n=null){if(n===null){const s=document.createElement("div");s.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(s),n=Cp(s).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const r=await this.$iApi.geo.shared.convertImagetoDataURL(t),{image:i}=await this.svgDrawImage(n,r);return i.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(i,this.CONTENT_IMAGE_SIZE),n.svg()}generatePlaceholderSymbology(t,n="#000"){const r=Cp(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return r.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(n),r.text(t[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(t[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:t,svgcode:r.svg()}}async generateBlankSymbology(){return Cp(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(t){const n=this,r=1.33333,i=document.createElement("div");i.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(i);const s=Cp(i).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),o={path({size:g,path:b}){return s.path(b).size(g*r)},circle({size:g}){return s.circle(g*r)},cross({size:g}){return s.path("M 0,10 L 20,10 M 10,0 L 10,20").size(g*r)},x({size:g}){return s.path("M 0,0 L 20,20 M 20,0 L 0,20").size(g*r)},triangle({size:g}){return s.path("M 20,20 L 10,0 0,20 Z").size(g*r)},diamond({size:g}){return s.path("M 20,10 L 10,0 0,10 10,20 Z").size(g*r)},square({size:g}){return s.path("M 0,0 20,0 20,20 0,20 Z").size(g*r)}},a={[Zr.SOLID]:"none",[Zr.NONE]:"none",[Zr.DASH]:"5.333,4",[Zr.DOT]:"1.333,4",[Zr.DASHDOT]:"5.333,4,1.333,4",[Zr.LONGDASH]:"10.666,4",[Zr.LONGDASHDOT]:"10.666,4,1.333,4",[Zr.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[Zr.SHORTDOT]:"1.333,1.333",[Zr.SHORTDASH]:"5.333,1.333",[Zr.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[Zr.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},d={solid:g=>({color:g.colour,opacity:g.opacity}),none:()=>"transparent",horizontal:(g,b)=>s.pattern(5,5,E=>E.line(0,5/2,5,5/2)).stroke(b),vertical:(g,b)=>s.pattern(5,5,E=>E.line(5/2,0,5/2,5)).stroke(b),"forward-diagonal":(g,b)=>s.pattern(5,5,E=>{E.line(0,0,5,5).stroke(b),E.line(0,0,5,5).move(0,5).stroke(b),E.line(0,0,5,5).move(5,0).stroke(b)}),"backward-diagonal":(g,b)=>s.pattern(5,5,E=>{E.line(5,0,0,5).stroke(b),E.line(5,0,0,5).move(5/2,5/2).stroke(b),E.line(5,0,0,5).move(-5/2,-5/2).stroke(b)}),cross:(g,b)=>s.pattern(5,5,E=>{E.line(5/2,0,5/2,5).stroke(b),E.line(0,5/2,5,5/2).stroke(b)}),"diagonal-cross":(g,b)=>s.pattern(7,7,E=>{E.line(0,0,7,7).stroke(b),E.line(7,0,0,7).stroke(b)})},p={"simple-marker"(){const g=y(t.color);t.outline=t.outline||c;const b=y(t.outline.color),E=f({color:b.colour,opacity:b.opacity,width:t.outline.width,dasharray:a[t.outline.style]}),S=o[t.style](t).fill({color:g.colour,opacity:g.opacity}).stroke(E).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).rotate(t.angle||0);n.fitInto(S,n.CONTENT_SIZE)},"simple-line"(){const g=y(t.color),b=f({color:g.colour,opacity:g.opacity,width:t.width,linecap:"butt",dasharray:a[t.style]}),E=n.CONTENT_PADDING,S=n.CONTAINER_SIZE-n.CONTENT_PADDING;s.line(E,E,S,S).stroke(b)},esriCLS(){this["simple-line"]()},"simple-fill"(){const g=y(t.color),b=f({color:g.colour,opacity:g.opacity}),E=d[t.style](g,b);t.outline=t.outline||c;const S=y(t.outline.color),I=f({color:S.colour,opacity:S.opacity,width:t.outline.width,linecap:"butt",dasharray:a[t.outline.style]});s.rect(n.CONTENT_SIZE,n.CONTENT_SIZE).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).fill(E).stroke(I)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const g=t.imageData?`data:${t.contentType};base64,${t.imageData}`:t.url,b=t.width*t.xscale,E=t.height*t.yscale;t.outline=t.outline||c;const S=y(t.outline.color),I=f({color:S.colour,opacity:S.opacity,width:t.outline.width,dasharray:a[t.outline.style]});return n.$iApi.geo.shared.convertImagetoDataURL(g).then(w=>{const _=s.pattern(b,E,A=>A.image(w,b,E));s.rect(n.CONTENT_SIZE,n.CONTENT_SIZE).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).fill(_).stroke(I)})},"picture-marker"(){const g=t.source,b=g&&g.imageData?`data:${g.contentType};base64,${g.imageData}`:t.url;return n.$iApi.geo.shared.convertImagetoDataURL(b).then(E=>n.svgDrawImage(s,E)).then(({image:E})=>{E.center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).rotate(t.angle||0),n.fitInto(E,n.CONTENT_IMAGE_SIZE)})}};try{return await Promise.resolve(p[t.type]()),document.body.removeChild(i),s.svg()}catch(g){return console.error(g),this.generateBlankSymbology()}function f(g){return Object.assign({},l,g)}function y(g){return g?{colour:`rgb(${g.r},${g.g},${g.b})`,opacity:g.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(t,n,r=0,i=0,s=!0){return new Promise((o,a)=>{const l=t.image(n,r,i,s).loaded(c=>o({image:l,loader:c})).error(c=>{a(c),console.error(c)})})}fitInto(t,n){const r=t.node.getBoundingClientRect(),i=n/Math.max(r.width,r.height);i<1&&t.scale(i)}rendererToLegend(t){let n;const r=t.symbolUnits.slice(0);if(t.defaultUnit&&r.push(t.defaultUnit),t.falseRenderer)n=r.map(i=>[i]);else{const i=new Map;r.forEach(s=>{const o=i.get(s.label);o?o.push(s):i.set(s.label,[s])}),n=[],i.forEach(s=>n.push(s))}return n.map(i=>{const s=i[0],o={uid:this.$iApi.geo.shared.generateUUID(),label:s.label||"",definitionClause:i.length===1?s.definitionClause:`(${i.map(a=>a.definitionClause).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(s.symbol).then(a=>{o.svgcode=a,i.forEach(l=>{l.svgCode=a})})};return o})}async getMapServerLegend(t){if(!t)throw new Error("Legend server request is missing the required url.");const n={query:{f:"json"}},r={layers:[]},[i,s]=await us(xn(`${t}/legend`,n));return s?s.data?s.data:(console.error(`Error loading legend data for ${t}`),r):(console.error(`Error loading legend for ${t}`,i),r)}async mapServerLegendToRenderer(t,n){const r=t.layers.find(s=>s.layerId===n);let i;if(typeof r<"u"){i={type:"uniqueValue",field:"fakefield",uniqueValueInfos:r.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))};const s=await Et.RendererFromJson(i);return this.makeRenderer(s,[],!0)}else throw new Error("attempted to make renderer from non-existing legend data")}async mapServerLegendToRendererAll(t){const n=t.layers.map(s=>s.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))),r={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...n)},i=await Et.RendererFromJson(r);return this.makeRenderer(i,[],!0)}async mapServerToLocalLegend(t,n=void 0){const r=await this.getMapServerLegend(t);let i,s;return typeof n>"u"?(s=0,i=await this.mapServerLegendToRendererAll(r)):(s=parseInt(n),i=await this.mapServerLegendToRenderer(r,s)),this.rendererToLegend(i)}}class F2e extends yn{constructor(t){super(t)}async arcGisServerQueryIds(t){if(!(t.filterGeometry||t.filterSql))return console.error("arcGisServerQueryIds called without any filter"),[];const n=await Et.Query();n.returnGeometry=!1,t.filterSql&&(n.where=t.filterSql),t.filterGeometry&&(n.geometry=await this.queryGeometryHelper(t.filterGeometry,!1,this.$iApi.geo.map.getScale(),t.sourceSR),n.spatialRelationship="intersects");const r=await Et.QueryByIds(t.url,n);return Array.isArray(r)?r:[]}async geoJsonQuery(t){const n=await Et.Query();if(n.returnGeometry=!!t.includeGeometry,n.outFields=["*"],t.filterGeometry&&(n.geometry=await this.queryGeometryHelper(t.filterGeometry,!0),n.spatialRelationship="intersects"),t.filterSql&&(n.where=t.filterSql),t.filterOIDs&&(n.objectIds=t.filterOIDs),await t.layer.loadPromise(),!t.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await t.layer.esriLayer.queryFeatures(n)).features.map((r,i)=>{let s;return n.returnGeometry?s=this.$iApi.geo.geom.geomEsriToRamp(r.geometry,`queryResult${i}`):s=new Tl,new ki(s,"",r.attributes)})}async queryGeometryHelper(t,n,r,i){return!n&&t.type===Xe.EXTENT&&i&&!i.isEqual(t.sr)&&!(r&&r>2e7&&t.sr.wkid===3978&&i.wkid===4326)?(await this.$iApi.geo.proj.projectExtent(i,t)).toESRI():t.toESRI()}makeClickBuffer(t,n=5){const r=this.$iApi.geo.map,i=r.getExtent(),s=n*(i.xmax-i.xmin)/r.getPixelWidth();return new Jt("ze_buffer",[t.x-s,t.y-s],[t.x+s,t.y+s],t.sr)}}class U2e extends yn{attributes;geom;layer;map;proj;query;shared;symbology;constructor(t){super(t),this.geom=rh.geom,this.proj=rh.proj,this.shared=rh.sharedUtils,this.map=new C_e(t),this.layer=new u2e(t),this.attributes=new A2e(t),this.query=new F2e(t),this.symbology=new P2e(t),Array.isArray(At.request.interceptors)||(At.request.interceptors=[]),At.request.interceptors.push({before:n=>{n.url.includes("?blankTile=false")&&(n.url=n.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(t){At.request.proxyUrl=t}get proxy(){return At.request.proxyUrl||""}}const G2e=Object.assign({"../fixtures/appbar/index.ts":()=>import("./index-l6tdIN_z.js"),"../fixtures/areas-of-interest/index.ts":()=>import("./index-lVXhK29f.js"),"../fixtures/basemap/index.ts":()=>import("./index-B7NJ-4ib.js"),"../fixtures/crosshairs/index.ts":()=>import("./index-DSHeZ4ct.js"),"../fixtures/details/index.ts":()=>import("./index-DUrrjbbi.js"),"../fixtures/draw/index.ts":()=>import("./index-Bzl4rxCk.js").then(e=>e.W),"../fixtures/export-footnote/index.ts":()=>import("./index-B4t1hxgH.js"),"../fixtures/export-legend/index.ts":()=>import("./index-ipZCGGVe.js"),"../fixtures/export-map/index.ts":()=>import("./index-D83pq5mc.js"),"../fixtures/export-northarrow/index.ts":()=>import("./index-CoGqwHX7.js"),"../fixtures/export-scalebar/index.ts":()=>import("./index-kCpXgXoc.js"),"../fixtures/export-timestamp/index.ts":()=>import("./index-CYv5I0n9.js"),"../fixtures/export-title/index.ts":()=>import("./index-Bw5AD0uF.js"),"../fixtures/export/index.ts":()=>import("./index-CXJ_JMlG.js"),"../fixtures/extentguard/index.ts":()=>import("./index-BvNetjRw.js"),"../fixtures/gazebo/index.ts":()=>import("./index-CUH2thsT.js"),"../fixtures/geosearch/index.ts":()=>import("./index-B0BhC9En.js"),"../fixtures/grid/index.ts":()=>import("./index-Q51B4DD4.js"),"../fixtures/help/index.ts":()=>import("./index-CrJRSkw8.js"),"../fixtures/hilight/index.ts":()=>import("./index-B5kVKXi6.js"),"../fixtures/keyboardnav/index.ts":()=>import("./index-iIi98d8l.js"),"../fixtures/layer-reorder/index.ts":()=>import("./index-BmLqDA9c.js"),"../fixtures/legend/index.ts":()=>import("./index-uGC5LTOd.js"),"../fixtures/mapnav/index.ts":()=>import("./index-iPLT3fnj.js"),"../fixtures/metadata/index.ts":()=>import("./index-CQZTS3pI.js"),"../fixtures/northarrow/index.ts":()=>import("./index-vHyo90CR.js"),"../fixtures/overviewmap/index.ts":()=>import("./index-H3OwBXiR.js"),"../fixtures/panguard/index.ts":()=>import("./index-CPwDEwPX.js"),"../fixtures/scrollguard/index.ts":()=>import("./index-DNz4kILC.js"),"../fixtures/settings/index.ts":()=>import("./index-H8dRc26A.js"),"../fixtures/snowman/index.ts":()=>import("./index-by30H3py.js"),"../fixtures/swipe/index.ts":()=>import("./index-Bi4HCseJ.js"),"../fixtures/wizard/index.ts":()=>import("./index-CYrnWRLp.js")});class j2e extends yn{constructor(t){super(t)}exists(t){return t in ts(this.$vApp.$pinia).items}async add(t,n){let r;if(t in ts(this.$vApp.$pinia).items)return this.get(t);if(n){if(typeof n!="function")throw new Error("malformed fixture constructor");r=J_.updateBaseToInstance(new n,t,this.$iApi)}else{const i=(await G2e[`../fixtures/${t}/index.ts`]()).default;r=new i(t,this.$iApi)}return ts(this.$vApp.$pinia).addFixture(r),this.$iApi.event.emit(Ae.FIXTURE_ADDED,r),this.$iApi.geo.map.created&&r.initialized?.(),r}remove(t){const n=this.get(t);if(!n)throw new Error(`Could not find fixture ${t} for removal`);return ts(this.$vApp.$pinia).removeFixture(n),this.$iApi.event.emit(Ae.FIXTURE_REMOVED,n),n}flush(){const t=ts(this.$vApp.$pinia);Object.keys(t.items).forEach(n=>{const r=this.get(n);r?.persist&&typeof r?.removed=="function"?r.removed():r&&this.remove(n)})}restore(){const t=ts(this.$vApp.$pinia);Object.keys(t.items).forEach(n=>{const r=t.items[n];typeof r.added=="function"&&r.added(),this.$iApi.geo.map.created&&typeof r.initialized=="function"&&r.initialized()})}get(t){const n=[];typeof t=="string"?n.push(t):Array.isArray(t)?n.push(...t):n.push(t.id);const r=n.map(i=>{const s=ts(this.$vApp.$pinia).items[i];if(s)return s});return r.length===1?r[0]:r}isLoaded(t){const n=ts(this.$vApp.$pinia),r=Array.isArray(t)?t:[t];r.forEach(s=>{n.loadPromises[s]===void 0&&n.addLoadPromise(s)});const i=n.getLoadPromises(r);return Array.isArray(t)?Promise.all(i):i[0]}addDefaultFixtures(t){Array.isArray(t)||(t=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const n=zr(this.$vApp.$pinia);return n.startingFixtures=t,Promise.all(t.map(r=>this.add(r)))}}class J_ extends yn{static updateBaseToInstance(t,n,r){const i=new J_(n,r);return Object.defineProperties(t,{id:{value:n},$iApi:{value:r},persist:{value:t.persist??!0},$vApp:{get(){return i.$vApp}},remove:{value:i.remove},extend:{value:i.extend},config:{get(){return i.config}},mount:{value:i.mount}}),t}id;persist;constructor(t,n){super(n),this.id=t,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(t,n={}){const r=tt({extends:t,iApi:this.$iApi,data(){return{...n}}}),i=Zl(r),{el:s}=this.mount(r,{props:{...n.propsData},app:i});return s}mount(t,{props:n,children:r,element:i,app:s}={}){let o=i,a=Ti(t,n,r);return s&&s._context&&(a.appContext=s._context),o||(o=document.createElement("div")),Qd(a,o),{vNode:a,destroy:()=>{o&&Qd(null,o),o=null,a=null},el:o}}get config(){return zr(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(t){return this.getLayerFixtureConfigs()[t]}getLayerFixtureConfigs(){const t={},n=(r,i=void 0)=>{if(r.fixtures&&r.fixtures[this.id]!==void 0){let s=r.id;i!==void 0&&(s=this.$iApi.geo.layer.sublayerId(i.id,r.index)),t[s]=r.fixtures[this.id]}r.sublayers&&r.sublayers.forEach(s=>n(s,r))};return this.$iApi.geo.layer.allLayers().forEach(r=>n(r.config)),t}handlePanelWidths(t){if(this.config?.panelWidth){const n={};if(typeof this.config.panelWidth=="number")t.forEach(r=>{n[r]=this.config.panelWidth});else{this.config.panelWidth.default&&t.forEach(r=>{n[r]=this.config.panelWidth.default});for(const r in this.config.panelWidth)r!="default"&&(n[r]=this.config.panelWidth[r])}for(const r in n){const i=this.$iApi.panel.get(r);this.$iApi.panel.setStyle(i,{"flex-basis":`${n[r]}px`})}}}handlePanelTeleports(t){if(this.config?.panelTeleport){const n=nc(this.$vApp.$pinia),r=!!this.config.panelTeleport.target;t.forEach(i=>{n.items[i].teleport=r?this.config.panelTeleport:this.config.panelTeleport[i],n.items[i].style.width="100%"})}}}class z2e extends yn{panelStore=nc(this.$vApp.$pinia);updateHTML(t,n,r){const i=this.get(t),s=r?i.screens[r]:Object.values(i.screens)[0];if(u8(s))for(const o in n)s[o].innerHTML=n[o]instanceof HTMLElement?n[o].outerHTML:n[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(t){for(const r in t.content)if(typeof t.content[r]=="string"){const i=document.createElement("div");i.innerHTML=t.content[r],t.content[r]=i}const n={};return n[t.id]={screens:{},style:t.style??{width:"350px"},alertName:t.alertName},n[t.id].screens[t.id]=t.content,n}registerHTML(t){const n=this.get(t.id);if(n)return console.error("Panel already exist"),n;const r=this.registerHTMLConfig(t),i={i18n:{messages:t.i18nMap}};return this.register(r,i)}register(t,n){const r=$2e(t)?{[t.id]:t.config}:t;if(n){const s=n.i18n||{},o=this.$iApi.$i18n;Object.entries(s.messages||{}).forEach(a=>o.mergeLocaleMessage(...a)),Object.entries(s.dateTimeFormats||{}).forEach(a=>o.mergeDateTimeFormat(...a)),Object.entries(s.numberFormats||{}).forEach(a=>o.mergeNumberFormat(...a))}const i=Object.entries(r).reduce((s,[o,a])=>(s.push(new hy(this.$iApi,o,a)),s),[]);return i.forEach(s=>this.panelStore.registerPanel(s)),i.length===1?i[0]:i.reduce((s,o)=>(s[o.id]=o,s),{})}async isRegistered(t){const n=Array.isArray(t)?t:[t];n.forEach(i=>{this.panelStore.regPromises[i]===void 0&&this.panelStore.addRegPromise(i)});const r=this.panelStore.getRegPromises(n);return Array.isArray(t)?Promise.all(r):r[0]}allRegistered(){return Object.keys(this.panelStore.items)}remove(t){const n=this.get(t);n&&(n.isOpen&&this.close(n),this.panelStore.removePanel(n))}get(t){const n=typeof t=="string"?t:t.id;return this.panelStore.items[n]}open(t){let n,r,i;if(typeof t=="string"||t instanceof hy?n=this.get(t):(n=this.get(t.id),{screen:r,props:i}=t),!n)return n;if(n.isOpen&&!n.isVisible)n.minimize();else if(n.isOpen)return n;return r||(n.route&&!i?{screen:r,props:i}=n.route:r=Object.keys(n.screens).pop()),this.show(n,{screen:r,props:i})?(this.panelStore.openPanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(Ae.PANEL_OPENED,n)):console.error(`Failed to open ${n.id} panel.`),n}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(t){const n=this.get(t);return n&&(n.isPinned&&n.pin(!1),this.panelStore.closePanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(Ae.PANEL_CLOSED,n),n)}minimize(t){const n=this.get(t);return n&&(n.isPinned&&n.pin(!1),this.panelStore.closePanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(Ae.PANEL_MINIMIZED,n),n)}move(t,n){const r=this.get(t);return r&&(this.panelStore.movePanel(r,n),r)}toggle(t,n){let r;return typeof t=="string"||t instanceof hy?r=this.get(t):r=this.get(t.id),r&&(n=typeof n<"u"?n:!r.isVisible,n!==r.isVisible?n?this.open(t):this.close(r):r)}toggleMinimize(t,n){let r;return typeof t=="string"||t instanceof hy?r=this.get(t):r=this.get(t.id),r&&(n=typeof n<"u"?n:!r.isVisible,n!==r.isVisible?n?this.open(r):this.minimize(r):r)}pin(t,n){const r=this.get(t);return!r||(n=typeof n<"u"?n:!r.isPinned,!r.isPinned&&!n)||(this.panelStore.pinned=n?r:void 0),r}get pinned(){return this.panelStore.pinned||void 0}show(t,n){const r=this.get(t);if(!r)return r;if(r.screens[n.screen]){if(r.screens[n.screen]?.props){const i=Object.keys(r.screens[n.screen]?.props).filter(o=>o!=="panel"),s=n.props?Object.keys(n.props):[];for(let o=0;o<i.length;o++)if(!s.includes(i[o])&&r.screens[n.screen].props[i[o]].required)return}return n.screen in this.$element._context.components||r.registerScreen(n.screen),r.teleport&&(n.props={header:!!r.teleport?.showHeader,...n.props}),this.panelStore.items[r.id].route=n,r}}setStyle(t,n,r=!1){const i=this.get(t);return i&&(this.panelStore.items[i.id].style=r?n:{...i.style,...n},i)}expand(t,n){const r=this.get(t);return r&&(this.panelStore.items[r.id].expanded=n!==void 0?n:!r.expanded,r)}}function $2e(e){return e.id!==void 0&&typeof e.id=="string"&&e.config!==void 0}const V2e={};function W2e(e,t){const n=vn("panel-screen");return ce(),Ft(n,{header:!1,class:"screen-spinner"},{content:gn(()=>t[0]||(t[0]=[ie("div",{class:"loader"},null,-1)])),_:1})}const Z2e=Ao(V2e,[["render",W2e],["__scopeId","data-v-a3c61802"]]),B2e=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>import("./screen-CR8HEsRL.js"),"../fixtures/basemap/screen.vue":()=>import("./screen-DVbHl2Cb.js"),"../fixtures/export/screen.vue":()=>import("./screen-BgjepCxf.js"),"../fixtures/geosearch/screen.vue":()=>import("./screen-DZQ_OTjf.js"),"../fixtures/grid/screen.vue":()=>import("./screen-DhlZzjp-.js"),"../fixtures/help/screen.vue":()=>import("./screen-5fSdhDIV.js"),"../fixtures/layer-reorder/screen.vue":()=>import("./screen-ChL-KZZ7.js"),"../fixtures/legend/screen.vue":()=>import("./screen-DIsPXidG.js"),"../fixtures/metadata/screen.vue":()=>import("./screen-i2YB-7ZF.js"),"../fixtures/settings/screen.vue":()=>import("./screen-uSHm7Geg.js"),"../fixtures/wizard/screen.vue":()=>import("./screen-DNxGqrqn.js")});class hy extends yn{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(t){return this.loadedScreens.indexOf(t)!==-1}registerScreen(t){const n=this.screens[t];let r;if(Cle(n)||kle(n))r=n,this.loadedScreens.push(t);else if(u8(n))r={template:`<panel-screen :panel="this" :screenId="'${t}'">
                           </panel-screen>`};else{let i;typeof n=="string"?i=B2e[`../fixtures/${n}`]():i=n();const s=new Promise((o,a)=>{i.then(l=>{this.loadedScreens.push(t),o(Rle(l)?l.default:l)}),i.catch(l=>a(l))});r=Bv({loader:()=>s,loadingComponent:Z2e,delay:200})}this.$iApi.$element.component(t,r)}style;expanded;get width(){if(!(!this.style.width||this.style.width.slice(-2)!=="px"))return parseInt(this.style.width)}route;constructor(t,n,r){if(super(t),{id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:n,style:{},expanded:!1,controls:{expand:!1,...r.controls},...r},Object.keys(this.screens).length===0)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(t){return typeof t>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,...typeof t=="string"?{screen:t}:t}),this}get isOpen(){return this.$iApi.panel.opened.indexOf(this)!==-1}get isVisible(){return this.$iApi.panel.visible.indexOf(this)!==-1}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(t){return this.$iApi.panel.move(this,t),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0){for(const t of this.$iApi.panel.visible)if(!t.teleport)return this.id===t.id}return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0){for(let t=this.$iApi.panel.visible.length-1;t>=0;t--)if(!this.$iApi.panel.visible[t].teleport)return this.id===this.$iApi.panel.visible[t].id}return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(t){return typeof t>"u"?this.$iApi.panel.toggle(this,!this.isOpen):typeof t=="boolean"?t!==this.isOpen&&this.$iApi.panel.toggle(this,t):this.$iApi.panel.toggle({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}toggleMinimize(t){return typeof t>"u"||typeof t=="boolean"?this.$iApi.panel.toggleMinimize(this,t):this.$iApi.panel.toggleMinimize({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}pin(t){return t=typeof t<"u"?t:!this.isPinned,this.$iApi.panel.pin(this,t),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(t){const n=typeof t=="string"?{screen:t}:t;return this.route=n,this.$iApi.panel.show(this,n),this}setStyles(t,n=!1){return this.$iApi.panel.setStyle(this,t,n),this}expand(t){return this.$iApi.panel.expand(this,t),this}}class X2e extends yn{constructor(t){super(t)}async easyLayer(t,n){const r=this.$iApi.geo.layer.createLayer(t);await this.$iApi.geo.map.addLayer(r);const i=this.$iApi.fixture.get("legend");return i&&(n?i.addItem(n):await i.addLayerItem(r)),r}}function H2e(e){const t={};(Array.isArray(e)?e:[e]).forEach(s=>{s.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),s.language="en");const o=Y2e(s);t[s.language]=o});const n=Object.entries(t).map(s=>{const o=s[1].fixturesEnabled;return delete s[1].fixturesEnabled,o});let r=!1;const i=n.reduce((s,o)=>s.filter(a=>{const l=o.includes(a);return r=r||!l,l}));return r&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),i.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:i,configs:t}}function Y2e(e){const t={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return J2e(e.services,t),q2e(e.map,t),Q2e(e.ui,t),e.plugins&&K2e(e.plugins,t),t}function q2e(e,t){if(e.layers&&e.layers.forEach(n=>{t.layers.unshift(Gj(n))}),e.initialBasemapId&&(t.map.initialBasemapId=e.initialBasemapId),e.components){if(e.components.geoSearch&&(e.components.geoSearch.enabled&&t.fixturesEnabled.push("geosearch"),typeof e.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof e.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),e.components.overviewMap&&e.components.overviewMap.enabled&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.startMinimized=!e.components.overviewMap.initiallyExpanded,t.fixtures.overviewmap.expandFactor=e.components.overviewMap.expandFactor??1.5),e.components.northArrow&&e.components.northArrow.enabled){const n={};e.components.northArrow.arrowIcon&&(n.arrowIcon=e.components.northArrow.arrowIcon),e.components.northArrow.poleIcon&&(n.poleIcon=e.components.northArrow.poleIcon),n&&(t.fixtures.northarrow=n,t.fixturesEnabled.push("northarrow"))}if(e.components.scaleBar&&e.components.scaleBar.enabled){switch(t.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:e?.components?.scaleBar?.scalebarUnit==="english"||e?.components?.scaleBar?.scalebarUnit==="dual"&&Math.floor(Math.random()*2)===0}},e.components?.mouseInfo?.spatialReference?.wkid){case 4326:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:t.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:t.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}e.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}e.components.basemap&&e.components.basemap.enabled&&t.fixturesEnabled.push("basemap")}e.extentSets&&(t.map.extentSets=[],e.extentSets.forEach(n=>{const r={id:n.id,default:{xmin:n.default.xmin,xmax:n.default.xmax,ymin:n.default.ymin,ymax:n.default.ymax,spatialReference:n.spatialReference}};n.full&&(r.full={xmin:n.full.xmin,xmax:n.full.xmax,ymin:n.full.ymin,ymax:n.full.ymax,spatialReference:n.spatialReference}),n.maximum&&(r.maximum={xmin:n.maximum.xmin,xmax:n.maximum.xmax,ymin:n.maximum.ymin,ymax:n.maximum.ymax,spatialReference:n.spatialReference}),t.map.extentSets.push(r)})),e.lodSets&&(t.map.lodSets=e.lodSets),e.tileSchemas&&(t.map.tileSchemas=[],e.tileSchemas.forEach(n=>{const r={id:n.id,name:n.name,extentSetId:n.extentSetId,lodSetId:n.lodSetId,thumbnailTileUrls:[],hasNorthPole:n.hasNorthPole||!1};n.overviewUrl&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.basemaps[n.id]={id:n.overviewUrl.id||`overviewmap-basemap-${n.id}`,tileSchemaId:n.id,layers:[{id:n.overviewUrl.id||`overviewmap-basemap-${n.id}-0`,layerType:n.overviewUrl.layerType==="esriDynamic"?Oe.MAPIMAGE:Oe.TILE,url:n.overviewUrl.url,opacity:n.overviewUrl.opacity??1}]}),t.map.tileSchemas.push(r)})),e.baseMaps&&(t.map.basemaps=[],e.baseMaps.forEach(n=>{const r={id:n.id,tileSchemaId:n.tileSchemaId,name:n.name,description:n.description,altText:n.altText,thumbnailUrl:n.thumbnailUrl,layers:[]};n.attribution&&(r.attribution={text:{},logo:{}},n.attribution.text&&(r.attribution.text.disabled=!n.attribution.text.enabled,r.attribution.text.value=n.attribution.text.value),n.attribution.logo&&(r.attribution.logo.disabled=!n.attribution.logo.enabled,r.attribution.logo.altText=n.attribution.logo.altText,r.attribution.logo.value=n.attribution.logo.value,r.attribution.logo.link=n.attribution.logo.link)),n.layers.forEach((i,s)=>{const o={id:i.id||`${n.id}-${s}`,layerType:i.layerType==="esriDynamic"?Oe.MAPIMAGE:Oe.TILE,url:i.url,opacity:i.opacity??1};r.layers.push(o)}),t.map.basemaps.push(r)})),e.legend&&(t.fixturesEnabled.push("legend"),e.legend.type==="autopopulate"?(t.fixtures.legend={root:{name:"I'm root",children:[]}},t.layers&&t.layers.toReversed().forEach(n=>{if(n.type==="esri-map-image"||n.type==="ogc-wms"){const r={name:n.name??`${n.id} Group`,children:[]};n.sublayers.forEach(i=>{const s={layerId:n.id};i.name&&(s.name=i.name),i.controls&&(s.controls=i.controls),i.disabledControls&&(s.disabledControls=i.disabledControls),n.type==="esri-map-image"?s.sublayerIndex=i.index:(s.sublayerId=i.id,console.warn(`sublayerId property defined in legend entry ${s.layerId} is currently not supported.`)),r.children.push(s)}),t.fixtures.legend.root.children.push(r)}else{const r={layerId:n.id};n.controls&&(r.controls=n.controls),n.disabledControls&&(r.disabledControls=n.disabledControls),t.fixtures.legend.root.children.push(r)}})):t.fixtures.legend={root:bA(e.legend.root)})}function bA(e){const t={name:e.name,children:[]};typeof e.hidden<"u"&&(t.hidden=e.hidden),typeof e.expanded<"u"&&(t.expanded=e.expanded);const n=["identify","opacity","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=Rp(e.controls,n),e.controls.includes("visibility")&&t.controls.push("visibilityButton"),(e.controls.length!==1||e.controls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),t.controls.push("expandButton")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=Rp(e.disabledControls,n),e.disabledControls.includes("visibility")&&t.disabledControls.push("visibilityButton"),(e.disabledControls.length!==1||e.disabledControls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),e.children.forEach(r=>{if(r.layerId)t.children.push(Uj(r));else if(r.infoType)r.infoType==="unboundLayer"?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`):(t.children.push({infoType:r.infoType,content:r.content}),typeof r.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`));else if(r.exclusiveVisibility){const i={name:"Visibility Set",children:[],exclusive:!0};typeof r.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`),r.exclusiveVisibility.forEach(s=>{s.layerId?i.children.push(Uj(s)):i.children.push(bA(s))}),t.children.push(i)}else t.children.push(bA(r))}),t}function Uj(e){const t=e,n=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.layerControls=Rp(e.controls,n),t.layerControls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledLayerControls=Rp(e.disabledControls,n)),e.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),delete t.controlledIds),e.entryIndex&&(t.sublayerIndex=e.entryIndex,delete e.entryIndex),e.entryId&&console.warn(`entryId property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),t}function Gj(e){const t=_A(e);switch(t.id=e.id,t.url=e.url,e.refreshInterval&&(t.refreshInterval=e.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),e.expectedResponseTime&&(t.expectedLoadTime=e.expectedResponseTime),e.metadataUrl&&(t.metadata={url:e.metadataUrl}),e.catalogueUrl&&(t.catalogueUrl=e.catalogueUrl),typeof e.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.tooltipField&&(t.tooltipField=e.tooltipField),e.tolerance&&(t.mouseTolerance=e.tolerance,e.layerType==="esriDynamic"&&(t.touchTolerance=e.tolerance+10)),e.customRenderer&&(t.customRenderer=e.customRenderer),e.layerType){case"esriDynamic":t.layerType="esri-map-image",typeof e.singleEntryCollapse<"u"&&(t.singleEntryCollapse=e.singleEntryCollapse),e.imageFormat&&(t.imageFormat=e.imageFormat),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(n=>{const r=_A(n);r.index=n.index,t.sublayers.push(r)}));break;case"esriFeature":t.layerType="esri-feature",e.fileType&&(t.layerType=e.fileType==="shapefile"?"file-shape":`file-${e.fileType}`,e.colour&&(t.colour=e.colour),e.latField&&(t.latField=e.latField),e.longField&&(t.longField=e.longField));break;case"ogcWfs":t.layerType="ogc-wfs",e.colour&&(t.colour=e.colour),typeof e.xyInAttribs<"u"&&(t.xyInAttribs=e.xyInAttribs);break;case"ogcWms":t.layerType="ogc-wms",e.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.featureInfoMimeType&&(e.featureInfoMimeType==="text/html;fgpv=summary"?t.featureInfoMimeType="text/html":t.featureInfoMimeType=e.featureInfoMimeType),e.legendMimeType&&console.warn(`legendMimeType property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(n=>{const r=_A(n);r.id=n.id,n.currentStyle&&(r.currentStyle=n.currentStyle,console.warn(`currentStyle property provided in layer entry ${n.id} of layer ${e.id} is currently not supported.`)),n.allStyles&&console.warn(`allStyles property provided in layer entry ${n.id} of layer ${e.id} cannot be mapped and will be skipped.`),t.sublayers.push(r)}));break;case"esriImage":t.layerType="esri-imagery";break;case"esriTile":t.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${e.layerType}`)}return e.details&&console.warn(`Details config provided in layer ${e.id} cannot be mapped and will be skipped.`),t}function _A(e){const t={};e.name&&(t.name=e.name),e.nameField&&(t.nameField=e.nameField),e.extent&&(t.extent=e.extent);const n=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=Rp(e.controls,n),t.controls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=Rp(e.disabledControls,n)),e.state&&(t.state={opacity:e.state.opacity??1,visibility:e.state.visibility??!0,identify:e.state.query??!0,hovertips:e.state.hovertips??!0},typeof e.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`)),typeof e.stateOnly<"u"&&(t.cosmetic=e.stateOnly),e.initialFilteredQuery&&(t.initialFilteredQuery=e.initialFilteredQuery),ewe(e,t),(typeof e.toggleSymbology<"u"||e.table)&&(t.fixtures={},typeof e.toggleSymbology<"u"&&(t.fixtures.legend={toggleSymbology:e.toggleSymbology}),e.table&&(t.fixtures.grid={},e.table.title&&(t.fixtures.grid.title=e.table.title),e.table.description&&console.warn(`description property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.search&&(e.table.search.enabled&&(t.fixtures.grid.search=e.table.search.enabled),e.table.search.value&&(t.fixtures.grid.searchFilter=e.table.search.value)),typeof e.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.applyMap<"u"&&(t.fixtures.grid.applyMap=e.table.applyMap),typeof e.table.showFilter<"u"&&(t.fixtures.grid.showFilter=e.table.showFilter),typeof e.table.filterByExtent<"u"&&(t.fixtures.grid.filterByExtent=e.table.filterByExtent),typeof e.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.columns&&(t.fixtures.grid.columns=[],e.table.columns.forEach(r=>{const i={field:r.data};r.title&&(i.title=r.title),r.description&&console.warn(`description property provided in column property in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof r.visible<"u"&&(i.visible=r.visible),r.width&&(i.width=r.width),r.sort&&(i.sort=r.sort),typeof r.searchable<"u"&&(i.searchable=r.searchable),r.filter&&(i.filter=r.filter),t.fixtures.grid.columns.push(i)})))),t}function Rp(e,t){const n=[];return e.forEach(r=>{t.includes("identify")&&r==="query"?n.push("identify"):t.includes("datatable")&&r==="data"?n.push("datatable"):t.includes(r)?n.push(r):console.warn(`Ignored invalid control: ${r}`)}),n}function J2e(e,t){e&&(e.search&&(t.fixtures.geosearch={},t.fixtures.geosearch.serviceUrls={geoNames:e.search.serviceUrls.geoNames,geoLocation:e.search.serviceUrls.geoLocation,geoProvince:e.search.serviceUrls.provinces,geoTypes:e.search.serviceUrls.types},e.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),e.search.settings&&(t.fixtures.geosearch.settings=e.search.settings),e.search.disabledSearches&&(t.fixtures.geosearch.settings.disabledSearchTypes=e.search.disabledSearches.filter(n=>n!=="SCALE"))),e.export&&(t.fixtures.export||(t.fixtures.export={},t.fixturesEnabled.push("export")),e.export.title&&(t.fixtures.export.title={selected:e.export.title.isSelected??!0,selectable:e.export.title.isSelectable??!0,value:e.export.title.value??"RAMP-Map / PCAR-Carte"}),e.export.map&&(t.fixtures.export.map={selected:e.export.map.isSelected??!0,selectable:e.export.map.isSelectable??!0},e.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),e.export.mapElements&&(t.fixtures.export.mapElements={selected:e.export.mapElements.isSelected??!0,selectable:e.export.mapElements.isSelectable??!0},e.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),e.export.legend&&(t.fixtures.export.legend={selected:e.export.legend.isSelected??!0,selectable:e.export.legend.isSelectable??!0},e.export.legend.columnWidth&&(t.fixtures.export.legend.columnWidth=e.export.legend.columnWidth),e.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),e.export.footnote&&(t.fixtures.export.footnote={selected:e.export.footnote.isSelected??!0,selectable:e.export.footnote.isSelectable??!0,value:e.export.footnote.value??""}),e.export.timestamp&&(t.fixtures.export.timestamp={selected:e.export.timestamp.isSelected??!0,selectable:e.export.timestamp.isSelectable??!0},e.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),e.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof e.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),e.proxyUrl&&(t.system.proxyUrl=e.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach(n=>{typeof e[n]<"u"&&console.warn(`${n} property provided in services config cannot be mapped and will be skipped.`)}))}function Q2e(e,t){if(e.navBar){t.fixtures.mapnav={zoomOption:e.navBar.zoom||"buttons",items:[]};const r=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];e.navBar.extra.forEach(i=>{const s=i.toLowerCase();r.includes(s)?t.fixtures.mapnav.items.push(s):console.warn(`Ignored invalid mapnav item: ${i}`)}),t.fixturesEnabled.push("mapnav")}if(e.help&&(t.fixtures.help={location:e.help.folderName&&e.help.folderName!=="default"?`./${e.help.folderName}`:"./help",panelWidth:350},t.fixturesEnabled.push("help")),e.legend){const r=["groupToggle","visibilityToggle"];e.legend.reorderable&&r.push("layerReorder"),e.legend.allowImport&&r.push("wizard"),t.fixtures.legend?t.fixtures.legend.headerControls=r:(t.fixturesEnabled.push("legend"),t.fixtures.legend={headerControls:r,root:{}}),e.legend.isOpen&&e.legend.isOpen.large&&t.panels.open.push({id:"legend"})}t.fixtures.appbar={items:[]},t.fixturesEnabled.push("appbar");const n=["layers","basemap","export","help","geoSearch"];e.appBar?(e.appBar.layers!==!1&&(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")),e.appBar.geoSearch!==!1&&t.fixturesEnabled.includes("geosearch")&&t.fixtures.appbar.items.push("geosearch"),e.appBar.basemap!==!1&&t.fixtures.appbar.items.push("basemap")):(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend"),t.fixtures.appbar.items.push("geosearch"),t.fixtures.appbar.items.push("basemap")),e.sideMenu&&e.sideMenu.items&&e.sideMenu.items.length>0&&e.sideMenu.items.forEach(r=>{r.forEach(i=>{i==="layers"&&!t.fixtures.appbar.items.includes("legend")?(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")):i!=="layers"&&n.includes(i)&&!t.fixtures.appbar.items.includes(i.toLowerCase())&&(t.fixtures.appbar.items.push(i.toLowerCase()),(i.toLowerCase()==="help"||i.toLowerCase()==="export"&&!t.fixturesEnabled.includes(i.toLowerCase()))&&t.fixturesEnabled.push(i.toLowerCase()))})}),e.tableIsOpen&&e.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach(r=>{typeof e[r]<"u"&&console.warn(`${r} property provided in services config cannot be mapped and will be skipped.`)})}function K2e(e,t){e.areasOfInterest.enable&&(t.fixturesEnabled.includes("areas-of-interest")||t.fixturesEnabled.push("areas-of-interest"),e.areasOfInterest.areas&&(t.fixtures["areas-of-interest"]={areas:e.areasOfInterest.areas.map(n=>({title:`${n["title-en-CA"]} / ${n["title-fr-CA"]}`,thumbnail:n.thumbnailUrl,altText:n.altText??"",description:n.description??"",extent:{xmin:n.xmin,xmax:n.xmax,ymin:n.ymin,ymax:n.ymax,spatialReference:{wkid:n.wkid}}}))}))}function ewe(e,t){const n=e.outfields&&e.outfields!=="*";if(!n&&!e.fieldMetadata)return;const r={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};e.fieldMetadata?(r.fieldInfo=e.fieldMetadata.map(i=>{const s={name:i.data};return i.alias&&(s.alias=i.alias),s}),n&&(e.outfields.split(",").map(i=>i.trim()).forEach(i=>{r.fieldInfo.findIndex(s=>s.name===i)===-1&&r.fieldInfo.push({name:i})}),r.exclusiveFields=!0)):n&&(r.fieldInfo=e.outfields.split(",").map(i=>({name:i.trim()})),r.exclusiveFields=!0),t.fieldMetadata=r}var Lp={major:"4",minor:"13",patch:"0-beta",timestamp:"Tue Jun 17 13:54:59 2025 -0400",hash:"8c3ed6f3856a3da393f84d0c39c10f3d0b6022ab"};console.info(`RAMP v${Lp.major}.${Lp.minor}.${Lp.patch} [${Lp.hash.slice(0,9)}] (Built on ${new Date(Lp.timestamp.toString()).toLocaleString()})`);const Dp=Lp;function twe(e){return H2e(e)}function nwe(e){return Gj(e)}const rwe=(e,t,n)=>new M_e(e,t,n),rh=new Nle;export{Ui as $,B2 as A,jt as B,rm as C,$n as D,p1 as E,J_ as F,He as G,VN as H,fs as I,vh as J,te as K,yh as L,kw as M,fB as N,Ef as O,xr as P,Ln as Q,qZ as R,z2 as S,pn as T,BA as U,ht as V,Yw as W,fh as X,P2 as Y,HA as Z,iZ as _,Zn as a,LN as a$,fX as a0,Di as a1,mc as a2,Rn as a3,Qn as a4,lg as a5,cg as a6,pw as a7,Mg as a8,S1 as a9,xQ as aA,AR as aB,IQ as aC,AQ as aD,uQ as aE,h1 as aF,FR as aG,Ts as aH,pr as aI,w2 as aJ,hs as aK,SQ as aL,UJ as aM,Ne as aN,Lf as aO,jc as aP,R$ as aQ,Jz as aR,N5 as aS,k5 as aT,C5 as aU,qz as aV,T5 as aW,I1 as aX,Nh as aY,m2 as aZ,Xz as a_,Mh as aa,Wa as ab,hM as ac,Lh as ad,Qa as ae,ps as af,zo as ag,d6 as ah,ye as ai,Dg as aj,Vp as ak,Wp as al,Xc as am,En as an,Tf as ao,bi as ap,EL as aq,upe as ar,wx as as,Ex as at,xx as au,_x as av,XE as aw,dee as ax,vH as ay,vM as az,My as b,QQ as b$,Xw as b0,Hw as b1,BB as b2,vf as b3,bf as b4,Bz as b5,$p as b6,xn as b7,Eh as b8,VO as b9,m6 as bA,y6 as bB,re as bC,XV as bD,Va as bE,gte as bF,mte as bG,MQ as bH,gf as bI,KH as bJ,tY as bK,ph as bL,ute as bM,x$ as bN,c2 as bO,XA as bP,Ah as bQ,xg as bR,Gt as bS,wg as bT,Tg as bU,mf as bV,Ty as bW,p$ as bX,l2 as bY,qQ as bZ,KQ as b_,mh as ba,tO as bb,G2 as bc,Ut as bd,eQ as be,r1 as bf,Rw as bg,Q2 as bh,a5 as bi,rt as bj,hf as bk,rB as bl,bs as bm,Ms as bn,TK as bo,jp as bp,Ac as bq,JB as br,fc as bs,r$ as bt,t$ as bu,n$ as bv,iY as bw,lt as bx,wn as by,f6 as bz,Pa as c,_e as c$,JQ as c0,EQ as c1,TQ as c2,Hx as c3,Kz as c4,Sf as c5,O2 as c6,at as c7,zB as c8,rY as c9,Zi as cA,KX as cB,Lc as cC,dh as cD,TN as cE,UB as cF,EN as cG,L6 as cH,_d as cI,gu as cJ,j6 as cK,lT as cL,oT as cM,aT as cN,Un as cO,Xne as cP,cT as cQ,cL as cR,hN as cS,JZ as cT,Ww as cU,hQ as cV,xO as cW,a$ as cX,xN as cY,_2 as cZ,Ao as c_,Rc as ca,bx as cb,FH as cc,hk as cd,OR as ce,PQ as cf,MR as cg,OQ as ch,Vw as ci,wh as cj,dB as ck,xh as cl,Ci as cm,At as cn,GQ as co,FQ as cp,lX as cq,uX as cr,cX as cs,hX as ct,dX as cu,pX as cv,lu as cw,v6 as cx,dl as cy,ks as cz,nn as d,Ie as d$,ie as d0,ce as d1,t5 as d2,d5 as d3,ag as d4,Xp as d5,rre as d6,hL as d7,nre as d8,uY as d9,HV as dA,cK as dB,QV as dC,_M as dD,gV as dE,ej as dF,Ae as dG,Jt as dH,Xo as dI,As as dJ,$R as dK,nE as dL,Kw as dM,EO as dN,tt as dO,qt as dP,nc as dQ,KG as dR,Qe as dS,vn as dT,_t as dU,bt as dV,Ft as dW,gn as dX,ya as dY,an as dZ,Ct as d_,Dh as da,hY as db,lY as dc,Xa as dd,dY as de,eW as df,pte as dg,g$ as dh,LJ as di,UZ as dj,aB as dk,eee as dl,od as dm,bee as dn,KV as dp,of as dq,o5 as dr,c5 as ds,u5 as dt,eV as du,Ree as dv,tV as dw,rV as dx,iX as dy,sX as dz,TO as e,p2 as e$,Ot as e0,Sn as e1,c0 as e2,G0 as e3,p0 as e4,Gn as e5,tr as e6,qi as e7,Us as e8,Vt as e9,ol as eA,Df as eB,h$ as eC,iB as eD,VM as eE,Wee as eF,Hr as eG,eZ as eH,O5 as eI,Mc as eJ,xf as eK,wf as eL,ZH as eM,Ba as eN,Tte as eO,kK as eP,IK as eQ,GN as eR,WN as eS,qw as eT,tf as eU,cee as eV,qK as eW,LH as eX,EH as eY,Hz as eZ,h2 as e_,Ye as ea,Bv as eb,pY as ec,mX as ed,VK as ee,$K as ef,U5 as eg,lx as eh,l$ as ei,PX as ej,VB as ek,kN as el,CN as em,o$ as en,yX as eo,NN as ep,j2 as eq,sE as er,aQ as es,VR as et,ed as eu,Jh as ev,ZJ as ew,lQ as ex,oM as ey,ete as ez,$e as f,uj as f$,f2 as f0,v$ as f1,uV as f2,xl as f3,LO as f4,lte as f5,rte as f6,RO as f7,Jy as f8,_H as f9,zJ as fA,$y as fB,wc as fC,KO as fD,Ho as fE,tH as fF,Fy as fG,F2 as fH,b5 as fI,lV as fJ,QO as fK,xc as fL,fg as fM,cV as fN,Om as fO,Nm as fP,Hne as fQ,kO as fR,iH as fS,A2 as fT,ax as fU,dj as fV,T0 as fW,K$ as fX,kI as fY,kp as fZ,cj as f_,Gy as fa,sT as fb,ia as fc,hV as fd,QG as fe,ln as ff,U0 as fg,pj as fh,jb as fi,Pi as fj,xw as fk,Nw as fl,Ec as fm,M$ as fn,dV as fo,fj as fp,sl as fq,M5 as fr,WB as fs,DN as ft,E5 as fu,RN as fv,q$ as fw,hee as fx,Kp as fy,Oy as fz,z1 as g,rx as g$,hA as g0,Na as g1,uA as g2,B_ as g3,Oe as g4,DR as g5,dte as g6,mO as g7,g2 as g8,Jd as g9,yg as gA,N1 as gB,GH as gC,XK as gD,fee as gE,rN as gF,hg as gG,gB as gH,wZ as gI,yk as gJ,bH as gK,kH as gL,pL as gM,Am as gN,Ks as gO,XM as gP,L2 as gQ,$2 as gR,E0 as gS,ot as gT,Tc as gU,df as gV,El as gW,eM as gX,zp as gY,tk as gZ,sk as g_,bb as ga,i2 as gb,Zz as gc,FA as gd,Wz as ge,UA as gf,R2 as gg,e$ as gh,mj as gi,zr as gj,Qs as gk,ki as gl,Ra as gm,la as gn,Yd as go,yn as gp,Np as gq,km as gr,vj as gs,kv as gt,Ji as gu,_0 as gv,Cv as gw,O as gx,$J as gy,Ng as gz,KA as h,RX as h$,GX as h0,sZ as h1,OH as h2,eg as h3,yW as h4,mW as h5,JM as h6,qM as h7,SH as h8,AO as h9,Iy as hA,gx as hB,pk as hC,cH as hD,BE as hE,tW as hF,nW as hG,oV as hH,cY as hI,bj as hJ,yj as hK,Et as hL,Up as hM,q_ as hN,nj as hO,us as hP,z_ as hQ,fr as hR,Ge as hS,YG as hT,ix as hU,rk as hV,lf as hW,bh as hX,PN as hY,Ic as hZ,qB as h_,uK as ha,qh as hb,BV as hc,L$ as hd,$Z as he,$O as hf,yw as hg,uf as hh,oB as hi,Aj as hj,Oj as hk,Mj as hl,vpe as hm,gj as hn,Ck as ho,wQ as hp,qee as hq,fte as hr,p6 as hs,Xt as ht,Jee as hu,Kee as hv,Pte as hw,k3 as hx,Ete as hy,Sy as hz,O3 as i,Rne as i$,kh as i0,qO as i1,YK as i2,I$ as i3,A$ as i4,S$ as i5,fk as i6,ux as i7,hx as i8,cx as i9,V_ as iA,cA as iB,kS as iC,hj as iD,Jv as iE,Bt as iF,xa as iG,sn as iH,ZK as iI,BK as iJ,WK as iK,z5 as iL,DJ as iM,d$ as iN,w5 as iO,_5 as iP,rH as iQ,nH as iR,ad as iS,ld as iT,cd as iU,j1 as iV,YM as iW,Vo as iX,Aee as iY,xee as iZ,y$ as i_,Ite as ia,Ate as ib,Ste as ic,uo as id,P1 as ie,f3 as ig,K5 as ih,eu as ii,au as ij,jA as ik,c$ as il,z$ as im,RJ as io,yc as ip,el as iq,MJ as ir,gR as is,u$ as it,bX as iu,ex as iv,gr as iw,dn as ix,Fe as iy,js as iz,pd as j,aX as j$,iN as j0,_w as j1,T$ as j2,AV as j3,DO as j4,FO as j5,GO as j6,vc as j7,Ry as j8,vZ as j9,w$ as jA,hW as jB,uL as jC,tg as jD,$o as jE,qy as jF,WQ as jG,IJ as jH,Dte as jI,Qee as jJ,lr as jK,wl as jL,O1 as jM,IH as jN,mee as jO,xJ as jP,jQ,QX as jR,xX as jS,vX as jT,gX as jU,Sg as jV,pf as jW,Ig as jX,ff as jY,$N as jZ,oX as j_,pg as ja,jZ as jb,RE as jc,YO as jd,FM as je,SW as jf,CW as jg,m$ as jh,VA as ji,f$ as jj,KK as jk,QK as jl,G$ as jm,Wu as jn,Hi as jo,UU as jp,Zs as jq,Mu as jr,Mn as js,zU as jt,Xe as ju,Kv as jv,tS as jw,qv as jx,dr as jy,qV as jz,L1 as k,pB as k$,HM as k0,SK as k1,Qd as k2,Ti as k3,gb as k4,pc as k5,hy as k6,Js as k7,pi as k8,mn as k9,lW as kA,tB as kB,CR as kC,D$ as kD,cte as kE,JR as kF,WR as kG,RR as kH,nd as kI,rd as kJ,_1 as kK,n5 as kL,r5 as kM,CH as kN,GE as kO,bE as kP,qR as kQ,fW as kR,H2 as kS,kR as kT,IX as kU,AX as kV,mB as kW,yB as kX,Zp as kY,Hee as kZ,R3 as k_,VJ as ka,cQ as kb,XJ as kc,JJ as kd,YJ as ke,QJ as kf,qJ as kg,nQ as kh,sY as ki,b2 as kj,WJ as kk,ak as kl,UH as km,Ek as kn,uH as ko,ck as kp,Cg as kq,mH as kr,wH as ks,AH as kt,L3 as ku,um as kv,md as kw,yl as kx,hte as ky,mV as kz,gc as l,AK as l$,Cw as l0,ru as l1,MX as l2,aM as l3,a2 as l4,NH as l5,lH as l6,oH as l7,dk as l8,px as l9,qN as lA,I2 as lB,YV as lC,FE as lD,gg as lE,VQ as lF,$B as lG,xH as lH,DH as lI,Yz as lJ,sN as lK,Sh as lL,ZZ as lM,U2 as lN,Zee as lO,Bee as lP,Xee as lQ,Sw as lR,D3 as lS,d2 as lT,PZ as lU,Zw as lV,mw as lW,Mw as lX,wB as lY,YB as lZ,kne as l_,RH as la,ote as lb,ate as lc,ste as ld,ite as le,Y3 as lf,mL as lg,Q1 as lh,Mm as li,du as lj,X3 as lk,fre as ll,P6 as lm,W1 as ln,dL as lo,Gl as lp,Rk as lq,pN as lr,aee as ls,lee as lt,UE as lu,KN as lv,JV as lw,gW as lx,jM as ly,eH as lz,pT as m,pee as m0,iee as m1,tee as m2,P$ as m3,Fee as m4,Pee as m5,E$ as m6,JK as m7,TH as m8,uee as m9,rwe as mA,rh as mB,j$ as ma,fm as mb,Lte as mc,ree as md,HK as me,qc as mf,j5 as mg,Qz as mh,G5 as mi,rW as mj,q2 as mk,qp as ml,oN as mm,WZ as mn,cB as mo,OK as mp,MK as mq,MH as mr,see as ms,NK as mt,M2 as mu,yV as mv,oee as mw,Dp as mx,twe as my,nwe as mz,kt as n,tZ as o,Th as p,m5 as q,K as r,ct as s,Ay as t,vr as u,Li as v,$M as w,v as x,b$ as y,T as z};
